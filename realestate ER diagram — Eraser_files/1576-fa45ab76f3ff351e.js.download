(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1576],{31324:function(e,n,t){"use strict";t.d(n,{Z:function(){return Ae}});var r=t(52322),i=t(2784),o=t(82108),a=t.n(o),c=t(39097),l=t.n(c),s=t(39717),u=t(52449),d=t(49797),f=t(23763),p=t(95792),h=t.n(p);function m(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function v(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){m(e,n,t[n])}))}return e}var b,j=function(e){var n=e.userId,t=(0,d.Z)(n);return(0,r.jsx)("div",{className:h().tableAvatar,children:(0,r.jsx)(f.Z,v({},t,{className:h().tableAvatarIcon}))})},x=function(e){var n=e.userIds;if(!(null===n||void 0===n?void 0:n.length))return null;var t=n.slice(0,3);return(0,r.jsx)("div",{className:h().tableAvatars,children:t.map((function(e,n){return(0,r.jsx)(j,{userId:e},e||n)}))})},y=t(6114),g=t(60797),O=t(9605),k=t(6328),w=t(56665),C=t.n(w),P=t(25223),A=t(89011),Z=t(79057),I=t(59567),S=t.n(I),_=t(94776),N=t.n(_),E=t(56823),T=t(49892),R=t(33512),D=t(11929),L=t(68732),F=t(12405),H=t(36171),M=t(65545),J=t(25919),W=t(69804),U=t(41164),B=t(40040);function q(){return q=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},q.apply(this,arguments)}var K=function(e){return i.createElement("svg",q({width:14,height:14,viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},e),b||(b=i.createElement("path",{d:"M12.6 1.4L1.4 6.2l4 2.4m7.2-7.2L7.8 12.6l-2.4-4m7.2-7.2L5.4 8.6",fill:"none",stroke:"currentColor",strokeLinecap:"square",strokeLinejoin:"round"})))},Y=t(6637),z=t(67159),V=t(73009),X=t(67612),$=t(53822),G=t(99627),Q=t(83445),ee=t(24965),ne=t(29633),te=t(72342),re=t(11023),ie=t(67818),oe=t.n(ie);function ae(e,n,t,r,i,o,a){try{var c=e[o](a),l=c.value}catch(s){return void t(s)}c.done?n(l):Promise.resolve(l).then(r,i)}function ce(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var le=function(e){var n,t=e.onSelect,o=e.file,a=e.onStartRenaming,c=e.visible,l=(0,O.Z)(),s=(0,L.LP)(),u=(0,H.X)().request,d=(0,E.Z)(),f=d.delete,p=d.isLoading,h=(0,Q.Z)(),m=h.isOpen,v=h.onOpen,b=h.onClose,j=(0,Q.Z)(),x=j.isOpen,y=j.onOpen,g=j.onClose,k=(0,Q.Z)(),w=k.isOpen,C=k.onOpen,P=k.onClose,A=(0,i.useCallback)((function(){if(c)return u({workspaceId:o.id,teamId:s},{stayOnPage:!0}),null===t||void 0===t||t(),!1}),[c,o.id,s,t,u]),Z=(0,F.o)({workspaceId:o.id,isArchived:!!o.isArchived,currentTeamId:s,workspaceTeamId:o.teamId}),I=(0,i.useCallback)((function(){if(c)return C(),!1}),[c,C]),S=(0,i.useCallback)((function(){if(c)return a(),!1}),[c,a]),_=(0,i.useCallback)((function(){if(c)return null===t||void 0===t||t(),Z(),!1}),[c,t,Z]),q=(0,i.useCallback)((function(){if(c)return y(),!1}),[c,y]),ie=(0,i.useCallback)((function(){f(o.id).then(g)}),[f,o.id,g]),le=(0,D.UK)((n=N().mark((function e(){var n;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(0,M.NY)({workspaceId:o.id,params:{origin:""}}),e.next=3,navigator.clipboard.writeText(n);case 3:case"end":return e.stop()}}),e)})),function(){var e=this,t=arguments;return new Promise((function(r,i){var o=n.apply(e,t);function a(e){ae(o,r,i,a,c,"next",e)}function c(e){ae(o,r,i,a,c,"throw",e)}a(void 0)}))})),se=(0,i.useCallback)((function(){if(c)return v(),!1}),[v,c]),ue=(0,i.useCallback)((function(){if(c)return l.promise(le.execute(),{loading:"Copying link",success:"Copied link",error:"Something went wrong"},{success:{duration:1e3}}),!1}),[c,l,le]),de=!o.isPrivate&&!o.gitHubRepository;return(0,ee.Z)(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){ce(e,n,t[n])}))}return e}({"command+i":se,"alt+shift+c":ue,"alt+shift+r":S,"command+shift+d":A,"command+shift+e":_},de?{"alt+m":{macOS:!1,callback:I},"ctrl+m":{windows:!1,callback:I}}:{})),(0,r.jsxs)(r.Fragment,{children:[w&&(0,r.jsx)(J.Z,{isOpen:!0,file:o,onClose:P}),(0,r.jsx)(R.Z,{title:'Are you sure you want to permanently delete "'.concat(o.title||T.SF,'" file?'),description:"This file cannot be recovered.",width:510,isOpen:x,isDeletion:!0,isLoading:p,confirmBtnText:"Permanently Delete",onConfirm:ie,onCancel:g,onClose:g}),(0,r.jsx)(te.Z,{isOpen:m,onClose:b,children:(0,r.jsx)(re.F,{workspace:o,parentPoupupController:{isOpen:m,openPopup:v,closePopup:b}})}),(0,r.jsxs)(X.Ng,{minWidth:176,isHidden:!c,keyboardShortcut:"m",hint:{label:"Menu",shortcutKeys:["M"],placement:"bottom"},children:[(0,r.jsx)(G.Z,{label:"Copy Link",onClick:ue,icon:(0,r.jsx)($.J,{icon:V.Z}),rightElement:(0,r.jsx)(ne.P,{keys:["Option","Shift","C"]})}),(0,r.jsx)(G.Z,{label:"Rename",onClick:S,icon:(0,r.jsx)($.J,{icon:z.Z}),rightElement:(0,r.jsx)(ne.P,{keys:["Option","Shift","R"]})}),(0,r.jsx)(G.Z,{label:"Share",onClick:se,icon:(0,r.jsx)($.J,{icon:K}),rightElement:(0,r.jsx)(ne.P,{keys:["CtrlOrCmd","I"]})}),de&&(0,r.jsx)(G.Z,{label:"Move",onClick:I,icon:(0,r.jsx)($.J,{icon:Y.Z}),rightElement:(0,r.jsx)(ne.P,{keys:["Control|Alt","M"]})}),(0,r.jsx)(G.Z,{label:"Duplicate",onClick:A,icon:(0,r.jsx)($.J,{icon:B.Z}),rightElement:(0,r.jsx)(ne.P,{keys:["CtrlOrCmd","Shift","D"]})}),(0,r.jsx)(G.Z,{icon:(0,r.jsx)($.J,{icon:W.Z}),onClick:_,label:o.isArchived?"Restore":"Archive",rightElement:(0,r.jsx)(ne.P,{keys:["CtrlOrCmd","Shift","E"]})}),o.isArchived&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(X.KE,{space:"medium"}),(0,r.jsx)(G.Z,{icon:(0,r.jsx)($.J,{icon:U.Z,color:"red"}),onClick:q,label:"Permanently Delete",className:oe().deleteOption})]})]})]})},se=t(28073),ue=t(83140),de=t(65944),fe=t(72297),pe=t(81478),he=t(50639),me=t(68252),ve=t(66924),be=t(28058),je=t(91614),xe=t(76388),ye=t.n(xe);function ge(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Oe(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function ke(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){Oe(e,n,t[n])}))}return e}function we(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o=[],a=!0,c=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(o.push(r.value),!n||o.length!==n);a=!0);}catch(l){c=!0,i=l}finally{try{a||null==t.return||t.return()}finally{if(c)throw i}}return o}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return ge(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ge(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ce=["gather","kumospace","nooks","workadventure"],Pe=function(e){var n=e.fileId,t=(0,u.fu)(n||"");return(0,r.jsx)(x,{userIds:t})},Ae=function(e){var n,t,o=e.file,c=e.style,u=e.columns,d=e.isFocused,f=e.setFocusOnHover,p=e.externalFileData,h=e.shouldMarkArchived,m=void 0===h||h,v=(0,O.Z)(),b=(0,he.d)(),j=(0,i.useRef)(null),w=(0,k.Z)().getFolderNameById,I=(0,i.useState)(!1),_=I[0],N=I[1],E=(0,i.useState)(null),R=E[0],D=E[1],L=(0,A.T5)(o.gitHubRepository||{}),F=L.organization,H=L.repository,M=we((0,s.c)((function(){return{type:P.L.Workspace,item:o,canDrag:function(){return!je.b1&&!b},options:ke({dropEffect:"move"},o),collect:function(e){return{isDragging:e.isDragging()}}}}),[o]),3),J=M[0].isDragging,W=M[1],U=M[2],B=null===p||void 0===p?void 0:p.isExternal,q=function(e){o.title!==e?(N(!1),D(e),(0,Z.e)(o.id,{title:e}).catch((function(e){(0,ve.Tb)(e),v.error("An error occurred while renaming file.")}))):N(!1)};return(0,r.jsx)(l(),{href:"/workspace/".concat(o.id),passHref:!0,children:(0,r.jsx)("a",{rel:"noopener noreferrer","data-file-id":o.id,style:c,className:ye().anchor,onMouseMove:f,children:(0,r.jsx)("div",{ref:j,children:(0,r.jsxs)(g.S,{ref:W,isFocused:d,isFaded:o.isArchived,children:[(0,r.jsx)(y.r,{column:u.gutter,children:(0,r.jsx)(Pe,{fileId:o.id})}),(0,r.jsx)(y.r,{column:u.name,customStyle:_?{overflow:"visible",maxWidth:"95%",width:"100%"}:{},children:(0,r.jsxs)("div",{ref:U,className:(0,be.Z)(S().titleRowContent,J&&C().isDragging),children:[o.isPrivate&&(0,r.jsx)("div",{className:ye().iconContainer,children:(0,r.jsx)($.J,{icon:fe.Z,width:12})}),o.gitHubRepository&&(0,r.jsx)("div",{className:ye().iconContainer,children:(0,r.jsx)($.J,{icon:de.Z,width:12,height:12,color:"grey-1200"})}),_?(0,r.jsx)(se.Z,{title:o.title||"",className:ye().renameField,onSave:q}):(0,r.jsx)("div",{className:ye().ellipsisContainer,children:R||o.title||T.SF}),o.gitHubRepository&&!_&&(0,r.jsx)("span",{className:ye().filePath,children:(0,me.Id)(null===(n=o.gitHubRepository)||void 0===n?void 0:n.filePath)}),B&&(0,r.jsx)($.J,{icon:ue.Z,className:ye().externalLinkIcon})]})}),(0,r.jsx)(y.r,{column:u.folder,variant:B?"externalLocation":void 0,children:function(){if(o.isArchived&&m)return"Archived";if(o.isPrivate)return(0,r.jsx)("object",{children:(0,r.jsx)(l(),{href:"/dashboard/private",children:"Private"})});if(B)return p.integrationPartner?a()(p.integrationPartner):p.teamName;if(o.folderId)return(0,r.jsx)("object",{children:(0,r.jsx)(l(),{href:"/folder/".concat(o.folderId),children:w(o.folderId)})});if(o.gitHubRepository&&F&&H){var e="".concat(F.name,"/").concat(H.name);return(0,r.jsx)("object",{children:(0,r.jsx)(l(),{href:"/github/".concat(e),children:(0,r.jsx)("a",{title:e,className:ye().gitHubRepoNameLink,children:e})})})}return null}()}),(0,r.jsx)(y.r,{column:u.created,children:(0,r.jsx)("span",{children:o.createdAt&&(0,r.jsx)(pe.Z,{time:o.createdAt.toMillis()})})}),(0,r.jsx)(y.r,{column:u.edited,children:(0,r.jsx)("span",{children:o.updatedAt&&(0,r.jsx)(pe.Z,{time:o.updatedAt.toMillis()})})}),(0,r.jsx)(y.r,{column:u.comments,children:(0,r.jsx)("span",{children:null!==(t=o.nComments)&&void 0!==t?t:0})}),(0,r.jsx)(y.r,{column:u.authors,children:function(){if(!(null===p||void 0===p?void 0:p.integrationPartner))return(0,r.jsx)(x,{userIds:[o.ownerId]});var e=p.integrationPartner,n=Ce.includes(e);return e&&n?(0,r.jsx)("img",{className:ye().integrationIcon,src:"/static/icons/".concat(e,"-logo.png"),alt:e}):(0,r.jsxs)("span",{children:["\xa0(",e,")"]})}()}),(0,r.jsx)(y.r,{column:u.dots,children:(0,r.jsx)(le,{visible:d||b,file:o,onStartRenaming:function(){return N(!0)}})})]})})})})}},95792:function(e){e.exports={tableAvatars:"TableAvatars_tableAvatars__NyU0p",tableAvatar:"TableAvatars_tableAvatar__rp18T",tableAvatarIcon:"TableAvatars_tableAvatarIcon__baytx"}},67818:function(e){e.exports={deleteOption:"FileActions_deleteOption__6NZHa"}},68262:function(e,n,t){"use strict";var r=t(23586);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,n,t,i,o,a){if(a!==r){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function n(){return e}e.isRequired=e;var t={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:o,resetWarningCache:i};return t.PropTypes=t,t}},13980:function(e,n,t){e.exports=t(68262)()},23586:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}}]);