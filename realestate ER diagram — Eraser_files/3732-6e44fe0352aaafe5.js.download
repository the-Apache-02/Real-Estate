(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3732],{69804:function(e,t,n){"use strict";var r,o=n(2784);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}t.Z=function(e){return o.createElement("svg",a({width:14,height:14,xmlns:"http://www.w3.org/2000/svg"},e),r||(r=o.createElement("path",{d:"M5 7.8h4M1.4 1.4h11.2v3.2H1.4V1.4zm.8 3.2v7.2a.8.8 0 00.8.8h8a.8.8 0 00.8-.8V4.6H2.2z",stroke:"currentColor",fill:"none"})))}},83140:function(e,t,n){"use strict";var r,o,a=n(2784);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}t.Z=function(e){return a.createElement("svg",i({width:16,height:16,viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=a.createElement("rect",{x:.5,y:.5,width:15,height:15,rx:2.5,fill:"none",stroke:"currentColor",strokeWidth:1.2})),o||(o=a.createElement("path",{d:"M7 5h4v4m-6 2l6-6",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})))}},73009:function(e,t,n){"use strict";var r,o=n(2784);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}t.Z=function(e){return o.createElement("svg",a({width:15,height:15,viewBox:"0 0 15 15",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=o.createElement("path",{d:"M4.5 6.5L1.328 9.672a2.828 2.828 0 104 4L8.5 10.5m2-2l3.172-3.172a2.829 2.829 0 00-4-4L6.5 4.5m-2 6l6-6",fill:"none",stroke:"currentColor"})))}},52449:function(e,t,n){"use strict";n.d(t,{fu:function(){return w},oQ:function(){return g}});var r=n(52322),o=n(2784),a=n(20810),i=n(39739),l=n(9947),u=n(77984),c=n(12335),s=n(14898),f=n(41573),d=n(10890),p=n(5753),v=n(66924),m=n(90396);function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(u){l=!0,o=u}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var g=function(e){var t=Date.now(),n=[];return e.forEach((function(e){var r,o=e.id,a=e.heartbeat,i=null!==(r=null===a||void 0===a?void 0:a.toMillis())&&void 0!==r?r:t;t-i<=15e3&&n.push(o)})),n},w=function(e,t){var n=(0,o.useState)([]),r=n[0],s=n[1],f=(0,a.m)((function(e){return e.pipe((0,u.U)((function(e){return y(e,1)[0]})),(0,m.jW)(),(0,c.w)((function(e){return(0,p.Z)(e)})),(0,u.U)(g),(0,m.Mh)(15e3,(function(e,t){return e.length===t.length}),l.z,{leading:!0,trailing:!0}))}),[e]);return(0,i.m)(f,s,v.Tb),(0,o.useMemo)((function(){return t?r.filter((function(e){return e!==t})):r}),[r,t])};t.ZP=function(e){var t=(0,s.II)(),n=(0,o.useState)([]),a=n[0],i=n[1],l=(0,f.mT)(),u=w(l||"");return(0,o.useEffect)((function(){u&&i(u.filter((function(e){return e!==t})))}),[t,u]),(0,r.jsx)(d.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){b(e,t,n[t])}))}return e}({},e,{horizontalAlign:"end",max:3,userIds:a}))}},56823:function(e,t,n){"use strict";n.d(t,{Z:function(){return m}});var r=n(94776),o=n.n(r),a=n(2784),i=n(17003),l=n(9605),u=n(14898),c=((0,n(73254).c)("workspace-delete"),n(95879));function s(e,t,n,r,o,a,i){try{var l=e[a](i),u=l.value}catch(c){return void n(c)}l.done?t(u):Promise.resolve(u).then(r,o)}var f=function(){var e,t=(e=o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.post("workspace/delete",t,{responseType:"text"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){s(a,r,o,i,l,"next",e)}function l(e){s(a,r,o,i,l,"throw",e)}i(void 0)}))});return function(e){return t.apply(this,arguments)}}(),d=f,p=n(94764);function v(e,t,n,r,o,a,i){try{var l=e[a](i),u=l.value}catch(c){return void n(c)}l.done?t(u):Promise.resolve(u).then(r,o)}var m=function(){var e=(0,l.Z)(),t=(0,u.II)(),n=(0,p.x0)(),r=(0,a.useCallback)(function(){var r,a=(r=o().mark((function r(a){return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t&&a){r.next=3;break}return console.error("Missing userId or workspaceId"),r.abrupt("return");case 3:return e.loading("Deleting file ...",{id:n}),r.prev=4,r.next=7,d({workspaceId:a});case 7:e.success("File deleted successfully",{id:n}),r.next=14;break;case 10:r.prev=10,r.t0=r.catch(4),console.error(r.t0),e.error("File deletion failed",{id:n});case 14:case"end":return r.stop()}}),r,null,[[4,10]])})),function(){var e=this,t=arguments;return new Promise((function(n,o){var a=r.apply(e,t);function i(e){v(a,n,o,i,l,"next",e)}function l(e){v(a,n,o,i,l,"throw",e)}i(void 0)}))});return function(e){return a.apply(this,arguments)}}(),[e,t]),c=(0,i.Z)(r);return{delete:c.execute,isLoading:c.loading}}},5753:function(e,t,n){"use strict";var r=n(10732),o=n(99054),a=n(77984),i=n(97442),l=n(3213),u=n(90396);t.Z=function(e){return(0,r.m)(l.Z.workspaceCollaborators(e).withConverter(i.Z),{includeMetadataChanges:!0}).pipe((0,o.h)((function(e){return!e.metadata.fromCache&&!e.metadata.hasPendingWrites})),(0,a.U)((function(e){return e.docs.map((function(e){return e.data()}))})),(0,u.Fb)([]))}},25919:function(e,t,n){"use strict";n.d(t,{Z:function(){return V}});var r=n(52322),o=n(2784),a=n(68732),i=n(35795),l=n(96299),u=n(20810),c=n(39739),s=n(35120),f=n(12335),d=n(50046),p=n(66924),v=n(21043);function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,a=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(u){l=!0,o=u}finally{try{i||null==n.return||n.return()}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var b=n(83227),y=n.n(b),g=n(35537);function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){w(e,t,n[t])}))}return e}var x=function(e){var t=e.teamId,n=e.onSelect,a=e.searchQuery,i=e.changingTeam,m=e.currentFolderId,b=e.selectedFolderId,x=function(e,t){var n=(0,o.useState)(void 0),r=n[0],a=n[1],i=(0,u.m)((function(e){return e.pipe((0,f.w)((function(e){var t=h(e,2),n=t[0],r=t[1];return n?(0,d.Z)(n,r):(0,s.of)(void 0)})))}),[e,t]);(0,c.m)(i,a,p.Tb);var l=(0,o.useMemo)((function(){return r?(0,v.Hz)(r):{}}),[r]),m=(0,o.useCallback)((function(){return(0,v.am)(l)}),[l]);return{folders:r,folderTree:l,getAllFolderPaths:m}}(t),_=x.folders,O=x.getAllFolderPaths,C=(0,o.useMemo)((function(){if(_)return _.reduce((function(e,t){return j({},e,w({},t.id,t))}),{})}),[_]),M=((0,o.useMemo)((function(){var e=[];return _&&C?(e=_.map((function(e){var t;return j({},e,{parentName:e.parentFolderId?"".concat((null===(t=C[e.parentFolderId])||void 0===t?void 0:t.name)||l.Yp," / "):""})})).sort((function(e,t){return(e.parentName+e.name).localeCompare(t.parentName+t.name)})),a&&(e=e.filter((function(e){return(e.parentName+(e.name||l.Yp)).split(" ").some((function(e){return e.toLowerCase().includes(a.toLowerCase())}))}))),e):[]}),[C,_,a]),!a||!m&&!i);return(0,r.jsxs)("div",{className:y().folderList,children:[M&&(0,r.jsx)(g.i,{name:"Unsorted",onClick:function(){return n(null)},selected:null===b,disabled:!m&&!i}),O().map((function(e){var t=e[e.length-1],o=e.reduce((function(e,t){return"".concat(e,"/").concat(t.name||l.Yp)}),"");return a&&!o.toLowerCase().includes(a.toLowerCase())?null:(0,r.jsx)(g.i,{name:o,onClick:function(){return n(t.id)},disabled:t.id===m,selected:t.id===b},t.id)})).filter(Boolean)]})},_=n(54631),O=n(49892),C=n(3559),M=n(67612),k=n(53822),I=n(72342),S=n(59503),F=n.n(S),P=n(70367),N=n.n(P),Z=function(e){var t=e.children,n=e.style;return(0,r.jsx)("h3",{className:N().subtitle,style:n,children:t})},E=function(e){var t=e.children,n=e.style;return(0,r.jsx)("h6",{className:N().textNote,style:n,children:t})},T=n(19681),A=n(14113),L=n(83445),U=n(28058),z=n(49451),B=n.n(z);function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var J=function(e){var t=e.file,n=e.isOpen,l=e.onClose,u=G(e,["file","isOpen","onClose"]),c=(0,a.lh)()||[],s=(0,a.LP)(),f=(0,i.Z)(),d=(0,o.useState)(""),p=d[0],v=d[1],m=(0,L.Z)(),h=m.isOpen,b=m.onToggle,y=(0,o.useState)(null!==s&&void 0!==s?s:""),g=y[0],w=y[1],j=(0,o.useState)(void 0),S=j[0],P=j[1],N=(0,o.useCallback)((function(e){return v(e)}),[]);(0,o.useEffect)((function(){P(void 0)}),[g,s]);var z=(0,o.useCallback)((function(){g&&void 0!==S&&f({onClose:l,file:t,eventSource:"modal",folderId:S,teamId:g})}),[t,g,f,l,S]),J=(0,o.useCallback)((function(){P(null),null===l||void 0===l||l()}),[l]),V=(0,o.useCallback)((function(e){P(e)}),[]),H=(0,r.jsxs)("div",{className:B().buttonGroup,children:[(0,r.jsx)(C.ZP,{variant:C.ZP.Variants.REVERSED,onClick:J,className:B().button,children:"Cancel"}),(0,r.jsx)(C.ZP,{onClick:z,className:B().button,disabled:void 0===S,children:"Move File"})]});return(0,r.jsx)(I.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){D(e,t,n[t])}))}return e}({isOpen:n,title:"Move File",onClose:J},u,{className:(0,U.Z)(B().container,h&&B().expanded),children:(0,r.jsxs)("div",{className:B().body,children:[(0,r.jsx)("div",{className:B().left,children:(0,r.jsxs)("div",{className:(0,U.Z)(B().leftContent,h&&B().leftOpen),children:[(0,r.jsxs)(E,{style:{marginLeft:2},children:["Move ",(0,r.jsx)("strong",{children:t.title||O.SF})," to a new folder or\xa0",(0,r.jsx)("button",{className:B().teamSwitcherButton,onClick:b,children:"new team"})]}),(0,r.jsx)(A.Z,{autoFocus:!0,value:p,className:B().searchInput,placeholder:"Search folder name",onChange:function(e){return N(e.currentTarget.value)}}),(0,r.jsx)(x,{onSelect:V,teamId:g,searchQuery:p,selectedFolderId:S,changingTeam:g!==s,currentFolderId:t.teamId===g?t.folderId:void 0}),!h&&H]})}),h&&(0,r.jsxs)("div",{className:B().right,children:[(0,r.jsx)("div",{className:F().bg}),(0,r.jsxs)("div",{className:B().teamContainer,children:[(0,r.jsxs)("div",{className:B().teamContent,children:[(0,r.jsxs)(Z,{children:[(0,r.jsx)(k.J,{icon:_.Z}),"Transfer Team"]}),(0,r.jsx)(M.Lt,{toggleClassNames:{root:B().toggle,button:B().popupToggle},title:(0,r.jsx)(T.Ku,{teamId:g,showIsCurrent:s===g}),children:(0,r.jsx)(T.ZP,{teams:c,selectedTeamId:g,onSwitch:w})}),(0,r.jsx)(E,{style:{marginTop:15},children:"Move this file to another team. NOTE: some users may lose access."})]}),H]})]})]})}))},V=(0,o.memo)(J)},49451:function(e){e.exports={container:"MoveFileModal_container__d8Ozk",expanded:"MoveFileModal_expanded__TtIgq",searchInput:"MoveFileModal_searchInput__PLj1_",body:"MoveFileModal_body__pBevr",buttonGroup:"MoveFileModal_buttonGroup__oOTCb",button:"MoveFileModal_button__sazEP",left:"MoveFileModal_left__86cCO",right:"MoveFileModal_right__JiknZ",leftContent:"MoveFileModal_leftContent__mtKJG",leftOpen:"MoveFileModal_leftOpen__S2m9F",teamContainer:"MoveFileModal_teamContainer__GMmFs",popupToggle:"MoveFileModal_popupToggle___ch8e",toggle:"MoveFileModal_toggle__0vplI",teamSwitcherButton:"MoveFileModal_teamSwitcherButton__slAUl"}},70367:function(e){e.exports={textField:"NewComponents_textField__Ci_tU",subtitle:"NewComponents_subtitle__u_XcM",textNote:"NewComponents_textNote__JCwiy"}}}]);