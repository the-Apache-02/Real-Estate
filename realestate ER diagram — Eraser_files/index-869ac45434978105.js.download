(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5405],{87314:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(62714)}])},62714:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return b}});var r=t(94776),a=t.n(r),c=t(52322),u=t(2784),o=t(5632),i=t.n(o),s=t(60759),f=t(68732),p=t(14898),l=t(35621),d=t(7878),v="workspace-id";var w=t(77432),x=t(17366),h=t(66924);function k(e,n,t,r,a,c,u){try{var o=e[c](u),i=o.value}catch(s){return void t(s)}o.done?n(i):Promise.resolve(i).then(r,a)}var b=function(){var e=(0,p.II)(),n=(0,p.g5)(),t=(0,f.MV)(),r=(0,f.Ad)(),o=(0,u.useState)(),b=o[0],m=o[1],_=(0,u.useRef)(!1),y=(0,u.useCallback)((function(e){_.current=!1,(0,h.Tb)(e),m(e)}),[]);return(0,x.Z)((function(){var c;e&&(n||t)&&(c=a().mark((function t(){var c,u,o;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=10;break}if(r){t.next=6;break}return t.next=4,i().replace("/dashboard/all");case 4:t.next=8;break;case 6:return t.next=8,i().replace("/team/join");case 8:t.next=37;break;case 10:if(t.prev=10,null==(c=d.J.getItem(v))){t.next=22;break}return t.next=15,(0,w.Z)(c);case 15:if(null==(u=t.sent)){t.next=20;break}return d.J.setItem(v,u.id),t.next=20,i().replace("/workspace/".concat(u.id));case 20:t.next=32;break;case 22:if(!_.current){t.next=25;break}return console.error("Unexpected attempt to create an anonymous file due to dependency change."),t.abrupt("return");case 25:return t.next=27,(0,l.M)({ownerId:e},"index_page","new");case 27:return o=t.sent,d.J.setItem(v,o.id),_.current=!0,t.next=32,i().replace("/workspace/".concat(o.id));case 32:t.next=37;break;case 34:t.prev=34,t.t0=t.catch(10),y(t.t0);case 37:case"end":return t.stop()}}),t,null,[[10,34]])})),function(){var e=this,n=arguments;return new Promise((function(t,r){var a=c.apply(e,n);function u(e){k(a,t,r,u,o,"next",e)}function o(e){k(a,t,r,u,o,"throw",e)}u(void 0)}))})()}),[e,y,n,r,t]),b?(0,c.jsx)(s.Z,{statusCode:500,title:"Something went wrong",error:b}):null}},77432:function(e,n,t){"use strict";var r=t(94776),a=t.n(r),c=t(67405),u=t(3213);function o(e,n,t,r,a,c,u){try{var o=e[c](u),i=o.value}catch(s){return void t(s)}o.done?n(i):Promise.resolve(i).then(r,a)}function i(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){var c=e.apply(n,t);function u(e){o(c,r,a,u,i,"next",e)}function i(e){o(c,r,a,u,i,"throw",e)}u(void 0)}))}}function s(){return(s=i(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Z.workspace(n).withConverter(c.Z).get();case 2:return e.abrupt("return",e.sent.data());case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n.Z=function(e){return s.apply(this,arguments)}}},function(e){var n=function(n){return e(e.s=n)};e.O(0,[9774,2888,179],(function(){return n(412),n(87314)}));var t=e.O();_N_E=t}]);