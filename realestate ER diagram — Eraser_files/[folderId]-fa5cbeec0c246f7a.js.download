(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9187],{13915:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/folder/[folderId]",function(){return r(87776)}])},25129:function(e,n,r){"use strict";var t=r(52322),o=r(2784),i=r(94659),u=r(55261),l=r(58579),c=function(e){var n=e.columns,r=e.children,o=(0,l.Dv)(),c=(0,u.BD)(),s=c.updateOrder,d=c.orderBy,a=c.orderDir,f=o?null:(0,t.jsx)(i.Z,{columns:n,updateOrder:s,orderBy:d,orderDir:a});return(0,t.jsxs)(t.Fragment,{children:[f,r]})};n.Z=(0,o.memo)(c)},87776:function(e,n,r){"use strict";r.r(n);var t=r(52322),o=r(55261),i=r(25129),u=r(77612),l=r(53292),c=r(6328),s=r(83808),d=r(31324),a=r(83027),f=r(97394),m=r(5632),v=r(21746);function p(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function h(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function g(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),t.forEach((function(n){h(e,n,r[n])}))}return e}function y(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return p(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.default=function(){var e=(0,m.useRouter)(),n=(0,l.MZ)(),r=(0,v.qp)(o.a_).files,p=(0,c.Z)().getFolderChildren,h=(0,f.Z)({showFolder:!1,tab:"folder"});return(0,t.jsx)(i.Z,{columns:h,children:(0,t.jsx)(u.i,{columns:h,items:function(){var e=void 0,t=p(n);if(t&&(e=t.map((function(e){return g({},e,{itemType:"folder"})}))),r){var o=r.filter((function(e){return!e.isPrivate})).map((function(e){return g({},e,{itemType:"file"})}));e=e?y(e).concat(y(o)):o}return e}(),onItemEnterKey:function(n){var r="file"===n.itemType?"workspace":"folder";e.push("/".concat(r,"/").concat(n.id))},renderItem:function(e){var n=e.index,r=e.item,o=e.activeIndex,i=e.setActiveIndex,u=e.styles;return"folder"===r.itemType?(0,t.jsx)(a.Z,{folder:r,style:u,columns:h,isFocused:n===o,setFocusOnHover:function(){return i(n)}},r.id):(0,t.jsx)(d.Z,{file:r,style:u,columns:h,isFocused:n===o,setFocusOnHover:function(){return i(n)}},r.id)},renderLoadingSkeleton:function(){return(0,t.jsx)(s.B,{showFolderColumn:!1})}})})}},83027:function(e,n,r){"use strict";r.d(n,{Z:function(){return A}});var t,o=r(52322),i=r(2784),u=r(96299),l=r(6114),c=r(60797),s=r(68732),d=r(6328),a=r(48483),f=r(843),m=r(59567),v=r.n(m),p=r(80966),h=r(28073);function g(){return g=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},g.apply(this,arguments)}var y=function(e){return i.createElement("svg",g({width:15,height:13,viewBox:"0 0 15 13",xmlns:"http://www.w3.org/2000/svg"},e),t||(t=i.createElement("path",{d:"M1.5 0A1.5 1.5 0 000 1.5v10A1.5 1.5 0 001.5 13h12a1.5 1.5 0 001.5-1.5v-8A1.5 1.5 0 0013.5 2H7.707l-2-2H1.5z",fill:"currentColor"})))},j=r(53822),b=r(81478),x=r(28453),w=r(66924),F=r(76388),O=r.n(F),Z=r(8975),S=r(21043),E=r(37719),A=function(e){var n,r=e.folder,t=e.columns,m=e.style,g=e.isFocused,F=e.setFocusOnHover,A=(0,s.LP)(),k=(0,i.useRef)(null),C=(0,i.useRef)(null),R=(0,x.Z)(C,(function(){})),_=(0,a.Q)(r),P=_.dragRef,T=_.previewRef,I=(0,d.Z)(),D=I.setRenamingFolder,N=I.renamingFolder,L=function(e,n){return!!n&&e.id===n.id}(r,N),M=(0,d.Z)(),B=M.switchFolder,H=M.getFolderPath,z=M.folderTree,J=(0,i.useState)(null),X=J[0],q=J[1],G=(0,i.useCallback)((function(e){var n=e.targetFolder,r=e.folderDropSide,t=e.draggingFolder;"on"===r&&(H(n.id).length+(0,S.ZN)(t.id,z).reduce((function(e,n){return e>n.length?e:n.length}),0)>Z.p||(0,E.G)({teamId:A,folderId:t.id,newParentId:n.id}))}),[z,H,A]),K=(0,a.z)({targetFolder:r,rootRef:C,onFolderReorder:G}),Q=K.dropRef,U=K.isDroppingFolder,W=K.isDroppingWorkspace,Y=(0,i.useCallback)((function(){return B("folder",r.id)}),[r.id,B]);return n=L?(0,o.jsx)(h.Z,{className:O().renamingField,title:r.name,maxLength:u.JR,onSave:function(e){A&&((0,f.Z)(A,r.id,e).catch(w.Tb),q(e),D(null))}}):X||r.name||u.Yp,(0,o.jsx)("div",{ref:P,style:m,children:(0,o.jsx)("div",{ref:k,children:(0,o.jsx)("div",{ref:Q,children:(0,o.jsxs)(c.S,{ref:C,onClick:Y,isFocused:g,onMouseMove:F,isDropping:W||U,children:[(0,o.jsx)(l.r,{column:t.gutter,children:(0,o.jsx)("div",{style:{paddingTop:2},children:(0,o.jsx)(j.J,{icon:y})})}),(0,o.jsx)(l.r,{column:t.name,customStyle:L?{overflow:"visible"}:{},children:(0,o.jsx)("span",{ref:T,className:v().titleRowContent,children:n})}),(0,o.jsx)(l.r,{column:t.created,children:(0,o.jsx)("span",{children:r.createdAt&&(0,o.jsx)(b.Z,{time:r.createdAt.toMillis()})})}),(0,o.jsx)(l.r,{column:t.edited,children:(0,o.jsx)("span",{children:r.updatedAt&&(0,o.jsx)(b.Z,{time:r.updatedAt.toMillis()})})}),(0,o.jsx)(l.r,{column:t.comments,children:"\xa0"}),(0,o.jsx)(l.r,{column:t.authors,children:"\xa0"}),(0,o.jsx)(l.r,{column:t.dots,children:(0,o.jsx)("div",{onClick:function(e){return e.stopPropagation()},children:(0,o.jsx)(p.Z,{folder:r,dropdownShortcut:"m",dots:{visible:g||R},onStartRenaming:function(){return D({id:r.id,origin:"table"})}})})})]})})})})}},28453:function(e,n,r){"use strict";var t=r(2784);n.Z=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=(0,t.useState)(!1),i=o[0],u=o[1],l=(0,t.useState)(!1),c=l[0],s=l[1],d=(0,t.useCallback)((function(){u(!0),r||s(!0)}),[r]),a=(0,t.useCallback)((function(){u(!1),r||s(!1),n&&n()}),[r,n]),f=(0,t.useRef)();return(0,t.useEffect)((function(){var n=e.current;return null===n||void 0===n||n.addEventListener("mouseenter",d),null===n||void 0===n||n.addEventListener("mouseleave",a),function(){null===n||void 0===n||n.removeEventListener("mouseenter",d),null===n||void 0===n||n.removeEventListener("mouseleave",a)}}),[e,d,a]),(0,t.useEffect)((function(){r&&(i?f.current=setTimeout((function(){i&&s(!0)}),r):(f.current&&clearTimeout(f.current),f.current=null,s(!1)))}),[i,r]),c}}},function(e){var n=function(n){return e(e.s=n)};e.O(0,[1498,8510,3732,1023,612,1576,9774,2888,179],(function(){return n(412),n(13915)}));var r=e.O();_N_E=r}]);