(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2888],{72475:function(e,t,n){"use strict";var r,i,o=n(5163),a=n(76765),s=n(32444),u=n(13936),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.LL("app","Firebase",c),f="@firebase/app",d="[DEFAULT]",h=((i={})[f]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.Yd("@firebase/app"),v=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=(0,a.p$)(e),this.container=new s.H0(t.name),this._addComponent(new s.wA("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){var n;void 0===t&&(t=d),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=d),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){p.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},e}();v.prototype.name&&v.prototype.options||v.prototype.delete||console.log("dc");var m=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"===typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=d);var s=o.name;if("string"!==typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if((0,a.r3)(t,s))throw l.create("duplicate-app",{appName:s});var u=new e(n,o,r);return t[s]=u,u},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=h[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),u=t.match(/\s|\//);if(a||u){var c=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&c.push("and"),u&&c.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new s.wA(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:u.Ub,onLog:function(e,t){if(null!==e&&"function"!==typeof e)throw l.create("invalid-log-argument");(0,u.Am)(e,t)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(e=e||d,!(0,a.r3)(t,e))throw l.create("no-app",{appName:e});return t[e]}function o(o){var s=o.name;if(n.has(s))return p.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(e){if(void 0===e&&(e=i()),"function"!==typeof e[s])throw l.create("invalid-app-argument",{appName:s});return e[s]()};void 0!==o.serviceProps&&(0,a.ZB)(u,o.serviceProps),r[s]=u,e.prototype[s]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,s).apply(this,o.multipleInstances?e:[])}}for(var c=0,f=Object.keys(t);c<f.length;c++){var d=f[c];t[d]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}(v);return t.INTERNAL=(0,o.pi)((0,o.pi)({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,a.ZB)(t,e)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),t}(),g=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if((0,a.jU)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=m.initializeApp;m.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,a.UG)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,e)};var w=m;!function(e,t){e.INTERNAL.registerComponent(new s.wA("platform-logger",(function(e){return new g(e)}),"PRIVATE")),e.registerVersion(f,"0.6.30",t),e.registerVersion("fire-js","")}(w),t.Z=w},32444:function(e,t,n){"use strict";n.d(t,{H0:function(){return u},wA:function(){return o},zt:function(){return s}});var r=n(5163),i=n(76765),o=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),a="[DEFAULT]",s=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.BH;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:a})}catch(d){}try{for(var i=(0,r.XA)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=(0,r.CR)(o.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);try{var f=this.getOrInitializeService({instanceIdentifier:l});c.resolve(f)}catch(d){}}}catch(h){t={error:h}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=a),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return(0,r.mG)(this,void 0,void 0,(function(){var e;return(0,r.Jh)(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all((0,r.ev)((0,r.ev)([],(0,r.CR)(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),(0,r.CR)(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=a),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=a),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var i=e.options,o=void 0===i?{}:i,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var s=this.getOrInitializeService({instanceIdentifier:a,options:o});try{for(var u=(0,r.XA)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=(0,r.CR)(c.value,2),f=l[0],d=l[1];a===this.normalizeInstanceIdentifier(f)&&d.resolve(s)}}catch(h){t={error:h}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return s},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,i,o=this.onInitCallbacks.get(t);if(o)try{for(var a=(0,r.XA)(o),s=a.next();!s.done;s=a.next()){var u=s.value;try{u(e,t)}catch(c){}}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===a?void 0:t),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(s){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=a),this.component?this.component.multipleInstances?e:a:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();var u=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new s(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},13936:function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.d(t,{Am:function(){return h},Ub:function(){return d},Yd:function(){return f},in:function(){return o}});var o,a=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(o||(o={}));var s={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),a=c[t];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[a].apply(console,r(["["+o+"]  "+e.name+":"],n))}},f=function(){function e(e){this.name=e,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,a.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in o))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"===typeof e?s[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],e)),this._logHandler.apply(this,r([this,o.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],e)),this._logHandler.apply(this,r([this,o.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],e)),this._logHandler.apply(this,r([this,o.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],e)),this._logHandler.apply(this,r([this,o.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],e)),this._logHandler.apply(this,r([this,o.ERROR],e))},e}();function d(e){a.forEach((function(t){t.setLogLevel(e)}))}function h(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=i.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:o[n].toLowerCase(),message:s,args:i,type:t.name})}},r=0,i=a;r<i.length;r++){n(i[r])}}},76765:function(e,t,n){"use strict";n.d(t,{$s:function(){return ne},BH:function(){return m},DV:function(){return z},Dv:function(){return Y},G6:function(){return T},GJ:function(){return U},LL:function(){return R},Mn:function(){return C},Pz:function(){return L},Sg:function(){return g},UG:function(){return w},UI:function(){return Z},US:function(){return l},Wj:function(){return X},Yr:function(){return k},ZB:function(){return v},ZR:function(){return P},b$:function(){return S},cI:function(){return M},d:function(){return x},dS:function(){return ee},eu:function(){return I},g5:function(){return u},gK:function(){return $},gQ:function(){return W},h$:function(){return f},hl:function(){return A},hu:function(){return s},jU:function(){return _},lb:function(){return Q},m9:function(){return re},ne:function(){return G},p$:function(){return p},r3:function(){return V},ru:function(){return E},uI:function(){return b},ug:function(){return te},w1:function(){return O},w9:function(){return B},xO:function(){return H},xb:function(){return q},z$:function(){return y},zI:function(){return D}});var r=n(5163),i=!1,o=!1,a="${JSCORE_VERSION}",s=function(e,t){if(!e)throw u(t)},u=function(e){return new Error("Firebase Database ("+a+") INTERNAL ASSERT FAILED: "+e)},c=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},l={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,f=(3&o)<<4|s>>4,d=(15&s)<<2|c>>6,h=63&c;u||(h=64,a||(d=64)),r.push(n[l],n[f],n[d],n[h])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(c(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},f=function(e){var t=c(e);return l.encodeByteArray(t,!0)},d=function(e){return f(e).replace(/\./g,"")},h=function(e){try{return l.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function p(e){return v(void 0,e)}function v(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=v(e[n],t[n]));return e}var m=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function g(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=(0,r.pi)({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[d(JSON.stringify({alg:"none",type:"JWT"})),d(JSON.stringify(a)),""].join(".")}function y(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function b(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(y())}function w(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function _(){return"object"===typeof self&&self.self===self}function E(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function S(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function x(){return y().indexOf("Electron/")>=0}function O(){var e=y();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function C(){return y().indexOf("MSAppHost/")>=0}function k(){return!0===i||!0===o}function T(){return!w()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function A(){return"indexedDB"in self&&null!=indexedDB}function I(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(o){t(o)}}))}function D(){return!(!navigator||!navigator.cookieEnabled)}var P=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,R.prototype.create),o}return(0,r.ZT)(t,e),t}(Error),R=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?N(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new P(i,s,r);return u},e}();function N(e,t){return e.replace(j,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var j=/\{\$([^}]+)}/g;function M(e){return JSON.parse(e)}function L(e){return JSON.stringify(e)}var F=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=M(h(o[0])||""),n=M(h(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:t,claims:n,data:r,signature:i}},B=function(e){var t=F(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")},U=function(e){var t=F(e).claims;return"object"===typeof t&&!0===t.admin};function V(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function z(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function q(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Z(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function H(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""}var W=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+f+a+n[r]&4294967295;f=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();function G(e,t){var n=new K(e,t);return n.subscribe.bind(n)}var K=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=J),void 0===r.error&&(r.error=J),void 0===r.complete&&(r.complete=J);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function J(){}var Y=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function $(e,t){return e+" failed: "+t+" argument "}function X(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error($(e,t)+"must be a valid function.")}function Q(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error($(e,t)+"must be a valid context object.")}var ee=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,s(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},te=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function ne(e,t,n){void 0===t&&(t=1e3),void 0===n&&(n=2);var r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function re(e){return e&&e._delegate?e._delegate:e}},19947:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12003);var i=function(){function e(){this.errorCount=0}return e.prototype.getDelay=function(){return 0===this.errorCount?0:1e3*r.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT[Math.min(r.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT.length-1,this.errorCount)]+Math.round(1e3*Math.random())},e.prototype.countError=function(){this.errorCount<r.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT.length-1&&this.errorCount++},e.prototype.reset=function(){this.errorCount=0},e}();t.default=i},10870:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(72683),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.makeGetRequest=function(e,t){return o.makeGetRequest(e,t)},t.prototype.getConfigDefaults=function(){return{autoUpdate:!1}},t}(i(n(56664)).default);t.default=a},72683:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(12003),i=n(72531).getLogger("DatafileManager");t.makeGetRequest=function(e,t){var n=new XMLHttpRequest,o=new Promise((function(o,a){n.open("GET",e,!0),function(e,t){Object.keys(e).forEach((function(n){var r=e[n];t.setRequestHeader(n,r)}))}(t,n),n.onreadystatechange=function(){if(4===n.readyState){if(0===n.status)return void a(new Error("Request error"));var e=function(e){var t=e.getAllResponseHeaders();if(null===t)return{};var n=t.split("\r\n"),r={};return n.forEach((function(e){var t=e.indexOf(": ");if(t>-1){var n=e.slice(0,t),i=e.slice(t+2);i.length>0&&(r[n]=i)}})),r}(n),t={statusCode:n.status,body:n.responseText,headers:e};o(t)}},n.timeout=r.REQUEST_TIMEOUT_MS,n.ontimeout=function(){i.error("Request timed out")},n.send()}));return{responsePromise:o,abort:function(){n.abort()}}}},12003:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_UPDATE_INTERVAL=3e5,t.MIN_UPDATE_INTERVAL=1e3,t.DEFAULT_URL_TEMPLATE="https://cdn.optimizely.com/datafiles/%s.json",t.DEFAULT_AUTHENTICATED_URL_TEMPLATE="https://config.optimizely.com/datafiles/auth/%s.json",t.BACKOFF_BASE_WAIT_SECONDS_BY_ERROR_COUNT=[0,8,16,32,64,128,256,512],t.REQUEST_TIMEOUT_MS=6e4},38423:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.listeners={},this.listenerId=1}return e.prototype.on=function(e,t){var n=this;this.listeners[e]||(this.listeners[e]={});var r=String(this.listenerId);return this.listenerId++,this.listeners[e][r]=t,function(){n.listeners[e]&&delete n.listeners[e][r]}},e.prototype.emit=function(e,t){var n=this.listeners[e];n&&Object.keys(n).forEach((function(e){(0,n[e])(t)}))},e.prototype.removeAllListeners=function(){this.listeners={}},e}();t.default=n},56664:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(72531),a=n(71185),s=i(n(38423)),u=n(12003),c=i(n(19947)),l=o.getLogger("DatafileManager");function f(e){return e>=200&&e<400}var d={get:function(){return Promise.resolve("")},set:function(){return Promise.resolve()},contains:function(){return Promise.resolve(!1)},remove:function(){return Promise.resolve()}},h=function(){function e(e){var t=this,n=r(r({},this.getConfigDefaults()),e),i=n.datafile,o=n.autoUpdate,f=void 0!==o&&o,h=n.sdkKey,p=n.updateInterval,v=void 0===p?u.DEFAULT_UPDATE_INTERVAL:p,m=n.urlTemplate,g=void 0===m?u.DEFAULT_URL_TEMPLATE:m,y=n.cache,b=void 0===y?d:y;this.cache=b,this.cacheKey="opt-datafile-"+h,this.isReadyPromiseSettled=!1,this.readyPromiseResolver=function(){},this.readyPromiseRejecter=function(){},this.readyPromise=new Promise((function(e,n){t.readyPromiseResolver=e,t.readyPromiseRejecter=n})),i?(this.currentDatafile=i,h||this.resolveReadyPromise()):this.currentDatafile="",this.isStarted=!1,this.datafileUrl=a.sprintf(g,h),this.emitter=new s.default,this.autoUpdate=f,!function(e){return e>=u.MIN_UPDATE_INTERVAL}(v)?(l.warn("Invalid updateInterval %s, defaulting to %s",v,u.DEFAULT_UPDATE_INTERVAL),this.updateInterval=u.DEFAULT_UPDATE_INTERVAL):this.updateInterval=v,this.currentTimeout=null,this.currentRequest=null,this.backoffController=new c.default,this.syncOnCurrentRequestComplete=!1}return e.prototype.get=function(){return this.currentDatafile},e.prototype.start=function(){this.isStarted||(l.debug("Datafile manager started"),this.isStarted=!0,this.backoffController.reset(),this.setDatafileFromCacheIfAvailable(),this.syncDatafile())},e.prototype.stop=function(){return l.debug("Datafile manager stopped"),this.isStarted=!1,this.currentTimeout&&(clearTimeout(this.currentTimeout),this.currentTimeout=null),this.emitter.removeAllListeners(),this.currentRequest&&(this.currentRequest.abort(),this.currentRequest=null),Promise.resolve()},e.prototype.onReady=function(){return this.readyPromise},e.prototype.on=function(e,t){return this.emitter.on(e,t)},e.prototype.onRequestRejected=function(e){this.isStarted&&(this.backoffController.countError(),e instanceof Error?l.error("Error fetching datafile: %s",e.message,e):"string"===typeof e?l.error("Error fetching datafile: %s",e):l.error("Error fetching datafile"))},e.prototype.onRequestResolved=function(e){if(this.isStarted){"undefined"!==typeof e.statusCode&&f(e.statusCode)?this.backoffController.reset():this.backoffController.countError(),this.trySavingLastModified(e.headers);var t=this.getNextDatafileFromResponse(e);if(""!==t)if(l.info("Updating datafile from response"),this.currentDatafile=t,this.cache.set(this.cacheKey,t),this.isReadyPromiseSettled){var n={datafile:t};this.emitter.emit("update",n)}else this.resolveReadyPromise()}},e.prototype.onRequestComplete=function(){this.isStarted&&(this.currentRequest=null,this.isReadyPromiseSettled||this.autoUpdate||this.rejectReadyPromise(new Error("Failed to become ready")),this.autoUpdate&&this.syncOnCurrentRequestComplete&&this.syncDatafile(),this.syncOnCurrentRequestComplete=!1)},e.prototype.syncDatafile=function(){var e=this,t={};this.lastResponseLastModified&&(t["if-modified-since"]=this.lastResponseLastModified),l.debug("Making datafile request to url %s with headers: %s",this.datafileUrl,(function(){return JSON.stringify(t)})),this.currentRequest=this.makeGetRequest(this.datafileUrl,t);var n=function(){e.onRequestComplete()};this.currentRequest.responsePromise.then((function(t){e.onRequestResolved(t)}),(function(t){e.onRequestRejected(t)})).then(n,n),this.autoUpdate&&this.scheduleNextUpdate()},e.prototype.resolveReadyPromise=function(){this.readyPromiseResolver(),this.isReadyPromiseSettled=!0},e.prototype.rejectReadyPromise=function(e){this.readyPromiseRejecter(e),this.isReadyPromiseSettled=!0},e.prototype.scheduleNextUpdate=function(){var e=this,t=this.backoffController.getDelay(),n=Math.max(t,this.updateInterval);l.debug("Scheduling sync in %s ms",n),this.currentTimeout=setTimeout((function(){e.currentRequest?e.syncOnCurrentRequestComplete=!0:e.syncDatafile()}),n)},e.prototype.getNextDatafileFromResponse=function(e){return l.debug("Response status code: %s",e.statusCode),"undefined"===typeof e.statusCode||304===e.statusCode?"":f(e.statusCode)?e.body:""},e.prototype.trySavingLastModified=function(e){var t=e["last-modified"]||e["Last-Modified"];"undefined"!==typeof t&&(this.lastResponseLastModified=t,l.debug("Saved last modified header value from response: %s",this.lastResponseLastModified))},e.prototype.setDatafileFromCacheIfAvailable=function(){var e=this;this.cache.get(this.cacheKey).then((function(t){e.isStarted&&!e.isReadyPromiseSettled&&""!==t&&(l.debug("Using datafile from cache"),e.currentDatafile=t,e.resolveReadyPromise())}))},e}();t.default=h},36124:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10870);t.HttpPollingDatafileManager=r.default},40939:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},65609:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendEventNotification=t.getQueue=t.validateAndGetBatchSize=t.validateAndGetFlushInterval=t.DEFAULT_BATCH_SIZE=t.DEFAULT_FLUSH_INTERVAL=void 0;var r=n(28344),i=n(72531),o=n(71185);t.DEFAULT_FLUSH_INTERVAL=3e4,t.DEFAULT_BATCH_SIZE=10;var a=i.getLogger("EventProcessor");t.validateAndGetFlushInterval=function(e){return e<=0&&(a.warn("Invalid flushInterval "+e+", defaulting to "+t.DEFAULT_FLUSH_INTERVAL),e=t.DEFAULT_FLUSH_INTERVAL),e},t.validateAndGetBatchSize=function(e){return(e=Math.floor(e))<1&&(a.warn("Invalid batchSize "+e+", defaulting to "+t.DEFAULT_BATCH_SIZE),e=t.DEFAULT_BATCH_SIZE),e=Math.max(1,e)},t.getQueue=function(e,t,n,i){return e>1?new r.DefaultEventQueue({flushInterval:t,maxQueueSize:e,sink:n,batchComparator:i}):new r.SingleEventQueue({sink:n})},t.sendEventNotification=function(e,t){e&&e.sendNotifications(o.NOTIFICATION_TYPES.LOG_EVENT,t)}},28344:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultEventQueue=t.SingleEventQueue=void 0;var r=n(72531).getLogger("EventProcessor"),i=function(){function e(e){var t=e.timeout,n=e.callback;this.timeout=Math.max(t,0),this.callback=n}return e.prototype.start=function(){this.timeoutId=setTimeout(this.callback,this.timeout)},e.prototype.refresh=function(){this.stop(),this.start()},e.prototype.stop=function(){this.timeoutId&&clearTimeout(this.timeoutId)},e}(),o=function(){function e(e){var t=e.sink;this.sink=t}return e.prototype.start=function(){},e.prototype.stop=function(){return Promise.resolve()},e.prototype.enqueue=function(e){this.sink([e])},e}();t.SingleEventQueue=o;var a=function(){function e(e){var t=e.flushInterval,n=e.maxQueueSize,r=e.sink,o=e.batchComparator;this.buffer=[],this.maxQueueSize=Math.max(n,1),this.sink=r,this.batchComparator=o,this.timer=new i({callback:this.flush.bind(this),timeout:t}),this.started=!1}return e.prototype.start=function(){this.started=!0},e.prototype.stop=function(){this.started=!1;var e=this.sink(this.buffer);return this.buffer=[],this.timer.stop(),e},e.prototype.enqueue=function(e){if(this.started){var t=this.buffer[0];t&&!this.batchComparator(t,e)&&this.flush(),0===this.buffer.length&&this.timer.refresh(),this.buffer.push(e),this.buffer.length>=this.maxQueueSize&&this.flush()}else r.warn("Queue is stopped, not accepting event")},e.prototype.flush=function(){this.sink(this.buffer),this.buffer=[],this.timer.stop()},e}();t.DefaultEventQueue=a},88514:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.areEventContextsEqual=void 0,t.areEventContextsEqual=function(e,t){var n=e.context,r=t.context;return n.accountId===r.accountId&&n.projectId===r.projectId&&n.clientName===r.clientName&&n.clientVersion===r.clientVersion&&n.revision===r.revision&&n.anonymizeIP===r.anonymizeIP&&n.botFiltering===r.botFiltering}},29473:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(88514),t),i(n(65609),t),i(n(40939),t),i(n(62949),t),i(n(52621),t),i(n(56066),t),i(n(65495),t)},62949:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},52621:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.LocalStoragePendingEventsDispatcher=t.PendingEventsDispatcher=void 0;var i=n(72531),o=n(85187),a=n(71185),s=i.getLogger("EventProcessor"),u=function(){function e(e){var t=e.eventDispatcher,n=e.store;this.dispatcher=t,this.store=n}return e.prototype.dispatchEvent=function(e,t){this.send({uuid:a.generateUUID(),timestamp:a.getTimestamp(),request:e},t)},e.prototype.sendPendingEvents=function(){var e=this,t=this.store.values();s.debug("Sending %s pending events from previous page",t.length),t.forEach((function(t){try{e.send(t,(function(){}))}catch(n){}}))},e.prototype.send=function(e,t){var n=this;this.store.set(e.uuid,e),this.dispatcher.dispatchEvent(e.request,(function(r){n.store.remove(e.uuid),t(r)}))},e}();t.PendingEventsDispatcher=u;var c=function(e){function t(t){var n=t.eventDispatcher;return e.call(this,{eventDispatcher:n,store:new o.LocalStorageStore({maxValues:100,key:"fs_optly_pending_events"})})||this}return r(t,e),t}(u);t.LocalStoragePendingEventsDispatcher=c},85187:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LocalStorageStore=void 0;var r=n(71185),i=n(72531).getLogger("EventProcessor"),o=function(){function e(e){var t=e.key,n=e.maxValues,r=void 0===n?1e3:n;this.LS_KEY=t,this.maxValues=r}return e.prototype.get=function(e){return this.getMap()[e]||null},e.prototype.set=function(e,t){var n=this.getMap();n[e]=t,this.replace(n)},e.prototype.remove=function(e){var t=this.getMap();delete t[e],this.replace(t)},e.prototype.values=function(){return r.objectValues(this.getMap())},e.prototype.clear=function(){this.replace({})},e.prototype.replace=function(e){try{window.localStorage&&localStorage.setItem(this.LS_KEY,JSON.stringify(e)),this.clean()}catch(t){i.error(t)}},e.prototype.clean=function(){var e=this.getMap(),t=Object.keys(e),n=t.length-this.maxValues;if(!(n<1)){var r=t.map((function(t){return{key:t,value:e[t]}}));r.sort((function(e,t){return e.value.timestamp-t.value.timestamp}));for(var i=0;i<n;i++)delete e[r[i].key];this.replace(e)}},e.prototype.getMap=function(){try{var e=window.localStorage&&localStorage.getItem(this.LS_KEY);if(e)return JSON.parse(e)||{}}catch(t){i.error(t)}return{}},e}();t.LocalStorageStore=o},68349:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.reqsInFlightCount=0,this.reqsCompleteResolvers=[]}return e.prototype.trackRequest=function(e){var t=this;this.reqsInFlightCount++;var n=function(){t.reqsInFlightCount--,0===t.reqsInFlightCount&&(t.reqsCompleteResolvers.forEach((function(e){return e()})),t.reqsCompleteResolvers=[])};e.then(n,n)},e.prototype.onRequestsComplete=function(){var e=this;return new Promise((function(t){0===e.reqsInFlightCount?t():e.reqsCompleteResolvers.push(t)}))},e}();t.default=n},56066:function(e,t){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.formatEvents=t.buildConversionEventV1=t.buildImpressionEventV1=t.makeBatchedEventV1=void 0;var r="$opt_bot_filtering";function i(e){var t=[],n=e[0];return e.forEach((function(e){if("conversion"===e.type||"impression"===e.type){var n=s(e);"impression"===e.type?n.snapshots.push(a(e)):"conversion"===e.type&&n.snapshots.push(o(e)),t.push(n)}})),{client_name:n.context.clientName,client_version:n.context.clientVersion,account_id:n.context.accountId,project_id:n.context.projectId,revision:n.context.revision,anonymize_ip:n.context.anonymizeIP,enrich_decisions:!0,visitors:t}}function o(e){var t=n({},e.tags);delete t.revenue,delete t.value;var r={entity_id:e.event.id,key:e.event.key,timestamp:e.timestamp,uuid:e.uuid};return e.tags&&(r.tags=e.tags),null!=e.value&&(r.value=e.value),null!=e.revenue&&(r.revenue=e.revenue),{events:[r]}}function a(e){var t,n,r=e.layer,i=e.experiment,o=e.variation,a=e.ruleKey,s=e.flagKey,u=e.ruleType,c=e.enabled,l=r?r.id:null;return{decisions:[{campaign_id:l,experiment_id:null!==(t=null===i||void 0===i?void 0:i.id)&&void 0!==t?t:"",variation_id:null!==(n=null===o||void 0===o?void 0:o.id)&&void 0!==n?n:"",metadata:{flag_key:s,rule_key:a,rule_type:u,variation_key:o?o.key:"",enabled:c}}],events:[{entity_id:l,timestamp:e.timestamp,key:"campaign_activated",uuid:e.uuid}]}}function s(e){var t={snapshots:[],visitor_id:e.user.id,attributes:[]};return e.user.attributes.forEach((function(e){t.attributes.push({entity_id:e.entityId,key:e.key,type:"custom",value:e.value})})),"boolean"===typeof e.context.botFiltering&&t.attributes.push({entity_id:r,key:r,type:"custom",value:e.context.botFiltering}),t}t.makeBatchedEventV1=i,t.buildImpressionEventV1=function(e){var t=s(e);return t.snapshots.push(a(e)),{client_name:e.context.clientName,client_version:e.context.clientVersion,account_id:e.context.accountId,project_id:e.context.projectId,revision:e.context.revision,anonymize_ip:e.context.anonymizeIP,enrich_decisions:!0,visitors:[t]}},t.buildConversionEventV1=function(e){var t=s(e);return t.snapshots.push(o(e)),{client_name:e.context.clientName,client_version:e.context.clientVersion,account_id:e.context.accountId,project_id:e.context.projectId,revision:e.context.revision,anonymize_ip:e.context.anonymizeIP,enrich_decisions:!0,visitors:[t]}},t.formatEvents=function(e){return{url:"https://logx.optimizely.com/v1/events",httpVerb:"POST",params:i(e)}}},65495:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LogTierV1EventProcessor=void 0;var a=n(72531),s=n(65609),u=o(n(68349)),c=n(88514),l=n(56066),f=a.getLogger("LogTierV1EventProcessor"),d=function(){function e(e){var t=e.dispatcher,n=e.flushInterval,r=void 0===n?s.DEFAULT_FLUSH_INTERVAL:n,i=e.batchSize,o=void 0===i?s.DEFAULT_BATCH_SIZE:i,a=e.notificationCenter;this.dispatcher=t,this.notificationCenter=a,this.requestTracker=new u.default,r=s.validateAndGetFlushInterval(r),o=s.validateAndGetBatchSize(o),this.queue=s.getQueue(o,r,this.drainQueue.bind(this),c.areEventContextsEqual)}return e.prototype.drainQueue=function(e){var t=this,n=new Promise((function(n){if(f.debug("draining queue with %s events",e.length),0!==e.length){var r=l.formatEvents(e);t.dispatcher.dispatchEvent(r,(function(){n()})),s.sendEventNotification(t.notificationCenter,r)}else n()}));return this.requestTracker.trackRequest(n),n},e.prototype.process=function(e){this.queue.enqueue(e)},e.prototype.stop=function(){try{return this.queue.stop(),this.requestTracker.onRequestsComplete()}catch(e){f.error('Error stopping EventProcessor: "%s"',e.message,e)}return Promise.resolve()},e.prototype.start=function(){return r(this,void 0,void 0,(function(){return i(this,(function(e){return this.queue.start(),[2]}))}))},e}();t.LogTierV1EventProcessor=d},63077:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){}return e.prototype.handleError=function(e){},e}();t.NoopErrorHandler=n;var r=new n;t.setErrorHandler=function(e){r=e},t.getErrorHandler=function(){return r},t.resetErrorHandler=function(){r=new n}},72531:function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(63077)),r(n(54209)),r(n(51628))},51628:function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(t,"__esModule",{value:!0});var i=n(63077),o=n(71185),a=n(54209),s={NOTSET:0,DEBUG:1,INFO:2,WARNING:3,ERROR:4};function u(e){return"string"!==typeof e?e:("WARN"===(e=e.toUpperCase())&&(e="WARNING"),s[e]?s[e]:e)}var c=function(){function e(){this.defaultLoggerFacade=new h,this.loggers={}}return e.prototype.getLogger=function(e){return e?(this.loggers[e]||(this.loggers[e]=new h({messagePrefix:e})),this.loggers[e]):this.defaultLoggerFacade},e}(),l=function(){function e(e){void 0===e&&(e={}),this.logLevel=a.LogLevel.NOTSET,void 0!==e.logLevel&&o.isValidEnum(a.LogLevel,e.logLevel)&&this.setLogLevel(e.logLevel),this.logToConsole=void 0===e.logToConsole||!!e.logToConsole,this.prefix=void 0!==e.prefix?e.prefix:"[OPTIMIZELY]"}return e.prototype.log=function(e,t){if(this.shouldLog(e)&&this.logToConsole){var n=this.prefix+" - "+this.getLogLevelName(e)+" "+this.getTime()+" "+t;this.consoleLog(e,[n])}},e.prototype.setLogLevel=function(e){e=u(e),o.isValidEnum(a.LogLevel,e)&&void 0!==e?this.logLevel=e:this.logLevel=a.LogLevel.ERROR},e.prototype.getTime=function(){return(new Date).toISOString()},e.prototype.shouldLog=function(e){return e>=this.logLevel},e.prototype.getLogLevelName=function(e){switch(e){case a.LogLevel.DEBUG:return"DEBUG";case a.LogLevel.INFO:return"INFO ";case a.LogLevel.WARNING:return"WARN ";case a.LogLevel.ERROR:return"ERROR";default:return"NOTSET"}},e.prototype.consoleLog=function(e,t){switch(e){case a.LogLevel.DEBUG:console.log.apply(console,t);break;case a.LogLevel.INFO:console.info.apply(console,t);break;case a.LogLevel.WARNING:console.warn.apply(console,t);break;case a.LogLevel.ERROR:console.error.apply(console,t);break;default:console.log.apply(console,t)}},e}();t.ConsoleLogHandler=l;var f=a.LogLevel.NOTSET,d=null,h=function(){function e(e){void 0===e&&(e={}),this.messagePrefix="",e.messagePrefix&&(this.messagePrefix=e.messagePrefix)}return e.prototype.log=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];this.internalLog(u(e),{message:t,splat:n})},e.prototype.info=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.namedLog(a.LogLevel.INFO,e,t)},e.prototype.debug=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.namedLog(a.LogLevel.DEBUG,e,t)},e.prototype.warn=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.namedLog(a.LogLevel.WARNING,e,t)},e.prototype.error=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.namedLog(a.LogLevel.ERROR,e,t)},e.prototype.format=function(e){return(this.messagePrefix?this.messagePrefix+": ":"")+o.sprintf.apply(void 0,r([e.message],e.splat))},e.prototype.internalLog=function(e,t){d&&(e<f||(d.log(e,this.format(t)),t.error&&t.error instanceof Error&&i.getErrorHandler().handleError(t.error)))},e.prototype.namedLog=function(e,t,n){var r;if(t instanceof Error)return t=(r=t).message,void this.internalLog(e,{error:r,message:t,splat:n});if(0!==n.length){var i=n[n.length-1];i instanceof Error&&(r=i,n.splice(-1)),this.internalLog(e,{message:t,error:r,splat:n})}else this.internalLog(e,{message:t,splat:n})},e}(),p=new c;t.getLogger=function(e){return p.getLogger(e)},t.setLogHandler=function(e){d=e},t.setLogLevel=function(e){e=u(e),f=o.isValidEnum(a.LogLevel,e)&&void 0!==e?e:a.LogLevel.ERROR},t.getLogLevel=function(){return f},t.resetLogger=function(){p=new c,f=a.LogLevel.NOTSET}},54209:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.NOTSET=0]="NOTSET",e[e.DEBUG=1]="DEBUG",e[e.INFO=2]="INFO",e[e.WARNING=3]="WARNING",e[e.ERROR=4]="ERROR"}(t.LogLevel||(t.LogLevel={}))},71185:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(63217);function i(e){return Object.keys(e).map((function(t){return e[t]}))}t.generateUUID=function(){return r.v4()},t.getTimestamp=function(){return(new Date).getTime()},t.isValidEnum=function(e,t){for(var n=!1,r=Object.keys(e),i=0;i<r.length;i++)if(t===e[r[i]]){n=!0;break}return n},t.groupBy=function(e,t){var n={};return e.forEach((function(e){var r=t(e);n[r]=n[r]||[],n[r].push(e)})),i(n)},t.objectValues=i,t.objectEntries=function(e){return Object.keys(e).map((function(t){return[t,e[t]]}))},t.find=function(e,t){for(var n,r=0,i=e;r<i.length;r++){var o=i[r];if(t(o)){n=o;break}}return n},t.keyBy=function(e,t){var n={};return e.forEach((function(e){var r=t(e);n[r]=e})),n},t.sprintf=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=0;return e.replace(/%s/g,(function(){var e=t[r++],n=typeof e;return"function"===n?e():"string"===n?e:String(e)}))},function(e){e.ACTIVATE="ACTIVATE:experiment, user_id,attributes, variation, event",e.DECISION="DECISION:type, userId, attributes, decisionInfo",e.LOG_EVENT="LOG_EVENT:logEvent",e.OPTIMIZELY_CONFIG_UPDATE="OPTIMIZELY_CONFIG_UPDATE",e.TRACK="TRACK:event_key, user_id, attributes, event_tags, event"}(t.NOTIFICATION_TYPES||(t.NOTIFICATION_TYPES={}))},63217:function(e,t,n){var r=n(14195),i=n(35916),o=i;o.v1=r,o.v4=i,e.exports=o},54146:function(e){for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,i=t;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},48378:function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},14195:function(e,t,n){var r,i,o=n(48378),a=n(54146),s=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,l=t||[],f=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:i;if(null==f||null==d){var h=o();null==f&&(f=r=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==d&&(d=i=16383&(h[6]<<8|h[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:u+1,m=p-s+(v-u)/1e4;if(m<0&&void 0===e.clockseq&&(d=d+1&16383),(m<0||p>s)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=p,u=v,i=d;var g=(1e4*(268435455&(p+=122192928e5))+v)%4294967296;l[c++]=g>>>24&255,l[c++]=g>>>16&255,l[c++]=g>>>8&255,l[c++]=255&g;var y=p/4294967296*1e4&268435455;l[c++]=y>>>8&255,l[c++]=255&y,l[c++]=y>>>24&15|16,l[c++]=y>>>16&255,l[c++]=d>>>8|128,l[c++]=255&d;for(var b=0;b<6;++b)l[c+b]=f[b];return t||a(l)}},35916:function(e,t,n){var r=n(48378),i=n(54146);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},41962:function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var i=n(72531),o=n(29473),a=r(n(69015)),s=r(n(86077)),u=n(36124),c=function(){return(c=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function l(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var f=Math.pow(2,53);function d(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!e)return{};if("function"==typeof Object.assign)return Object.assign.apply(Object,l([e],t));for(var r=Object(e),i=0;i<t.length;i++){var o=t[i];if(null!=o)for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])}return r}function h(e,t){return e?g(e,(function(e){return e[t]})):{}}function p(e){return Object.keys(e).map((function(t){return e[t]}))}function v(e){return Object.keys(e).map((function(t){return[t,e[t]]}))}function m(e,t){for(var n,r=0,i=e;r<i.length;r++){var o=i[r];if(t(o)){n=o;break}}return n}function g(e,t){var n={};return e.forEach((function(e){var r=t(e);n[r]=e})),n}function y(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=0;return e.replace(/%s/g,(function(){var e=t[r++],n=typeof e;return"function"===n?e():"string"===n?e:String(e)}))}var b,w={assign:d,currentTimestamp:function(){return Math.round((new Date).getTime())},isSafeInteger:function(e){return"number"==typeof e&&Math.abs(e)<=f},keyBy:h,uuid:function(){return a()},isNumber:function(e){return"number"==typeof e},getTimestamp:function(){return(new Date).getTime()},isValidEnum:function(e,t){for(var n=!1,r=Object.keys(e),i=0;i<r.length;i++)if(t===e[r[i]]){n=!0;break}return n},groupBy:function(e,t){var n={};return e.forEach((function(e){var r=t(e);n[r]=n[r]||[],n[r].push(e)})),p(n)},objectValues:p,objectEntries:v,find:m,keyByUtil:g,sprintf:y},_={NOTSET:0,DEBUG:1,INFO:2,WARNING:3,ERROR:4},E={CONDITION_EVALUATOR_ERROR:"%s: Error evaluating audience condition of type %s: %s",DATAFILE_AND_SDK_KEY_MISSING:"%s: You must provide at least one of sdkKey or datafile. Cannot start Optimizely",EXPERIMENT_KEY_NOT_IN_DATAFILE:"%s: Experiment key %s is not in datafile.",FEATURE_NOT_IN_DATAFILE:"%s: Feature key %s is not in datafile.",IMPROPERLY_FORMATTED_EXPERIMENT:"%s: Experiment key %s is improperly formatted.",INVALID_ATTRIBUTES:"%s: Provided attributes are in an invalid format.",INVALID_BUCKETING_ID:"%s: Unable to generate hash for bucketing ID %s: %s",INVALID_DATAFILE:"%s: Datafile is invalid - property %s: %s",INVALID_DATAFILE_MALFORMED:"%s: Datafile is invalid because it is malformed.",INVALID_CONFIG:"%s: Provided Optimizely config is in an invalid format.",INVALID_JSON:"%s: JSON object is not valid.",INVALID_ERROR_HANDLER:'%s: Provided "errorHandler" is in an invalid format.',INVALID_EVENT_DISPATCHER:'%s: Provided "eventDispatcher" is in an invalid format.',INVALID_EVENT_TAGS:"%s: Provided event tags are in an invalid format.",INVALID_EXPERIMENT_KEY:"%s: Experiment key %s is not in datafile. It is either invalid, paused, or archived.",INVALID_EXPERIMENT_ID:"%s: Experiment ID %s is not in datafile.",INVALID_GROUP_ID:"%s: Group ID %s is not in datafile.",INVALID_LOGGER:'%s: Provided "logger" is in an invalid format.',INVALID_ROLLOUT_ID:"%s: Invalid rollout ID %s attached to feature %s",INVALID_USER_ID:"%s: Provided user ID is in an invalid format.",INVALID_USER_PROFILE_SERVICE:"%s: Provided user profile service instance is in an invalid format: %s.",NO_DATAFILE_SPECIFIED:"%s: No datafile specified. Cannot start optimizely.",NO_JSON_PROVIDED:"%s: No JSON object to validate against schema.",NO_VARIATION_FOR_EXPERIMENT_KEY:"%s: No variation key %s defined in datafile for experiment %s.",UNDEFINED_ATTRIBUTE:"%s: Provided attribute: %s has an undefined value.",UNRECOGNIZED_ATTRIBUTE:"%s: Unrecognized attribute %s provided. Pruning before sending event to Optimizely.",UNABLE_TO_CAST_VALUE:"%s: Unable to cast value %s to type %s, returning null.",USER_NOT_IN_FORCED_VARIATION:"%s: User %s is not in the forced variation map. Cannot remove their forced variation.",USER_PROFILE_LOOKUP_ERROR:'%s: Error while looking up user profile for user ID "%s": %s.',USER_PROFILE_SAVE_ERROR:'%s: Error while saving user profile for user ID "%s": %s.',VARIABLE_KEY_NOT_IN_DATAFILE:'%s: Variable with key "%s" associated with feature with key "%s" is not in datafile.',VARIATION_ID_NOT_IN_DATAFILE:"%s: No variation ID %s defined in datafile for experiment %s.",VARIATION_ID_NOT_IN_DATAFILE_NO_EXPERIMENT:"%s: Variation ID %s is not in the datafile.",INVALID_INPUT_FORMAT:"%s: Provided %s is in an invalid format.",INVALID_DATAFILE_VERSION:"%s: This version of the JavaScript SDK does not support the given datafile version: %s",INVALID_VARIATION_KEY:"%s: Provided variation key is in an invalid format."},S={ACTIVATE_USER:"%s: Activating user %s in experiment %s.",DISPATCH_CONVERSION_EVENT:"%s: Dispatching conversion event to URL %s with params %s.",DISPATCH_IMPRESSION_EVENT:"%s: Dispatching impression event to URL %s with params %s.",DEPRECATED_EVENT_VALUE:"%s: Event value is deprecated in %s call.",EVENT_KEY_NOT_FOUND:"%s: Event key %s is not in datafile.",EXPERIMENT_NOT_RUNNING:"%s: Experiment %s is not running.",FEATURE_ENABLED_FOR_USER:"%s: Feature %s is enabled for user %s.",FEATURE_NOT_ENABLED_FOR_USER:"%s: Feature %s is not enabled for user %s.",FEATURE_HAS_NO_EXPERIMENTS:"%s: Feature %s is not attached to any experiments.",FAILED_TO_PARSE_VALUE:'%s: Failed to parse event value "%s" from event tags.',FAILED_TO_PARSE_REVENUE:'%s: Failed to parse revenue value "%s" from event tags.',FORCED_BUCKETING_FAILED:"%s: Variation key %s is not in datafile. Not activating user %s.",INVALID_OBJECT:"%s: Optimizely object is not valid. Failing %s.",INVALID_CLIENT_ENGINE:"%s: Invalid client engine passed: %s. Defaulting to node-sdk.",INVALID_DEFAULT_DECIDE_OPTIONS:"%s: Provided default decide options is not an array.",INVALID_DECIDE_OPTIONS:"%s: Provided decide options is not an array. Using default decide options.",INVALID_VARIATION_ID:"%s: Bucketed into an invalid variation ID. Returning null.",NOTIFICATION_LISTENER_EXCEPTION:"%s: Notification listener for (%s) threw exception: %s",NO_ROLLOUT_EXISTS:"%s: There is no rollout of feature %s.",NOT_ACTIVATING_USER:"%s: Not activating user %s for experiment %s.",NOT_TRACKING_USER:"%s: Not tracking user %s.",PARSED_REVENUE_VALUE:'%s: Parsed revenue value "%s" from event tags.',PARSED_NUMERIC_VALUE:'%s: Parsed event value "%s" from event tags.',RETURNING_STORED_VARIATION:'%s: Returning previously activated variation "%s" of experiment "%s" for user "%s" from user profile.',ROLLOUT_HAS_NO_EXPERIMENTS:"%s: Rollout of feature %s has no experiments",SAVED_VARIATION:'%s: Saved variation "%s" of experiment "%s" for user "%s".',SAVED_VARIATION_NOT_FOUND:"%s: User %s was previously bucketed into variation with ID %s for experiment %s, but no matching variation was found.",SHOULD_NOT_DISPATCH_ACTIVATE:'%s: Experiment %s is not in "Running" state. Not activating user.',SKIPPING_JSON_VALIDATION:"%s: Skipping JSON schema validation.",TRACK_EVENT:"%s: Tracking event %s for user %s.",UNRECOGNIZED_DECIDE_OPTION:"%s: Unrecognized decide option %s provided.",USER_ASSIGNED_TO_EXPERIMENT_BUCKET:"%s: Assigned bucket %s to user with bucketing ID %s.",USER_BUCKETED_INTO_EXPERIMENT_IN_GROUP:"%s: User %s is in experiment %s of group %s.",USER_BUCKETED_INTO_TARGETING_RULE:"%s: User %s bucketed into targeting rule %s.",USER_IN_FEATURE_EXPERIMENT:"%s: User %s is in variation %s of experiment %s on the feature %s.",USER_IN_ROLLOUT:"%s: User %s is in rollout of feature %s.",USER_NOT_BUCKETED_INTO_EVERYONE_TARGETING_RULE:"%s: User %s not bucketed into everyone targeting rule due to traffic allocation.",USER_NOT_BUCKETED_INTO_EXPERIMENT_IN_GROUP:"%s: User %s is not in experiment %s of group %s.",USER_NOT_BUCKETED_INTO_ANY_EXPERIMENT_IN_GROUP:"%s: User %s is not in any experiment of group %s.",USER_NOT_BUCKETED_INTO_TARGETING_RULE:"%s User %s not bucketed into targeting rule %s due to traffic allocation. Trying everyone rule.",USER_NOT_IN_FEATURE_EXPERIMENT:"%s: User %s is not in any experiment on the feature %s.",USER_NOT_IN_ROLLOUT:"%s: User %s is not in rollout of feature %s.",USER_FORCED_IN_VARIATION:"%s: User %s is forced in variation %s.",USER_MAPPED_TO_FORCED_VARIATION:"%s: Set variation %s for experiment %s and user %s in the forced variation map.",USER_DOESNT_MEET_CONDITIONS_FOR_TARGETING_RULE:"%s: User %s does not meet conditions for targeting rule %s.",USER_MEETS_CONDITIONS_FOR_TARGETING_RULE:"%s: User %s meets conditions for targeting rule %s.",USER_HAS_VARIATION:"%s: User %s is in variation %s of experiment %s.",USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED:"Variation (%s) is mapped to flag (%s), rule (%s) and user (%s) in the forced decision map.",USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED:"Variation (%s) is mapped to flag (%s) and user (%s) in the forced decision map.",USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED_BUT_INVALID:"Invalid variation is mapped to flag (%s), rule (%s) and user (%s) in the forced decision map.",USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED_BUT_INVALID:"Invalid variation is mapped to flag (%s) and user (%s) in the forced decision map.",USER_HAS_FORCED_VARIATION:"%s: Variation %s is mapped to experiment %s and user %s in the forced variation map.",USER_HAS_NO_VARIATION:"%s: User %s is in no variation of experiment %s.",USER_HAS_NO_FORCED_VARIATION:"%s: User %s is not in the forced variation map.",USER_HAS_NO_FORCED_VARIATION_FOR_EXPERIMENT:"%s: No experiment %s mapped to user %s in the forced variation map.",USER_NOT_IN_ANY_EXPERIMENT:"%s: User %s is not in any experiment of group %s.",USER_NOT_IN_EXPERIMENT:"%s: User %s does not meet conditions to be in experiment %s.",USER_RECEIVED_DEFAULT_VARIABLE_VALUE:'%s: User "%s" is not in any variation or rollout rule. Returning default value for variable "%s" of feature flag "%s".',FEATURE_NOT_ENABLED_RETURN_DEFAULT_VARIABLE_VALUE:'%s: Feature "%s" is not enabled for user %s. Returning the default variable value "%s".',VARIABLE_NOT_USED_RETURN_DEFAULT_VARIABLE_VALUE:'%s: Variable "%s" is not used in variation "%s". Returning default value.',USER_RECEIVED_VARIABLE_VALUE:'%s: Got variable value "%s" for variable "%s" of feature flag "%s"',VALID_DATAFILE:"%s: Datafile is valid.",VALID_USER_PROFILE_SERVICE:"%s: Valid user profile service provided.",VARIATION_REMOVED_FOR_USER:"%s: Variation mapped to experiment %s has been removed for user %s.",VARIABLE_REQUESTED_WITH_WRONG_TYPE:'%s: Requested variable type "%s", but variable is of type "%s". Use correct API to retrieve value. Returning None.',VALID_BUCKETING_ID:'%s: BucketingId is valid: "%s"',BUCKETING_ID_NOT_STRING:"%s: BucketingID attribute is not a string. Defaulted to userId",EVALUATING_AUDIENCE:'%s: Starting to evaluate audience "%s" with conditions: %s.',EVALUATING_AUDIENCES_COMBINED:'%s: Evaluating audiences for %s "%s": %s.',AUDIENCE_EVALUATION_RESULT:'%s: Audience "%s" evaluated to %s.',AUDIENCE_EVALUATION_RESULT_COMBINED:"%s: Audiences for %s %s collectively evaluated to %s.",MISSING_ATTRIBUTE_VALUE:'%s: Audience condition %s evaluated to UNKNOWN because no value was passed for user attribute "%s".',UNEXPECTED_CONDITION_VALUE:"%s: Audience condition %s evaluated to UNKNOWN because the condition value is not supported.",UNEXPECTED_TYPE:'%s: Audience condition %s evaluated to UNKNOWN because a value of type "%s" was passed for user attribute "%s".',UNEXPECTED_TYPE_NULL:'%s: Audience condition %s evaluated to UNKNOWN because a null value was passed for user attribute "%s".',UNKNOWN_CONDITION_TYPE:"%s: Audience condition %s has an unknown condition type. You may need to upgrade to a newer release of the Optimizely SDK.",UNKNOWN_MATCH_TYPE:"%s: Audience condition %s uses an unknown match type. You may need to upgrade to a newer release of the Optimizely SDK.",UPDATED_OPTIMIZELY_CONFIG:"%s: Updated Optimizely config to revision %s (project id %s)",OUT_OF_BOUNDS:'%s: Audience condition %s evaluated to UNKNOWN because the number value for user attribute "%s" is not in the range [-2^53, +2^53].',UNABLE_TO_ATTACH_UNLOAD:'%s: unable to bind optimizely.close() to page unload event: "%s"'},x={BOT_FILTERING:"$opt_bot_filtering",BUCKETING_ID:"$opt_bucketing_id",STICKY_BUCKETING_KEY:"$opt_experiment_bucket_map",USER_AGENT:"$opt_user_agent",FORCED_DECISION_NULL_RULE_KEY:"$opt_null_rule_key"},O={AB_TEST:"ab-test",FEATURE:"feature",FEATURE_TEST:"feature-test",FEATURE_VARIABLE:"feature-variable",ALL_FEATURE_VARIABLES:"all-feature-variables",FLAG:"flag"},C={FEATURE_TEST:"feature-test",ROLLOUT:"rollout",EXPERIMENT:"experiment"},k={RULE:"rule",EXPERIMENT:"experiment"},T={BOOLEAN:"boolean",DOUBLE:"double",INTEGER:"integer",STRING:"string",JSON:"json"},A={V2:"2",V3:"3",V4:"4"},I={SDK_NOT_READY:"Optimizely SDK not configured properly yet.",FLAG_KEY_INVALID:'No flag was found for key "%s".',VARIABLE_VALUE_INVALID:'Variable value for key "%s" is invalid or wrong type.'};!function(e){e.ACTIVATE="ACTIVATE:experiment, user_id,attributes, variation, event",e.DECISION="DECISION:type, userId, attributes, decisionInfo",e.LOG_EVENT="LOG_EVENT:logEvent",e.OPTIMIZELY_CONFIG_UPDATE="OPTIMIZELY_CONFIG_UPDATE",e.TRACK="TRACK:event_key, user_id, attributes, event_tags, event"}(b||(b={}));var D=Object.freeze({__proto__:null,LOG_LEVEL:_,ERROR_MESSAGES:E,LOG_MESSAGES:S,CONTROL_ATTRIBUTES:x,JAVASCRIPT_CLIENT_ENGINE:"javascript-sdk",NODE_CLIENT_ENGINE:"node-sdk",REACT_CLIENT_ENGINE:"react-sdk",REACT_NATIVE_CLIENT_ENGINE:"react-native-sdk",REACT_NATIVE_JS_CLIENT_ENGINE:"react-native-js-sdk",NODE_CLIENT_VERSION:"4.9.2",DECISION_NOTIFICATION_TYPES:O,DECISION_SOURCES:C,AUDIENCE_EVALUATION_TYPES:k,FEATURE_VARIABLE_TYPES:T,DATAFILE_VERSIONS:A,DECISION_MESSAGES:I,get NOTIFICATION_TYPES(){return b}}),P="CONFIG_VALIDATOR",R=[A.V2,A.V3,A.V4],N={handleError:function(){}},j={dispatchEvent:function(e,t){var n,r=e.params,i=e.url;"POST"===e.httpVerb?((n=new XMLHttpRequest).open("POST",i,!0),n.setRequestHeader("Content-Type","application/json"),n.onreadystatechange=function(){if(4===n.readyState&&t&&"function"==typeof t)try{t({statusCode:n.status})}catch(e){}},n.send(JSON.stringify(r))):(i+="?wxhr=true",r&&(i+="&"+function(e){return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")}(r)),(n=new XMLHttpRequest).open("GET",i,!0),n.onreadystatechange=function(){if(4===n.readyState&&t&&"function"==typeof t)try{t({statusCode:n.status})}catch(e){}},n.send())}},M=function(){function e(){}return e.prototype.log=function(){},e}();function L(e){return new i.ConsoleLogHandler(e)}var F,B,U=Object.freeze({__proto__:null,NoOpLogger:M,createLogger:L,createNoOpLogger:function(){return new M}});function V(e,t,n){return{variationKey:null,enabled:!1,variables:{},ruleKey:null,flagKey:e,userContext:t,reasons:n}}!function(e){e.BOOLEAN="boolean",e.DOUBLE="double",e.INTEGER="integer",e.STRING="string",e.JSON="json"}(F||(F={})),(B=t.N1||(t.N1={})).DISABLE_DECISION_EVENT="DISABLE_DECISION_EVENT",B.ENABLED_FLAGS_ONLY="ENABLED_FLAGS_ONLY",B.IGNORE_USER_PROFILE_SERVICE="IGNORE_USER_PROFILE_SERVICE",B.INCLUDE_REASONS="INCLUDE_REASONS",B.EXCLUDE_VARIABLES="EXCLUDE_VARIABLES";var z=function(){function e(e){var t,n=e.optimizely,r=e.userId,i=e.attributes;this.optimizely=n,this.userId=r,this.attributes=null!==(t=c({},i))&&void 0!==t?t:{},this.forcedDecisionsMap={}}return e.prototype.setAttribute=function(e,t){this.attributes[e]=t},e.prototype.getUserId=function(){return this.userId},e.prototype.getAttributes=function(){return c({},this.attributes)},e.prototype.getOptimizely=function(){return this.optimizely},e.prototype.decide=function(e,t){return void 0===t&&(t=[]),this.optimizely.decide(this.cloneUserContext(),e,t)},e.prototype.decideForKeys=function(e,t){return void 0===t&&(t=[]),this.optimizely.decideForKeys(this.cloneUserContext(),e,t)},e.prototype.decideAll=function(e){return void 0===e&&(e=[]),this.optimizely.decideAll(this.cloneUserContext(),e)},e.prototype.trackEvent=function(e,t){this.optimizely.track(e,this.userId,this.attributes,t)},e.prototype.setForcedDecision=function(e,t){var n,r=e.flagKey,i=null!==(n=e.ruleKey)&&void 0!==n?n:x.FORCED_DECISION_NULL_RULE_KEY,o={variationKey:t.variationKey};return this.forcedDecisionsMap[r]||(this.forcedDecisionsMap[r]={}),this.forcedDecisionsMap[r][i]=o,!0},e.prototype.getForcedDecision=function(e){return this.findForcedDecision(e)},e.prototype.removeForcedDecision=function(e){var t,n=null!==(t=e.ruleKey)&&void 0!==t?t:x.FORCED_DECISION_NULL_RULE_KEY,r=e.flagKey,i=!1;return this.forcedDecisionsMap.hasOwnProperty(r)&&(this.forcedDecisionsMap[r].hasOwnProperty(n)&&(delete this.forcedDecisionsMap[r][n],i=!0),0===Object.keys(this.forcedDecisionsMap[r]).length&&delete this.forcedDecisionsMap[r]),i},e.prototype.removeAllForcedDecisions=function(){return this.forcedDecisionsMap={},!0},e.prototype.findForcedDecision=function(e){var t,n=null!==(t=e.ruleKey)&&void 0!==t?t:x.FORCED_DECISION_NULL_RULE_KEY,r=e.flagKey;if(this.forcedDecisionsMap.hasOwnProperty(e.flagKey)){var i=this.forcedDecisionsMap[r];if(i.hasOwnProperty(n))return{variationKey:i[n].variationKey}}return null},e.prototype.cloneUserContext=function(){var t=new e({optimizely:this.getOptimizely(),userId:this.getUserId(),attributes:this.getAttributes()});return Object.keys(this.forcedDecisionsMap).length>0&&(t.forcedDecisionsMap=c({},this.forcedDecisionsMap)),t},e}(),q=["and","or","not"];function Z(e,t){if(Array.isArray(e)){var n=e[0],r=e.slice(1);switch("string"==typeof n&&-1===q.indexOf(n)&&(n="or",r=e),n){case"and":return function(e,t){var n=!1;if(Array.isArray(e)){for(var r=0;r<e.length;r++){var i=Z(e[r],t);if(!1===i)return!1;null===i&&(n=!0)}return!n||null}return null}(r,t);case"not":return function(e,t){if(Array.isArray(e)&&e.length>0){var n=Z(e[0],t);return null===n?null:!n}return null}(r,t);default:return function(e,t){var n=!1;if(Array.isArray(e)){for(var r=0;r<e.length;r++){var i=Z(e[r],t);if(!0===i)return!0;null===i&&(n=!0)}return!!n&&null}return null}(r,t)}}return t(e)}var H=function(){function e(t,n){var r,i;this.sdkKey=null!==(r=t.sdkKey)&&void 0!==r?r:"",this.environmentKey=null!==(i=t.environmentKey)&&void 0!==i?i:"",this.attributes=t.attributes,this.audiences=e.getAudiences(t),this.events=t.events,this.revision=t.revision;var o=(t.featureFlags||[]).reduce((function(e,t){return e[t.id]=t.variables,e}),{}),a=e.getExperimentsMapById(t,o);this.experimentsMap=e.getExperimentsKeyMap(a),this.featuresMap=e.getFeaturesMap(t,o,a),this.datafile=n}return e.prototype.getDatafile=function(){return this.datafile},e.getAudiences=function(e){var t=[],n=[];return(e.typedAudiences||[]).forEach((function(e){t.push({id:e.id,conditions:JSON.stringify(e.conditions),name:e.name}),n.push(e.id)})),(e.audiences||[]).forEach((function(e){-1===n.indexOf(e.id)&&"$opt_dummy_audience"!=e.id&&t.push({id:e.id,conditions:JSON.stringify(e.conditions),name:e.name})})),t},e.getSerializedAudiences=function(t,n){var r="";if(t){var i="";t.forEach((function(t){var o="";if(t instanceof Array)o="("+(o=e.getSerializedAudiences(t,n))+")";else if(q.indexOf(t)>-1)i=t.toUpperCase();else{var a=n[t]?n[t].name:t;r||"NOT"===i?(i=""===i?"OR":i,r=""===r?i+' "'+n[t].name+'"':r.concat(" "+i+' "'+a+'"')):r='"'+a+'"'}""!==o&&(""!==r||"NOT"===i?(i=""===i?"OR":i,r=""===r?i+" "+o:r.concat(" "+i+" "+o)):r=r.concat(o))}))}return r},e.getExperimentAudiences=function(t,n){return t.audienceConditions?e.getSerializedAudiences(t.audienceConditions,n.audiencesById):""},e.mergeFeatureVariables=function(e,t,n,r,i){var o=(e[n]||[]).reduce((function(e,t){return e[t.key]={id:t.id,key:t.key,type:t.type,value:t.defaultValue},e}),{});return(r||[]).forEach((function(e){var n=t[e.id],r={id:e.id,key:n.key,type:n.type,value:i?e.value:n.defaultValue};o[n.key]=r})),o},e.getVariationsMap=function(t,n,r,i){return t.reduce((function(t,o){var a=e.mergeFeatureVariables(n,r,i,o.variables,o.featureEnabled);return t[o.key]={id:o.id,key:o.key,featureEnabled:o.featureEnabled,variablesMap:a},t}),{})},e.getVariableIdMap=function(e){return(e.featureFlags||[]).reduce((function(e,t){return t.variables.forEach((function(t){e[t.id]=t})),e}),{})},e.getDeliveryRules=function(t,n,r,i){var o=e.getVariableIdMap(t);return i.map((function(i){return{id:i.id,key:i.key,audiences:e.getExperimentAudiences(i,t),variationsMap:e.getVariationsMap(i.variations,n,o,r)}}))},e.getRolloutExperimentIds=function(e){var t=[];return(e||[]).forEach((function(e){e.experiments.forEach((function(e){t.push(e.id)}))})),t},e.getExperimentsMapById=function(t,n){var r=e.getVariableIdMap(t),i=this.getRolloutExperimentIds(t.rollouts);return(t.experiments||[]).reduce((function(o,a){if(-1===i.indexOf(a.id)){var s=t.experimentFeatureMap[a.id],u="";s&&s.length>0&&(u=s[0]);var c=e.getVariationsMap(a.variations,n,r,u.toString());o[a.id]={id:a.id,key:a.key,audiences:e.getExperimentAudiences(a,t),variationsMap:c}}return o}),{})},e.getExperimentsKeyMap=function(e){var t={};for(var n in e){var r=e[n];t[r.key]=r}return t},e.getFeaturesMap=function(t,n,r){var i={};return t.featureFlags.forEach((function(o){var a={},s=[];o.experimentIds.forEach((function(e){var t=r[e];t&&(a[t.key]=t),s.push(r[e])}));var u=(o.variables||[]).reduce((function(e,t){return e[t.key]={id:t.id,key:t.key,type:t.type,value:t.defaultValue},e}),{}),c=[],l=t.rolloutIdMap[o.rolloutId];l&&(c=e.getDeliveryRules(t,n,o.id,l.experiments)),i[o.key]={id:o.id,key:o.key,experimentRules:s,deliveryRules:c,experimentsMap:a,variablesMap:u}})),i},e}(),W="PROJECT_CONFIG",G=function(e,t){void 0===t&&(t=null);var n,r,i,o,a=((o=d({},n=e)).audiences=(n.audiences||[]).map((function(e){return d({},e)})),o.experiments=(n.experiments||[]).map((function(e){return d({},e)})),o.featureFlags=(n.featureFlags||[]).map((function(e){return d({},e)})),o.groups=(n.groups||[]).map((function(e){var t=d({},e);return t.experiments=(e.experiments||[]).map((function(e){return d({},e)})),t})),o.rollouts=(n.rollouts||[]).map((function(e){var t=d({},e);return t.experiments=(e.experiments||[]).map((function(e){return d({},e)})),t})),o.environmentKey=null!==(r=n.environmentKey)&&void 0!==r?r:"",o.sdkKey=null!==(i=n.sdkKey)&&void 0!==i?i:"",o);return a.__datafileStr=null===t?JSON.stringify(e):t,(a.audiences||[]).forEach((function(e){e.conditions=JSON.parse(e.conditions)})),a.audiencesById=h(a.audiences,"id"),d(a.audiencesById,h(a.typedAudiences,"id")),a.attributeKeyMap=h(a.attributes,"key"),a.eventKeyMap=h(a.events,"key"),a.groupIdMap=h(a.groups,"id"),Object.keys(a.groupIdMap||{}).forEach((function(e){(a.groupIdMap[e].experiments||[]).forEach((function(t){a.experiments.push(d(t,{groupId:e}))}))})),a.rolloutIdMap=h(a.rollouts||[],"id"),p(a.rolloutIdMap||{}).forEach((function(e){(e.experiments||[]).forEach((function(e){a.experiments.push(e),e.variationKeyMap=h(e.variations,"key")}))})),a.experimentKeyMap=h(a.experiments,"key"),a.experimentIdMap=h(a.experiments,"id"),a.variationIdMap={},a.variationVariableUsageMap={},(a.experiments||[]).forEach((function(e){e.variationKeyMap=h(e.variations,"key"),d(a.variationIdMap,h(e.variations,"id")),p(e.variationKeyMap||{}).forEach((function(e){e.variables&&(a.variationVariableUsageMap[e.id]=h(e.variables,"id"))}))})),a.experimentFeatureMap={},a.featureKeyMap=h(a.featureFlags||[],"key"),p(a.featureKeyMap||{}).forEach((function(e){e.variables.forEach((function(e){e.type===T.STRING&&e.subType===T.JSON&&(e.type=T.JSON,delete e.subType)})),e.variableKeyMap=h(e.variables,"key"),(e.experimentIds||[]).forEach((function(t){a.experimentFeatureMap[t]?a.experimentFeatureMap[t].push(e.id):a.experimentFeatureMap[t]=[e.id]}))})),a.flagRulesMap={},(a.featureFlags||[]).forEach((function(e){var t=[];e.experimentIds.forEach((function(e){var n=a.experimentIdMap[e];n&&t.push(n)}));var n=a.rolloutIdMap[e.rolloutId];n&&t.push.apply(t,n.experiments),a.flagRulesMap[e.key]=t})),a.flagVariationsMap={},v(a.flagRulesMap||{}).forEach((function(e){var t=e[0],n=e[1],r=[];n.forEach((function(e){e.variations.forEach((function(e){m(r,(function(t){return t.id===e.id}))||r.push(e)}))})),a.flagVariationsMap[t]=r})),a},K=function(e,t){var n=e.experimentIdMap[t];if(!n)throw new Error(y(E.INVALID_EXPERIMENT_ID,W,t));return n.layerId},J=function(e,t,n){var r=e.attributeKeyMap[t],i=0===t.indexOf("$opt_");return r?(i&&n.log(_.WARNING,"Attribute %s unexpectedly has reserved prefix %s; using attribute ID instead of reserved attribute name.",t,"$opt_"),r.id):i?t:(n.log(_.DEBUG,E.UNRECOGNIZED_ATTRIBUTE,W,t),null)},Y=function(e,t){var n=e.eventKeyMap[t];return n?n.id:null},$=function(e,t){var n=e.experimentKeyMap[t];if(!n)throw new Error(y(E.INVALID_EXPERIMENT_KEY,W,t));return n.status},X=function(e,t){return e.variationIdMap.hasOwnProperty(t)?e.variationIdMap[t].key:null},Q=function(e,t){if(e.experimentKeyMap.hasOwnProperty(t)){var n=e.experimentKeyMap[t];if(n)return n}throw new Error(y(E.EXPERIMENT_KEY_NOT_IN_DATAFILE,W,t))},ee=function(e,t){var n=e.experimentIdMap[t];if(!n)throw new Error(y(E.INVALID_EXPERIMENT_ID,W,t));return n.trafficAllocation},te=function(e,t,n){if(e.experimentIdMap.hasOwnProperty(t)){var r=e.experimentIdMap[t];if(r)return r}return n.log(_.ERROR,E.INVALID_EXPERIMENT_ID,W,t),null},ne=function(e,t,n){if(!e)return null;var r=m(e.flagVariationsMap[t],(function(e){return e.key===n}));return r||null},re=function(e,t,n){if(e.featureKeyMap.hasOwnProperty(t)){var r=e.featureKeyMap[t];if(r)return r}return n.log(_.ERROR,E.FEATURE_NOT_IN_DATAFILE,W,t),null},ie=function(e){return e.__datafileStr},oe=function(e){var t;try{t=function(e){if(!e)throw new Error(y(E.NO_DATAFILE_SPECIFIED,P));if("string"==typeof e)try{e=JSON.parse(e)}catch(e){throw new Error(y(E.INVALID_DATAFILE_MALFORMED,P))}if("object"==typeof e&&!Array.isArray(e)&&null!==e&&-1===R.indexOf(e.version))throw new Error(y(E.INVALID_DATAFILE_VERSION,P,e.version));return e}(e.datafile)}catch(e){return{configObj:null,error:e}}if(e.jsonSchemaValidator)try{e.jsonSchemaValidator.validate(t),e.logger.log(_.INFO,S.VALID_DATAFILE,W)}catch(e){return{configObj:null,error:e}}else e.logger.log(_.INFO,S.SKIPPING_JSON_VALIDATION,W);var n=[t];return"string"==typeof e.datafile&&n.push(e.datafile),{configObj:G.apply(void 0,n),error:null}},ae=function(e){return!!e.sendFlagDecisions},se=i.getLogger();function ue(e,t){return e instanceof Error?e.message:t||"Unknown error"}var ce=function(){function e(e){this.updateListeners=[],this.configObj=null,this.optimizelyConfigObj=null,this.datafileManager=null;try{if(this.jsonSchemaValidator=e.jsonSchemaValidator,!e.datafile&&!e.sdkKey){var t=new Error(y(E.DATAFILE_AND_SDK_KEY_MISSING,"PROJECT_CONFIG_MANAGER"));return this.readyPromise=Promise.resolve({success:!1,reason:ue(t)}),void se.error(t)}var n=null;e.datafile&&(n=this.handleNewDatafile(e.datafile)),e.sdkKey&&e.datafileManager?(this.datafileManager=e.datafileManager,this.datafileManager.start(),this.readyPromise=this.datafileManager.onReady().then(this.onDatafileManagerReadyFulfill.bind(this),this.onDatafileManagerReadyReject.bind(this)),this.datafileManager.on("update",this.onDatafileManagerUpdate.bind(this))):this.configObj?this.readyPromise=Promise.resolve({success:!0}):this.readyPromise=Promise.resolve({success:!1,reason:ue(n,"Invalid datafile")})}catch(e){se.error(e),this.readyPromise=Promise.resolve({success:!1,reason:ue(e,"Error in initialize")})}}return e.prototype.onDatafileManagerReadyFulfill=function(){if(this.datafileManager){var e=this.handleNewDatafile(this.datafileManager.get());return e?{success:!1,reason:ue(e)}:{success:!0}}return{success:!1,reason:ue(null,"Datafile manager is not provided")}},e.prototype.onDatafileManagerReadyReject=function(e){return{success:!1,reason:ue(e,"Failed to become ready")}},e.prototype.onDatafileManagerUpdate=function(){this.datafileManager&&this.handleNewDatafile(this.datafileManager.get())},e.prototype.handleNewDatafile=function(e){var t=oe({datafile:e,jsonSchemaValidator:this.jsonSchemaValidator,logger:se}),n=t.configObj,r=t.error;if(r)se.error(r);else{var i=this.configObj?this.configObj.revision:"null";n&&i!==n.revision&&(this.configObj=n,this.optimizelyConfigObj=null,this.updateListeners.forEach((function(e){return e(n)})))}return r},e.prototype.getConfig=function(){return this.configObj},e.prototype.getOptimizelyConfig=function(){var e,t;return!this.optimizelyConfigObj&&this.configObj&&(this.optimizelyConfigObj=(e=this.configObj,t=ie(this.configObj),new H(e,t))),this.optimizelyConfigObj},e.prototype.onReady=function(){return this.readyPromise},e.prototype.onUpdate=function(e){var t=this;return this.updateListeners.push(e),function(){var n=t.updateListeners.indexOf(e);n>-1&&t.updateListeners.splice(n,1)}},e.prototype.stop=function(){this.datafileManager&&this.datafileManager.stop(),this.updateListeners=[]},e}(),le=Math.pow(2,32),fe=function(e){var t=[],n=e.experimentIdMap[e.experimentId].groupId;if(n){var r=e.groupIdMap[n];if(!r)throw new Error(y(E.INVALID_GROUP_ID,"BUCKETER",n));if("random"===r.policy){var i=de(r,e.bucketingId,e.userId,e.logger);if(null===i)return e.logger.log(_.INFO,S.USER_NOT_IN_ANY_EXPERIMENT,"BUCKETER",e.userId,n),t.push([S.USER_NOT_IN_ANY_EXPERIMENT,"BUCKETER",e.userId,n]),{result:null,reasons:t};if(i!==e.experimentId)return e.logger.log(_.INFO,S.USER_NOT_BUCKETED_INTO_EXPERIMENT_IN_GROUP,"BUCKETER",e.userId,e.experimentKey,n),t.push([S.USER_NOT_BUCKETED_INTO_EXPERIMENT_IN_GROUP,"BUCKETER",e.userId,e.experimentKey,n]),{result:null,reasons:t};e.logger.log(_.INFO,S.USER_BUCKETED_INTO_EXPERIMENT_IN_GROUP,"BUCKETER",e.userId,e.experimentKey,n),t.push([S.USER_BUCKETED_INTO_EXPERIMENT_IN_GROUP,"BUCKETER",e.userId,e.experimentKey,n])}}var o=""+e.bucketingId+e.experimentId,a=pe(o);e.logger.log(_.DEBUG,S.USER_ASSIGNED_TO_EXPERIMENT_BUCKET,"BUCKETER",a,e.userId),t.push([S.USER_ASSIGNED_TO_EXPERIMENT_BUCKET,"BUCKETER",a,e.userId]);var s=he(a,e.trafficAllocationConfig);return null===s||e.variationIdMap[s]?{result:s,reasons:t}:(s&&(e.logger.log(_.WARNING,S.INVALID_VARIATION_ID,"BUCKETER"),t.push([S.INVALID_VARIATION_ID,"BUCKETER"])),{result:null,reasons:t})},de=function(e,t,n,r){var i=""+t+e.id,o=pe(i);r.log(_.DEBUG,S.USER_ASSIGNED_TO_EXPERIMENT_BUCKET,"BUCKETER",o,n);var a=e.trafficAllocation;return he(o,a)},he=function(e,t){for(var n=0;n<t.length;n++)if(e<t[n].endOfRange)return t[n].entityId;return null},pe=function(e){try{var t=s.v3(e,1)/le;return Math.floor(1e4*t)}catch(t){throw new Error(y(E.INVALID_BUCKETING_ID,"BUCKETER",e,t.message))}},ve=i.getLogger();function me(e){return/^\d+$/.test(e)}function ge(e){var t=e.indexOf("-"),n=e.indexOf("+");return!(t<0)&&(n<0||t<n)}function ye(e){var t=e.indexOf("-"),n=e.indexOf("+");return!(n<0)&&(t<0||n<t)}function be(e){var t=e,n="";if(function(e){return/\s/.test(e)}(e))return ve.warn(S.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",e),null;if(ge(e)?(t=e.substring(0,e.indexOf("-")),n=e.substring(e.indexOf("-")+1)):ye(e)&&(t=e.substring(0,e.indexOf("+")),n=e.substring(e.indexOf("+")+1)),"string"!=typeof t||"string"!=typeof n)return null;var r=t.split(".").length-1;if(r>2)return ve.warn(S.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",e),null;var i=t.split(".");if(i.length!=r+1)return ve.warn(S.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",e),null;for(var o=0,a=i;o<a.length;o++)if(!me(a[o]))return ve.warn(S.UNKNOWN_MATCH_TYPE,"SEMANTIC VERSION",e),null;return n&&i.push(n),i}var we="CUSTOM_ATTRIBUTE_CONDITION_EVALUATOR",_e=i.getLogger(),Ee=["exact","exists","gt","ge","lt","le","substring","semver_eq","semver_lt","semver_le","semver_gt","semver_ge"],Se={};function xe(e){return"string"==typeof e||"boolean"==typeof e||w.isNumber(e)}function Oe(e,t){var n=e.value,r=typeof n,i=e.name,o=t[i],a=typeof o;return!xe(n)||w.isNumber(n)&&!w.isSafeInteger(n)?(_e.warn(S.UNEXPECTED_CONDITION_VALUE,we,JSON.stringify(e)),null):null===o?(_e.debug(S.UNEXPECTED_TYPE_NULL,we,JSON.stringify(e),i),null):xe(o)&&r===a?w.isNumber(o)&&!w.isSafeInteger(o)?(_e.warn(S.OUT_OF_BOUNDS,we,JSON.stringify(e),i),null):n===o:(_e.warn(S.UNEXPECTED_TYPE,we,JSON.stringify(e),a,i),null)}function Ce(e,t){var n=e.name,r=t[n],i=typeof r,o=e.value;return null!==o&&w.isSafeInteger(o)?null===r?(_e.debug(S.UNEXPECTED_TYPE_NULL,we,JSON.stringify(e),n),!1):w.isNumber(r)?!!w.isSafeInteger(r)||(_e.warn(S.OUT_OF_BOUNDS,we,JSON.stringify(e),n),!1):(_e.warn(S.UNEXPECTED_TYPE,we,JSON.stringify(e),i,n),!1):(_e.warn(S.UNEXPECTED_CONDITION_VALUE,we,JSON.stringify(e)),!1)}function ke(e,t){var n=e.name,r=t[n],i=typeof r,o=e.value;return"string"!=typeof o?(_e.warn(S.UNEXPECTED_CONDITION_VALUE,we,JSON.stringify(e)),null):null===r?(_e.debug(S.UNEXPECTED_TYPE_NULL,we,JSON.stringify(e),n),null):"string"!=typeof r?(_e.warn(S.UNEXPECTED_TYPE,we,JSON.stringify(e),i,n),null):function(e,t){var n=be(t),r=be(e);if(!n||!r)return null;for(var i=n.length,o=0;o<r.length;o++){if(i<=o)return ge(e)||ye(e)?1:-1;if(me(n[o])){var a=parseInt(n[o]),s=parseInt(r[o]);if(a>s)return 1;if(a<s)return-1}else{if(n[o]<r[o])return ge(e)&&!ge(t)?1:-1;if(n[o]>r[o])return!ge(e)&&ge(t)?-1:1}}return ge(t)&&!ge(e)?-1:0}(o,r)}Se.exact=Oe,Se.exists=function(e,t){return null!=t[e.name]},Se.gt=function(e,t){var n=t[e.name],r=e.value;return Ce(e,t)&&null!==r?n>r:null},Se.ge=function(e,t){var n=t[e.name],r=e.value;return Ce(e,t)&&null!==r?n>=r:null},Se.lt=function(e,t){var n=t[e.name],r=e.value;return Ce(e,t)&&null!==r?n<r:null},Se.le=function(e,t){var n=t[e.name],r=e.value;return Ce(e,t)&&null!==r?n<=r:null},Se.substring=function(e,t){var n=e.name,r=t[e.name],i=typeof r,o=e.value;return"string"!=typeof o?(_e.warn(S.UNEXPECTED_CONDITION_VALUE,we,JSON.stringify(e)),null):null===r?(_e.debug(S.UNEXPECTED_TYPE_NULL,we,JSON.stringify(e),n),null):"string"!=typeof r?(_e.warn(S.UNEXPECTED_TYPE,we,JSON.stringify(e),i,n),null):-1!==r.indexOf(o)},Se.semver_eq=function(e,t){var n=ke(e,t);return null===n?null:0===n},Se.semver_gt=function(e,t){var n=ke(e,t);return null===n?null:n>0},Se.semver_ge=function(e,t){var n=ke(e,t);return null===n?null:n>=0},Se.semver_lt=function(e,t){var n=ke(e,t);return null===n?null:n<0},Se.semver_le=function(e,t){var n=ke(e,t);return null===n?null:n<=0};var Te=Object.freeze({__proto__:null,evaluate:function(e,t){var n=e.match;if(void 0!==n&&-1===Ee.indexOf(n))return _e.warn(S.UNKNOWN_MATCH_TYPE,we,JSON.stringify(e)),null;var r=e.name;return t.hasOwnProperty(r)||"exists"==n?(n&&Se[n]||Oe)(e,t):(_e.debug(S.MISSING_ATTRIBUTE_VALUE,we,JSON.stringify(e),r),null)}}),Ae=i.getLogger(),Ie=function(){function e(e){this.typeToEvaluatorMap=w.assign({},e,{custom_attribute:Te})}return e.prototype.evaluate=function(e,t,n){var r=this;return void 0===n&&(n={}),!e||0===e.length||!!Z(e,(function(e){var i=t[e];if(i){Ae.log(_.DEBUG,S.EVALUATING_AUDIENCE,"AUDIENCE_EVALUATOR",e,JSON.stringify(i.conditions));var o=Z(i.conditions,r.evaluateConditionWithUserAttributes.bind(r,n)),a=null===o?"UNKNOWN":o.toString().toUpperCase();return Ae.log(_.DEBUG,S.AUDIENCE_EVALUATION_RESULT,"AUDIENCE_EVALUATOR",e,a),o}return null}))},e.prototype.evaluateConditionWithUserAttributes=function(e,t){var n=this.typeToEvaluatorMap[t.type];if(!n)return Ae.log(_.WARNING,S.UNKNOWN_CONDITION_TYPE,"AUDIENCE_EVALUATOR",JSON.stringify(t)),null;try{return n.evaluate(t,e)}catch(e){Ae.log(_.ERROR,E.CONDITION_EVALUATOR_ERROR,"AUDIENCE_EVALUATOR",t.type,e.message)}return null},e}();function De(e){return"string"==typeof e&&""!==e}var Pe="DECISION_SERVICE",Re=function(){function e(e){var t;this.audienceEvaluator=(t=e.UNSTABLE_conditionEvaluators,new Ie(t)),this.forcedVariationMap={},this.logger=e.logger,this.userProfileService=e.userProfileService||null}return e.prototype.getVariation=function(e,n,r,i){void 0===i&&(i={});var o=r.getUserId(),a=r.getAttributes(),s=this.getBucketingId(o,a),u=[],c=n.key;if(!this.checkIfExperimentIsActive(e,c))return this.logger.log(_.INFO,S.EXPERIMENT_NOT_RUNNING,Pe,c),u.push([S.EXPERIMENT_NOT_RUNNING,Pe,c]),{result:null,reasons:u};var l=this.getForcedVariation(e,c,o);u.push.apply(u,l.reasons);var f=l.result;if(f)return{result:f,reasons:u};var d=this.getWhitelistedVariation(n,o);u.push.apply(u,d.reasons);var h=d.result;if(h)return{result:h.key,reasons:u};var p=i[t.N1.IGNORE_USER_PROFILE_SERVICE],v=this.resolveExperimentBucketMap(o,a);if(!p&&(h=this.getStoredVariation(e,n,o,v)))return this.logger.log(_.INFO,S.RETURNING_STORED_VARIATION,Pe,h.key,c,o),u.push([S.RETURNING_STORED_VARIATION,Pe,h.key,c,o]),{result:h.key,reasons:u};var m=this.checkIfUserIsInAudience(e,n,k.EXPERIMENT,a,"");if(u.push.apply(u,m.reasons),!m.result)return this.logger.log(_.INFO,S.USER_NOT_IN_EXPERIMENT,Pe,o,c),u.push([S.USER_NOT_IN_EXPERIMENT,Pe,o,c]),{result:null,reasons:u};var g=this.buildBucketerParams(e,n,s,o),y=fe(g);u.push.apply(u,y.reasons);var b=y.result;return b&&(h=e.variationIdMap[b]),h?(this.logger.log(_.INFO,S.USER_HAS_VARIATION,Pe,o,h.key,c),u.push([S.USER_HAS_VARIATION,Pe,o,h.key,c]),p||this.saveUserProfile(n,h,o,v),{result:h.key,reasons:u}):(this.logger.log(_.DEBUG,S.USER_HAS_NO_VARIATION,Pe,o,c),u.push([S.USER_HAS_NO_VARIATION,Pe,o,c]),{result:null,reasons:u})},e.prototype.resolveExperimentBucketMap=function(e,t){t=t||{};var n=this.getUserProfile(e)||{},r=t[x.STICKY_BUCKETING_KEY];return w.assign({},n.experiment_bucket_map,r)},e.prototype.checkIfExperimentIsActive=function(e,t){return function(e,t){return"Running"===$(e,t)}(e,t)},e.prototype.getWhitelistedVariation=function(e,t){var n=[];if(e.forcedVariations&&e.forcedVariations.hasOwnProperty(t)){var r=e.forcedVariations[t];return e.variationKeyMap.hasOwnProperty(r)?(this.logger.log(_.INFO,S.USER_FORCED_IN_VARIATION,Pe,t,r),n.push([S.USER_FORCED_IN_VARIATION,Pe,t,r]),{result:e.variationKeyMap[r],reasons:n}):(this.logger.log(_.ERROR,S.FORCED_BUCKETING_FAILED,Pe,r,t),n.push([S.FORCED_BUCKETING_FAILED,Pe,r,t]),{result:null,reasons:n})}return{result:null,reasons:n}},e.prototype.checkIfUserIsInAudience=function(e,t,n,r,i){var o=[],a=function(e,t){var n=e.experimentIdMap[t];if(!n)throw new Error(y(E.INVALID_EXPERIMENT_ID,W,t));return n.audienceConditions||n.audienceIds}(e,t.id),s=e.audiencesById;this.logger.log(_.DEBUG,S.EVALUATING_AUDIENCES_COMBINED,Pe,n,i||t.key,JSON.stringify(a)),o.push([S.EVALUATING_AUDIENCES_COMBINED,Pe,n,i||t.key,JSON.stringify(a)]);var u=this.audienceEvaluator.evaluate(a,s,r);return this.logger.log(_.INFO,S.AUDIENCE_EVALUATION_RESULT_COMBINED,Pe,n,i||t.key,u.toString().toUpperCase()),o.push([S.AUDIENCE_EVALUATION_RESULT_COMBINED,Pe,n,i||t.key,u.toString().toUpperCase()]),{result:u,reasons:o}},e.prototype.buildBucketerParams=function(e,t,n,r){return{bucketingId:n,experimentId:t.id,experimentKey:t.key,experimentIdMap:e.experimentIdMap,experimentKeyMap:e.experimentKeyMap,groupIdMap:e.groupIdMap,logger:this.logger,trafficAllocationConfig:ee(e,t.id),userId:r,variationIdMap:e.variationIdMap}},e.prototype.getStoredVariation=function(e,t,n,r){if(r.hasOwnProperty(t.id)){var i=r[t.id],o=i.variation_id;if(e.variationIdMap.hasOwnProperty(o))return e.variationIdMap[i.variation_id];this.logger.log(_.INFO,S.SAVED_VARIATION_NOT_FOUND,Pe,n,o,t.key)}return null},e.prototype.getUserProfile=function(e){var t={user_id:e,experiment_bucket_map:{}};if(!this.userProfileService)return t;try{return this.userProfileService.lookup(e)}catch(t){this.logger.log(_.ERROR,E.USER_PROFILE_LOOKUP_ERROR,Pe,e,t.message)}return null},e.prototype.saveUserProfile=function(e,t,n,r){if(this.userProfileService)try{r[e.id]={variation_id:t.id},this.userProfileService.save({user_id:n,experiment_bucket_map:r}),this.logger.log(_.INFO,S.SAVED_VARIATION,Pe,t.key,e.key,n)}catch(e){this.logger.log(_.ERROR,E.USER_PROFILE_SAVE_ERROR,Pe,n,e.message)}},e.prototype.getVariationForFeature=function(e,t,n,r){void 0===r&&(r={});var i=[],o=this.getVariationForFeatureExperiment(e,t,n,r);i.push.apply(i,o.reasons);var a=o.result;if(null!==a.variation)return{result:a,reasons:i};var s=this.getVariationForRollout(e,t,n);i.push.apply(i,s.reasons);var u=s.result,c=n.getUserId();return u.variation?(this.logger.log(_.DEBUG,S.USER_IN_ROLLOUT,Pe,c,t.key),i.push([S.USER_IN_ROLLOUT,Pe,c,t.key]),{result:u,reasons:i}):(this.logger.log(_.DEBUG,S.USER_NOT_IN_ROLLOUT,Pe,c,t.key),i.push([S.USER_NOT_IN_ROLLOUT,Pe,c,t.key]),{result:u,reasons:i})},e.prototype.getVariationForFeatureExperiment=function(e,t,n,r){void 0===r&&(r={});var i,o,a=[],s=null;if(t.experimentIds.length>0)for(o=0;o<t.experimentIds.length;o++){var u=te(e,t.experimentIds[o],this.logger);if(u&&(i=this.getVariationFromExperimentRule(e,t.key,u,n,r),a.push.apply(a,i.reasons),s=i.result)){var c=null;return(c=u.variationKeyMap[s])||(c=ne(e,t.key,s)),{result:{experiment:u,variation:c,decisionSource:C.FEATURE_TEST},reasons:a}}}else this.logger.log(_.DEBUG,S.FEATURE_HAS_NO_EXPERIMENTS,Pe,t.key),a.push([S.FEATURE_HAS_NO_EXPERIMENTS,Pe,t.key]);return{result:{experiment:null,variation:null,decisionSource:C.FEATURE_TEST},reasons:a}},e.prototype.getVariationForRollout=function(e,t,n){var r=[];if(!t.rolloutId)return this.logger.log(_.DEBUG,S.NO_ROLLOUT_EXISTS,Pe,t.key),r.push([S.NO_ROLLOUT_EXISTS,Pe,t.key]),{result:{experiment:null,variation:null,decisionSource:C.ROLLOUT},reasons:r};var i=e.rolloutIdMap[t.rolloutId];if(!i)return this.logger.log(_.ERROR,E.INVALID_ROLLOUT_ID,Pe,t.rolloutId,t.key),r.push([E.INVALID_ROLLOUT_ID,Pe,t.rolloutId,t.key]),{result:{experiment:null,variation:null,decisionSource:C.ROLLOUT},reasons:r};var o,a,s,u=i.experiments;if(0===u.length)return this.logger.log(_.ERROR,S.ROLLOUT_HAS_NO_EXPERIMENTS,Pe,t.rolloutId),r.push([S.ROLLOUT_HAS_NO_EXPERIMENTS,Pe,t.rolloutId]),{result:{experiment:null,variation:null,decisionSource:C.ROLLOUT},reasons:r};for(var c=0;c<u.length;){if(o=this.getVariationFromDeliveryRule(e,t.key,u,c,n),r.push.apply(r,o.reasons),s=o.result,a=o.skipToEveryoneElse,s)return{result:{experiment:e.experimentIdMap[u[c].id],variation:s,decisionSource:C.ROLLOUT},reasons:r};c=a?u.length-1:c+1}return{result:{experiment:null,variation:null,decisionSource:C.ROLLOUT},reasons:r}},e.prototype.getBucketingId=function(e,t){var n=e;return null!=t&&"object"==typeof t&&t.hasOwnProperty(x.BUCKETING_ID)&&("string"==typeof t[x.BUCKETING_ID]?(n=t[x.BUCKETING_ID],this.logger.log(_.DEBUG,S.VALID_BUCKETING_ID,Pe,n)):this.logger.log(_.WARNING,S.BUCKETING_ID_NOT_STRING,Pe)),n},e.prototype.findValidatedForcedDecision=function(e,t,n,r){var i,o=[],a=t.getForcedDecision({flagKey:n,ruleKey:r}),s=null,u=t.getUserId();return e&&a&&(i=a.variationKey,(s=ne(e,n,i))?r?(this.logger.log(_.INFO,S.USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED,i,n,r,u),o.push([S.USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED,i,n,r,u])):(this.logger.log(_.INFO,S.USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED,i,n,u),o.push([S.USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED,i,n,u])):r?(this.logger.log(_.INFO,S.USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED_BUT_INVALID,n,r,u),o.push([S.USER_HAS_FORCED_DECISION_WITH_RULE_SPECIFIED_BUT_INVALID,n,r,u])):(this.logger.log(_.INFO,S.USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED_BUT_INVALID,n,u),o.push([S.USER_HAS_FORCED_DECISION_WITH_NO_RULE_SPECIFIED_BUT_INVALID,n,u]))),{result:s,reasons:o}},e.prototype.removeForcedVariation=function(e,t,n){if(!e)throw new Error(y(E.INVALID_USER_ID,Pe));if(!this.forcedVariationMap.hasOwnProperty(e))throw new Error(y(E.USER_NOT_IN_FORCED_VARIATION,Pe,e));delete this.forcedVariationMap[e][t],this.logger.log(_.DEBUG,S.VARIATION_REMOVED_FOR_USER,Pe,n,e)},e.prototype.setInForcedVariationMap=function(e,t,n){this.forcedVariationMap.hasOwnProperty(e)||(this.forcedVariationMap[e]={}),this.forcedVariationMap[e][t]=n,this.logger.log(_.DEBUG,S.USER_MAPPED_TO_FORCED_VARIATION,Pe,n,t,e)},e.prototype.getForcedVariation=function(e,t,n){var r,i=[],o=this.forcedVariationMap[n];if(!o)return this.logger.log(_.DEBUG,S.USER_HAS_NO_FORCED_VARIATION,Pe,n),{result:null,reasons:i};try{var a=Q(e,t);if(!a.hasOwnProperty("id"))return this.logger.log(_.ERROR,E.IMPROPERLY_FORMATTED_EXPERIMENT,Pe,t),i.push([E.IMPROPERLY_FORMATTED_EXPERIMENT,Pe,t]),{result:null,reasons:i};r=a.id}catch(e){return this.logger.log(_.ERROR,e.message),i.push(e.message),{result:null,reasons:i}}var s=o[r];if(!s)return this.logger.log(_.DEBUG,S.USER_HAS_NO_FORCED_VARIATION_FOR_EXPERIMENT,Pe,t,n),{result:null,reasons:i};var u=X(e,s);return u?(this.logger.log(_.DEBUG,S.USER_HAS_FORCED_VARIATION,Pe,u,t,n),i.push([S.USER_HAS_FORCED_VARIATION,Pe,u,t,n])):this.logger.log(_.DEBUG,S.USER_HAS_NO_FORCED_VARIATION_FOR_EXPERIMENT,Pe,t,n),{result:u,reasons:i}},e.prototype.setForcedVariation=function(e,t,n,r){if(null!=r&&!De(r))return this.logger.log(_.ERROR,E.INVALID_VARIATION_KEY,Pe),!1;var i;try{var o=Q(e,t);if(!o.hasOwnProperty("id"))return this.logger.log(_.ERROR,E.IMPROPERLY_FORMATTED_EXPERIMENT,Pe,t),!1;i=o.id}catch(e){return this.logger.log(_.ERROR,e.message),!1}if(null==r)try{return this.removeForcedVariation(n,i,t),!0}catch(e){return this.logger.log(_.ERROR,e.message),!1}var a=function(e,t,n){var r=e.experimentKeyMap[t];return r.variationKeyMap.hasOwnProperty(n)?r.variationKeyMap[n].id:null}(e,t,r);if(!a)return this.logger.log(_.ERROR,E.NO_VARIATION_FOR_EXPERIMENT_KEY,Pe,r,t),!1;try{return this.setInForcedVariationMap(n,i,a),!0}catch(e){return this.logger.log(_.ERROR,e.message),!1}},e.prototype.getVariationFromExperimentRule=function(e,t,n,r,i){void 0===i&&(i={});var o=[],a=this.findValidatedForcedDecision(e,r,t,n.key);o.push.apply(o,a.reasons);var s=a.result;if(s)return{result:s.key,reasons:o};var u=this.getVariation(e,n,r,i);return o.push.apply(o,u.reasons),{result:u.result,reasons:o}},e.prototype.getVariationFromDeliveryRule=function(e,t,n,r,i){var o=[],a=!1,s=n[r],u=this.findValidatedForcedDecision(e,i,t,s.key);o.push.apply(o,u.reasons);var c=u.result;if(c)return{result:c,reasons:o,skipToEveryoneElse:a};var l,f,d,h,p,v=i.getUserId(),m=i.getAttributes(),g=this.getBucketingId(v,m),y=r===n.length-1,b=y?"Everyone Else":r+1,w=null,E=this.checkIfUserIsInAudience(e,s,k.RULE,m,b);return o.push.apply(o,E.reasons),E.result?(this.logger.log(_.DEBUG,S.USER_MEETS_CONDITIONS_FOR_TARGETING_RULE,Pe,v,b),o.push([S.USER_MEETS_CONDITIONS_FOR_TARGETING_RULE,Pe,v,b]),f=this.buildBucketerParams(e,s,g,v),d=fe(f),o.push.apply(o,d.reasons),(l=d.result)&&(p=l,w=(h=e).variationIdMap.hasOwnProperty(p)?h.variationIdMap[p]:null),w?(this.logger.log(_.DEBUG,S.USER_BUCKETED_INTO_TARGETING_RULE,Pe,v,b),o.push([S.USER_BUCKETED_INTO_TARGETING_RULE,Pe,v,b])):y||(this.logger.log(_.DEBUG,S.USER_NOT_BUCKETED_INTO_TARGETING_RULE,Pe,v,b),o.push([S.USER_NOT_BUCKETED_INTO_TARGETING_RULE,Pe,v,b]),a=!0)):(this.logger.log(_.DEBUG,S.USER_DOESNT_MEET_CONDITIONS_FOR_TARGETING_RULE,Pe,v,b),o.push([S.USER_DOESNT_MEET_CONDITIONS_FOR_TARGETING_RULE,Pe,v,b])),{result:w,reasons:o,skipToEveryoneElse:a}},e}();function Ne(e,t){if(e.hasOwnProperty("revenue")){var n=e.revenue,r=void 0;return"string"==typeof n?(r=parseInt(n),isNaN(r)?(t.log(_.INFO,S.FAILED_TO_PARSE_REVENUE,"EVENT_TAG_UTILS",n),null):(t.log(_.INFO,S.PARSED_REVENUE_VALUE,"EVENT_TAG_UTILS",r),r)):"number"==typeof n?(r=n,t.log(_.INFO,S.PARSED_REVENUE_VALUE,"EVENT_TAG_UTILS",r),r):null}return null}function je(e,t){if(e.hasOwnProperty("value")){var n=e.value,r=void 0;return"string"==typeof n?(r=parseFloat(n),isNaN(r)?(t.log(_.INFO,S.FAILED_TO_PARSE_VALUE,"EVENT_TAG_UTILS",n),null):(t.log(_.INFO,S.PARSED_NUMERIC_VALUE,"EVENT_TAG_UTILS",r),r)):"number"==typeof n?(r=n,t.log(_.INFO,S.PARSED_NUMERIC_VALUE,"EVENT_TAG_UTILS",r),r):null}return null}function Me(e,t){return"string"==typeof e&&("string"==typeof t||"boolean"==typeof t||w.isNumber(t)&&w.isSafeInteger(t))}var Le="https://logx.optimizely.com/v1/events";function Fe(e){var t=e.attributes,n=e.userId,r=e.clientEngine,i=e.clientVersion,o=e.configObj,a=e.logger,s=!!o.anonymizeIP&&o.anonymizeIP,u=o.botFiltering,c={snapshots:[],visitor_id:n,attributes:[]},l={account_id:o.accountId,project_id:o.projectId,visitors:[c],revision:o.revision,client_name:r,client_version:i,anonymize_ip:s,enrich_decisions:!0};return t&&Object.keys(t||{}).forEach((function(e){if(Me(e,t[e])){var n=J(o,e,a);n&&l.visitors[0].attributes.push({entity_id:n,key:e,type:"custom",value:t[e]})}})),"boolean"==typeof u&&l.visitors[0].attributes.push({entity_id:x.BOT_FILTERING,key:x.BOT_FILTERING,type:"custom",value:u}),l}function Be(e){var t,n;return null!==(n=null===(t=e.experiment)||void 0===t?void 0:t.key)&&void 0!==n?n:""}function Ue(e){var t,n;return null!==(n=null===(t=e.variation)||void 0===t?void 0:t.key)&&void 0!==n?n:""}function Ve(e){var t,n;return null!==(n=null===(t=e.variation)||void 0===t?void 0:t.featureEnabled)&&void 0!==n&&n}function ze(e){var t,n;return null!==(n=null===(t=e.experiment)||void 0===t?void 0:t.id)&&void 0!==n?n:null}function qe(e){var t,n;return null!==(n=null===(t=e.variation)||void 0===t?void 0:t.id)&&void 0!==n?n:null}var Ze=i.getLogger("EVENT_BUILDER");function He(e,t){var n=[];return t&&Object.keys(t||{}).forEach((function(r){if(Me(r,t[r])){var i=J(e,r,Ze);i&&n.push({entityId:i,key:r,value:t[r]})}})),n}var We="USER_PROFILE_SERVICE_VALIDATOR",Ge=function(){function e(e){var n,r=this,i=e.clientEngine;i||(e.logger.log(_.INFO,S.INVALID_CLIENT_ENGINE,"OPTIMIZELY",i),i="node-sdk"),this.clientEngine=i,this.clientVersion=e.clientVersion||"4.9.2",this.errorHandler=e.errorHandler,this.isOptimizelyConfigValid=e.isValidInstance,this.logger=e.logger;var o=null!==(n=e.defaultDecideOptions)&&void 0!==n?n:[];Array.isArray(o)||(this.logger.log(_.DEBUG,S.INVALID_DEFAULT_DECIDE_OPTIONS,"OPTIMIZELY"),o=[]);var a={};o.forEach((function(e){t.N1[e]?a[e]=!0:r.logger.log(_.WARNING,S.UNRECOGNIZED_DECIDE_OPTION,"OPTIMIZELY",e)})),this.defaultDecideOptions=a,this.projectConfigManager=function(e){return new ce(e)}({datafile:e.datafile,jsonSchemaValidator:e.jsonSchemaValidator,sdkKey:e.sdkKey,datafileManager:e.datafileManager}),this.disposeOnUpdate=this.projectConfigManager.onUpdate((function(e){r.logger.log(_.INFO,S.UPDATED_OPTIMIZELY_CONFIG,"OPTIMIZELY",e.revision,e.projectId),r.notificationCenter.sendNotifications(b.OPTIMIZELY_CONFIG_UPDATE)}));var s,u=this.projectConfigManager.onReady(),c=null;if(e.userProfileService)try{(function(e){if("object"==typeof e&&null!==e){if("function"!=typeof e.lookup)throw new Error(y(E.INVALID_USER_PROFILE_SERVICE,We,"Missing function 'lookup'"));if("function"!=typeof e.save)throw new Error(y(E.INVALID_USER_PROFILE_SERVICE,We,"Missing function 'save'"));return!0}throw new Error(y(E.INVALID_USER_PROFILE_SERVICE,We))})(e.userProfileService)&&(c=e.userProfileService,this.logger.log(_.INFO,S.VALID_USER_PROFILE_SERVICE,"OPTIMIZELY"))}catch(e){this.logger.log(_.WARNING,e.message)}this.decisionService=(s={userProfileService:c,logger:this.logger,UNSTABLE_conditionEvaluators:e.UNSTABLE_conditionEvaluators},new Re(s)),this.notificationCenter=e.notificationCenter,this.eventProcessor=e.eventProcessor;var l=this.eventProcessor.start();this.readyPromise=Promise.all([u,l]).then((function(e){return e[0]})),this.readyTimeouts={},this.nextReadyTimeoutId=0}return e.prototype.isValidInstance=function(){return this.isOptimizelyConfigValid&&!!this.projectConfigManager.getConfig()},e.prototype.activate=function(e,t,n){try{if(!this.isValidInstance())return this.logger.log(_.ERROR,S.INVALID_OBJECT,"OPTIMIZELY","activate"),null;if(!this.validateInputs({experiment_key:e,user_id:t},n))return this.notActivatingExperiment(e,t);var r=this.projectConfigManager.getConfig();if(!r)return null;try{var i=this.getVariation(e,t,n);if(null===i)return this.notActivatingExperiment(e,t);if(!function(e,t){return"Running"===$(e,t)}(r,e))return this.logger.log(_.DEBUG,S.SHOULD_NOT_DISPATCH_ACTIVATE,"OPTIMIZELY",e),i;var o=Q(r,e),a={experiment:o,variation:o.variationKeyMap[i],decisionSource:C.EXPERIMENT};return this.sendImpressionEvent(a,"",t,!0,n),i}catch(n){return this.logger.log(_.ERROR,n.message),this.logger.log(_.INFO,S.NOT_ACTIVATING_USER,"OPTIMIZELY",t,e),this.errorHandler.handleError(n),null}}catch(e){return this.logger.log(_.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.sendImpressionEvent=function(e,t,n,r,i){var o=this.projectConfigManager.getConfig();if(o){var a=function(e){var t=e.configObj,n=e.decisionObj,r=e.userId,i=e.flagKey,o=e.enabled,a=e.userAttributes,s=e.clientEngine,u=e.clientVersion,c=n.decisionSource,l=Be(n),f=ze(n),d=Ue(n),h=qe(n),p=null!==f?K(t,f):null;return{type:"impression",timestamp:w.currentTimestamp(),uuid:w.uuid(),user:{id:r,attributes:He(t,a)},context:{accountId:t.accountId,projectId:t.projectId,revision:t.revision,clientName:s,clientVersion:u,anonymizeIP:t.anonymizeIP||!1,botFiltering:t.botFiltering},layer:{id:p},experiment:{id:f,key:l},variation:{id:h,key:d},ruleKey:l,flagKey:i,ruleType:c,enabled:o}}({decisionObj:e,flagKey:t,enabled:r,userId:n,userAttributes:i,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:o});this.eventProcessor.process(a),this.emitNotificationCenterActivate(e,t,n,r,i)}},e.prototype.emitNotificationCenterActivate=function(e,t,n,r,i){var o=this.projectConfigManager.getConfig();if(o){var a,s=e.decisionSource,u=Be(e),c=ze(e),l=Ue(e),f=qe(e);null!==c&&""!==l&&(a=o.experimentIdMap[c]);var d,h=function(e){var t,n,r,i,o,a,s,u,c=Fe(e),l=(t=e.configObj,n=e.experimentId,r=e.variationId,i=e.ruleKey,o=e.ruleType,a=e.flagKey,s=e.enabled,{decisions:[{campaign_id:u=n?K(t,n):null,experiment_id:n,variation_id:r,metadata:{flag_key:a,rule_key:i,rule_type:o,variation_key:(r?X(t,r):null)||"",enabled:s}}],events:[{entity_id:u,timestamp:w.currentTimestamp(),key:"campaign_activated",uuid:w.uuid()}]});return c.visitors[0].snapshots.push(l),{httpVerb:"POST",url:Le,params:c}}({attributes:i,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:o,experimentId:c,ruleKey:u,flagKey:t,ruleType:s,userId:n,enabled:r,variationId:f,logger:this.logger});a&&a.variationKeyMap&&""!==l&&(d=a.variationKeyMap[l]),this.notificationCenter.sendNotifications(b.ACTIVATE,{experiment:a,userId:n,attributes:i,variation:d,logEvent:h})}},e.prototype.track=function(e,t,n,r){try{if(!this.isValidInstance())return void this.logger.log(_.ERROR,S.INVALID_OBJECT,"OPTIMIZELY","track");if(!this.validateInputs({user_id:t,event_key:e},n,r))return;var i=this.projectConfigManager.getConfig();if(!i)return;if(!function(e,t){return e.eventKeyMap.hasOwnProperty(t)}(i,e))return this.logger.log(_.WARNING,S.EVENT_KEY_NOT_FOUND,"OPTIMIZELY",e),void this.logger.log(_.WARNING,S.NOT_TRACKING_USER,"OPTIMIZELY",t);var o=function(e){var t=e.configObj,n=e.userId,r=e.userAttributes,i=e.clientEngine,o=e.clientVersion,a=e.eventKey,s=e.eventTags,u=Y(t,a),c=s?Ne(s,Ze):null,l=s?je(s,Ze):null;return{type:"conversion",timestamp:w.currentTimestamp(),uuid:w.uuid(),user:{id:n,attributes:He(t,r)},context:{accountId:t.accountId,projectId:t.projectId,revision:t.revision,clientName:i,clientVersion:o,anonymizeIP:t.anonymizeIP||!1,botFiltering:t.botFiltering},event:{id:u,key:a},revenue:c,value:l,tags:s}}({eventKey:e,eventTags:r=this.filterEmptyValues(r),userId:t,userAttributes:n,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:i});this.logger.log(_.INFO,S.TRACK_EVENT,"OPTIMIZELY",e,t),this.eventProcessor.process(o),this.emitNotificationCenterTrack(e,t,n,r)}catch(e){this.logger.log(_.ERROR,e.message),this.errorHandler.handleError(e),this.logger.log(_.ERROR,S.NOT_TRACKING_USER,"OPTIMIZELY",t)}},e.prototype.emitNotificationCenterTrack=function(e,t,n,r){try{var i=this.projectConfigManager.getConfig();if(!i)return;var o=function(e){var t=Fe(e),n=function(e,t,n,r){var i={events:[]},o={entity_id:Y(e,t),timestamp:w.currentTimestamp(),uuid:w.uuid(),key:t};if(r){var a=Ne(r,n);null!==a&&(o.revenue=a);var s=je(r,n);null!==s&&(o.value=s),o.tags=r}return i.events.push(o),i}(e.configObj,e.eventKey,e.logger,e.eventTags);return t.visitors[0].snapshots=[n],{httpVerb:"POST",url:Le,params:t}}({attributes:n,clientEngine:this.clientEngine,clientVersion:this.clientVersion,configObj:i,eventKey:e,eventTags:r,logger:this.logger,userId:t});this.notificationCenter.sendNotifications(b.TRACK,{eventKey:e,userId:t,attributes:n,eventTags:r,logEvent:o})}catch(e){this.logger.log(_.ERROR,e.message),this.errorHandler.handleError(e)}},e.prototype.getVariation=function(e,t,n){try{if(!this.isValidInstance())return this.logger.log(_.ERROR,S.INVALID_OBJECT,"OPTIMIZELY","getVariation"),null;try{if(!this.validateInputs({experiment_key:e,user_id:t},n))return null;var r=this.projectConfigManager.getConfig();if(!r)return null;var i=r.experimentKeyMap[e];if(!i)return this.logger.log(_.DEBUG,E.INVALID_EXPERIMENT_KEY,"OPTIMIZELY",e),null;var o=this.decisionService.getVariation(r,i,this.createUserContext(t,n)).result,a=(s=r,u=i.id,s.experimentFeatureMap.hasOwnProperty(u)?O.FEATURE_TEST:O.AB_TEST);return this.notificationCenter.sendNotifications(b.DECISION,{type:a,userId:t,attributes:n||{},decisionInfo:{experimentKey:e,variationKey:o}}),o}catch(e){return this.logger.log(_.ERROR,e.message),this.errorHandler.handleError(e),null}}catch(e){return this.logger.log(_.ERROR,e.message),this.errorHandler.handleError(e),null}var s,u},e.prototype.setForcedVariation=function(e,t,n){if(!this.validateInputs({experiment_key:e,user_id:t}))return!1;var r=this.projectConfigManager.getConfig();if(!r)return!1;try{return this.decisionService.setForcedVariation(r,e,t,n)}catch(e){return this.logger.log(_.ERROR,e.message),this.errorHandler.handleError(e),!1}},e.prototype.getForcedVariation=function(e,t){if(!this.validateInputs({experiment_key:e,user_id:t}))return null;var n=this.projectConfigManager.getConfig();if(!n)return null;try{return this.decisionService.getForcedVariation(n,e,t).result}catch(e){return this.logger.log(_.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.validateInputs=function(e,t,n){try{if(e.hasOwnProperty("user_id")){var r=e.user_id;if("string"!=typeof r||null===r||"undefined"===r)throw new Error(y(E.INVALID_INPUT_FORMAT,"OPTIMIZELY","user_id"));delete e.user_id}return Object.keys(e).forEach((function(t){if(!De(e[t]))throw new Error(y(E.INVALID_INPUT_FORMAT,"OPTIMIZELY",t))})),t&&function(e){if("object"!=typeof e||Array.isArray(e)||null===e)throw new Error(y(E.INVALID_ATTRIBUTES,"ATTRIBUTES_VALIDATOR"));Object.keys(e).forEach((function(t){if(void 0===e[t])throw new Error(y(E.UNDEFINED_ATTRIBUTE,"ATTRIBUTES_VALIDATOR",t))}))}(t),n&&function(e){if("object"!=typeof e||Array.isArray(e)||null===e)throw new Error(y(E.INVALID_EVENT_TAGS,"EVENT_TAGS_VALIDATOR"))}(n),!0}catch(e){return this.logger.log(_.ERROR,e.message),this.errorHandler.handleError(e),!1}},e.prototype.notActivatingExperiment=function(e,t){return this.logger.log(_.INFO,S.NOT_ACTIVATING_USER,"OPTIMIZELY",t,e),null},e.prototype.filterEmptyValues=function(e){for(var t in e)!e.hasOwnProperty(t)||null!==e[t]&&void 0!==e[t]||delete e[t];return e},e.prototype.isFeatureEnabled=function(e,t,n){try{if(!this.isValidInstance())return this.logger.log(_.ERROR,S.INVALID_OBJECT,"OPTIMIZELY","isFeatureEnabled"),!1;if(!this.validateInputs({feature_key:e,user_id:t},n))return!1;var r=this.projectConfigManager.getConfig();if(!r)return!1;var i=re(r,e,this.logger);if(!i)return!1;var o={},a=this.createUserContext(t,n),s=this.decisionService.getVariationForFeature(r,i,a).result,u=s.decisionSource,c=Be(s),l=Ue(s),f=Ve(s);u===C.FEATURE_TEST&&(o={experimentKey:c,variationKey:l}),(u===C.FEATURE_TEST||u===C.ROLLOUT&&ae(r))&&this.sendImpressionEvent(s,i.key,t,f,n),!0===f?this.logger.log(_.INFO,S.FEATURE_ENABLED_FOR_USER,"OPTIMIZELY",e,t):(this.logger.log(_.INFO,S.FEATURE_NOT_ENABLED_FOR_USER,"OPTIMIZELY",e,t),f=!1);var d={featureKey:e,featureEnabled:f,source:s.decisionSource,sourceInfo:o};return this.notificationCenter.sendNotifications(b.DECISION,{type:O.FEATURE,userId:t,attributes:n||{},decisionInfo:d}),f}catch(e){return this.logger.log(_.ERROR,e.message),this.errorHandler.handleError(e),!1}},e.prototype.getEnabledFeatures=function(e,t){var n=this;try{var r=[];if(!this.isValidInstance())return this.logger.log(_.ERROR,S.INVALID_OBJECT,"OPTIMIZELY","getEnabledFeatures"),r;if(!this.validateInputs({user_id:e}))return r;var i=this.projectConfigManager.getConfig();return i?(p(i.featureKeyMap).forEach((function(i){n.isFeatureEnabled(i.key,e,t)&&r.push(i.key)})),r):r}catch(e){return this.logger.log(_.ERROR,e.message),this.errorHandler.handleError(e),[]}},e.prototype.getFeatureVariable=function(e,t,n,r){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,null,n,r):(this.logger.log(_.ERROR,S.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariable"),null)}catch(e){return this.logger.log(_.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableForType=function(e,t,n,r,i){if(!this.validateInputs({feature_key:e,variable_key:t,user_id:r},i))return null;var o=this.projectConfigManager.getConfig();if(!o)return null;var a=re(o,e,this.logger);if(!a)return null;var s=function(e,t,n,r){var i=e.featureKeyMap[t];return i?i.variableKeyMap[n]||(r.log(_.ERROR,E.VARIABLE_KEY_NOT_IN_DATAFILE,W,n,t),null):(r.log(_.ERROR,E.FEATURE_NOT_IN_DATAFILE,W,t),null)}(o,e,t,this.logger);if(!s)return null;if(n&&s.type!==n)return this.logger.log(_.WARNING,S.VARIABLE_REQUESTED_WITH_WRONG_TYPE,"OPTIMIZELY",n,s.type),null;var u=this.createUserContext(r,i),c=this.decisionService.getVariationForFeature(o,a,u).result,l=Ve(c),f=this.getFeatureVariableValueFromVariation(e,l,c.variation,s,r),d={};return c.decisionSource===C.FEATURE_TEST&&null!==c.experiment&&null!==c.variation&&(d={experimentKey:c.experiment.key,variationKey:c.variation.key}),this.notificationCenter.sendNotifications(b.DECISION,{type:O.FEATURE_VARIABLE,userId:r,attributes:i||{},decisionInfo:{featureKey:e,featureEnabled:l,source:c.decisionSource,variableKey:t,variableValue:f,variableType:s.type,sourceInfo:d}}),f},e.prototype.getFeatureVariableValueFromVariation=function(e,t,n,r,i){var o=this.projectConfigManager.getConfig();if(!o)return null;var a=r.defaultValue;if(null!==n){var s=function(e,t,n,r){if(!t||!n)return null;if(!e.variationVariableUsageMap.hasOwnProperty(n.id))return r.log(_.ERROR,E.VARIATION_ID_NOT_IN_DATAFILE_NO_EXPERIMENT,W,n.id),null;var i=e.variationVariableUsageMap[n.id][t.id];return i?i.value:null}(o,r,n,this.logger);null!==s?t?(a=s,this.logger.log(_.INFO,S.USER_RECEIVED_VARIABLE_VALUE,"OPTIMIZELY",a,r.key,e)):this.logger.log(_.INFO,S.FEATURE_NOT_ENABLED_RETURN_DEFAULT_VARIABLE_VALUE,"OPTIMIZELY",e,i,a):this.logger.log(_.INFO,S.VARIABLE_NOT_USED_RETURN_DEFAULT_VARIABLE_VALUE,"OPTIMIZELY",r.key,n.key)}else this.logger.log(_.INFO,S.USER_RECEIVED_DEFAULT_VARIABLE_VALUE,"OPTIMIZELY",i,r.key,e);return function(e,t,n){var r;switch(t){case T.BOOLEAN:"true"!==e&&"false"!==e?(n.log(_.ERROR,E.UNABLE_TO_CAST_VALUE,W,e,t),r=null):r="true"===e;break;case T.INTEGER:r=parseInt(e,10),isNaN(r)&&(n.log(_.ERROR,E.UNABLE_TO_CAST_VALUE,W,e,t),r=null);break;case T.DOUBLE:r=parseFloat(e),isNaN(r)&&(n.log(_.ERROR,E.UNABLE_TO_CAST_VALUE,W,e,t),r=null);break;case T.JSON:try{r=JSON.parse(e)}catch(i){n.log(_.ERROR,E.UNABLE_TO_CAST_VALUE,W,e,t),r=null}break;default:r=e}return r}(a,r.type,this.logger)},e.prototype.getFeatureVariableBoolean=function(e,t,n,r){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,T.BOOLEAN,n,r):(this.logger.log(_.ERROR,S.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableBoolean"),null)}catch(e){return this.logger.log(_.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableDouble=function(e,t,n,r){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,T.DOUBLE,n,r):(this.logger.log(_.ERROR,S.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableDouble"),null)}catch(e){return this.logger.log(_.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableInteger=function(e,t,n,r){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,T.INTEGER,n,r):(this.logger.log(_.ERROR,S.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableInteger"),null)}catch(e){return this.logger.log(_.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableString=function(e,t,n,r){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,T.STRING,n,r):(this.logger.log(_.ERROR,S.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableString"),null)}catch(e){return this.logger.log(_.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getFeatureVariableJSON=function(e,t,n,r){try{return this.isValidInstance()?this.getFeatureVariableForType(e,t,T.JSON,n,r):(this.logger.log(_.ERROR,S.INVALID_OBJECT,"OPTIMIZELY","getFeatureVariableJSON"),null)}catch(e){return this.logger.log(_.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getAllFeatureVariables=function(e,t,n){var r=this;try{if(!this.isValidInstance())return this.logger.log(_.ERROR,S.INVALID_OBJECT,"OPTIMIZELY","getAllFeatureVariables"),null;if(!this.validateInputs({feature_key:e,user_id:t},n))return null;var i=this.projectConfigManager.getConfig();if(!i)return null;var o=re(i,e,this.logger);if(!o)return null;var a=this.createUserContext(t,n),s=this.decisionService.getVariationForFeature(i,o,a).result,u=Ve(s),c={};o.variables.forEach((function(n){c[n.key]=r.getFeatureVariableValueFromVariation(e,u,s.variation,n,t)}));var l={};return s.decisionSource===C.FEATURE_TEST&&null!==s.experiment&&null!==s.variation&&(l={experimentKey:s.experiment.key,variationKey:s.variation.key}),this.notificationCenter.sendNotifications(b.DECISION,{type:O.ALL_FEATURE_VARIABLES,userId:t,attributes:n||{},decisionInfo:{featureKey:e,featureEnabled:u,source:s.decisionSource,variableValues:c,sourceInfo:l}}),c}catch(e){return this.logger.log(_.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.getOptimizelyConfig=function(){try{return this.projectConfigManager.getConfig()?this.projectConfigManager.getOptimizelyConfig():null}catch(e){return this.logger.log(_.ERROR,e.message),this.errorHandler.handleError(e),null}},e.prototype.close=function(){var e=this;try{var t=this.eventProcessor.stop();return this.disposeOnUpdate&&(this.disposeOnUpdate(),this.disposeOnUpdate=null),this.projectConfigManager&&this.projectConfigManager.stop(),Object.keys(this.readyTimeouts).forEach((function(t){var n=e.readyTimeouts[t];clearTimeout(n.readyTimeout),n.onClose()})),this.readyTimeouts={},t.then((function(){return{success:!0}}),(function(e){return{success:!1,reason:String(e)}}))}catch(e){return this.logger.log(_.ERROR,e.message),this.errorHandler.handleError(e),Promise.resolve({success:!1,reason:String(e)})}},e.prototype.onReady=function(e){var t,n,r=this;"object"==typeof e&&null!==e&&void 0!==e.timeout&&(t=e.timeout),w.isSafeInteger(t)||(t=3e4);var i=new Promise((function(e){n=e})),o=this.nextReadyTimeoutId;this.nextReadyTimeoutId++;var a=setTimeout((function(){delete r.readyTimeouts[o],n({success:!1,reason:y("onReady timeout expired after %s ms",t)})}),t);return this.readyTimeouts[o]={readyTimeout:a,onClose:function(){n({success:!1,reason:"Instance closed"})}},this.readyPromise.then((function(){clearTimeout(a),delete r.readyTimeouts[o],n({success:!0})})),Promise.race([this.readyPromise,i])},e.prototype.createUserContext=function(e,t){return this.validateInputs({user_id:e},t)?new z({optimizely:this,userId:e,attributes:t}):null},e.prototype.decide=function(e,n,r){var i,o,a,s,u=this;void 0===r&&(r=[]);var c,f=e.getUserId(),d=e.getAttributes(),h=this.projectConfigManager.getConfig(),p=[];if(!this.isValidInstance()||!h)return this.logger.log(_.INFO,S.INVALID_OBJECT,"OPTIMIZELY","decide"),V(n,e,[I.SDK_NOT_READY]);var v=h.featureKeyMap[n];if(!v)return this.logger.log(_.ERROR,E.FEATURE_NOT_IN_DATAFILE,"OPTIMIZELY",n),V(n,e,[y(I.FLAG_KEY_INVALID,n)]);var m=this.getAllDecideOptions(r),g=this.decisionService.findValidatedForcedDecision(h,e,n);p.push.apply(p,g.reasons);var w=g.result;if(w)c={experiment:null,variation:w,decisionSource:C.FEATURE_TEST};else{var x=this.decisionService.getVariationForFeature(h,v,e,m);p.push.apply(p,x.reasons),c=x.result}var k=c.decisionSource,T=null!==(o=null===(i=c.experiment)||void 0===i?void 0:i.key)&&void 0!==o?o:null,A=null!==(s=null===(a=c.variation)||void 0===a?void 0:a.key)&&void 0!==s?s:null,D=Ve(c);!0===D?this.logger.log(_.INFO,S.FEATURE_ENABLED_FOR_USER,"OPTIMIZELY",n,f):this.logger.log(_.INFO,S.FEATURE_NOT_ENABLED_FOR_USER,"OPTIMIZELY",n,f);var P={},R=!1;m[t.N1.EXCLUDE_VARIABLES]||v.variables.forEach((function(e){P[e.key]=u.getFeatureVariableValueFromVariation(n,D,c.variation,e,f)})),!m[t.N1.DISABLE_DECISION_EVENT]&&(k===C.FEATURE_TEST||k===C.ROLLOUT&&ae(h))&&(this.sendImpressionEvent(c,n,f,D,d),R=!0);var N=[];m[t.N1.INCLUDE_REASONS]&&(N=p.map((function(e){return y.apply(void 0,l([e[0]],e.slice(1)))})));var j={flagKey:n,enabled:D,variationKey:A,ruleKey:T,variables:P,reasons:N,decisionEventDispatched:R};return this.notificationCenter.sendNotifications(b.DECISION,{type:O.FLAG,userId:f,attributes:d,decisionInfo:j}),{variationKey:A,enabled:D,variables:P,ruleKey:T,flagKey:n,userContext:e,reasons:N}},e.prototype.getAllDecideOptions=function(e){var n=this,r=c({},this.defaultDecideOptions);return Array.isArray(e)?e.forEach((function(e){t.N1[e]?r[e]=!0:n.logger.log(_.WARNING,S.UNRECOGNIZED_DECIDE_OPTION,"OPTIMIZELY",e)})):this.logger.log(_.DEBUG,S.INVALID_DECIDE_OPTIONS,"OPTIMIZELY"),r},e.prototype.decideForKeys=function(e,n,r){var i=this;void 0===r&&(r=[]);var o={};if(!this.isValidInstance())return this.logger.log(_.ERROR,S.INVALID_OBJECT,"OPTIMIZELY","decideForKeys"),o;if(0===n.length)return o;var a=this.getAllDecideOptions(r);return n.forEach((function(n){var s=i.decide(e,n,r);a[t.N1.ENABLED_FLAGS_ONLY]&&!s.enabled||(o[n]=s)})),o},e.prototype.decideAll=function(e,t){void 0===t&&(t=[]);var n=this.projectConfigManager.getConfig();if(!this.isValidInstance()||!n)return this.logger.log(_.ERROR,S.INVALID_OBJECT,"OPTIMIZELY","decideAll"),{};var r=Object.keys(n.featureKeyMap);return this.decideForKeys(e,r,t)},e}(),Ke=function(){function e(e){var t=this;this.logger=e.logger,this.errorHandler=e.errorHandler,this.notificationListeners={},p(b).forEach((function(e){t.notificationListeners[e]=[]})),this.listenerId=1}return e.prototype.addNotificationListener=function(e,t){try{if(!(p(b).indexOf(e)>-1))return-1;this.notificationListeners[e]||(this.notificationListeners[e]=[]);var n=!1;if((this.notificationListeners[e]||[]).forEach((function(e){e.callback!==t||(n=!0)})),n)return-1;this.notificationListeners[e].push({id:this.listenerId,callback:t});var r=this.listenerId;return this.listenerId+=1,r}catch(e){return this.logger.log(_.ERROR,e.message),this.errorHandler.handleError(e),-1}},e.prototype.removeNotificationListener=function(e){var t=this;try{var n,r;if(Object.keys(this.notificationListeners).some((function(i){return(t.notificationListeners[i]||[]).every((function(t,o){return t.id!==e||(n=o,r=i,!1)})),void 0!==n&&void 0!==r})),void 0!==n&&void 0!==r)return this.notificationListeners[r].splice(n,1),!0}catch(e){this.logger.log(_.ERROR,e.message),this.errorHandler.handleError(e)}return!1},e.prototype.clearAllNotificationListeners=function(){var e=this;try{p(b).forEach((function(t){e.notificationListeners[t]=[]}))}catch(e){this.logger.log(_.ERROR,e.message),this.errorHandler.handleError(e)}},e.prototype.clearNotificationListeners=function(e){try{this.notificationListeners[e]=[]}catch(e){this.logger.log(_.ERROR,e.message),this.errorHandler.handleError(e)}},e.prototype.sendNotifications=function(e,t){var n=this;try{(this.notificationListeners[e]||[]).forEach((function(r){var i=r.callback;try{i(t)}catch(t){n.logger.log(_.ERROR,S.NOTIFICATION_LISTENER_EXCEPTION,"NOTIFICATION_CENTER",e,t.message)}}))}catch(e){this.logger.log(_.ERROR,e.message),this.errorHandler.handleError(e)}},e}(),Je=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new(o.LogTierV1EventProcessor.bind.apply(o.LogTierV1EventProcessor,l([void 0],e)))};o.LocalStoragePendingEventsDispatcher;function Ye(e,t,n,r){var i={sdkKey:e};if((void 0===r||"object"==typeof r&&null!==r)&&w.assign(i,r),n){var o=oe({datafile:n,jsonSchemaValidator:void 0,logger:t}),a=o.configObj,s=o.error;s&&t.error(s),a&&(i.datafile=ie(a))}return new u.HttpPollingDatafileManager(i)}var $e=i.getLogger();i.setLogHandler(L()),i.setLogLevel(i.LogLevel.INFO);var Xe=!1,Qe=function(e){try{var t=!1;e.errorHandler&&i.setErrorHandler(e.errorHandler),e.logger&&(i.setLogHandler(e.logger),i.setLogLevel(i.LogLevel.NOTSET)),void 0!==e.logLevel&&i.setLogLevel(e.logLevel);try{(function(e){if("object"==typeof e&&null!==e){var t=e,n=t.errorHandler,r=t.eventDispatcher,i=t.logger;if(n&&"function"!=typeof n.handleError)throw new Error(y(E.INVALID_ERROR_HANDLER,P));if(r&&"function"!=typeof r.dispatchEvent)throw new Error(y(E.INVALID_EVENT_DISPATCHER,P));if(i&&"function"!=typeof i.log)throw new Error(y(E.INVALID_LOGGER,P));return!0}throw new Error(y(E.INVALID_CONFIG,P))})(e),t=!0}catch(e){$e.error(e)}var n=void 0;null==e.eventDispatcher?(n=new o.LocalStoragePendingEventsDispatcher({eventDispatcher:j}),Xe||(n.sendPendingEvents(),Xe=!0)):n=e.eventDispatcher;var r=e.eventBatchSize,a=e.eventFlushInterval;(function(e){return!("number"!=typeof e||!w.isSafeInteger(e))&&e>=1})(e.eventBatchSize)||($e.warn("Invalid eventBatchSize %s, defaulting to %s",e.eventBatchSize,10),r=10),function(e){return!("number"!=typeof e||!w.isSafeInteger(e))&&e>0}(e.eventFlushInterval)||($e.warn("Invalid eventFlushInterval %s, defaulting to %s",e.eventFlushInterval,1e3),a=1e3);var s=i.getErrorHandler(),u=new Ke({logger:$e,errorHandler:s}),l={dispatcher:n,flushInterval:a,batchSize:r,maxQueueSize:e.eventMaxQueueSize||1e4,notificationCenter:u},f=c(c({clientEngine:"javascript-sdk"},e),{eventProcessor:Je(l),logger:$e,errorHandler:s,datafileManager:e.sdkKey?Ye(e.sdkKey,$e,e.datafile,e.datafileOptions):void 0,notificationCenter:u,isValidInstance:t}),d=new Ge(f);try{if("function"==typeof window.addEventListener){var h="onpagehide"in window?"pagehide":"unload";window.addEventListener(h,(function(){d.close()}),!1)}}catch(e){$e.error(S.UNABLE_TO_ATTACH_UNLOAD,"INDEX_BROWSER",e.message)}return d}catch(e){return $e.error(e),null}},et=function(){Xe=!1},tt={logging:U,errorHandler:N,eventDispatcher:j,enums:D,setLogger:i.setLogHandler,setLogLevel:i.setLogLevel,createInstance:Qe,__internalResetRetryState:et,OptimizelyDecideOption:t.N1};t.ZP=tt},69015:function(e,t,n){var r=n(70474),i=n(35977),o=i;o.v1=r,o.v4=i,e.exports=o},53219:function(e){for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,i=t;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},94102:function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},70474:function(e,t,n){var r,i,o=n(94102),a=n(53219),s=0,u=0;e.exports=function(e,t,n){var c=t&&n||0,l=t||[],f=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:i;if(null==f||null==d){var h=o();null==f&&(f=r=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==d&&(d=i=16383&(h[6]<<8|h[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:u+1,m=p-s+(v-u)/1e4;if(m<0&&void 0===e.clockseq&&(d=d+1&16383),(m<0||p>s)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=p,u=v,i=d;var g=(1e4*(268435455&(p+=122192928e5))+v)%4294967296;l[c++]=g>>>24&255,l[c++]=g>>>16&255,l[c++]=g>>>8&255,l[c++]=255&g;var y=p/4294967296*1e4&268435455;l[c++]=y>>>8&255,l[c++]=255&y,l[c++]=y>>>24&15|16,l[c++]=y>>>16&255,l[c++]=d>>>8|128,l[c++]=255&d;for(var b=0;b<6;++b)l[c+b]=f[b];return t||a(l)}},35977:function(e,t,n){var r=n(94102),i=n(53219);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},45293:function(e,t,n){"use strict";function r(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(!e){var o;if(void 0===t)o=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;(o=new Error(t.replace(/%s/g,(function(){return r[a++]})))).name="Invariant Violation"}throw o.framesToPop=1,o}}n.d(t,{k:function(){return r}})},57320:function(e,t,n){"use strict";function r(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<o.length;u++){var c=o[u];if(!s(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}n.d(t,{w:function(){return r}})},37872:function(e,t,n){"use strict";var r,i=n(2784);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}t.Z=function(e){return i.createElement("svg",o({width:16,height:15,viewBox:"0 0 16 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M1 4.5l7 4 7-4m-13-3h12a1 1 0 011 1v10a1 1 0 01-1 1H2a1 1 0 01-1-1v-10a1 1 0 011-1z",stroke:"var(--green-success)",strokeWidth:2})))}},46527:function(e,t,n){"use strict";var r,i=n(2784);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}t.Z=function(e){return i.createElement("svg",o({width:15,height:17,viewBox:"0 0 15 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M4.5 7.5v-3a3 3 0 016 0V5m-8 2.5h10a1 1 0 011 1v6a1 1 0 01-1 1h-10a1 1 0 01-1-1v-6a1 1 0 011-1z",stroke:"var(--green-success)",strokeWidth:2})))}},51258:function(e,t,n){"use strict";var r,i,o=n(2784);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}t.Z=function(e){return o.createElement("svg",a({width:134,height:20,viewBox:"0 0 134 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=o.createElement("g",{clipPath:"url(#eraserLogo_svg__clip0_1108_14881)"},o.createElement("path",{d:"M63.006 17.28c-2.118 0-3.84-.67-5.156-2.008-1.317-1.337-1.979-3.114-1.979-5.337v-.41c0-1.485.286-2.816.864-3.986.571-1.17 1.38-2.083 2.418-2.731 1.038-.655 2.194-.976 3.47-.976 2.027 0 3.595.648 4.703 1.944 1.107 1.296 1.658 3.129 1.658 5.498v1.351H59.25c.098 1.233.509 2.202 1.233 2.92.718.717 1.63 1.072 2.718 1.072 1.533 0 2.78-.62 3.748-1.86l1.805 1.721a5.997 5.997 0 01-2.39 2.07c-.996.487-2.118.731-3.358.731zm-.397-12.765c-.92 0-1.659.32-2.223.961-.564.641-.927 1.54-1.08 2.683h6.375v-.251c-.076-1.122-.369-1.965-.892-2.543-.53-.558-1.254-.85-2.18-.85zM79.38 5.163a7.913 7.913 0 00-1.366-.112c-1.533 0-2.564.585-3.1 1.763v10.193h-3.345V2.104h3.198l.084 1.665c.808-1.296 1.93-1.944 3.358-1.944.474 0 .871.063 1.185.195l-.014 3.143zM90.123 17.007c-.146-.285-.278-.745-.383-1.393-1.066 1.108-2.369 1.665-3.909 1.665-1.498 0-2.717-.425-3.665-1.282-.947-.857-1.42-1.91-1.42-3.17 0-1.589.591-2.808 1.769-3.658 1.177-.85 2.864-1.275 5.058-1.275h2.049v-.976c0-.773-.216-1.386-.648-1.853-.432-.467-1.087-.697-1.972-.697-.76 0-1.387.188-1.874.572-.488.383-.732.864-.732 1.456h-3.344c0-.815.271-1.582.815-2.292.543-.711 1.275-1.269 2.209-1.673.933-.404 1.971-.606 3.121-.606 1.742 0 3.135.44 4.174 1.317 1.038.878 1.567 2.111 1.595 3.7v6.716c0 1.338.188 2.411.564 3.212v.237h-3.407zm-3.672-2.41c.662 0 1.283-.16 1.868-.481.585-.32 1.024-.753 1.317-1.296v-2.808H87.83c-1.24 0-2.174.216-2.794.648-.627.432-.934 1.045-.934 1.832 0 .641.216 1.157.641 1.533.418.383.99.572 1.707.572zM104.832 12.96c0-.6-.244-1.053-.739-1.366-.495-.314-1.303-.586-2.445-.83-1.136-.236-2.09-.543-2.85-.905-1.672-.808-2.508-1.979-2.508-3.512 0-1.282.543-2.362 1.623-3.219 1.08-.864 2.46-1.296 4.132-1.296 1.783 0 3.219.44 4.32 1.324 1.093.878 1.644 2.028 1.644 3.428h-3.345c0-.64-.236-1.177-.717-1.602-.481-.425-1.108-.641-1.902-.641-.732 0-1.331.167-1.798.508-.467.342-.697.794-.697 1.366 0 .515.216.913.648 1.198.432.286 1.303.572 2.62.864 1.31.293 2.341.634 3.094 1.031.745.397 1.303.878 1.665 1.443.362.557.543 1.24.543 2.041 0 1.338-.557 2.425-1.665 3.254-1.108.829-2.564 1.247-4.368 1.247-1.22 0-2.307-.223-3.261-.662-.955-.439-1.7-1.045-2.23-1.818-.53-.774-.801-1.603-.801-2.495h3.247c.049.788.341 1.4.892 1.826.55.425 1.282.64 2.187.64.878 0 1.554-.166 2.014-.5.467-.342.697-.781.697-1.325zM117.596 17.28c-2.118 0-3.839-.67-5.156-2.008-1.317-1.337-1.979-3.114-1.979-5.337v-.41c0-1.485.286-2.816.864-3.986.571-1.17 1.379-2.083 2.418-2.731 1.038-.655 2.194-.976 3.469-.976 2.028 0 3.596.648 4.703 1.944 1.108 1.296 1.659 3.129 1.659 5.498v1.351h-9.734c.098 1.233.509 2.202 1.233 2.92.718.717 1.631 1.072 2.718 1.072 1.533 0 2.78-.62 3.748-1.86l1.805 1.721a5.998 5.998 0 01-2.39 2.07c-.996.487-2.118.731-3.358.731zm-.398-12.765c-.919 0-1.658.32-2.222.961-.565.641-.927 1.54-1.08 2.683h6.375v-.251c-.077-1.122-.369-1.965-.892-2.543-.529-.558-1.254-.85-2.181-.85zM133.97 5.163a7.915 7.915 0 00-1.366-.112c-1.533 0-2.564.585-3.1 1.763v10.193h-3.345V2.104h3.198l.084 1.665c.808-1.296 1.93-1.944 3.358-1.944.474 0 .871.063 1.185.195l-.014 3.143z",fill:"currentColor"}),o.createElement("path",{d:"M23.292 19.112H1.45c-1.122 0-1.818-1.596-1.24-2.843L7.323.906C7.58.34 8.054 0 8.563 0h14.736v19.112h-.007z",fill:"#EC2C40"}),o.createElement("path",{d:"M25.8 0h21.85c1.123 0 1.82 1.596 1.24 2.843l-7.113 15.363c-.258.564-.731.906-1.24.906H25.801V0z",fill:"#00A9E5"}))),i||(i=o.createElement("defs",null,o.createElement("clipPath",{id:"eraserLogo_svg__clip0_1108_14881"},o.createElement("path",{fill:"#fff",d:"M0 0h133.984v19.112H0z"})))))}},23732:function(e,t,n){"use strict";var r,i=n(2784);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}t.Z=function(e){return i.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",className:"edit-2_svg__feather edit-2_svg__feather-edit-2"},e),r||(r=i.createElement("path",{d:"M17 3a2.828 2.828 0 114 4L7.5 20.5 2 22l1.5-5.5L17 3z"})))}},32293:function(e,t,n){"use strict";var r,i,o=n(2784);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}t.Z=function(e){return o.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",className:"eye_svg__feather eye_svg__feather-eye"},e),r||(r=o.createElement("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"})),i||(i=o.createElement("circle",{cx:12,cy:12,r:3})))}},33767:function(e,t,n){"use strict";var r,i,o=n(2784);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}t.Z=function(e){return o.createElement("svg",a({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",className:"x-circle_svg__feather x-circle_svg__feather-x-circle"},e),r||(r=o.createElement("circle",{cx:12,cy:12,r:10})),i||(i=o.createElement("path",{d:"M15 9l-6 6M9 9l6 6"})))}},41164:function(e,t,n){"use strict";var r,i=n(2784);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}t.Z=function(e){return i.createElement("svg",o({width:14,height:10,viewBox:"0 0 14 10",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M4.6 9l-.39.312a.5.5 0 00.39.188V9zM1.4 5l-.39-.312a.5.5 0 000 .624L1.4 5zm3.2-4V.5a.5.5 0 00-.39.188L4.6 1zm7.5.8v6.4h1V1.8h-1zm-.3 6.7H4.6v1h7.2v-1zm-6.81.188l-3.2-4-.78.624 3.2 4 .78-.624zm-3.2-3.376l3.2-4-.78-.624-3.2 4 .78.624zM4.6 1.5h7.2v-1H4.6v1zm7.5 6.7a.3.3 0 01-.3.3v1a1.3 1.3 0 001.3-1.3h-1zm1-6.4A1.3 1.3 0 0011.8.5v1a.3.3 0 01.3.3h1zM5.847 3.754l3.2 3.2.707-.708-3.2-3.2-.707.708zm3.2-.708l-3.2 3.2.707.708 3.2-3.2-.707-.708z",fill:"currentColor"})))}},40040:function(e,t,n){"use strict";var r,i=n(2784);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}t.Z=function(e){return i.createElement("svg",o({width:14,height:14,viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M9.4 9.4v2.4a.8.8 0 01-.8.8H2.2a.8.8 0 01-.8-.8V5.4a.8.8 0 01.8-.8h2.4m0-2.4v6.4a.8.8 0 00.8.8h6.4a.8.8 0 00.8-.8V2.2a.8.8 0 00-.8-.8H5.4a.8.8 0 00-.8.8z",fill:"none",stroke:"currentColor"})))}},6637:function(e,t,n){"use strict";var r,i=n(2784);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}t.Z=function(e){return i.createElement("svg",o({width:12,height:12,viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M.8.8H4v.8H2.165l2.518 2.517-.566.566L1.6 2.165V4H.8V.8zm9.034.8H8V.8h3.2V4h-.8V2.165L7.883 4.683l-.566-.566L9.834 1.6zM4.683 7.883L2.165 10.4H4v.8H.8V8h.8v1.834l2.517-2.517.566.566zm3.2-.566L10.4 9.834V8h.8v3.2H8v-.8h1.834L7.317 7.883l.566-.566z",fill:"currentColor"})))}},67159:function(e,t,n){"use strict";var r,i=n(2784);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}t.Z=function(e){return i.createElement("svg",o({width:14,height:14,viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M1.4 9.4l-.353-.354-.147.147V9.4h.5zm8-8l.354-.354a.5.5 0 00-.707 0L9.4 1.4zm3.2 3.2l.354.353a.5.5 0 000-.707L12.6 4.6zm-8 8v.5h.208l.146-.146L4.6 12.6zm-3.2 0H.9a.5.5 0 00.5.5v-.5zm.354-2.847l8-8-.707-.707-8 8 .707.707zm7.293-8l3.2 3.2.707-.707-3.2-3.2-.707.707zm3.2 2.493l-8 8 .707.707 8-8-.707-.707zM4.6 12.1H1.4v1h3.2v-1zm-2.7.5V9.4h-1v3.2h1z",fill:"currentColor"})))}},29658:function(e,t,n){"use strict";var r,i=n(2784);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}t.Z=function(e){return i.createElement("svg",o({width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M4.998 7.8h4m-7.6-6.4h11.2v3.2h-11.2V1.4zm.8 3.2v7.2a.8.8 0 00.8.8h8a.8.8 0 00.8-.8V4.6h-9.6z",stroke:"currentColor"})))}},11945:function(e,t,n){"use strict";var r,i=n(2784);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}t.Z=function(e){return i.createElement("svg",o({width:14,height:12,viewBox:"0 0 14 12",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M10.2.4l2.4 2.4m0 0l-2.4 2.4m2.4-2.4H3.8a2.4 2.4 0 00-2.4 2.4v1.2m2.4 5.2L1.4 9.2m0 0l2.4-2.4M1.4 9.2h8.8a2.4 2.4 0 002.4-2.4V5.6",fill:"none",stroke:"currentColor",strokeLinejoin:"round"})))}},46972:function(e,t,n){"use strict";var r,i=n(2784);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}t.Z=function(e){return i.createElement("svg",o({width:5,height:5,viewBox:"0 0 5 3",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M.206 1.117l1.805 1.692c.272.255.71.255.983 0l1.804-1.692C5.23.705 4.924 0 4.303 0H.701C.074 0-.233.705.206 1.117z",fill:"currentColor"})))}},63301:function(e,t,n){"use strict";var r,i=n(2784);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}t.Z=function(e){return i.createElement("svg",o({width:6,height:9,viewBox:"0 0 6 9",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M1.5 7.5l3-3-3-3",stroke:"currentColor",fill:"none",strokeLinecap:"square"})))}},39449:function(e,t,n){"use strict";var r,i=n(2784);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}t.Z=function(e){return i.createElement("svg",o({viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M11.25.758a.83.83 0 00-1.175 0L6 4.825 1.925.75A.83.83 0 10.75 1.925L4.825 6 .75 10.075a.83.83 0 101.175 1.175L6 7.175l4.075 4.075a.83.83 0 101.175-1.175L7.175 6l4.075-4.075a.835.835 0 000-1.167z",fill:"currentColor"})))}},29932:function(e,t,n){"use strict";var r,i=n(2784);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}t.Z=function(e){return i.createElement("svg",o({width:14,height:14,viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M9.4 9.4v2.4a.8.8 0 01-.8.8H2.2a.8.8 0 01-.8-.8V5.4a.8.8 0 01.8-.8h2.4m0-2.4v6.4a.8.8 0 00.8.8h6.4a.8.8 0 00.8-.8V2.2a.8.8 0 00-.8-.8H5.4a.8.8 0 00-.8.8z",fill:"none",stroke:"currentColor"})))}},63052:function(e,t,n){"use strict";var r,i=n(2784);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}t.Z=function(e){return i.createElement("svg",o({width:15,height:15,viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.793 7.5L1.146 1.854l.708-.708L7.5 6.793l5.646-5.647.708.708L8.207 7.5l5.647 5.646-.707.708L7.5 8.207l-5.646 5.647-.708-.707L6.793 7.5z",fill:"currentColor"})))}},79208:function(e,t,n){"use strict";var r,i=n(2784);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}t.Z=function(e){return i.createElement("svg",o({width:14,height:14,viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M6.6 7h.8M4.2 7H5m4 0h.8m2.8 5.6H7A5.6 5.6 0 1112.6 7v5.6z",fill:"none",stroke:"currentColor"})))}},25996:function(e,t,n){"use strict";var r,i=n(2784);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}t.Z=function(e){return i.createElement("svg",o({width:18,height:20,viewBox:"0 0 18 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M5 9.494h-.5v1H5v-1zm8 1h.5v-1H13v1zM5 13.49h-.5v1H5v-1zm8 1.009h.5v-1H13v1zM5 5.496h-.5v1H5v-1zM10.333 6.5h.5v-1h-.5v1zM13 .667l.354-.354-.147-.146H13v.5zm4 4h.5v-.208l-.146-.146-.354.354zM5 10.494h8v-1H5v1zm0 3.997l8 .009v-1l-8-.009v1zm0-7.995l5.333.004v-1L5 5.496v1zm10.667 12.337H2.333v1h13.334v-1zM1.5 18V2h-1v16h1zm.833-16.834H13v-1H2.333v1zm14.167 3.5V18h1V4.666h-1zM12.646 1.02l4 4 .708-.707-4-4-.708.707zM2.333 18.833A.833.833 0 011.5 18h-1c0 1.012.82 1.833 1.833 1.833v-1zm13.334 1c1.012 0 1.833-.82 1.833-1.833h-1c0 .46-.373.833-.833.833v1zM1.5 2c0-.46.373-.833.833-.833v-1C1.321.167.5.987.5 2h1z",fill:"currentColor"})))}},16428:function(e,t,n){"use strict";var r,i=n(2784);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}t.Z=function(e){return i.createElement("svg",o({width:8,height:8,viewBox:"0 0 8 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M3 1h4v4M1 7l6-6",stroke:"currentColor",strokeWidth:1.2,strokeLinecap:"round",strokeLinejoin:"round"})))}},20816:function(e,t,n){"use strict";var r,i=n(2784);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}t.Z=function(e){return i.createElement("svg",o({xmlns:"http://www.w3.org/2000/svg",width:14,height:9,viewBox:"0 0 14 9",fill:"none"},e),r||(r=i.createElement("path",{d:"M1.4 4.5l-.464-.186a.5.5 0 000 .372L1.4 4.5zm11.2 0l.464.186a.5.5 0 000-.372L12.6 4.5zM7 8C5.186 8 3.91 7.098 3.072 6.166a7.395 7.395 0 01-1.143-1.707 3.946 3.946 0 01-.065-.145L1.4 4.5l-.464.186v.002l.002.004a1.967 1.967 0 00.022.052l.064.141a8.394 8.394 0 001.304 1.95C3.288 7.901 4.814 9 7 9V8zM1.4 4.5a65.011 65.011 0 01.464.186.699.699 0 01.014-.032l.05-.113a7.395 7.395 0 011.143-1.707C3.912 1.902 5.187 1 7 1V0C4.814 0 3.289 1.098 2.328 2.166a8.394 8.394 0 00-1.304 1.949 4.937 4.937 0 00-.086.193l-.001.004v.001H.935L1.4 4.5zM7 1c1.814 0 3.089.902 3.928 1.834a7.401 7.401 0 011.143 1.707c.024.05.04.088.051.113l.012.027.002.005.464-.186a53.817 53.817 0 00.463-.188l-.001-.004-.005-.012a7.392 7.392 0 00-.334-.668 8.387 8.387 0 00-1.051-1.462C10.71 1.098 9.185 0 7 0v1zm5.6 3.5a67.702 67.702 0 01-.464-.186l-.002.005-.012.027-.05.113a7.401 7.401 0 01-1.143 1.707C10.088 7.098 8.813 8 6.998 8v1c2.187 0 3.712-1.098 4.673-2.166a8.387 8.387 0 001.304-1.949 4.613 4.613 0 00.08-.181l.006-.012a1.288 1.288 0 00.002-.006L12.6 4.5zM7 5.6a1.1 1.1 0 01-1.1-1.1h-1c0 1.16.94 2.1 2.1 2.1v-1zm1.1-1.1A1.1 1.1 0 017 5.6v1a2.1 2.1 0 002.1-2.1h-1zM7 3.4a1.1 1.1 0 011.1 1.1h1A2.1 2.1 0 007 2.4v1zm0-1a2.1 2.1 0 00-2.1 2.1h1A1.1 1.1 0 017 3.4v-1z",fill:"currentColor"})))}},54784:function(e,t,n){"use strict";var r,i=n(2784);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}t.Z=function(e){return i.createElement("svg",o({height:24,width:24,viewBox:"0 0 24 24",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"})))}},65944:function(e,t,n){"use strict";var r,i=n(2784);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}t.Z=function(e){return i.createElement("svg",o({width:19,height:20,viewBox:"0 0 19 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M12.725 1.146a12.04 12.04 0 00-5.45 0C6.24.51 5.45.219 4.874.096a3.184 3.184 0 00-.747-.079 1.85 1.85 0 00-.342.042l-.013.004-.006.001-.003.001-.003.001.202.704L3.76.066a.733.733 0 00-.468.406 4.576 4.576 0 00-.233 3.081 4.919 4.919 0 00-1.126 3.143c0 2.278.672 3.809 1.817 4.792.802.69 1.777 1.056 2.754 1.266-.161.448-.203.922-.17 1.405v.877c-.598.126-1.01.086-1.305-.01-.37-.123-.653-.368-.923-.72a7.066 7.066 0 01-.395-.589l-.084-.137c-.104-.17-.216-.352-.329-.518-.28-.413-.693-.929-1.362-1.105l-.71-.186-.372 1.419.71.186c.116.03.27.14.52.509.092.135.18.279.28.442l.099.16c.137.224.295.472.48.711.37.485.876.973 1.627 1.22.515.17 1.098.211 1.763.109v2.74c0 .405.329.733.734.733h5.866a.733.733 0 00.734-.733v-5.225c0-.463-.02-.887-.15-1.282.97-.205 1.938-.572 2.735-1.262 1.144-.99 1.815-2.535 1.815-4.826v-.003a4.92 4.92 0 00-1.126-3.116 4.578 4.578 0 00-.233-3.081.733.733 0 00-.468-.406l-.202.705c.201-.705.2-.706.199-.706h-.003l-.006-.002-.013-.004a1.01 1.01 0 00-.111-.022 1.851 1.851 0 00-.231-.02 3.186 3.186 0 00-.747.079c-.575.123-1.367.414-2.401 1.05z",fill:"currentColor"})))}},70740:function(e,t,n){"use strict";var r,i=n(2784);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}t.Z=function(e){return i.createElement("svg",o({width:12,height:15,viewBox:"0 0 12 15",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M4.65 11.977a.5.5 0 10-.3-.954l.3.954zm-3.648-2.96l-.484-.128-.254.968.484.127.254-.968zM8 14v.5h1V14H8zm.063-4.813l-.054-.497a.5.5 0 00-.299.852l.353-.354zM11.5 5.413h.5V5.41l-.5.002zm-.833-2.007l-.466-.18a.5.5 0 00.112.533l.354-.353zm-.05-2.017l.456-.204a.5.5 0 00-.319-.276l-.137.48zm-2.173.792l-.126.484a.5.5 0 00.398-.064l-.272-.42zm-3.888 0l-.272.42a.5.5 0 00.398.064l-.126-.484zM2.383 1.39L2.246.91a.5.5 0 00-.32.276l.457.204zm-.05 2.017l.354.353a.5.5 0 00.112-.534l-.466.181zM1.5 5.43H2v-.002l-.5.002zm3.438 3.758l.352.355a.5.5 0 00-.293-.851l-.06.496zM4.5 10.5H5l-.001-.037-.499.037zM4 14v.5h1V14H4zm.35-2.977c-.603.19-.986.169-1.24.085-.251-.083-.444-.25-.629-.49a4.8 4.8 0 01-.27-.402c-.085-.139-.182-.302-.28-.447-.191-.281-.473-.633-.929-.753l-.254.968c.08.02.184.095.355.346.082.122.16.252.258.412.094.152.202.32.327.484.253.33.598.663 1.11.832.51.168 1.116.15 1.852-.081l-.3-.954zM9 10.438c0-.318-.014-.608-.104-.878-.096-.288-.262-.51-.481-.727l-.705.71c.155.153.208.245.237.333.035.105.053.254.053.562h1zm-.884-.753c.903-.097 1.888-.325 2.647-.982.78-.675 1.237-1.729 1.237-3.29h-1c0 1.359-.39 2.1-.892 2.534-.524.454-1.258.653-2.099.743l.107.995zM12 5.41a3.354 3.354 0 00-.98-2.358l-.707.706c.438.44.685 1.034.687 1.655l1-.003zm-.867-1.824c.15-.384.22-.794.21-1.207l-1 .025a2.12 2.12 0 01-.142.82l.932.362zm.21-1.207a3.119 3.119 0 00-.27-1.195l-.913.408c.115.256.177.532.184.812l1-.025zm-.726-.99c.137-.481.137-.482.136-.482h-.003l-.004-.002a.456.456 0 00-.03-.007 1.262 1.262 0 00-.212-.024 2.172 2.172 0 00-.51.054c-.425.091-1.024.317-1.82.832l.542.84c.719-.464 1.206-.634 1.488-.694a1.19 1.19 0 01.306-.03l-.008-.001a.278.278 0 01-.01-.002l-.006-.002h-.003l-.002-.001c-.001 0-.002 0 .136-.482zm-2.047.307a8.209 8.209 0 00-4.14 0l.252.968a7.209 7.209 0 013.636 0l.252-.968zm-3.743.064C4.03 1.246 3.43 1.02 3.005.93a2.17 2.17 0 00-.51-.053 1.261 1.261 0 00-.245.032h-.002-.001l.136.481.137.481h-.001l-.002.001-.003.001a.327.327 0 01-.016.004l-.008.001h.008a1.19 1.19 0 01.298.03c.282.06.769.23 1.488.694l.543-.84zm-2.9-.576a3.12 3.12 0 00-.27 1.195l1 .025c.006-.28.068-.556.183-.812l-.913-.408zm-.27 1.195c-.01.413.06.823.21 1.207l.932-.362a2.12 2.12 0 01-.143-.82l-1-.025zm.322.673a3.354 3.354 0 00-.726 1.091l.924.38c.118-.285.292-.545.51-.765l-.708-.706zm-.726 1.091A3.354 3.354 0 001 5.43l1-.003c0-.31.06-.616.177-.902l-.924-.38zM1 5.43c0 1.553.458 2.597 1.239 3.268.757.65 1.74.88 2.64.987l.118-.993C4.15 8.59 3.416 8.39 2.89 7.938 2.388 7.507 2 6.776 2 5.428H1zm3.585 3.404c-.5.498-.629 1.09-.584 1.704L5 10.463c-.03-.408.052-.683.291-.921l-.705-.709zM4 10.5V14h1v-3.5H4zM9 14v-1.5H8V14h1zm0-1.5v-2.063H8V12.5h1z",fill:"currentColor"})))}},44623:function(e,t,n){"use strict";var r,i=n(2784);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}t.Z=function(e){return i.createElement("svg",o({width:13,height:14,viewBox:"0 0 13 14",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M3.6 5.4v-.5a.5.5 0 00-.5.5h.5zm0 .8l.354.354.146-.147V6.2h-.5zm-1.366.235l-.353.353.353-.353zM5.2 11.4h.5v-.207l-.146-.146-.354.353zm-.8-.8h-.5v.207l.146.147.354-.354zm0-1.2h.5v-.207l-.146-.146L4.4 9.4zm-.8-.8h-.5v.207l.146.147L3.6 8.6zm0-.8v-.5a.5.5 0 00-.5.5h.5zm3.5-6.4V3h1V1.4h-1zm-.3 1.9H6v1h.8v-1zM4.4 4.9h-.8v1h.8v-1zm-1.3.5v.8h1v-.8h-1zm.146.447l-.234.234.707.707.235-.234-.708-.707zm-.658.234L1.154 4.647l-.708.707 1.435 1.434.707-.707zM4.7 4.601a.3.3 0 01-.3.3v1a1.3 1.3 0 001.3-1.3h-1zM6 3.3a1.3 1.3 0 00-1.3 1.3h1a.3.3 0 01.3-.3v-1zM3.012 6.08a.3.3 0 01-.424 0l-.707.707a1.3 1.3 0 001.838 0l-.707-.707zM7.1 3.001a.3.3 0 01-.3.3v1A1.3 1.3 0 008.1 3h-1zm-1.4 9.6v-1.2h-1v1.2h1zm-.146-1.554l-.8-.8-.708.707.8.8.708-.707zM4.9 10.6V9.4h-1v1.2h1zm-.146-1.553l-.8-.8-.708.707.8.8.708-.707zM4.1 8.6v-.8h-1v.8h1zm-.5-.3h3.2v-1H3.6v1zm3.5.3v.534h1V8.6h-1zm1.567 2.1H10.8v-1H8.667v1zM7.9 9.934c0 .423.343.766.767.766v-1c.129 0 .233.105.233.234h-1zM7.867 9.9c.018 0 .033.015.033.034h1c0-.571-.463-1.034-1.033-1.034v1zM7.1 9.134c0 .423.343.766.767.766v-1c.129 0 .233.105.233.234h-1zM6.8 8.3a.3.3 0 01.3.3h1a1.3 1.3 0 00-1.3-1.3v1zM6 12.1A5.1 5.1 0 01.9 7h-1A6.1 6.1 0 006 13.1v-1zM11.1 7A5.1 5.1 0 016 12.1v1A6.1 6.1 0 0012.1 7h-1zM6 1.9A5.1 5.1 0 0111.1 7h1A6.1 6.1 0 006 .9v1zm0-1A6.1 6.1 0 00-.1 7h1A5.1 5.1 0 016 1.9v-1z",fill:"currentColor"})))}},36288:function(e,t,n){"use strict";var r,i=n(2784);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}t.Z=function(e){return i.createElement("svg",o({width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M11.963.568a.401.401 0 01-.08.115L4.32 8.245l2.136 3.56a.4.4 0 00.71-.047L11.964.568zM3.755 7.68L.195 5.542a.4.4 0 01.047-.71L11.434.035a.398.398 0 00-.117.081L3.755 7.68z",fill:"currentColor"})))}},75616:function(e,t,n){"use strict";var r,i=n(2784);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}t.Z=function(e){return i.createElement("svg",o({width:14,height:12,viewBox:"0 0 14 12",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M9.8 9.2H4.2m5.6-2.4H9m-1.6 0h-.8M5 6.8h-.8m5.6-1.6H9m-1.6 0h-.8M5 5.2h-.8M7 3.6V0m4.8 3.6H2.2a.8.8 0 00-.8.8V10a.8.8 0 00.8.8h9.6a.8.8 0 00.8-.8V4.4a.8.8 0 00-.8-.8z",fill:"none",stroke:"currentColor"})))}},11648:function(e,t,n){"use strict";var r,i=n(2784);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}t.Z=function(e){return i.createElement("svg",o({width:14,height:14,viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M9.263 9.263a3.2 3.2 0 01-4.526 0m4.526 0a3.2 3.2 0 000-4.526m0 4.526l1.697 1.697M4.737 9.263a3.2 3.2 0 010-4.526m0 4.526L3.04 10.96m6.223-6.223a3.2 3.2 0 00-4.526 0m4.526 0L10.96 3.04M4.737 4.737L3.04 3.04m7.92 7.92a5.6 5.6 0 01-7.92 0m7.92 0a5.6 5.6 0 000-7.92m-7.92 7.92a5.6 5.6 0 010-7.92m7.92 0a5.6 5.6 0 00-7.92 0",fill:"none",stroke:"currentColor"})))}},10043:function(e,t,n){"use strict";var r,i=n(2784);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}t.Z=function(e){return i.createElement("svg",o({width:12,height:13,viewBox:"0 0 12 13",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M3.26 5.176l.496.07-.495-.07zm-.007.056l-.495-.07.495.07zm5.486-.056l.495-.07-.495.07zm.008.056l-.495.07.495-.07zM7.6 10v.5a.5.5 0 00.5-.5h-.5zm-3.2 0h-.5a.5.5 0 00.5.5V10zm-.596-2.678l.396-.306-.396.306zm4.392 0L7.8 7.016l.396.306zM4.8 12.1h2.4v-1H4.8v1zM2.766 5.105l-.008.056.99.142.008-.056-.99-.142zM6 2.3a3.267 3.267 0 00-3.234 2.805l.99.142A2.267 2.267 0 016 3.3v-1zm3.234 2.805A3.267 3.267 0 006 2.3v1c1.128 0 2.085.83 2.244 1.947l.99-.142zm.008.056l-.008-.056-.99.142.008.056.99-.142zm-.651 2.467c.52-.67.783-1.547.651-2.467l-.99.142c.092.64-.09 1.246-.452 1.713l.791.612zM7.1 8.721V10h1V8.721h-1zm.5.779H4.4v1h3.2v-1zm-2.7.5V8.721h-1V10h1zM2.758 5.161c-.132.92.131 1.796.651 2.467l.79-.612a2.261 2.261 0 01-.451-1.713l-.99-.142zM4.9 8.721c0-.694-.368-1.276-.7-1.705l-.791.612c.304.393.491.749.491 1.093h1zm2.9-1.705c-.332.429-.7 1.011-.7 1.705h1c0-.344.187-.7.491-1.093l-.79-.612zM5.5 0v1.6h1V0h-1zM0 6.5h1.6v-1H0v1zm10.4 0H12v-1h-1.6v1zM2.754 2.846l-1.2-1.2-.708.708 1.2 1.2.708-.708zm7.2.708l1.2-1.2-.708-.708-1.2 1.2.708.708z",fill:"currentColor"})))}},72299:function(e,t,n){"use strict";var r,i=n(2784);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}t.Z=function(e){return i.createElement("svg",o({width:12,height:12,viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M10.8 6L8.4 8.6M10.8 6L8.4 3.6M10.8 6H3.2m3.2 4.8H1.2V1.2h5.2",fill:"none",stroke:"currentColor"})))}},41369:function(e,t,n){"use strict";var r,i=n(2784);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}t.Z=function(e){return i.createElement("svg",o({width:14,height:14,viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M7 4.2v5.6M4.2 7h5.6M7 12.6A5.6 5.6 0 117 1.4a5.6 5.6 0 010 11.2z",fill:"none",stroke:"currentColor"})))}},22510:function(e,t,n){"use strict";var r,i=n(2784);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}t.Z=function(e){return i.createElement("svg",o({width:8,height:8,viewBox:"0 0 8 8",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M4 .733v6.534M.731 4h6.534",fill:"none",stroke:"currentColor"})))}},72297:function(e,t,n){"use strict";var r,i=n(2784);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}t.Z=function(e){return i.createElement("svg",o({width:12,height:12,viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.8 2.8v2H10A1.2 1.2 0 0111.2 6v4.8A1.2 1.2 0 0110 12H2a1.2 1.2 0 01-1.2-1.2V6A1.2 1.2 0 012 4.8h1.2v-2a2.8 2.8 0 115.6 0zM4 2.8a2 2 0 114 0v2H4v-2z",fill:"currentColor"})))}},25860:function(e,t,n){"use strict";var r,i=n(2784);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}t.Z=function(e){return i.createElement("svg",o({width:12,height:12,viewBox:"0 0 12 12",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M11.6 11.6L8.4 8.4M5.2 10a4.8 4.8 0 110-9.6 4.8 4.8 0 010 9.6z",fill:"none",stroke:"currentColor",strokeWidth:.8})))}},98675:function(e,t,n){"use strict";var r,i,o=n(2784);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}t.Z=function(e){return o.createElement("svg",a({width:14,height:14,viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=o.createElement("path",{clipRule:"evenodd",d:"M5.756 1.4l-.07.35-.262 1.278c-.421.16-.803.388-1.148.659l-1.286-.43-.346-.108-.179.309-.885 1.48-.18.31.263.229.995.846c-.036.222-.082.44-.082.673 0 .233.046.452.082.674l-.995.846-.263.23.18.308.885 1.48.18.31.345-.108 1.286-.43c.345.27.727.498 1.148.659l.263 1.278.069.35h2.488l.07-.35.262-1.278c.421-.16.803-.389 1.148-.659l1.286.43.346.108.18-.31.884-1.48.18-.308-.263-.23-.995-.846c.037-.222.082-.441.082-.674 0-.232-.045-.451-.082-.673l.995-.846.263-.23-.18-.308-.884-1.481-.18-.309-.346.107-1.286.43a4.416 4.416 0 00-1.148-.658l-.262-1.279-.07-.349H5.756z",fill:"none",stroke:"currentColor",strokeLinecap:"square",strokeLinejoin:"round"})),i||(i=o.createElement("path",{clipRule:"evenodd",d:"M8.6 6.996a1.6 1.6 0 11-3.2-.002 1.6 1.6 0 013.2.002z",fill:"none",stroke:"currentColor",strokeLinecap:"square",strokeLinejoin:"round"})))}},47785:function(e,t,n){"use strict";var r,i=n(2784);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}t.Z=function(e){return i.createElement("svg",o({width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M9.4 7V5.8A1.2 1.2 0 1110.6 7H9.4zm0 0H7m2.4 0V2.6a1.2 1.2 0 00-2.4 0V7m0 0V4.6M7 7H2.6a1.2 1.2 0 010-2.4H7M7 7h4.4a1.2 1.2 0 010 2.4H7M7 7v2.4M7 7H4.6M7 7v4.4a1.2 1.2 0 01-2.4 0V7M7 4.6V3.4a1.2 1.2 0 10-1.2 1.2H7zm0 4.8h1.2A1.2 1.2 0 117 10.6V9.4zM4.6 7v1.2A1.2 1.2 0 113.4 7h1.2z",stroke:"currentColor"})))}},54631:function(e,t,n){"use strict";var r,i=n(2784);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}t.Z=function(e){return i.createElement("svg",o({width:14,height:14,viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M10.6 12.6h2v-1.2a2 2 0 00-2-2M7.8 3.798a2.4 2.4 0 11-4.798 0 2.4 2.4 0 014.798 0zm1.6 8.795h-8v-1.598a2.4 2.4 0 012.4-2.4H7a2.4 2.4 0 012.4 2.4v1.598zm.8-4.793a1.6 1.6 0 110-3.2 1.6 1.6 0 010 3.2z",fill:"none",stroke:"currentColor"})))}},20879:function(e,t,n){"use strict";var r,i=n(2784);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}t.Z=function(e){return i.createElement("svg",o({width:14,height:12,viewBox:"0 0 14 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=i.createElement("path",{d:"M7 1.2l.197-.46a.5.5 0 00-.394 0L7 1.2zM1.4 3.6l-.197-.46a.5.5 0 000 .92L1.4 3.6zM7 6l-.197.46a.5.5 0 00.394 0L7 6zm5.6-2.4l.197.46a.5.5 0 000-.92l-.197.46zM7 8.4l-.197.46.197.084.197-.084L7 8.4zm0 2.4l-.197.46.197.084.197-.085L7 10.8zM6.803.74l-5.6 2.4.394.92 5.6-2.4-.394-.92zm-5.6 3.32l5.6 2.4.394-.92-5.6-2.4-.394.92zm5.994 2.4l5.6-2.4-.394-.92-5.6 2.4.394.92zm5.6-3.32l-5.6-2.4-.394.92 5.6 2.4.394-.92zM1.203 6.46l5.6 2.4.394-.92-5.6-2.4-.394.92zm5.994 2.4l5.6-2.4-.394-.92-5.6 2.4.394.92zm-5.994 0l5.6 2.4.394-.92-5.6-2.4-.394.92zm5.994 2.4l5.6-2.4-.394-.92-5.6 2.4.394.92z",fill:"currentColor"})))}},43931:function(e){e.exports=function(){"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function n(n){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?t(Object(i),!0).forEach((function(t){e(n,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))}))}return n}function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(e){var t,n="algoliasearch-client-js-".concat(e.key),r=function(){return void 0===t&&(t=e.localStorage||window.localStorage),t},o=function(){return JSON.parse(r().getItem(n)||"{}")};return{get:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then((function(){var n=JSON.stringify(e),r=o()[n];return Promise.all([r||t(),void 0!==r])})).then((function(e){var t=i(e,2),r=t[0],o=t[1];return Promise.all([r,o||n.miss(r)])})).then((function(e){return i(e,1)[0]}))},set:function(e,t){return Promise.resolve().then((function(){var i=o();return i[JSON.stringify(e)]=t,r().setItem(n,JSON.stringify(i)),t}))},delete:function(e){return Promise.resolve().then((function(){var t=o();delete t[JSON.stringify(e)],r().setItem(n,JSON.stringify(t))}))},clear:function(){return Promise.resolve().then((function(){r().removeItem(n)}))}}}function s(e){var t=o(e.caches),n=t.shift();return void 0===n?{get:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return t().then((function(e){return Promise.all([e,n.miss(e)])})).then((function(e){return i(e,1)[0]}))},set:function(e,t){return Promise.resolve(t)},delete:function(e){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return n.get(e,r,i).catch((function(){return s({caches:t}).get(e,r,i)}))},set:function(e,r){return n.set(e,r).catch((function(){return s({caches:t}).set(e,r)}))},delete:function(e){return n.delete(e).catch((function(){return s({caches:t}).delete(e)}))},clear:function(){return n.clear().catch((function(){return s({caches:t}).clear()}))}}}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{serializable:!0},t={};return{get:function(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}},o=JSON.stringify(n);if(o in t)return Promise.resolve(e.serializable?JSON.parse(t[o]):t[o]);var a=r(),s=i&&i.miss||function(){return Promise.resolve()};return a.then((function(e){return s(e)})).then((function(){return a}))},set:function(n,r){return t[JSON.stringify(n)]=e.serializable?JSON.stringify(r):r,Promise.resolve(r)},delete:function(e){return delete t[JSON.stringify(e)],Promise.resolve()},clear:function(){return t={},Promise.resolve()}}}function c(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[n],e[n]=r}return e}function l(e,t){return t?(Object.keys(t).forEach((function(n){e[n]=t[n](e)})),e):e}function f(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0;return e.replace(/%s/g,(function(){return encodeURIComponent(n[i++])}))}var d={WithinQueryParameters:0,WithinHeaders:1};function h(e,t){var n=e||{},r=n.data||{};return Object.keys(n).forEach((function(e){-1===["timeout","headers","queryParameters","data","cacheable"].indexOf(e)&&(r[e]=n[e])})),{data:Object.entries(r).length>0?r:void 0,timeout:n.timeout||t,headers:n.headers||{},queryParameters:n.queryParameters||{},cacheable:n.cacheable}}var p={Read:1,Write:2,Any:3},v=1,m=2,g=3;function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v;return n(n({},e),{},{status:t,lastUpdate:Date.now()})}function b(e){return"string"==typeof e?{protocol:"https",url:e,accept:p.Any}:{protocol:e.protocol||"https",url:e.url,accept:e.accept||p.Any}}var w="GET",_="POST";function E(e,t){return Promise.all(t.map((function(t){return e.get(t,(function(){return Promise.resolve(y(t))}))}))).then((function(e){var n=e.filter((function(e){return function(e){return e.status===v||Date.now()-e.lastUpdate>12e4}(e)})),r=e.filter((function(e){return function(e){return e.status===g&&Date.now()-e.lastUpdate<=12e4}(e)})),i=[].concat(o(n),o(r));return{getTimeout:function(e,t){return(0===r.length&&0===e?1:r.length+3+e)*t},statelessHosts:i.length>0?i.map((function(e){return b(e)})):t}}))}function S(e,t,r,i){var a=[],s=function(e,t){if(e.method!==w&&(void 0!==e.data||void 0!==t.data)){var r=Array.isArray(e.data)?e.data:n(n({},e.data),t.data);return JSON.stringify(r)}}(r,i),u=function(e,t){var r=n(n({},e.headers),t.headers),i={};return Object.keys(r).forEach((function(e){var t=r[e];i[e.toLowerCase()]=t})),i}(e,i),c=r.method,l=r.method!==w?{}:n(n({},r.data),i.data),f=n(n(n({"x-algolia-agent":e.userAgent.value},e.queryParameters),l),i.queryParameters),d=0,h=function t(n,o){var l=n.pop();if(void 0===l)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.",transporterStackTrace:k(a)};var h={data:s,headers:u,method:c,url:O(l,r.path,f),connectTimeout:o(d,e.timeouts.connect),responseTimeout:o(d,i.timeout)},p=function(e){var t={request:h,response:e,host:l,triesLeft:n.length};return a.push(t),t},v={onSuccess:function(e){return function(e){try{return JSON.parse(e.content)}catch(t){throw function(e,t){return{name:"DeserializationError",message:e,response:t}}(t.message,e)}}(e)},onRetry:function(r){var i=p(r);return r.isTimedOut&&d++,Promise.all([e.logger.info("Retryable failure",T(i)),e.hostsCache.set(l,y(l,r.isTimedOut?g:m))]).then((function(){return t(n,o)}))},onFail:function(e){throw p(e),function(e,t){var n=e.content,r=e.status,i=n;try{i=JSON.parse(n).message}catch(e){}return function(e,t,n){return{name:"ApiError",message:e,status:t,transporterStackTrace:n}}(i,r,t)}(e,k(a))}};return e.requester.send(h).then((function(e){return function(e,t){return function(e){var t=e.status;return e.isTimedOut||function(e){var t=e.isTimedOut,n=e.status;return!t&&0==~~n}(e)||2!=~~(t/100)&&4!=~~(t/100)}(e)?t.onRetry(e):2==~~(e.status/100)?t.onSuccess(e):t.onFail(e)}(e,v)}))};return E(e.hostsCache,t).then((function(e){return h(o(e.statelessHosts).reverse(),e.getTimeout)}))}function x(e){var t={value:"Algolia for JavaScript (".concat(e,")"),add:function(e){var n="; ".concat(e.segment).concat(void 0!==e.version?" (".concat(e.version,")"):"");return-1===t.value.indexOf(n)&&(t.value="".concat(t.value).concat(n)),t}};return t}function O(e,t,n){var r=C(n),i="".concat(e.protocol,"://").concat(e.url,"/").concat("/"===t.charAt(0)?t.substr(1):t);return r.length&&(i+="?".concat(r)),i}function C(e){return Object.keys(e).map((function(t){return f("%s=%s",t,(n=e[t],"[object Object]"===Object.prototype.toString.call(n)||"[object Array]"===Object.prototype.toString.call(n)?JSON.stringify(e[t]):e[t]));var n})).join("&")}function k(e){return e.map((function(e){return T(e)}))}function T(e){var t=e.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return n(n({},e),{},{request:n(n({},e.request),{},{headers:n(n({},e.request.headers),t)})})}var A=function(e){var t=e.appId,r=function(e,t,n){var r={"x-algolia-api-key":n,"x-algolia-application-id":t};return{headers:function(){return e===d.WithinHeaders?r:{}},queryParameters:function(){return e===d.WithinQueryParameters?r:{}}}}(void 0!==e.authMode?e.authMode:d.WithinHeaders,t,e.apiKey),o=function(e){var t=e.hostsCache,n=e.logger,r=e.requester,o=e.requestsCache,a=e.responsesCache,s=e.timeouts,u=e.userAgent,c=e.hosts,l=e.queryParameters,f={hostsCache:t,logger:n,requester:r,requestsCache:o,responsesCache:a,timeouts:s,userAgent:u,headers:e.headers,queryParameters:l,hosts:c.map((function(e){return b(e)})),read:function(e,t){var n=h(t,f.timeouts.read),r=function(){return S(f,f.hosts.filter((function(e){return 0!=(e.accept&p.Read)})),e,n)};if(!0!==(void 0!==n.cacheable?n.cacheable:e.cacheable))return r();var o={request:e,mappedRequestOptions:n,transporter:{queryParameters:f.queryParameters,headers:f.headers}};return f.responsesCache.get(o,(function(){return f.requestsCache.get(o,(function(){return f.requestsCache.set(o,r()).then((function(e){return Promise.all([f.requestsCache.delete(o),e])}),(function(e){return Promise.all([f.requestsCache.delete(o),Promise.reject(e)])})).then((function(e){var t=i(e,2);return t[0],t[1]}))}))}),{miss:function(e){return f.responsesCache.set(o,e)}})},write:function(e,t){return S(f,f.hosts.filter((function(e){return 0!=(e.accept&p.Write)})),e,h(t,f.timeouts.write))}};return f}(n(n({hosts:[{url:"".concat(t,"-dsn.algolia.net"),accept:p.Read},{url:"".concat(t,".algolia.net"),accept:p.Write}].concat(c([{url:"".concat(t,"-1.algolianet.com")},{url:"".concat(t,"-2.algolianet.com")},{url:"".concat(t,"-3.algolianet.com")}]))},e),{},{headers:n(n(n({},r.headers()),{"content-type":"application/x-www-form-urlencoded"}),e.headers),queryParameters:n(n({},r.queryParameters()),e.queryParameters)}));return l({transporter:o,appId:t,addAlgoliaAgent:function(e,t){o.userAgent.add({segment:e,version:t})},clearCache:function(){return Promise.all([o.requestsCache.clear(),o.responsesCache.clear()]).then((function(){}))}},e.methods)},I=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return l({transporter:e.transporter,appId:e.appId,indexName:t},n.methods)}},D=function(e){return function(t,r){var i=t.map((function(e){return n(n({},e),{},{params:C(e.params||{})})}));return e.transporter.read({method:_,path:"1/indexes/*/queries",data:{requests:i},cacheable:!0},r)}},P=function(e){return function(t,i){return Promise.all(t.map((function(t){var o=t.params,a=o.facetName,s=o.facetQuery,u=r(o,["facetName","facetQuery"]);return I(e)(t.indexName,{methods:{searchForFacetValues:j}}).searchForFacetValues(a,s,n(n({},i),u))})))}},R=function(e){return function(t,n,r){return e.transporter.read({method:_,path:f("1/answers/%s/prediction",e.indexName),data:{query:t,queryLanguages:n},cacheable:!0},r)}},N=function(e){return function(t,n){return e.transporter.read({method:_,path:f("1/indexes/%s/query",e.indexName),data:{query:t},cacheable:!0},n)}},j=function(e){return function(t,n,r){return e.transporter.read({method:_,path:f("1/indexes/%s/facets/%s/query",e.indexName,t),data:{facetQuery:n},cacheable:!0},r)}},M=1,L=2,F=3;function B(e,t,r){var i,o={appId:e,apiKey:t,timeouts:{connect:1,read:2,write:30},requester:{send:function(e){return new Promise((function(t){var n=new XMLHttpRequest;n.open(e.method,e.url,!0),Object.keys(e.headers).forEach((function(t){return n.setRequestHeader(t,e.headers[t])}));var r,i=function(e,r){return setTimeout((function(){n.abort(),t({status:0,content:r,isTimedOut:!0})}),1e3*e)},o=i(e.connectTimeout,"Connection timeout");n.onreadystatechange=function(){n.readyState>n.OPENED&&void 0===r&&(clearTimeout(o),r=i(e.responseTimeout,"Socket timeout"))},n.onerror=function(){0===n.status&&(clearTimeout(o),clearTimeout(r),t({content:n.responseText||"Network request failed",status:n.status,isTimedOut:!1}))},n.onload=function(){clearTimeout(o),clearTimeout(r),t({content:n.responseText,status:n.status,isTimedOut:!1})},n.send(e.data)}))}},logger:(i=F,{debug:function(e,t){return M>=i&&console.debug(e,t),Promise.resolve()},info:function(e,t){return L>=i&&console.info(e,t),Promise.resolve()},error:function(e,t){return console.error(e,t),Promise.resolve()}}),responsesCache:u(),requestsCache:u({serializable:!1}),hostsCache:s({caches:[a({key:"".concat("4.10.5","-").concat(e)}),u()]}),userAgent:x("4.10.5").add({segment:"Browser",version:"lite"}),authMode:d.WithinQueryParameters};return A(n(n(n({},o),r),{},{methods:{search:D,searchForFacetValues:P,multipleQueries:D,multipleSearchForFacetValues:P,initIndex:function(e){return function(t){return I(e)(t,{methods:{search:N,searchForFacetValues:j,findAnswers:R}})}}}}))}return B.version="4.10.5",B}()},95766:function(e,t){"use strict";t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,o=u(e),a=o[0],s=o[1],c=new i(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),l=0,f=s>0?a-4:a;for(n=0;n<f;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;2===s&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[l++]=255&t);1===s&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t);return c},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],a=16383,s=0,u=r-i;s<u;s+=a)o.push(c(e,s,s+a>u?u:s+a));1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],r=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=o.length;a<s;++a)n[a]=o[a],r[o.charCodeAt(a)]=a;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,r){for(var i,o,a=[],s=t;s<r;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},48834:function(e,t,n){"use strict";var r=n(95766),i=n(62333),o="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=function(e){+e!=e&&(e=0);return u.alloc(+e)},t.INSPECT_MAX_BYTES=50;var a=2147483647;function s(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,u.prototype),t}function u(e,t,n){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return f(e)}return c(e,t,n)}function c(e,t,n){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!u.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|v(e,t),r=s(n),i=r.write(e,t);i!==n&&(r=r.slice(0,i));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(V(e,Uint8Array)){var t=new Uint8Array(e);return h(t.buffer,t.byteOffset,t.byteLength)}return d(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(V(e,ArrayBuffer)||e&&V(e.buffer,ArrayBuffer))return h(e,t,n);if("undefined"!==typeof SharedArrayBuffer&&(V(e,SharedArrayBuffer)||e&&V(e.buffer,SharedArrayBuffer)))return h(e,t,n);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return u.from(r,t,n);var i=function(e){if(u.isBuffer(e)){var t=0|p(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!==typeof e.length||z(e.length)?s(0):d(e);if("Buffer"===e.type&&Array.isArray(e.data))return d(e.data)}(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return u.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function f(e){return l(e),s(e<0?0:0|p(e))}function d(e){for(var t=e.length<0?0:0|p(e.length),n=s(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function h(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,u.prototype),r}function p(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function v(e,t){if(u.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||V(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return F(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return B(e).length;default:if(i)return r?-1:F(e).length;t=(""+t).toLowerCase(),i=!0}}function m(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,n);case"utf8":case"utf-8":return C(this,t,n);case"ascii":return T(this,t,n);case"latin1":case"binary":return A(this,t,n);case"base64":return O(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),z(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:b(e,t,n,r,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):b(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,n,r,i){var o,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=n;o<s;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var f=!0,d=0;d<u;d++)if(c(e,o+d)!==c(t,d)){f=!1;break}if(f)return o}return-1}function w(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(z(s))return a;e[n+a]=s}return a}function _(e,t,n,r){return U(F(t,e.length-n),e,n,r)}function E(e,t,n,r){return U(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function S(e,t,n,r){return U(B(t),e,n,r)}function x(e,t,n,r){return U(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function O(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function C(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,u,c=e[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:128===(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],a=e[i+2],128===(192&o)&&128===(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=f}return function(e){var t=e.length;if(t<=k)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=k));return n}(r)}t.kMaxLength=a,u.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(n){return!1}}(),u.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}}),u.poolSize=8192,u.from=function(e,t,n){return c(e,t,n)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array),u.alloc=function(e,t,n){return function(e,t,n){return l(e),e<=0?s(e):void 0!==t?"string"===typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}(e,t,n)},u.allocUnsafe=function(e){return f(e)},u.allocUnsafeSlow=function(e){return f(e)},u.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==u.prototype},u.compare=function(e,t){if(V(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),V(t,Uint8Array)&&(t=u.from(t,t.offset,t.byteLength)),!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(V(o,Uint8Array))i+o.length>r.length?u.from(o).copy(r,i):Uint8Array.prototype.set.call(r,o,i);else{if(!u.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i)}i+=o.length}return r},u.byteLength=v,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},u.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?C(this,0,e):m.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},o&&(u.prototype[o]=u.prototype.inspect),u.prototype.compare=function(e,t,n,r,i){if(V(e,Uint8Array)&&(e=u.from(e,e.offset,e.byteLength)),!u.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),c=this.slice(r,i),l=e.slice(t,n),f=0;f<s;++f)if(c[f]!==l[f]){o=c[f],a=l[f];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return w(this,e,t,n);case"utf8":case"utf-8":return _(this,e,t,n);case"ascii":case"latin1":case"binary":return E(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var k=4096;function T(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function A(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function I(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=q[e[o]];return i}function D(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length-1;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function P(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function N(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function j(e,t,n,r,o){return t=+t,n>>>=0,o||N(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function M(e,t,n,r,o){return t=+t,n>>>=0,o||N(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,u.prototype),r},u.prototype.readUintLE=u.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||P(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},u.prototype.readUintBE=u.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||P(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUint8=u.prototype.readUInt8=function(e,t){return e>>>=0,t||P(e,1,this.length),this[e]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(e,t){return e>>>=0,t||P(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(e,t){return e>>>=0,t||P(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(e,t){return e>>>=0,t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(e,t){return e>>>=0,t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||P(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||P(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return e>>>=0,t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){e>>>=0,t||P(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){e>>>=0,t||P(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return e>>>=0,t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return e>>>=0,t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return e>>>=0,t||P(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return e>>>=0,t||P(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return e>>>=0,t||P(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return e>>>=0,t||P(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUintLE=u.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||R(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||R(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUint8=u.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,1,255,0),this[t]=255&e,t+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);R(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);R(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},u.prototype.writeFloatLE=function(e,t,n){return j(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return j(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return M(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return M(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(!u.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},u.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var i=e.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(e=i)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=u.isBuffer(e)?e:u.from(e,r),s=a.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var L=/[^+/0-9A-Za-z-_]/g;function F(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function B(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(L,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function U(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function V(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function z(e){return e!==e}var q=function(){for(var e="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var r=16*n,i=0;i<16;++i)t[r+i]=e[n]+e[i];return t}()},19131:function(e){var t=!("undefined"===typeof window||!window.document||!window.document.createElement);e.exports=t},5792:function(e){var t={utf8:{stringToBytes:function(e){return t.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(t.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],n=0;n<e.length;n++)t.push(255&e.charCodeAt(n));return t},bytesToString:function(e){for(var t=[],n=0;n<e.length;n++)t.push(String.fromCharCode(e[n]));return t.join("")}}};e.exports=t},61099:function(e,t,n){"use strict";var r=n(64410)("cookies"),i=n(52810),o=n(37970),a={},s=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,u=/^(?:lax|none|strict)$/i;function c(e,t,n){if(!(this instanceof c))return new c(e,t,n);this.secure=void 0,this.request=e,this.response=t,n&&(Array.isArray(n)?(r('"keys" argument; provide using options {"keys": [...]}'),this.keys=new i(n)):n.constructor&&"Keygrip"===n.constructor.name?(r('"keys" argument; provide using options {"keys": keygrip}'),this.keys=n):(this.keys=Array.isArray(n.keys)?new i(n.keys):n.keys,this.secure=n.secure))}function l(e,t,n){if(!s.test(e))throw new TypeError("argument name is invalid");if(t&&!s.test(t))throw new TypeError("argument value is invalid");for(var e in this.name=e,this.value=t||"",n)this[e]=n[e];if(this.value||(this.expires=new Date(0),this.maxAge=null),this.path&&!s.test(this.path))throw new TypeError("option path is invalid");if(this.domain&&!s.test(this.domain))throw new TypeError("option domain is invalid");if(this.sameSite&&!0!==this.sameSite&&!u.test(this.sameSite))throw new TypeError("option sameSite is invalid")}function f(e,t){if(t.overwrite)for(var n=e.length-1;n>=0;n--)0===e[n].indexOf(t.name+"=")&&e.splice(n,1);e.push(t.toHeader())}c.prototype.get=function(e,t){var n,r,i,o,s,u,c=e+".sig",l=t&&void 0!==t.signed?t.signed:!!this.keys;if((n=this.request.headers.cookie)&&(r=n.match(function(e){return a[e]?a[e]:a[e]=new RegExp("(?:^|;) *"+e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")+"=([^;]*)")}(e)),r)){if(i=r[1],!t||!l)return i;if(o=this.get(c)){if(s=e+"="+i,!this.keys)throw new Error(".keys required for signed cookies");if(!((u=this.keys.index(s,o))<0))return u&&this.set(c,this.keys.sign(s),{signed:!1}),i;this.set(c,null,{path:"/",signed:!1})}}},c.prototype.set=function(e,t,n){var i=this.response,a=this.request,s=i.getHeader("Set-Cookie")||[],u=void 0!==this.secure?!!this.secure:"https"===a.protocol||a.connection.encrypted,c=new l(e,t,n),d=n&&void 0!==n.signed?n.signed:!!this.keys;if("string"==typeof s&&(s=[s]),!u&&n&&n.secure)throw new Error("Cannot send secure cookie over unencrypted connection");if(c.secure=n&&void 0!==n.secure?n.secure:u,n&&"secureProxy"in n&&(r('"secureProxy" option; use "secure" option, provide "secure" to constructor if needed'),c.secure=n.secureProxy),f(s,c),n&&d){if(!this.keys)throw new Error(".keys required for signed cookies");c.value=this.keys.sign(c.toString()),c.name+=".sig",f(s,c)}return(i.set?o.OutgoingMessage.prototype.setHeader:i.setHeader).call(i,"Set-Cookie",s),this},l.prototype.path="/",l.prototype.expires=void 0,l.prototype.domain=void 0,l.prototype.httpOnly=!0,l.prototype.sameSite=!1,l.prototype.secure=!1,l.prototype.overwrite=!1,l.prototype.toString=function(){return this.name+"="+this.value},l.prototype.toHeader=function(){var e=this.toString();return this.maxAge&&(this.expires=new Date(Date.now()+this.maxAge)),this.path&&(e+="; path="+this.path),this.expires&&(e+="; expires="+this.expires.toUTCString()),this.domain&&(e+="; domain="+this.domain),this.sameSite&&(e+="; samesite="+(!0===this.sameSite?"strict":this.sameSite.toLowerCase())),this.secure&&(e+="; secure"),this.httpOnly&&(e+="; httponly"),e},Object.defineProperty(l.prototype,"maxage",{configurable:!0,enumerable:!0,get:function(){return this.maxAge},set:function(e){return this.maxAge=e}}),r.property(l.prototype,"maxage",'"maxage"; use "maxAge" instead'),c.connect=c.express=function(e){return function(t,n,r){t.cookies=n.cookies=new c(t,n,{keys:e}),r()}},c.Cookie=l,e.exports=c},19562:function(e){!function(){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],n=0,r=0;n<e.length;n++,r+=8)t[r>>>5]|=e[n]<<24-r%32;return t},wordsToBytes:function(e){for(var t=[],n=0;n<32*e.length;n+=8)t.push(e[n>>>5]>>>24-n%32&255);return t},bytesToHex:function(e){for(var t=[],n=0;n<e.length;n++)t.push((e[n]>>>4).toString(16)),t.push((15&e[n]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(parseInt(e.substr(n,2),16));return t},bytesToBase64:function(e){for(var n=[],r=0;r<e.length;r+=3)for(var i=e[r]<<16|e[r+1]<<8|e[r+2],o=0;o<4;o++)8*r+6*o<=8*e.length?n.push(t.charAt(i>>>6*(3-o)&63)):n.push("=");return n.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,i=0;r<e.length;i=++r%4)0!=i&&n.push((t.indexOf(e.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|t.indexOf(e.charAt(r))>>>6-2*i);return n}};e.exports=n}()},19785:function(e,t,n){"use strict";function r(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}n.d(t,{Z:function(){return r}})},66700:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(19785);function i(e){(0,r.Z)(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}},64410:function(e){"use strict";function t(e,t){if("function"!==typeof e)throw new TypeError("argument fn must be a function");return e}function n(e,t,n){if(!e||"object"!==typeof e&&"function"!==typeof e)throw new TypeError("argument obj must be object");var r=Object.getOwnPropertyDescriptor(e,t);if(!r)throw new TypeError("must call property on owner object");if(!r.configurable)throw new TypeError("property must be configurable")}e.exports=function(e){if(!e)throw new TypeError("argument namespace is required");function r(e){}return r._file=void 0,r._ignored=!0,r._namespace=e,r._traced=!1,r._warned=Object.create(null),r.function=t,r.property=n,r}},93636:function(e){"use strict";e.exports=function(e){if(e=String(e||""),r.test(e))return"rtl";if(i.test(e))return"ltr";return"neutral"};var t="\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc",n="A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff",r=new RegExp("^[^"+n+"]*["+t+"]"),i=new RegExp("^[^"+t+"]*["+n+"]")},10161:function(e){"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function o(e,t,r,o,a){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new i(r,o||e,a),u=n?n+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],s]:e._events[u].push(s):(e._events[u]=s,e._eventsCount++),e}function a(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,o=r.length,a=new Array(o);i<o;i++)a[i]=r[i].fn;return a},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,o,a){var s=n?n+e:e;if(!this._events[s])return!1;var u,c,l=this._events[s],f=arguments.length;if(l.fn){switch(l.once&&this.removeListener(e,l.fn,void 0,!0),f){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,t),!0;case 3:return l.fn.call(l.context,t,r),!0;case 4:return l.fn.call(l.context,t,r,i),!0;case 5:return l.fn.call(l.context,t,r,i,o),!0;case 6:return l.fn.call(l.context,t,r,i,o,a),!0}for(c=1,u=new Array(f-1);c<f;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var d,h=l.length;for(c=0;c<h;c++)switch(l[c].once&&this.removeListener(e,l[c].fn,void 0,!0),f){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,t);break;case 3:l[c].fn.call(l[c].context,t,r);break;case 4:l[c].fn.call(l[c].context,t,r,i);break;default:if(!u)for(d=1,u=new Array(f-1);d<f;d++)u[d-1]=arguments[d];l[c].fn.apply(l[c].context,u)}}return!0},s.prototype.on=function(e,t,n){return o(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return o(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var o=n?n+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||a(this,o);else{for(var u=0,c=[],l=s.length;u<l;u++)(s[u].fn!==t||i&&!s[u].once||r&&s[u].context!==r)&&c.push(s[u]);c.length?this._events[o]=1===c.length?c[0]:c:a(this,o)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},22699:function(e){"use strict";var t,n="object"===typeof Reflect?Reflect:null,r=n&&"function"===typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"===typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!==e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"===typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}v(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"===typeof e.on&&v(e,"error",t,n)}(e,i,{once:!0})}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function s(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function c(e,t,n,r){var i,o,a,c;if(s(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"===typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=u(e))>0&&a.length>i&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,c=l,console&&console.warn&&console.warn(c)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=l.bind(r);return i.listener=n,r.wrapFn=i,i}function d(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):p(i,i.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function v(e,t,n,r){if("function"===typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return u(this)},o.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=o[e];if(void 0===u)return!1;if("function"===typeof u)r(u,this,t);else{var c=u.length,l=p(u,c);for(n=0;n<c;++n)r(l[n],this,t)}return!0},o.prototype.addListener=function(e,t){return c(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return c(this,e,t,!0)},o.prototype.once=function(e,t){return s(t),this.on(e,f(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,f(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,r,i,o,a;if(s(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},o.prototype.listeners=function(e){return d(this,e,!0)},o.prototype.rawListeners=function(e){return d(this,e,!1)},o.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},o.prototype.listenerCount=h,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},40199:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(53339),a=n(36727);t.backOff=function(e,t){return void 0===t&&(t={}),r(this,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return n=o.getSanitizedOptions(t),[4,new s(e,n).execute()];case 1:return[2,r.sent()]}}))}))};var s=function(){function e(e,t){this.request=e,this.options=t,this.attemptNumber=0}return e.prototype.execute=function(){return r(this,void 0,void 0,(function(){var e;return i(this,(function(t){switch(t.label){case 0:if(this.attemptLimitReached)return[3,7];t.label=1;case 1:return t.trys.push([1,4,,6]),[4,this.applyDelay()];case 2:return t.sent(),[4,this.request()];case 3:return[2,t.sent()];case 4:return e=t.sent(),this.attemptNumber++,[4,this.options.retry(e,this.attemptNumber)];case 5:if(!t.sent()||this.attemptLimitReached)throw e;return[3,6];case 6:return[3,0];case 7:throw new Error("Something went wrong.")}}))}))},Object.defineProperty(e.prototype,"attemptLimitReached",{get:function(){return this.attemptNumber>=this.options.numOfAttempts},enumerable:!0,configurable:!0}),e.prototype.applyDelay=function(){return r(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,a.DelayFactory(this.options,this.attemptNumber).apply()];case 1:return e.sent(),[2]}}))}))},e}()},71293:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(n(21674).Delay);t.AlwaysDelay=i},21674:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(55686),i=function(){function e(e){this.options=e,this.attempt=0}return e.prototype.apply=function(){var e=this;return new Promise((function(t){return setTimeout(t,e.jitteredDelay)}))},e.prototype.setAttemptNumber=function(e){this.attempt=e},Object.defineProperty(e.prototype,"jitteredDelay",{get:function(){return r.JitterFactory(this.options)(this.delay)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"delay",{get:function(){var e=this.options.startingDelay,t=this.options.timeMultiple,n=this.numOfDelayedAttempts,r=e*Math.pow(t,n);return Math.min(r,this.options.maxDelay)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"numOfDelayedAttempts",{get:function(){return this.attempt},enumerable:!0,configurable:!0}),e}();t.Delay=i},36727:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(22073),i=n(71293);t.DelayFactory=function(e,t){var n=function(e){if(!e.delayFirstAttempt)return new r.SkipFirstDelay(e);return new i.AlwaysDelay(e)}(e);return n.setAttemptNumber(t),n}},22073:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.apply=function(){return i(this,void 0,void 0,(function(){return o(this,(function(t){return[2,!!this.isFirstAttempt||e.prototype.apply.call(this)]}))}))},Object.defineProperty(t.prototype,"isFirstAttempt",{get:function(){return 0===this.attempt},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"numOfDelayedAttempts",{get:function(){return this.attempt-1},enumerable:!0,configurable:!0}),t}(n(21674).Delay);t.SkipFirstDelay=a},67216:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fullJitter=function(e){var t=Math.random()*e;return Math.round(t)}},55686:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(67216),i=n(37129);t.JitterFactory=function(e){return"full"===e.jitter?r.fullJitter:i.noJitter}},37129:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.noJitter=function(e){return e}},53339:function(e,t){"use strict";var n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var r={delayFirstAttempt:!1,jitter:"none",maxDelay:1/0,numOfAttempts:10,retry:function(){return!0},startingDelay:100,timeMultiple:2};t.getSanitizedOptions=function(e){var t=n(n({},r),e);return t.numOfAttempts<1&&(t.numOfAttempts=1),t}},69378:function(e){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!==i--;){var a=o[i];if(!e(t[a],n[a]))return!1}return!0}return t!==t&&n!==n}},35532:function(e,t,n){"use strict";n.d(t,{Z:function(){return r.Z}});var r=n(72475),i="8.10.1";r.Z.registerVersion("firebase",i,"app"),r.Z.SDK_VERSION=i},99688:function(e,t,n){"use strict";var r=n(72475),i=n(32444),o=n(76765),a=n(5163),s=n(13936);e=n.hmd(e);var u=n(34406),c="";function l(e){c=e}var f=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,o.Pz)(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,o.cI)(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),d=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return(0,o.r3)(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),h=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new f(t)}}catch(n){}return new d},p=h("localStorage"),v=h("sessionStorage"),m=new s.Yd("@firebase/database"),g=function(){var e=1;return function(){return e++}}(),y=function(e){var t=(0,o.dS)(e),n=new o.gQ;n.update(t);var r=n.digest();return o.US.encodeByteArray(r)},b=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++){var i=e[r];Array.isArray(i)||i&&"object"===typeof i&&"number"===typeof i.length?n+=b.apply(null,i):n+="object"===typeof i?(0,o.Pz)(i):i,n+=" "}return n},w=null,_=!0,E=function(e,t){(0,o.hu)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(m.logLevel=s.in.VERBOSE,w=m.log.bind(m),t&&v.set("logging_enabled",!0)):"function"===typeof e?w=e:(w=null,v.remove("logging_enabled"))},S=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===_&&(_=!1,null===w&&!0===v.get("logging_enabled")&&E(!0)),w){var n=b.apply(null,e);w(n)}},x=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];S.apply(void 0,(0,a.ev)([e],(0,a.CR)(t)))}},O=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+b.apply(void 0,(0,a.ev)([],(0,a.CR)(e)));m.error(n)},C=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+b.apply(void 0,(0,a.ev)([],(0,a.CR)(e)));throw m.error(n),new Error(n)},k=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+b.apply(void 0,(0,a.ev)([],(0,a.CR)(e)));m.warn(n)},T=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},A="[MIN_NAME]",I="[MAX_NAME]",D=function(e,t){if(e===t)return 0;if(e===A||t===I)return-1;if(t===A||e===I)return 1;var n=V(e),r=V(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},P=function(e,t){return e===t?0:e<t?-1:1},R=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+(0,o.Pz)(t))},N=function(e){if("object"!==typeof e||null===e)return(0,o.Pz)(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",i=0;i<t.length;i++)0!==i&&(r+=","),r+=(0,o.Pz)(t[i]),r+=":",r+=N(e[t[i]]);return r+="}"},j=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function M(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var L=function(e){(0,o.hu)(!T(e),"Invalid JSON number");var t,n,r,i,a,s=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),s))+s,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var u=[];for(a=52;a;a-=1)u.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)u.push(n%2?1:0),n=Math.floor(n/2);u.push(t?1:0),u.reverse();var c=u.join(""),l="";for(a=0;a<64;a+=8){var f=parseInt(c.substr(a,8),2).toString(16);1===f.length&&(f="0"+f),l+=f}return l.toLowerCase()};var F=new RegExp("^-?(0*)\\d{1,10}$"),B=-2147483648,U=2147483647,V=function(e){if(F.test(e)){var t=Number(e);if(t>=B&&t<=U)return t}return null},z=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw k("Exception was thrown by user callback.",e),t}),Math.floor(0))}},q=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n},Z=function(){function e(e,t){var n=this;this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((function(e){return n.appCheck=e}))}return e.prototype.getToken=function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){k('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}(),H=function(){function e(e,t,n){var r=this;this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((function(e){return r.auth_=e}))}return e.prototype.getToken=function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(S("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',k(e)},e}(),W=function(){function e(e){this.accessToken=e}return e.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(e){e(this.accessToken)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}(),G="5",K=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,J="websocket",Y="long_polling",$=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=p.get("host:"+e)||this._host}return e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&p.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+t},e}();function X(e,t,n){var r;if((0,o.hu)("string"===typeof t,"typeof type must == string"),(0,o.hu)("object"===typeof n,"typeof params must == object"),t===J)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==Y)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return M(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var Q=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),(0,o.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return(0,o.p$)(this.counters_)},e}(),ee={},te={};function ne(e){var t=e.toString();return ee[t]||(ee[t]=new Q),ee[t]}var re=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&z((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},e}(),ie="start",oe="close",ae=function(){function e(e,t,n,r,i,o,a){var s=this;this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=x(e),this.stats_=ne(t),this.urlFn=function(e){return s.appCheckToken&&(e.ac=s.appCheckToken),X(t,Y,e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new re(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if((0,o.Yr)()||"complete"===document.readyState)e();else{var t=!1,n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new se((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,a.CR)(e,5),i=r[0],o=r[1],s=r[2];if(r[3],r[4],n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===ie)n.id=o,n.password=s;else{if(i!==oe)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,a.CR)(e,2),i=r[0],o=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=G,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&K.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!(0,o.Yr)()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=(0,o.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=(0,o.h$)(t),r=j(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!(0,o.Yr)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=(0,o.Pz)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),se=function(){function e(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,o.Yr)())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=g(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(u){S("frame writing exception"),u.stack&&S(u.stack),S(u)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||S("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},e.prototype.addTag=function(e,t){var n=this;(0,o.Yr)()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){S("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},e}(),ue=null;"undefined"!==typeof MozWebSocket?ue=MozWebSocket:"undefined"!==typeof WebSocket&&(ue=WebSocket);var ce=function(){function e(t,n,r,i,o,a,s){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=x(this.connId),this.stats_=ne(n),this.connURL=e.connectionURL_(n,a,s,i),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(e,t,n,r){var i={};return i.v=G,!(0,o.Yr)()&&"undefined"!==typeof location&&location.hostname&&K.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i.ac=r),X(e,J,i)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,p.set("previous_websocket_failure",!0);try{if((0,o.Yr)()){var r=this.nodeAdmin?"AdminNode":"Node",i={headers:{"User-Agent":"Firebase/5/"+c+"/"+u.platform+"/"+r,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(i.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a=u.env,s=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;s&&(i.proxy={origin:s}),this.mySock=new ue(this.connURL,[],i)}else{i={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new ue(this.connURL,[],i)}}catch(f){this.log_("Error instantiating WebSocket.");var l=f.message||f.data;return l&&this.log_(l),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==ue&&!e.forceDisallow_},e.previouslyFailed=function(){return p.isInMemoryStorage||!0===p.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){p.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=(0,o.cI)(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if((0,o.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=(0,o.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=j(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),le=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[ae,ce]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=ce&&ce.isAvailable(),o=i&&!ce.previouslyFailed();if(t.webSocketOnly&&(i||k("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[ce];else{var s=this.transports_=[];try{for(var u=(0,a.XA)(e.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&s.push(l)}}catch(f){n={error:f}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),fe=function(){function e(e,t,n,r,i,o,a,s,u,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=x("c:"+this.id+":"),this.transportManager_=new le(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=q((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=R("t",e),n=R("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=R("t",e),n=R("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=R("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?O("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):O("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),G!==n&&k("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),q((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):q((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(p.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),de=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.refreshAppCheckToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),he=function(){function e(e){this.allowedEvents_=e,this.listeners_={},(0,o.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=(0,a.ev)([],(0,a.CR)(this.listeners_[e])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){(0,o.hu)(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),pe=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||(0,o.uI)()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return(0,a.ZT)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return(0,o.hu)("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(he),ve=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e}();function me(){return new ve("")}function ge(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function ye(e){return e.pieces_.length-e.pieceNum_}function be(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new ve(e.pieces_,t)}function we(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function _e(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function Ee(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new ve(t,0)}function Se(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof ve)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new ve(n,0)}function xe(e){return e.pieceNum_>=e.pieces_.length}function Oe(e,t){var n=ge(e),r=ge(t);if(null===n)return t;if(n===r)return Oe(be(e),be(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Ce(e,t){for(var n=_e(e,0),r=_e(t,0),i=0;i<n.length&&i<r.length;i++){var o=D(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function ke(e,t){if(ye(e)!==ye(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Te(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(ye(e)>ye(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Ae=function(e,t){this.errorPrefix_=t,this.parts_=_e(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=(0,o.ug)(this.parts_[n]);Ie(this)};function Ie(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+De(e))}function De(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Pe,Re,Ne=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(n="visibilitychange",t="hidden"):"undefined"!==typeof document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):"undefined"!==typeof document.msHidden?(n="msvisibilitychange",t="msHidden"):"undefined"!==typeof document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return(0,a.ZT)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return(0,o.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(he),je=1e3,Me=function(e){function t(n,r,i,a,s,u,c,l){var f=e.call(this)||this;if(f.repoInfo_=n,f.applicationId_=r,f.onDataUpdate_=i,f.onConnectStatus_=a,f.onServerInfoUpdate_=s,f.authTokenProvider_=u,f.appCheckTokenProvider_=c,f.authOverride_=l,f.id=t.nextPersistentConnectionId_++,f.log_=x("p:"+f.id+":"),f.interruptReasons_={},f.listens=new Map,f.outstandingPuts_=[],f.outstandingGets_=[],f.outstandingPutCount_=0,f.outstandingGetCount_=0,f.onDisconnectRequestQueue_=[],f.connected_=!1,f.reconnectDelay_=je,f.maxReconnectDelay_=3e5,f.securityDebugCallback_=null,f.lastSessionId=null,f.establishConnectionTimer_=null,f.visible_=!1,f.requestCBHash_={},f.requestNumber_=0,f.realtime_=null,f.authToken_=null,f.appCheckToken_=null,f.forceTokenRefresh_=!1,f.invalidAuthTokenCount_=0,f.invalidAppCheckTokenCount_=0,f.firstConnection_=!0,f.lastConnectionAttemptTime_=null,f.lastConnectionEstablishedTime_=null,l&&!(0,o.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return Ne.getInstance().on("visible",f.onVisible_,f),-1===n.host.indexOf("fblocal")&&pe.getInstance().on("online",f.onOnline_,f),f}return(0,a.ZT)(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_((0,o.Pz)(i)),(0,o.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.get=function(e){var t=this;this.initConnection_();var n=new o.BH,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[a];void 0!==e&&i===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(a),n.promise},t.prototype.listen=function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),(0,o.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,o.hu)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,s),this.connected_&&this.sendListen_(s)},t.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;t.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),e.onComplete&&e.onComplete(u,s))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"===typeof e&&(0,o.r3)(e,"w")){var n=(0,o.DV)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();k("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||(0,o.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.refreshAppCheckToken=function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=(0,o.w9)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},t.prototype.tryAppCheck=function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))},t.prototype.unlisten=function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),(0,o.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){this.initConnection_();var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+(0,o.Pz)(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):O("Unrecognized action received from server: "+(0,o.Pz)(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;(0,o.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=je,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=je,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=je),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return(0,a.mG)(this,void 0,void 0,(function(){var e,n,r,i,s,u,c,l,f,d,h,p,v,m,g=this;return(0,a.Jh)(this,(function(y){switch(y.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,u=!1,c=null,l=function(){c?c.close():(u=!0,r())},f=function(e){(0,o.hu)(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(e)},this.realtime_={close:l,sendRequest:f},d=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)])];case 2:return h=a.CR.apply(void 0,[y.sent(),2]),p=h[0],v=h[1],u?S("getToken() completed but was canceled"):(S("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=v&&v.token,c=new fe(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,(function(e){k(e+" ("+g.repoInfo_.toString()+")"),g.interrupt("server_kill")}),s)),[3,4];case 3:return m=y.sent(),this.log_("Failed to get token: "+m),u||(this.repoInfo_.nodeAdmin&&k(m),l()),[3,4];case 4:return[2]}}))}))},t.prototype.interrupt=function(e){S("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){S("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,o.xb)(this.interruptReasons_)&&(this.reconnectDelay_=je,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return N(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new ve(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){S("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(e,t){S("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=(0,a.XA)(this.listens.values()),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var u=(n=void 0,(0,a.XA)(s.values())),c=u.next();!c.done;c=u.next()){var l=c.value;this.sendListen_(l)}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(p){e={error:p}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var f=0;f<this.outstandingPuts_.length;f++)this.outstandingPuts_[f]&&this.sendPut_(f);for(;this.onDisconnectRequestQueue_.length;){var d=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(d.action,d.pathString,d.data,d.onComplete)}for(f=0;f<this.outstandingGets_.length;f++)this.outstandingGets_[f]&&this.sendGet_(f)},t.prototype.sendConnectStats_=function(){var e={},t="js";(0,o.Yr)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+c.replace(/\./g,"-")]=1,(0,o.uI)()?e["framework.cordova"]=1:(0,o.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=pe.getInstance().currentlyOnline();return(0,o.xb)(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(de),Le=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),Fe=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new Le(A,e),r=new Le(A,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return Le.MIN},e}(),Be=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return Pe},set:function(e){Pe=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return D(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw(0,o.g5)("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return Le.MIN},t.prototype.maxPost=function(){return new Le(I,Pe)},t.prototype.makePost=function(e,t){return(0,o.hu)("string"===typeof e,"KeyIndex indexValue must always be a string."),new Le(e,Pe)},t.prototype.toString=function(){return".key"},t}(Fe),Ue=new Be,Ve=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),ze=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:Ze.EMPTY_NODE,this.right=null!=o?o:Ze.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return Ze.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return Ze.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),qe=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new ze(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),Ze=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,ze.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ze.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new Ve(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new Ve(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new Ve(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new Ve(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new qe,e}();function He(e,t){return D(e.name,t.name)}function We(e,t){return D(e,t)}var Ge,Ke,Je,Ye=function(e){return"number"===typeof e?"number:"+L(e):"string:"+e},$e=function(e){if(e.isLeafNode()){var t=e.val();(0,o.hu)("string"===typeof t||"number"===typeof t||"object"===typeof t&&(0,o.r3)(t,".sv"),"Priority must be a string or number.")}else(0,o.hu)(e===Re||e.isEmpty(),"priority of unexpected type.");(0,o.hu)(e===Re||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Xe=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,(0,o.hu)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),$e(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return Ge},set:function(e){Ge=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return xe(t)?this:".priority"===ge(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=ge(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:((0,o.hu)(".priority"!==r||1===ye(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(be(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Ye(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?L(this.value_):this.value_,this.lazyHash_=y(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:((0,o.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return(0,o.hu)(i>=0,"Unknown leaf type: "+n),(0,o.hu)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();var Qe,et,tt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?D(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return Le.MIN},t.prototype.maxPost=function(){return new Le(I,new Xe("[PRIORITY-POST]",Je))},t.prototype.makePost=function(e,t){var n=Ke(e);return new Le(t,new Xe("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(Fe),nt=new tt,rt=Math.log(2),it=function(){function e(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/rt,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=e+1&r}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),ot=function(e,t,n,r){e.sort(t);var i=function(t,r){var o,a,s=r-t;if(0===s)return null;if(1===s)return o=e[t],a=n?n(o):o,new ze(a,o.node,ze.BLACK,null,null);var u=parseInt(s/2,10)+t,c=i(t,u),l=i(u+1,r);return o=e[u],a=n?n(o):o,new ze(a,o.node,ze.BLACK,c,l)},o=function(t){for(var r=null,o=null,a=e.length,s=function(t,r){var o=a-t,s=a;a-=t;var c=i(o+1,s),l=e[o],f=n?n(l):l;u(new ze(f,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(o=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),f=Math.pow(2,t.count-(c+1));l?s(f,ze.BLACK):(s(f,ze.BLACK),s(f,ze.RED))}return o}(new it(e.length));return new Ze(r||t,o)},at={},st=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return(0,o.hu)(at&&nt,"ChildrenNode.ts has not been loaded"),Qe=Qe||new e({".priority":at},{".priority":nt})},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=(0,o.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Ze?t:null},e.prototype.hasIndex=function(e){return(0,o.r3)(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){(0,o.hu)(t!==Ue,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],s=!1,u=n.getIterator(Le.Wrap),c=u.getNext();c;)s=s||t.isDefinedOn(c.node),i.push(c),c=u.getNext();r=s?ot(i,t.getCompare()):at;var l=t.toString(),f=(0,a.pi)({},this.indexSet_);f[l]=t;var d=(0,a.pi)({},this.indexes_);return d[l]=r,new e(d,f)},e.prototype.addToIndexes=function(t,n){var r=this;return new e((0,o.UI)(this.indexes_,(function(e,i){var a=(0,o.DV)(r.indexSet_,i);if((0,o.hu)(a,"Missing index implementation for "+i),e===at){if(a.isDefinedOn(t.node)){for(var s=[],u=n.getIterator(Le.Wrap),c=u.getNext();c;)c.name!==t.name&&s.push(c),c=u.getNext();return s.push(t),ot(s,a.getCompare())}return at}var l=n.get(t.name),f=e;return l&&(f=f.remove(new Le(t.name,l))),f.insert(t,t.node)})),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e((0,o.UI)(this.indexes_,(function(e){if(e===at)return e;var r=n.get(t.name);return r?e.remove(new Le(t.name,r)):e})),this.indexSet_)},e}(),ut=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&$e(this.priorityNode_),this.children_.isEmpty()&&(0,o.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return et||(et=new e(new Ze(We),null,st.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||et},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?et:t},e.prototype.getChild=function(e){var t=ge(e);return null===t?this:this.getImmediateChild(t).getChild(be(e))},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if((0,o.hu)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new Le(t,n),i=void 0,a=void 0;n.isEmpty()?(i=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),a=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?et:this.priorityNode_;return new e(i,s,a)},e.prototype.updateChild=function(e,t){var n=ge(e);if(null===n)return t;(0,o.hu)(".priority"!==ge(e)||1===ye(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(be(e),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(nt,(function(a,s){n[a]=s.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!t&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Ye(this.getPriority().val())+":"),this.forEachChild(nt,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":y(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Le(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new Le(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new Le(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,Le.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,Le.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ct?-1:0},e.prototype.withIndex=function(t){if(t===Ue||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===Ue||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(nt),r=t.getIterator(nt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===Ue?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),ct=new(function(e){function t(){return e.call(this,new Ze(We),ut.EMPTY_NODE,st.Default)||this}return(0,a.ZT)(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return ut.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(ut));Object.defineProperties(Le,{MIN:{value:new Le(A,ut.EMPTY_NODE)},MAX:{value:new Le(I,ct)}}),Be.__EMPTY_NODE=ut.EMPTY_NODE,Xe.__childrenNodeConstructor=ut,Re=ct,function(e){Je=e}(ct);function lt(e,t){if(void 0===t&&(t=null),null===e)return ut.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),(0,o.hu)(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e)return new Xe(e,lt(t));if(e instanceof Array){var n=ut.EMPTY_NODE;return M(e,(function(t,r){if((0,o.r3)(e,t)&&"."!==t.substring(0,1)){var i=lt(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(lt(t))}var r=[],i=!1;if(M(e,(function(e,t){if("."!==e.substring(0,1)){var n=lt(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Le(e,n)))}})),0===r.length)return ut.EMPTY_NODE;var a=ot(r,He,(function(e){return e.name}),We);if(i){var s=ot(r,nt.getCompare());return new ut(a,lt(t),new st({".priority":s},{".priority":nt}))}return new ut(a,lt(t),st.Default)}!function(e){Ke=e}(lt);var ft=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,(0,o.hu)(!xe(t)&&".priority"!==ge(t),"Can't create PathIndex with empty path or .priority key"),n}return(0,a.ZT)(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?D(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=lt(e),r=ut.EMPTY_NODE.updateChild(this.indexPath_,n);return new Le(t,r)},t.prototype.maxPost=function(){var e=ut.EMPTY_NODE.updateChild(this.indexPath_,ct);return new Le(I,e)},t.prototype.toString=function(){return _e(this.indexPath_,0).join("/")},t}(Fe),dt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?D(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return Le.MIN},t.prototype.maxPost=function(){return Le.MAX},t.prototype.makePost=function(e,t){var n=lt(e);return new Le(t,n)},t.prototype.toString=function(){return".value"},t}(Fe),ht=new dt,pt="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",vt=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=pt.charAt(n%64),n=Math.floor(n/64);(0,o.hu)(0===n,"Cannot push at time == 0");var s=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)s+=pt.charAt(t[r]);return(0,o.hu)(20===s.length,"nextPushId: Length should be 20."),s}}(),mt=function(e){if("2147483647"===e)return"-";var t=V(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return I;var o=n[i],a=pt.charAt(pt.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},gt=function(e){if("-2147483648"===e)return A;var t=V(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=pt.charAt(pt.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function yt(e){return{type:"value",snapshotNode:e}}function bt(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function wt(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function _t(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var Et=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,a){(0,o.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(wt(t,s)):(0,o.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(bt(t,n)):a.trackChildChange(_t(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(nt,(function(e,r){t.hasChild(e)||n.trackChildChange(wt(e,r))})),t.isLeafNode()||t.forEachChild(nt,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(_t(t,r,i))}else n.trackChildChange(bt(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?ut.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),St=function(){function e(t){this.indexedFilter_=new Et(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new Le(t,n))||(n=ut.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=ut.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(ut.EMPTY_NODE);var i=this;return t.forEachChild(nt,(function(e,t){i.matches(new Le(e,t))||(r=r.updateImmediateChild(e,ut.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),xt=function(){function e(e){this.rangedFilter_=new St(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new Le(t,n))||(n=ut.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=ut.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=ut.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(ut.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(e,t){return l(t,e)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var f=!1;i.hasNext();){a=i.getNext();!f&&c(s,a)<=0&&(f=!0),f&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,ut.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(e,t){return s(t,e)}}else a=this.index_.getCompare();var u=e;(0,o.hu)(u.numChildren()===this.limit_,"");var c=new Le(t,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),f=this.rangedFilter_.matches(c);if(u.hasChild(t)){for(var d=u.getImmediateChild(t),h=r.getChildAfterChild(this.index_,l,this.reverse_);null!=h&&(h.name===t||u.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);var p=null==h?1:a(h,c);if(f&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(_t(t,n,d)),u.updateImmediateChild(t,n);null!=i&&i.trackChildChange(wt(t,d));var v=u.updateImmediateChild(t,ut.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(null!=i&&i.trackChildChange(bt(h.name,h.node)),v.updateImmediateChild(h.name,h.node)):v}return n.isEmpty()?e:f&&a(l,c)>=0?(null!=i&&(i.trackChildChange(wt(l.name,l.node)),i.trackChildChange(bt(t,n))),u.updateImmediateChild(t,n).updateImmediateChild(l.name,ut.EMPTY_NODE)):e},e}(),Ot=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=nt}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},e.prototype.getIndexStartValue=function(){return(0,o.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return(0,o.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:A},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return(0,o.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return(0,o.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:I},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return(0,o.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===nt},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function Ct(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function kt(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function Tt(e,t){var n=e.copy();return n.index_=t,n}function At(e){var t,n={};return e.isDefault()||(e.index_===nt?t="$priority":e.index_===ht?t="$value":e.index_===Ue?t="$key":((0,o.hu)(e.index_ instanceof ft,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=(0,o.Pz)(t),e.startSet_&&(n.startAt=(0,o.Pz)(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+(0,o.Pz)(e.indexStartName_))),e.endSet_&&(n.endAt=(0,o.Pz)(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+(0,o.Pz)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function It(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==nt&&(t.i=e.index_.toString()),t}var Dt=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.repoInfo_=t,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=x("p:rest:"),o.listens_={},o}return(0,a.ZT)(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:((0,o.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())},t.prototype.listen=function(e,n,r,i){var a=this,s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);var u=t.getListenId_(e,r),c={};this.listens_[u]=c;var l=At(e._queryParams);this.restRequest_(s+".json",l,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(s,n,!1,r),(0,o.DV)(a.listens_,u)===c)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.get=function(e){var t=this,n=At(e._queryParams),r=e._path.toString(),i=new o.BH;return this.restRequest_(r+".json",n,(function(e,n){var o=n;404===e&&(o=null,e=null),null===e?(t.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;return void 0===t&&(t={}),t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var s=(0,a.CR)(i,2),u=s[0],c=s[1];u&&u.accessToken&&(t.auth=u.accessToken),c&&c.token&&(t.ac=c.token);var l=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+(0,o.xO)(t);r.log_("Sending REST request for "+l);var f=new XMLHttpRequest;f.onreadystatechange=function(){if(n&&4===f.readyState){r.log_("REST Response for "+l+" received. status:",f.status,"response:",f.responseText);var e=null;if(f.status>=200&&f.status<300){try{e=(0,o.cI)(f.responseText)}catch(t){k("Failed to parse JSON response for "+l+": "+f.responseText)}n(null,e)}else 401!==f.status&&404!==f.status&&k("Got unsuccessful REST response for "+l+" Status: "+f.status),n(f.status);n=null}},f.open("GET",l,!0),f.send()}))},t}(de),Pt=function(){function e(){this.rootNode_=ut.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}();function Rt(){return{value:null,children:new Map}}function Nt(e,t,n){if(xe(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=ge(t);e.children.has(r)||e.children.set(r,Rt()),Nt(e.children.get(r),t=be(t),n)}}function jt(e,t){if(xe(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(nt,(function(t,n){Nt(e,new ve(t),n)})),jt(e,t)}if(e.children.size>0){var r=ge(t);if(t=be(t),e.children.has(r))jt(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function Mt(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){Mt(r,new ve(t.toString()+"/"+e),n)}))}var Lt,Ft=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=(0,a.pi)({},e);return this.last_&&M(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),Bt=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Ft(e);var n=1e4+2e4*Math.random();q(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;M(t,(function(t,i){i>0&&(0,o.r3)(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),q(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}();function Ut(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Lt||(Lt={}));var Vt,zt=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Lt.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return e.prototype.operationForChild=function(t){if(xe(this.path)){if(null!=this.affectedTree.value)return(0,o.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new ve(t));return new e(me(),n,this.revert)}return(0,o.hu)(ge(this.path)===t,"operationForChild called for unrelated child."),new e(be(this.path),this.affectedTree,this.revert)},e}(),qt=function(){function e(e,t){this.source=e,this.path=t,this.type=Lt.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return xe(this.path)?new e(this.source,me()):new e(this.source,be(this.path))},e}(),Zt=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Lt.OVERWRITE}return e.prototype.operationForChild=function(t){return xe(this.path)?new e(this.source,me(),this.snap.getImmediateChild(t)):new e(this.source,be(this.path),this.snap)},e}(),Ht=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Lt.MERGE}return e.prototype.operationForChild=function(t){if(xe(this.path)){var n=this.children.subtree(new ve(t));return n.isEmpty()?null:n.value?new Zt(this.source,me(),n.value):new e(this.source,me(),n)}return(0,o.hu)(ge(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,be(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),Wt=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(xe(e))return this.isFullyInitialized()&&!this.filtered_;var t=ge(e);return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),Gt=function(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()};function Kt(e,t,n,r,i,a){var s=r.filter((function(e){return e.type===n}));s.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw(0,o.g5)("Should only compare child_ events.");var r=new Le(t.childName,t.snapshotNode),i=new Le(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),s.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function Jt(e,t){return{eventCache:e,serverCache:t}}function Yt(e,t,n,r){return Jt(new Wt(t,n,r),e.serverCache)}function $t(e,t,n,r){return Jt(e.eventCache,new Wt(t,n,r))}function Xt(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Qt(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var en=function(){function e(e,t){void 0===t&&(Vt||(Vt=new Ze(P)),t=Vt),this.value=e,this.children=t}return e.fromObject=function(t){var n=new e(null);return M(t,(function(e,t){n=n.set(new ve(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:me(),value:this.value};if(xe(e))return null;var n=ge(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(be(e),t);return null!=i?{path:Se(new ve(n),i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(xe(t))return this;var n=ge(t),r=this.children.get(n);return null!==r?r.subtree(be(t)):new e(null)},e.prototype.set=function(t,n){if(xe(t))return new e(n,this.children);var r=ge(t),i=(this.children.get(r)||new e(null)).set(be(t),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if(xe(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=ge(t),r=this.children.get(n);if(r){var i=r.remove(be(t)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new e(null):new e(this.value,o)}return this},e.prototype.get=function(e){if(xe(e))return this.value;var t=ge(e),n=this.children.get(t);return n?n.get(be(e)):null},e.prototype.setTree=function(t,n){if(xe(t))return n;var r=ge(t),i=(this.children.get(r)||new e(null)).setTree(be(t),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new e(this.value,o)},e.prototype.fold=function(e){return this.fold_(me(),e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(Se(e,r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,me(),t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(xe(e))return null;var i=ge(e),o=this.children.get(i);return o?o.findOnPath_(be(e),Se(t,i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,me(),t)},e.prototype.foreachOnPath_=function(t,n,r){if(xe(t))return this;this.value&&r(n,this.value);var i=ge(t),o=this.children.get(i);return o?o.foreachOnPath_(be(t),Se(n,i),r):new e(null)},e.prototype.foreach=function(e){this.foreach_(me(),e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(Se(e,n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e}(),tn=function(){function e(e){this.writeTree_=e}return e.empty=function(){return new e(new en(null))},e}();function nn(e,t,n){if(xe(t))return new tn(new en(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=Oe(i,t);return o=o.updateChild(a,n),new tn(e.writeTree_.set(i,o))}var s=new en(n),u=e.writeTree_.setTree(t,s);return new tn(u)}function rn(e,t,n){var r=e;return M(n,(function(e,n){r=nn(r,Se(t,e),n)})),r}function on(e,t){if(xe(t))return tn.empty();var n=e.writeTree_.setTree(t,new en(null));return new tn(n)}function an(e,t){return null!=sn(e,t)}function sn(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Oe(n.path,t)):null}function un(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(nt,(function(e,n){t.push(new Le(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Le(e,n.value))})),t}function cn(e,t){if(xe(t))return e;var n=sn(e,t);return new tn(null!=n?new en(n):e.writeTree_.subtree(t))}function ln(e){return e.writeTree_.isEmpty()}function fn(e,t){return dn(me(),e.writeTree_,t)}function dn(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?((0,o.hu)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=dn(Se(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Se(e,".priority"),r)),n}function hn(e,t){return Cn(t,e)}function pn(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));(0,o.hu)(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,s=e.allWrites.length-1;i&&s>=0;){var u=e.allWrites[s];u.visible&&(s>=n&&vn(u,r.path)?i=!1:Te(r.path,u.path)&&(a=!0)),s--}if(i){if(a)return function(e){e.visibleWrites=gn(e.allWrites,mn,me()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=on(e.visibleWrites,r.path):M(r.children,(function(t){e.visibleWrites=on(e.visibleWrites,Se(r.path,t))}));return!0}return!1}function vn(e,t){if(e.snap)return Te(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Te(Se(e.path,n),t))return!0;return!1}function mn(e){return e.visible}function gn(e,t,n){for(var r=tn.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var s=a.path,u=void 0;if(a.snap)Te(n,s)?r=nn(r,u=Oe(n,s),a.snap):Te(s,n)&&(u=Oe(s,n),r=nn(r,me(),a.snap.getChild(u)));else{if(!a.children)throw(0,o.g5)("WriteRecord should have .snap or .children");if(Te(n,s))r=rn(r,u=Oe(n,s),a.children);else if(Te(s,n))if(xe(u=Oe(s,n)))r=rn(r,me(),a.children);else{var c=(0,o.DV)(a.children,ge(u));if(c){var l=c.getChild(be(u));r=nn(r,me(),l)}}}}}return r}function yn(e,t,n,r,i){if(r||i){var o=cn(e.visibleWrites,t);if(!i&&ln(o))return n;if(i||null!=n||an(o,me())){return fn(gn(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Te(e.path,t)||Te(t,e.path))}),t),n||ut.EMPTY_NODE)}return null}var a=sn(e.visibleWrites,t);if(null!=a)return a;var s=cn(e.visibleWrites,t);return ln(s)?n:null!=n||an(s,me())?fn(s,n||ut.EMPTY_NODE):null}function bn(e,t,n,r){return yn(e.writeTree,e.treePath,t,n,r)}function wn(e,t){return function(e,t,n){var r=ut.EMPTY_NODE,i=sn(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(nt,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var o=cn(e.visibleWrites,t);return n.forEachChild(nt,(function(e,t){var n=fn(cn(o,new ve(e)),t);r=r.updateImmediateChild(e,n)})),un(o).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return un(cn(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function _n(e,t,n,r){return function(e,t,n,r,i){(0,o.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=Se(t,n);if(an(e.visibleWrites,a))return null;var s=cn(e.visibleWrites,a);return ln(s)?i.getChild(n):fn(s,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function En(e,t){return function(e,t){return sn(e.visibleWrites,t)}(e.writeTree,Se(e.treePath,t))}function Sn(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){var s,u=cn(e.visibleWrites,t),c=sn(u,me());if(null!=c)s=c;else{if(null==n)return[];s=fn(u,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var l=[],f=a.getCompare(),d=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),h=d.getNext();h&&l.length<i;)0!==f(h,r)&&l.push(h),h=d.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,o)}function xn(e,t,n){return function(e,t,n,r){var i=Se(t,n),o=sn(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?fn(cn(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function On(e,t){return Cn(Se(e.treePath,t),e.writeTree)}function Cn(e,t){return{treePath:e,writeTree:t}}var kn=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;(0,o.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,o.hu)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,_t(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,wt(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,bt(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw(0,o.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,_t(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),Tn=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),An=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Wt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return xn(this.writes_,e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Qt(this.viewCache_),i=Sn(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]},e}();function In(e,t,n,r,i){var a,s,u=new kn;if(n.type===Lt.OVERWRITE){var c=n;c.source.fromUser?a=Rn(e,t,c.path,c.snap,r,i,u):((0,o.hu)(c.source.fromServer,"Unknown source."),s=c.source.tagged||t.serverCache.isFiltered()&&!xe(c.path),a=Pn(e,t,c.path,c.snap,r,i,s,u))}else if(n.type===Lt.MERGE){var l=n;l.source.fromUser?a=function(e,t,n,r,i,o,a){var s=t;return r.foreach((function(r,u){var c=Se(n,r);Nn(t,ge(c))&&(s=Rn(e,s,c,u,i,o,a))})),r.foreach((function(r,u){var c=Se(n,r);Nn(t,ge(c))||(s=Rn(e,s,c,u,i,o,a))})),s}(e,t,l.path,l.children,r,i,u):((0,o.hu)(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered(),a=Mn(e,t,l.path,l.children,r,i,s,u))}else if(n.type===Lt.ACK_USER_WRITE){var f=n;a=f.revert?function(e,t,n,r,i,a){var s;if(null!=En(r,n))return t;var u=new An(r,t,i),c=t.eventCache.getNode(),l=void 0;if(xe(n)||".priority"===ge(n)){var f=void 0;if(t.serverCache.isFullyInitialized())f=bn(r,Qt(t));else{var d=t.serverCache.getNode();(0,o.hu)(d instanceof ut,"serverChildren would be complete if leaf node"),f=wn(r,d)}f=f,l=e.filter.updateFullNode(c,f,a)}else{var h=ge(n),p=xn(r,h,t.serverCache);null==p&&t.serverCache.isCompleteForChild(h)&&(p=c.getImmediateChild(h)),(l=null!=p?e.filter.updateChild(c,h,p,be(n),u,a):t.eventCache.getNode().hasChild(h)?e.filter.updateChild(c,h,ut.EMPTY_NODE,be(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(s=bn(r,Qt(t))).isLeafNode()&&(l=e.filter.updateFullNode(l,s,a))}return s=t.serverCache.isFullyInitialized()||null!=En(r,me()),Yt(t,l,s,e.filter.filtersNodes())}(e,t,f.path,r,i,u):function(e,t,n,r,i,o,a){if(null!=En(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(xe(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Pn(e,t,n,u.getNode().getChild(n),i,o,s,a);if(xe(n)){var c=new en(null);return u.getNode().forEachChild(Ue,(function(e,t){c=c.set(new ve(e),t)})),Mn(e,t,n,c,i,o,s,a)}return t}var l=new en(null);return r.foreach((function(e,t){var r=Se(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),Mn(e,t,n,l,i,o,s,a)}(e,t,f.path,f.affectedTree,r,i,u)}else{if(n.type!==Lt.LISTEN_COMPLETE)throw(0,o.g5)("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var o=t.serverCache,a=$t(t,o.getNode(),o.isFullyInitialized()||xe(n),o.isFiltered());return Dn(e,a,n,r,Tn,i)}(e,t,n.path,r,u)}var d=u.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Xt(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(yt(Xt(t)))}}(t,a,d),{viewCache:a,changes:d}}function Dn(e,t,n,r,i,a){var s=t.eventCache;if(null!=En(r,n))return t;var u=void 0,c=void 0;if(xe(n))if((0,o.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=Qt(t),f=wn(r,l instanceof ut?l:ut.EMPTY_NODE);u=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var d=bn(r,Qt(t));u=e.filter.updateFullNode(t.eventCache.getNode(),d,a)}else{var h=ge(n);if(".priority"===h){(0,o.hu)(1===ye(n),"Can't have a priority with additional path components");var p=s.getNode(),v=_n(r,n,p,c=t.serverCache.getNode());u=null!=v?e.filter.updatePriority(p,v):s.getNode()}else{var m=be(n),g=void 0;if(s.isCompleteForChild(h)){c=t.serverCache.getNode();var y=_n(r,n,s.getNode(),c);g=null!=y?s.getNode().getImmediateChild(h).updateChild(m,y):s.getNode().getImmediateChild(h)}else g=xn(r,h,t.serverCache);u=null!=g?e.filter.updateChild(s.getNode(),h,g,m,i,a):s.getNode()}}return Yt(t,u,s.isFullyInitialized()||xe(n),e.filter.filtersNodes())}function Pn(e,t,n,r,i,o,a,s){var u,c=t.serverCache,l=a?e.filter:e.filter.getIndexedFilter();if(xe(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var f=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),f,null)}else{var d=ge(n);if(!c.isCompleteForPath(n)&&ye(n)>1)return t;var h=be(n),p=c.getNode().getImmediateChild(d).updateChild(h,r);u=".priority"===d?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),d,p,h,Tn,null)}var v=$t(t,u,c.isFullyInitialized()||xe(n),l.filtersNodes());return Dn(e,v,n,i,new An(i,v,o),s)}function Rn(e,t,n,r,i,o,a){var s,u,c=t.eventCache,l=new An(i,t,o);if(xe(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,a),s=Yt(t,u,!0,e.filter.filtersNodes());else{var f=ge(n);if(".priority"===f)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=Yt(t,u,c.isFullyInitialized(),c.isFiltered());else{var d=be(n),h=c.getNode().getImmediateChild(f),p=void 0;if(xe(d))p=r;else{var v=l.getCompleteChild(f);p=null!=v?".priority"===we(d)&&v.getChild(Ee(d)).isEmpty()?v:v.updateChild(d,r):ut.EMPTY_NODE}if(h.equals(p))s=t;else s=Yt(t,e.filter.updateChild(c.getNode(),f,p,d,l,a),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function Nn(e,t){return e.eventCache.isCompleteForChild(t)}function jn(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Mn(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=xe(n)?r:new en(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=jn(0,t.serverCache.getNode().getImmediateChild(n),r);c=Pn(e,c,new ve(n),u,i,o,a,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var f=jn(0,t.serverCache.getNode().getImmediateChild(n),r);c=Pn(e,c,new ve(n),f,i,o,a,s)}})),c}var Ln,Fn=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new Et(r.getIndex()),o=(n=r).loadsAllData()?new Et(n.getIndex()):n.hasLimit()?new xt(n):new St(n);this.processor_=function(e){return{filter:e}}(o);var a=t.serverCache,s=t.eventCache,u=i.updateFullNode(ut.EMPTY_NODE,a.getNode(),null),c=o.updateFullNode(ut.EMPTY_NODE,s.getNode(),null),l=new Wt(u,a.isFullyInitialized(),i.filtersNodes()),f=new Wt(c,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=Jt(f,l),this.eventGenerator_=new Gt(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function Bn(e,t){var n=Qt(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!xe(t)&&!n.getImmediateChild(ge(t)).isEmpty())?n.getChild(t):null}function Un(e){return 0===e.eventRegistrations_.length}function Vn(e,t,n){var r=[];if(n){(0,o.hu)(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],s=0;s<e.eventRegistrations_.length;++s){var u=e.eventRegistrations_[s];if(u.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(s+1));break}}else a.push(u)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function zn(e,t,n,r){t.type===Lt.MERGE&&null!==t.source.queryId&&((0,o.hu)(Qt(e.viewCache_),"We should always have a full cache before handling merges"),(0,o.hu)(Xt(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,s=e.viewCache_,u=In(e.processor_,s,t,n,r);return i=e.processor_,a=u.viewCache,(0,o.hu)(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),(0,o.hu)(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),(0,o.hu)(u.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=u.viewCache,qn(e,u.changes,u.viewCache.eventCache.getNode(),null)}function qn(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],o=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Kt(e,i,"child_removed",t,r,n),Kt(e,i,"child_added",t,r,n),Kt(e,i,"child_moved",o,r,n),Kt(e,i,"child_changed",t,r,n),Kt(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var Zn,Hn=function(){this.views=new Map};function Wn(e,t,n,r){var i,s,u=t.source.queryId;if(null!==u){var c=e.views.get(u);return(0,o.hu)(null!=c,"SyncTree gave us an op for an invalid query."),zn(c,t,n,r)}var l=[];try{for(var f=(0,a.XA)(e.views.values()),d=f.next();!d.done;d=f.next()){c=d.value;l=l.concat(zn(c,t,n,r))}}catch(h){i={error:h}}finally{try{d&&!d.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}return l}function Gn(e,t,n,r,i){var o=t._queryIdentifier,a=e.views.get(o);if(!a){var s=bn(n,i?r:null),u=!1;s?u=!0:r instanceof ut?(s=wn(n,r),u=!1):(s=ut.EMPTY_NODE,u=!1);var c=Jt(new Wt(s,u,!1),new Wt(r,i,!1));return new Fn(t,c)}return a}function Kn(e,t,n,r,i,o){var a=Gn(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(nt,(function(e,t){r.push(bt(e,t))})),n.isFullyInitialized()&&r.push(yt(n.getNode())),qn(e,r,n.getNode(),t)}(a,n)}function Jn(e,t,n,r){var i,s,u=t._queryIdentifier,c=[],l=[],f=er(e);if("default"===u)try{for(var d=(0,a.XA)(e.views.entries()),h=d.next();!h.done;h=d.next()){var p=(0,a.CR)(h.value,2),v=p[0],m=p[1];l=l.concat(Vn(m,n,r)),Un(m)&&(e.views.delete(v),m.query._queryParams.loadsAllData()||c.push(m.query))}}catch(g){i={error:g}}finally{try{h&&!h.done&&(s=d.return)&&s.call(d)}finally{if(i)throw i.error}}else(m=e.views.get(u))&&(l=l.concat(Vn(m,n,r)),Un(m)&&(e.views.delete(u),m.query._queryParams.loadsAllData()||c.push(m.query)));return f&&!er(e)&&c.push(new((0,o.hu)(Ln,"Reference.ts has not been loaded"),Ln)(t._repo,t._path)),{removed:c,events:l}}function Yn(e){var t,n,r=[];try{for(var i=(0,a.XA)(e.views.values()),o=i.next();!o.done;o=i.next()){var s=o.value;s.query._queryParams.loadsAllData()||r.push(s)}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function $n(e,t){var n,r,i=null;try{for(var o=(0,a.XA)(e.views.values()),s=o.next();!s.done;s=o.next()){var u=s.value;i=i||Bn(u,t)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function Xn(e,t){if(t._queryParams.loadsAllData())return tr(e);var n=t._queryIdentifier;return e.views.get(n)}function Qn(e,t){return null!=Xn(e,t)}function er(e){return null!=tr(e)}function tr(e){var t,n;try{for(var r=(0,a.XA)(e.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}var nr=1,rr=function(e){this.listenProvider_=e,this.syncPointTree_=new en(null),this.pendingWriteTree_={visibleWrites:tn.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function ir(e,t,n,r,i){return function(e,t,n,r,i){(0,o.hu)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=nn(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?dr(e,new Zt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function or(e,t,n,r){!function(e,t,n,r){(0,o.hu)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=rn(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=en.fromObject(n);return dr(e,new Ht({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function ar(e,t,n){void 0===n&&(n=!1);var r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(pn(e.pendingWriteTree_,t)){var i=new en(null);return null!=r.snap?i=i.set(me(),!0):M(r.children,(function(e){i=i.set(new ve(e),!0)})),dr(e,new zt(r.path,i,n))}return[]}function sr(e,t,n){return dr(e,new Zt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function ur(e,t,n,r){var i=t._path,o=e.syncPointTree_.get(i),a=[];if(o&&("default"===t._queryIdentifier||Qn(o,t))){var s=Jn(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));var u=s.removed;a=s.events;var c=-1!==u.findIndex((function(e){return e._queryParams.loadsAllData()})),l=e.syncPointTree_.findOnPath(i,(function(e,t){return er(t)}));if(c&&!l){var f=e.syncPointTree_.subtree(i);if(!f.isEmpty())for(var d=function(e){return e.fold((function(e,t,n){if(t&&er(t))return[tr(t)];var r=[];return t&&(r=Yn(t)),M(n,(function(e,t){r=r.concat(t)})),r}))}(f),h=0;h<d.length;++h){var p=d[h],v=p.query,m=vr(e,p);e.listenProvider_.startListening(_r(v),mr(e,v),m.hashFn,m.onComplete)}}if(!l&&u.length>0&&!r)if(c){e.listenProvider_.stopListening(_r(t),null)}else u.forEach((function(t){var n=e.queryToTagMap.get(gr(t));e.listenProvider_.stopListening(_r(t),n)}));!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=gr(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}(e,u)}return a}function cr(e,t,n){var r=t._path,i=null,a=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){var n=Oe(e,r);i=i||$n(t,n),a=a||er(t)}));var s,u=e.syncPointTree_.get(r);(u?(a=a||er(u),i=i||$n(u,me())):(u=new Hn,e.syncPointTree_=e.syncPointTree_.set(r,u)),null!=i)?s=!0:(s=!1,i=ut.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=$n(t,me());n&&(i=i.updateImmediateChild(e,n))})));var c=Qn(u,t);if(!c&&!t._queryParams.loadsAllData()){var l=gr(t);(0,o.hu)(!e.queryToTagMap.has(l),"View does not exist, but we have a tag");var f=nr++;e.queryToTagMap.set(l,f),e.tagToQueryMap.set(f,l)}var d=Kn(u,t,n,hn(e.pendingWriteTree_,r),i,s);if(!c&&!a){var h=Xn(u,t);d=d.concat(function(e,t,n){var r=t._path,i=mr(e,t),a=vr(e,n),s=e.listenProvider_.startListening(_r(t),i,a.hashFn,a.onComplete),u=e.syncPointTree_.subtree(r);if(i)(0,o.hu)(!er(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold((function(e,t,n){if(!xe(e)&&t&&er(t))return[tr(t).query];var r=[];return t&&(r=r.concat(Yn(t).map((function(e){return e.query})))),M(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<c.length;++l){var f=c[l];e.listenProvider_.stopListening(_r(f),mr(e,f))}return s}(e,t,h))}return d}function lr(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=$n(n,Oe(e,t));if(r)return r}));return yn(r,t,i,n,!0)}function fr(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=Oe(e,n);r=r||$n(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||$n(i,me()):(i=new Hn,e.syncPointTree_=e.syncPointTree_.set(n,i));var o=null!=r,a=o?new Wt(r,!0,!1):null;return function(e){return Xt(e.viewCache_)}(Gn(i,t,hn(e.pendingWriteTree_,t._path),o?a.getNode():ut.EMPTY_NODE,o))}function dr(e,t){return hr(t,e.syncPointTree_,null,hn(e.pendingWriteTree_,me()))}function hr(e,t,n,r){if(xe(e.path))return pr(e,t,n,r);var i=t.get(me());null==n&&null!=i&&(n=$n(i,me()));var o=[],a=ge(e.path),s=e.operationForChild(a),u=t.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=On(r,a);o=o.concat(hr(s,u,c,l))}return i&&(o=o.concat(Wn(i,e,r,n))),o}function pr(e,t,n,r){var i=t.get(me());null==n&&null!=i&&(n=$n(i,me()));var o=[];return t.children.inorderTraversal((function(t,i){var a=n?n.getImmediateChild(t):null,s=On(r,t),u=e.operationForChild(t);u&&(o=o.concat(pr(u,i,a,s)))})),i&&(o=o.concat(Wn(i,e,r,n))),o}function vr(e,t){var n=t.query,r=mr(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||ut.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=yr(e,n);if(r){var i=br(r),o=i.path,a=i.queryId,s=Oe(o,t);return wr(e,o,new qt(Ut(a),s))}return[]}(e,n._path,r):function(e,t){return dr(e,new qt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return ur(e,n,null,i)}}}function mr(e,t){var n=gr(t);return e.queryToTagMap.get(n)}function gr(e){return e._path.toString()+"$"+e._queryIdentifier}function yr(e,t){return e.tagToQueryMap.get(t)}function br(e){var t=e.indexOf("$");return(0,o.hu)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new ve(e.substr(0,t))}}function wr(e,t,n){var r=e.syncPointTree_.get(t);return(0,o.hu)(r,"Missing sync point for query tag that we're tracking"),Wn(r,n,hn(e.pendingWriteTree_,t),null)}function _r(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new((0,o.hu)(Zn,"Reference.ts has not been loaded"),Zn)(e._repo,e._path):e}var Er=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),Sr=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=Se(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return lr(this.syncTree_,this.path_)},e}(),xr=function(e,t,n){return e&&"object"===typeof e?((0,o.hu)(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Or(e[".sv"],t,n):"object"===typeof e[".sv"]?Cr(e[".sv"],t):void(0,o.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Or=function(e,t,n){if("timestamp"===e)return n.timestamp;(0,o.hu)(!1,"Unexpected server value: "+e)},Cr=function(e,t,n){e.hasOwnProperty("increment")||(0,o.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&(0,o.hu)(!1,"Unexpected increment value: "+r);var i=t.node();if((0,o.hu)(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},kr=function(e,t,n,r){return Ar(t,new Sr(n,e),r)},Tr=function(e,t,n){return Ar(e,new Er(t),n)};function Ar(e,t,n){var r,i=e.getPriority().val(),o=xr(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var a=e,s=xr(a.getValue(),t,n);return s!==a.getValue()||o!==a.getPriority().val()?new Xe(s,lt(o)):e}var u=e;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new Xe(o))),u.forEachChild(nt,(function(e,i){var o=Ar(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}var Ir=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e,this.parent=t,this.node=n};function Dr(e,t){for(var n=t instanceof ve?t:new ve(t),r=e,i=ge(n);null!==i;){var a=(0,o.DV)(r.node.children,i)||{children:{},childCount:0};r=new Ir(i,r,a),i=ge(n=be(n))}return r}function Pr(e){return e.node.value}function Rr(e,t){e.node.value=t,Fr(e)}function Nr(e){return e.node.childCount>0}function jr(e,t){M(e.node.children,(function(n,r){t(new Ir(n,e,r))}))}function Mr(e,t,n,r){n&&!r&&t(e),jr(e,(function(e){Mr(e,t,!0,r)})),n&&r&&t(e)}function Lr(e){return new ve(null===e.parent?e.name:Lr(e.parent)+"/"+e.name)}function Fr(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===Pr(e)&&!Nr(e)}(n),i=(0,o.r3)(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Fr(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Fr(e))}(e.parent,e.name,e)}var Br=/[\[\].#$\/\u0000-\u001F\u007F]/,Ur=/[\[\].#$\u0000-\u001F\u007F]/,Vr=10485760,zr=function(e){return"string"===typeof e&&0!==e.length&&!Br.test(e)},qr=function(e){return"string"===typeof e&&0!==e.length&&!Ur.test(e)},Zr=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!T(e)||e&&"object"===typeof e&&(0,o.r3)(e,".sv")},Hr=function(e,t,n,r){r&&void 0===t||Wr((0,o.gK)(e,"value"),t,n)},Wr=function(e,t,n){var r=n instanceof ve?new Ae(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+De(r));if("function"===typeof t)throw new Error(e+"contains a function "+De(r)+" with contents = "+t.toString());if(T(t))throw new Error(e+"contains "+t.toString()+" "+De(r));if("string"===typeof t&&t.length>Vr/3&&(0,o.ug)(t)>Vr)throw new Error(e+"contains a string greater than "+"10485760 utf8 bytes "+De(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){var i=!1,a=!1;if(M(t,(function(t,n){if(".value"===t)i=!0;else if(".priority"!==t&&".sv"!==t&&(a=!0,!zr(t)))throw new Error(e+" contains an invalid key ("+t+") "+De(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=(0,o.ug)(t),Ie(e)}(r,t),Wr(e,n,r),function(e){var t=e.parts_.pop();e.byteLength_-=(0,o.ug)(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),i&&a)throw new Error(e+' contains ".value" child '+De(r)+" in addition to actual children.")}},Gr=function(e,t,n,r){if(!r||void 0!==t){var i=(0,o.gK)(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];M(t,(function(e,t){var r=new ve(e);if(Wr(i,t,Se(n,r)),".priority"===we(r)&&!Zr(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=_e(r=t[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!zr(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(Ce);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&Te(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(i,a)}},Kr=function(e,t,n){if(!n||void 0!==t){if(T(t))throw new Error((0,o.gK)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Zr(t))throw new Error((0,o.gK)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Jr=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,o.gK)(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Yr=function(e,t,n,r){if((!r||void 0!==n)&&!zr(n))throw new Error((0,o.gK)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},$r=function(e,t,n,r){if((!r||void 0!==n)&&!qr(n))throw new Error((0,o.gK)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Xr=function(e,t){if(".info"===ge(t))throw new Error(e+" failed = Can't modify data under /.info/")},Qr=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!zr(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),qr(e)}(n))throw new Error((0,o.gK)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},ei=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error((0,o.gK)(e,t)+"must be a boolean.")},ti=function(){this.eventLists_=[],this.recursionDepth_=0};function ni(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||ke(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function ri(e,t,n){ni(e,n),oi(e,(function(e){return ke(e,t)}))}function ii(e,t,n){ni(e,n),oi(e,(function(e){return Te(e,t)||Te(t,e)}))}function oi(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(ai(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function ai(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();w&&S("event: "+n.toString()),z(r)}}}var si="repo_interrupt",ui=function(){function e(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ti,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Rt(),this.transactionQueueTree_=new Ir,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function ci(e,t,n){if(e.stats_=ne(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Dt(e.repoInfo_,(function(t,n,r,i){di(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return hi(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,o.Pz)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Me(e.repoInfo_,t,(function(t,n,r,i){di(e,t,n,r,i)}),(function(t){hi(e,t)}),(function(t){!function(e,t){M(t,(function(t,n){pi(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return te[n]||(te[n]=t()),te[n]}(e.repoInfo_,(function(){return new Bt(e.stats_,e.server_)})),e.infoData_=new Pt,e.infoSyncTree_=new rr({startListening:function(t,n,r,i){var o=[],a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=sr(e.infoSyncTree_,t._path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),pi(e,"connected",!1),e.serverSyncTree_=new rr({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var o=i(n,r);ii(e.eventQueue_,t._path,o)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function li(e){var t=e.infoData_.getNode(new ve(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function fi(e){return(t=(t={timestamp:li(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function di(e,t,n,r,i){e.dataUpdateCount++;var a=new ve(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var s=[];if(i)if(r){var u=(0,o.UI)(n,(function(e){return lt(e)}));s=function(e,t,n,r){var i=yr(e,r);if(i){var o=br(i),a=o.path,s=o.queryId,u=Oe(a,t),c=en.fromObject(n);return wr(e,a,new Ht(Ut(s),u,c))}return[]}(e.serverSyncTree_,a,u,i)}else{var c=lt(n);s=function(e,t,n,r){var i=yr(e,r);if(null!=i){var o=br(i),a=o.path,s=o.queryId,u=Oe(a,t);return wr(e,a,new Zt(Ut(s),u,n))}return[]}(e.serverSyncTree_,a,c,i)}else if(r){var l=(0,o.UI)(n,(function(e){return lt(e)}));s=function(e,t,n){var r=en.fromObject(n);return dr(e,new Ht({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,l)}else{var f=lt(n);s=sr(e.serverSyncTree_,a,f)}var d=a;s.length>0&&(d=Oi(e,a)),ii(e.eventQueue_,d,s)}function hi(e,t){pi(e,"connected",t),!1===t&&function(e){_i(e,"onDisconnectEvents");var t=fi(e),n=Rt();Mt(e.onDisconnect_,me(),(function(r,i){var o=kr(r,i,e.serverSyncTree_,t);Nt(n,r,o)}));var r=[];Mt(n,me(),(function(t,n){r=r.concat(sr(e.serverSyncTree_,t,n));var i=Ii(e,t);Oi(e,i)})),e.onDisconnect_=Rt(),ii(e.eventQueue_,me(),r)}(e)}function pi(e,t,n){var r=new ve("/.info/"+t),i=lt(n);e.infoData_.updateSnapshot(r,i);var o=sr(e.infoSyncTree_,r,i);ii(e.eventQueue_,r,o)}function vi(e){return e.nextWriteId_++}function mi(e,t,n,r,i){_i(e,"set",{path:t.toString(),value:n,priority:r});var o=fi(e),a=lt(n,r),s=lr(e.serverSyncTree_,t),u=Tr(a,s,o),c=vi(e),l=ir(e.serverSyncTree_,t,u,c,!0);ni(e.eventQueue_,l),e.server_.put(t.toString(),a.val(!0),(function(n,r){var o="ok"===n;o||k("set at "+t+" failed: "+n);var a=ar(e.serverSyncTree_,c,!o);ii(e.eventQueue_,t,a),Ei(e,i,n,r)}));var f=Ii(e,t);Oi(e,f),ii(e.eventQueue_,f,[])}function gi(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&jt(e.onDisconnect_,t),Ei(e,n,r,i)}))}function yi(e,t,n,r){var i=lt(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,o){"ok"===n&&Nt(e.onDisconnect_,t,i),Ei(e,r,n,o)}))}function bi(e,t,n){var r;r=".info"===ge(t._path)?ur(e.infoSyncTree_,t,n):ur(e.serverSyncTree_,t,n),ri(e.eventQueue_,t._path,r)}function wi(e){e.persistentConnection_&&e.persistentConnection_.interrupt(si)}function _i(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),S.apply(void 0,(0,a.ev)([r],(0,a.CR)(t)))}function Ei(e,t,n,r){t&&z((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var o=new Error(i);o.code=e,t(o)}}))}function Si(e,t,n){return lr(e.serverSyncTree_,t,n)||ut.EMPTY_NODE}function xi(e,t){if(void 0===t&&(t=e.transactionQueueTree_),t||Ai(e,t),Pr(t)){var n=ki(e,t);(0,o.hu)(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=Si(e,t,r),a=i,s=i.hash(),u=0;u<n.length;u++){var c=n[u];(0,o.hu)(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var l=Oe(t,c.path);a=a.updateChild(l,c.currentOutputSnapshotRaw)}var f=a.val(!0),d=t;e.server_.put(d.toString(),f,(function(r){_i(e,"transaction put response",{path:d.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=function(t){n[t].status=2,i=i.concat(ar(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&o.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)a(s);Ai(e,Dr(e.transactionQueueTree_,t)),xi(e,e.transactionQueueTree_),ii(e.eventQueue_,t,i);for(s=0;s<o.length;s++)z(o[s])}else{if("datastale"===r)for(s=0;s<n.length;s++)3===n[s].status?n[s].status=4:n[s].status=0;else{k("transaction at "+d.toString()+" failed: "+r);for(s=0;s<n.length;s++)n[s].status=4,n[s].abortReason=r}Oi(e,t)}}),s)}(e,Lr(t),n)}else Nr(t)&&jr(t,(function(t){xi(e,t)}))}function Oi(e,t){var n=Ci(e,t),r=Lr(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),s=function(s){var u,c,l=t[s],f=Oe(n,l.path),d=!1;if((0,o.hu)(null!==f,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)d=!0,u=l.abortReason,i=i.concat(ar(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=25)d=!0,u="maxretry",i=i.concat(ar(e.serverSyncTree_,l.currentWriteId,!0));else{var h=Si(e,l.path,a);l.currentInputSnapshot=h;var p=t[s].update(h.val());if(void 0!==p){Wr("transaction failed: Data returned ",p,l.path);var v=lt(p);"object"===typeof p&&null!=p&&(0,o.r3)(p,".priority")||(v=v.updatePriority(h.getPriority()));var m=l.currentWriteId,g=fi(e),y=Tr(v,h,g);l.currentOutputSnapshotRaw=v,l.currentOutputSnapshotResolved=y,l.currentWriteId=vi(e),a.splice(a.indexOf(m),1),i=(i=i.concat(ir(e.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally))).concat(ar(e.serverSyncTree_,m,!0))}else d=!0,u="nodata",i=i.concat(ar(e.serverSyncTree_,l.currentWriteId,!0))}ii(e.eventQueue_,n,i),i=[],d&&(t[s].status=2,c=t[s].unwatcher,setTimeout(c,Math.floor(0)),t[s].onComplete&&("nodata"===u?r.push((function(){return t[s].onComplete(null,!1,t[s].currentInputSnapshot)})):r.push((function(){return t[s].onComplete(new Error(u),!1,null)}))))},u=0;u<t.length;u++)s(u);Ai(e,e.transactionQueueTree_);for(u=0;u<r.length;u++)z(r[u]);xi(e,e.transactionQueueTree_)}(e,ki(e,n),r),r}function Ci(e,t){var n,r=e.transactionQueueTree_;for(n=ge(t);null!==n&&void 0===Pr(r);)r=Dr(r,n),n=ge(t=be(t));return r}function ki(e,t){var n=[];return Ti(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function Ti(e,t,n){var r=Pr(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);jr(t,(function(t){Ti(e,t,n)}))}function Ai(e,t){var n=Pr(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Rr(t,n.length>0?n:void 0)}jr(t,(function(t){Ai(e,t)}))}function Ii(e,t){var n=Lr(Ci(e,t)),r=Dr(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){Di(e,t)})),Di(e,r),Mr(r,(function(t){Di(e,t)})),n}function Di(e,t){var n=Pr(t);if(n){for(var r=[],i=[],a=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?((0,o.hu)(a===s-1,"All SENT items should be at beginning of queue."),a=s,n[s].status=3,n[s].abortReason="set"):((0,o.hu)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(ar(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===a?Rr(t,void 0):n.length=a+1,ii(e.eventQueue_,Lr(t),i);for(s=0;s<r.length;s++)z(r[s])}}var Pi=function(e,t){var n=Ri(e),r=n.namespace;"firebase.com"===n.domain&&C(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||C("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&k("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new $(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new ve(n.pathString)}},Ri=function(e){var t="",n="",r="",i="",o="",s=!0,u="https",c=443;if("string"===typeof e){var l=e.indexOf("//");l>=0&&(u=e.substring(0,l-1),e=e.substring(l+2));var f=e.indexOf("/");-1===f&&(f=e.length);var d=e.indexOf("?");-1===d&&(d=e.length),t=e.substring(0,Math.min(f,d)),f<d&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}t+="/"+i}return t}(e.substring(f,d)));var h=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=(0,a.XA)(e.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):k("Invalid query segment '"+s+"' in query '"+e+"'")}}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,d)));(l=t.indexOf(":"))>=0?(s="https"===u||"wss"===u,c=parseInt(t.substring(l+1),10)):l=t.length;var p=t.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var v=t.indexOf(".");r=t.substring(0,v).toLowerCase(),n=t.substring(v+1),o=r}"ns"in h&&(o=h.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:u,pathString:i,namespace:o}},Ni=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,o.Pz)(this.snapshot.exportVal())},e}(),ji=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),Mi=function(){function e(e,t){this.snapshotCallback=e,this.cancelCallback=t}return e.prototype.onValue=function(e,t){this.snapshotCallback.call(null,e,t)},e.prototype.onCancel=function(e){return(0,o.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},e}(),Li=function(){function e(e,t){this._repo=e,this._path=t}return e.prototype.cancel=function(){var e=new o.BH;return gi(this._repo,this._path,e.wrapCallback((function(){}))),e.promise},e.prototype.remove=function(){Xr("OnDisconnect.remove",this._path);var e=new o.BH;return yi(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise},e.prototype.set=function(e){Xr("OnDisconnect.set",this._path),Hr("OnDisconnect.set",e,this._path,!1);var t=new o.BH;return yi(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e.prototype.setWithPriority=function(e,t){Xr("OnDisconnect.setWithPriority",this._path),Hr("OnDisconnect.setWithPriority",e,this._path,!1),Kr("OnDisconnect.setWithPriority",t,!1);var n=new o.BH;return function(e,t,n,r,i){var o=lt(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),(function(n,r){"ok"===n&&Nt(e.onDisconnect_,t,o),Ei(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise},e.prototype.update=function(e){Xr("OnDisconnect.update",this._path),Gr("OnDisconnect.update",e,this._path,!1);var t=new o.BH;return function(e,t,n,r){if((0,o.xb)(n))return S("onDisconnect().update() called with empty data.  Don't do anything."),void Ei(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,o){"ok"===i&&M(n,(function(n,r){var i=lt(r);Nt(e.onDisconnect_,Se(t,n),i)})),Ei(0,r,i,o)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e}(),Fi=function(){function e(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(e.prototype,"key",{get:function(){return xe(this._path)?null:we(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new zi(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var e=It(this._queryParams),t=N(e);return"{}"===t?"default":t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return It(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!((t=(0,o.m9)(t))instanceof e))return!1;var n=this._repo===t._repo,r=ke(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)},e}();function Bi(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Ui(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===Ue){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==A)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==I)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===nt){if(null!=t&&!Zr(t)||null!=n&&!Zr(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,o.hu)(e.getIndex()instanceof ft||e.getIndex()===ht,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Vi(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var zi=function(e){function t(t,n){return e.call(this,t,n,new Ot,!1)||this}return(0,a.ZT)(t,e),Object.defineProperty(t.prototype,"parent",{get:function(){var e=Ee(this._path);return null===e?null:new t(this._repo,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e},enumerable:!1,configurable:!0}),t}(Fi),qi=function(){function e(e,t,n){this._node=e,this.ref=t,this._index=n}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new ve(t),r=Wi(this.ref,t);return new e(this._node.getChild(n),r,nt)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,Wi(n.ref,r),nt))}))},e.prototype.hasChild=function(e){var t=new ve(e);return!this._node.getChild(t).isEmpty()},e.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function Zi(e,t){return(e=(0,o.m9)(e))._checkNotDeleted("ref"),void 0!==t?Wi(e._root,t):e._root}function Hi(e,t){(e=(0,o.m9)(e))._checkNotDeleted("refFromURL");var n=Pi(t,e._repo.repoInfo_.nodeAdmin);Qr("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||C("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),Zi(e,n.path.toString())}function Wi(e,t){var n,r,i,a;return null===ge((e=(0,o.m9)(e))._path)?(n="child",r="path",a=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),$r(n,r,i,a)):$r("child","path",t,!1),new zi(e._repo,Se(e._path,t))}function Gi(e,t){e=(0,o.m9)(e),Xr("push",e._path),Hr("push",t,e._path,!0);var n,r=li(e._repo),i=vt(r),a=Wi(e,i),s=Wi(e,i);return n=null!=t?Ji(s,t).then((function(){return s})):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function Ki(e){return Xr("remove",e._path),Ji(e,null)}function Ji(e,t){e=(0,o.m9)(e),Xr("set",e._path),Hr("set",t,e._path,!1);var n=new o.BH;return mi(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function Yi(e,t){e=(0,o.m9)(e),Xr("setPriority",e._path),Kr("setPriority",t,!1);var n=new o.BH;return mi(e._repo,Se(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}function $i(e,t,n){if(Xr("setWithPriority",e._path),Hr("setWithPriority",t,e._path,!1),Kr("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new o.BH;return mi(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}function Xi(e,t){Gr("update",t,e._path,!1);var n=new o.BH;return function(e,t,n,r){_i(e,"update",{path:t.toString(),value:n});var i=!0,o=fi(e),a={};if(M(n,(function(n,r){i=!1,a[n]=kr(Se(t,n),lt(r),e.serverSyncTree_,o)})),i)S("update() called with empty data.  Don't do anything."),Ei(0,r,"ok",void 0);else{var s=vi(e),u=or(e.serverSyncTree_,t,a,s);ni(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var o="ok"===n;o||k("update at "+t+" failed: "+n);var a=ar(e.serverSyncTree_,s,!o),u=a.length>0?Oi(e,t):t;ii(e.eventQueue_,u,a),Ei(0,r,n,i)})),M(n,(function(n){var r=Ii(e,Se(t,n));Oi(e,r)})),ii(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function Qi(e){return function(e,t){var n=fr(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((function(n){var r=lt(n).withIndex(t._queryParams.getIndex()),i=sr(e.serverSyncTree_,t._path,r);return ri(e.eventQueue_,t._path,i),Promise.resolve(r)}),(function(n){return _i(e,"get for query "+(0,o.Pz)(t)+" failed: "+n),Promise.reject(new Error(n))}))}((e=(0,o.m9)(e))._repo,e).then((function(t){return new qi(t,new zi(e._repo,e._path),e._queryParams.getIndex())}))}var eo=function(){function e(e){this.callbackContext=e}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t._queryParams.getIndex();return new Ni("value",this,new qi(e.snapshotNode,new zi(t._repo,t._path),n))},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new ji(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))},e.prototype.hasAnyCallback=function(){return null!==this.callbackContext},e}(),to=function(){function e(e,t){this.eventType=e,this.callbackContext=t}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new ji(this,e,t):null},e.prototype.createEvent=function(e,t){(0,o.hu)(null!=e.childName,"Child events should have a childName.");var n=Wi(new zi(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Ni(e.type,this,new qi(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}},e.prototype.matches=function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function no(e,t,n,r,i){var o;if("object"===typeof r&&(o=void 0,i=r),"function"===typeof r&&(o=r),i&&i.onlyOnce){var a=n,s=function(t,n){bi(e._repo,e,c),a(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new Mi(n,o||void 0),c="value"===t?new eo(u):new to(t,u);return function(e,t,n){var r;r=".info"===ge(t._path)?cr(e.infoSyncTree_,t,n):cr(e.serverSyncTree_,t,n),ri(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return bi(e._repo,e,c)}}function ro(e,t,n,r){return no(e,"value",t,n,r)}function io(e,t,n,r){return no(e,"child_added",t,n,r)}function oo(e,t,n,r){return no(e,"child_changed",t,n,r)}function ao(e,t,n,r){return no(e,"child_moved",t,n,r)}function so(e,t,n,r){return no(e,"child_removed",t,n,r)}function uo(e,t,n){var r=null,i=n?new Mi(n):null;"value"===t?r=new eo(i):t&&(r=new to(t,i)),bi(e._repo,e,r)}var co=function(){},lo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.ZT)(t,e),t.prototype._apply=function(e){Hr("endAt",this._value,e._path,!0);var t=kt(e._queryParams,this._value,this._key);if(Vi(t),Ui(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Fi(e._repo,e._path,t,e._orderByCalled)},t}(co);function fo(e,t){return Yr("endAt","key",t,!0),new lo(e,t)}var ho=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.ZT)(t,e),t.prototype._apply=function(e){Hr("endBefore",this._value,e._path,!1);var t=function(e,t,n){var r;return e.index_===Ue?("string"===typeof t&&(t=gt(t)),r=kt(e,t,n)):r=kt(e,t,null==n?A:gt(n)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(Vi(t),Ui(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Fi(e._repo,e._path,t,e._orderByCalled)},t}(co);function po(e,t){return Yr("endBefore","key",t,!0),new ho(e,t)}var vo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.ZT)(t,e),t.prototype._apply=function(e){Hr("startAt",this._value,e._path,!0);var t=Ct(e._queryParams,this._value,this._key);if(Vi(t),Ui(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Fi(e._repo,e._path,t,e._orderByCalled)},t}(co);function mo(e,t){return void 0===e&&(e=null),Yr("startAt","key",t,!0),new vo(e,t)}var go=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.ZT)(t,e),t.prototype._apply=function(e){Hr("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;e.index_===Ue?("string"===typeof t&&(t=mt(t)),r=Ct(e,t,n)):r=Ct(e,t,null==n?I:mt(n));return r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(Vi(t),Ui(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Fi(e._repo,e._path,t,e._orderByCalled)},t}(co);function yo(e,t){return Yr("startAfter","key",t,!0),new go(e,t)}var bo=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return(0,a.ZT)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Fi(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)},t}(co);function wo(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new bo(e)}var _o=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return(0,a.ZT)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Fi(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)},t}(co);function Eo(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new _o(e)}var So=function(e){function t(t){var n=e.call(this)||this;return n._path=t,n}return(0,a.ZT)(t,e),t.prototype._apply=function(e){Bi(e,"orderByChild");var t=new ve(this._path);if(xe(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new ft(t),r=Tt(e._queryParams,n);return Ui(r),new Fi(e._repo,e._path,r,!0)},t}(co);function xo(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return $r("orderByChild","path",e,!1),new So(e)}var Oo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t.prototype._apply=function(e){Bi(e,"orderByKey");var t=Tt(e._queryParams,Ue);return Ui(t),new Fi(e._repo,e._path,t,!0)},t}(co);function Co(){return new Oo}var ko=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t.prototype._apply=function(e){Bi(e,"orderByPriority");var t=Tt(e._queryParams,nt);return Ui(t),new Fi(e._repo,e._path,t,!0)},t}(co);function To(){return new ko}var Ao=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t.prototype._apply=function(e){Bi(e,"orderByValue");var t=Tt(e._queryParams,ht);return Ui(t),new Fi(e._repo,e._path,t,!0)},t}(co);function Io(){return new Ao}var Do=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.ZT)(t,e),t.prototype._apply=function(e){if(Hr("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new lo(this._value,this._key)._apply(new vo(this._value,this._key)._apply(e))},t}(co);function Po(e,t){return Yr("equalTo","key",t,!0),new Do(e,t)}function Ro(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=(0,o.m9)(e);try{for(var u=(0,a.XA)(r),c=u.next();!c.done;c=u.next()){var l=c.value;s=l._apply(s)}}catch(f){t={error:f}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return s}!function(e){(0,o.hu)(!Ln,"__referenceConstructor has already been defined"),Ln=e}(zi),function(e){(0,o.hu)(!Zn,"__referenceConstructor has already been defined"),Zn=e}(zi);var No={},jo=!1;function Mo(e,t,n,r,i){var o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||C("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),S("Using default host for project ",e.options.projectId),o=e.options.projectId+"-default-rtdb.firebaseio.com");var a,s=Pi(o,i),c=s.repoInfo,l=void 0;"undefined"!==typeof u&&(l=u.env.FIREBASE_DATABASE_EMULATOR_HOST),l?(a=!0,o="http://"+l+"?ns="+c.namespace,c=(s=Pi(o,i)).repoInfo):a=!s.repoInfo.secure;var f=i&&a?new W(W.OWNER):new H(e.name,e.options,t);Qr("Invalid Firebase Database URL",s),xe(s.path)||C("Database URL must point to the root of a Firebase Database (not including a child path).");var d=function(e,t,n,r){var i=No[t.name];i||(i={},No[t.name]=i);var o=i[e.toURLString()];o&&C("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new ui(e,jo,n,r),i[e.toURLString()]=o,o}(c,e,f,new Z(e.name,n));return new Lo(d,e)}var Lo=function(){function e(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(ci(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new zi(this._repo,me())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){return null!==this._rootInternal&&(!function(e,t){var n=No[t];n&&n[e.key]===e||C("Database "+t+"("+e.repoInfo_+") has already been deleted."),wi(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},e.prototype._checkNotDeleted=function(e){null===this._rootInternal&&C("Cannot call "+e+" on a deleted database.")},e}();function Fo(e,t,n,r){void 0===r&&(r={}),(e=(0,o.m9)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&C("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&C('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new W(W.OWNER);else if(r.mockUserToken){var s="string"===typeof r.mockUserToken?r.mockUserToken:(0,o.Sg)(r.mockUserToken,e.app.options.projectId);a=new W(s)}!function(e,t,n,r){e.repoInfo_=new $(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}(i,t,n,a)}function Bo(e){(e=(0,o.m9)(e))._checkNotDeleted("goOffline"),wi(e._repo)}function Uo(e){var t;(e=(0,o.m9)(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(si)}var Vo={".sv":"timestamp"};var zo=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function qo(e,t,n){var r;if(e=(0,o.m9)(e),Xr("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,a=new o.BH,s=ro(e,(function(){}));return function(e,t,n,r,i,a){_i(e,"transaction on "+t);var s={path:t,update:n,onComplete:r,status:null,order:g(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=Si(e,t,void 0);s.currentInputSnapshot=u;var c=s.update(u.val());if(void 0===c)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{Wr("transaction failed: Data returned ",c,s.path),s.status=0;var l=Dr(e.transactionQueueTree_,t),f=Pr(l)||[];f.push(s),Rr(l,f);var d=void 0;"object"===typeof c&&null!==c&&(0,o.r3)(c,".priority")?(d=(0,o.DV)(c,".priority"),(0,o.hu)(Zr(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(lr(e.serverSyncTree_,t)||ut.EMPTY_NODE).getPriority().val();var h=fi(e),p=lt(c,d),v=Tr(p,u,h);s.currentOutputSnapshotRaw=p,s.currentOutputSnapshotResolved=v,s.currentWriteId=vi(e);var m=ir(e.serverSyncTree_,t,v,s.currentWriteId,s.applyLocally);ii(e.eventQueue_,t,m),xi(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?a.reject(t):(i=new qi(r,new zi(e._repo,e._path),nt),a.resolve(new zo(n,i)))}),s,i),a.promise}var Zo=function(){function e(e){this._delegate=e}return e.prototype.cancel=function(e){(0,o.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,o.Wj)("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.remove=function(e){(0,o.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,o.Wj)("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.set=function(e,t){(0,o.Dv)("OnDisconnect.set",1,2,arguments.length),(0,o.Wj)("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},e.prototype.setWithPriority=function(e,t,n){(0,o.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,o.Wj)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},e.prototype.update=function(e,t){if((0,o.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,k("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,o.Wj)("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},e}(),Ho=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return(0,o.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),Wo=function(){function e(e,t){this._database=e,this._delegate=t}return e.prototype.val=function(){return(0,o.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return(0,o.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return(0,o.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return(0,o.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return(0,o.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),$r("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(e){return(0,o.Dv)("DataSnapshot.hasChild",1,1,arguments.length),$r("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},e.prototype.getPriority=function(){return(0,o.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return(0,o.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,o.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))},e.prototype.hasChildren=function(){return(0,o.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return(0,o.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return(0,o.Dv)("DataSnapshot.ref",0,0,arguments.length),new Ko(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),Go=function(){function e(e,t){this.database=e,this._delegate=t}return e.prototype.on=function(t,n,r,i){var a,s=this;(0,o.Dv)("Query.on",2,4,arguments.length),(0,o.Wj)("Query.on","callback",n,!1);var u=e.getCancelAndContextArgs_("Query.on",r,i),c=function(e,t){n.call(u.context,new Wo(s.database,e),t)};c.userCallback=n,c.context=u.context;var l=null===(a=u.cancel)||void 0===a?void 0:a.bind(u.context);switch(t){case"value":return ro(this._delegate,c,l),n;case"child_added":return io(this._delegate,c,l),n;case"child_removed":return so(this._delegate,c,l),n;case"child_changed":return oo(this._delegate,c,l),n;case"child_moved":return ao(this._delegate,c,l),n;default:throw new Error((0,o.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(e,t,n){if((0,o.Dv)("Query.off",0,3,arguments.length),Jr("Query.off",e,!0),(0,o.Wj)("Query.off","callback",t,!0),(0,o.lb)("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,uo(this._delegate,e,r)}else uo(this._delegate,e)},e.prototype.get=function(){var e=this;return Qi(this._delegate).then((function(t){return new Wo(e.database,t)}))},e.prototype.once=function(t,n,r,i){var a=this;(0,o.Dv)("Query.once",1,4,arguments.length),(0,o.Wj)("Query.once","callback",n,!0);var s=e.getCancelAndContextArgs_("Query.once",r,i),u=new o.BH,c=function(e,t){var r=new Wo(a.database,e);n&&n.call(s.context,r,t),u.resolve(r)};c.userCallback=n,c.context=s.context;var l=function(e){s.cancel&&s.cancel.call(s.context,e),u.reject(e)};switch(t){case"value":ro(this._delegate,c,l,{onlyOnce:!0});break;case"child_added":io(this._delegate,c,l,{onlyOnce:!0});break;case"child_removed":so(this._delegate,c,l,{onlyOnce:!0});break;case"child_changed":oo(this._delegate,c,l,{onlyOnce:!0});break;case"child_moved":ao(this._delegate,c,l,{onlyOnce:!0});break;default:throw new Error((0,o.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise},e.prototype.limitToFirst=function(t){return(0,o.Dv)("Query.limitToFirst",1,1,arguments.length),new e(this.database,Ro(this._delegate,wo(t)))},e.prototype.limitToLast=function(t){return(0,o.Dv)("Query.limitToLast",1,1,arguments.length),new e(this.database,Ro(this._delegate,Eo(t)))},e.prototype.orderByChild=function(t){return(0,o.Dv)("Query.orderByChild",1,1,arguments.length),new e(this.database,Ro(this._delegate,xo(t)))},e.prototype.orderByKey=function(){return(0,o.Dv)("Query.orderByKey",0,0,arguments.length),new e(this.database,Ro(this._delegate,Co()))},e.prototype.orderByPriority=function(){return(0,o.Dv)("Query.orderByPriority",0,0,arguments.length),new e(this.database,Ro(this._delegate,To()))},e.prototype.orderByValue=function(){return(0,o.Dv)("Query.orderByValue",0,0,arguments.length),new e(this.database,Ro(this._delegate,Io()))},e.prototype.startAt=function(t,n){return void 0===t&&(t=null),(0,o.Dv)("Query.startAt",0,2,arguments.length),new e(this.database,Ro(this._delegate,mo(t,n)))},e.prototype.startAfter=function(t,n){return void 0===t&&(t=null),(0,o.Dv)("Query.startAfter",0,2,arguments.length),new e(this.database,Ro(this._delegate,yo(t,n)))},e.prototype.endAt=function(t,n){return void 0===t&&(t=null),(0,o.Dv)("Query.endAt",0,2,arguments.length),new e(this.database,Ro(this._delegate,fo(t,n)))},e.prototype.endBefore=function(t,n){return void 0===t&&(t=null),(0,o.Dv)("Query.endBefore",0,2,arguments.length),new e(this.database,Ro(this._delegate,po(t,n)))},e.prototype.equalTo=function(t,n){return(0,o.Dv)("Query.equalTo",1,2,arguments.length),new e(this.database,Ro(this._delegate,Po(t,n)))},e.prototype.toString=function(){return(0,o.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return(0,o.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if((0,o.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,(0,o.Wj)(e,"cancel",r.cancel,!0),r.context=n,(0,o.lb)(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error((0,o.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return new Ko(this.database,new zi(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),Ko=function(e){function t(t,n){var r=e.call(this,t,new Fi(n._repo,n._path,new Ot,!1))||this;return r.database=t,r._delegate=n,r}return(0,a.ZT)(t,e),t.prototype.getKey=function(){return(0,o.Dv)("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(e){return(0,o.Dv)("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new t(this.database,Wi(this._delegate,e))},t.prototype.getParent=function(){(0,o.Dv)("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new t(this.database,e):null},t.prototype.getRoot=function(){return(0,o.Dv)("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(e,t){(0,o.Dv)("Reference.set",1,2,arguments.length),(0,o.Wj)("Reference.set","onComplete",t,!0);var n=Ji(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.update=function(e,t){if((0,o.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,k("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Xr("Reference.update",this._delegate._path),(0,o.Wj)("Reference.update","onComplete",t,!0);var i=Xi(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},t.prototype.setWithPriority=function(e,t,n){(0,o.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,o.Wj)("Reference.setWithPriority","onComplete",n,!0);var r=$i(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},t.prototype.remove=function(e){(0,o.Dv)("Reference.remove",0,1,arguments.length),(0,o.Wj)("Reference.remove","onComplete",e,!0);var t=Ki(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},t.prototype.transaction=function(e,t,n){var r=this;(0,o.Dv)("Reference.transaction",1,3,arguments.length),(0,o.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,o.Wj)("Reference.transaction","onComplete",t,!0),ei("Reference.transaction","applyLocally",n,!0);var i=qo(this._delegate,e,{applyLocally:n}).then((function(e){return new Ho(e.committed,new Wo(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i},t.prototype.setPriority=function(e,t){(0,o.Dv)("Reference.setPriority",1,2,arguments.length),(0,o.Wj)("Reference.setPriority","onComplete",t,!0);var n=Yi(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.push=function(e,n){var r=this;(0,o.Dv)("Reference.push",0,2,arguments.length),(0,o.Wj)("Reference.push","onComplete",n,!0);var i=Gi(this._delegate,e),a=i.then((function(e){return new t(r.database,e)}));n&&a.then((function(){return n(null)}),(function(e){return n(e)}));var s=new t(this.database,i);return s.then=a.then.bind(a),s.catch=a.catch.bind(a,void 0),s},t.prototype.onDisconnect=function(){return Xr("Reference.onDisconnect",this._delegate._path),new Zo(new Li(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(Go),Jo=function(){function e(e,t){var n=this;this._delegate=e,this.app=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),Fo(this._delegate,e,t,n)},e.prototype.ref=function(e){if((0,o.Dv)("database.ref",0,1,arguments.length),e instanceof Ko){var t=Hi(this._delegate,e.toString());return new Ko(this,t)}t=Zi(this._delegate,e);return new Ko(this,t)},e.prototype.refFromURL=function(e){var t="database.refFromURL";(0,o.Dv)(t,1,1,arguments.length);var n=Hi(this._delegate,e);return new Ko(this,n)},e.prototype.goOffline=function(){return(0,o.Dv)("database.goOffline",0,0,arguments.length),Bo(this._delegate)},e.prototype.goOnline=function(){return(0,o.Dv)("database.goOnline",0,0,arguments.length),Uo(this._delegate)},e.ServerValue={TIMESTAMP:Vo,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}},e}();var Yo=Object.freeze({__proto__:null,forceLongPolling:function(){ce.forceDisallow(),ae.forceAllow()},forceWebSockets:function(){ae.forceDisallow()},isWebSocketsAvailable:function(){return ce.isAvailable()},setSecurityDebugCallback:function(e,t){e._delegate._repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){!function(e,t){if(void 0===t&&(t=!1),"undefined"!==typeof console){var n;t?(e.statsListener_||(e.statsListener_=new Ft(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce((function(e,t){return Math.max(t.length,e)}),0);M(n,(function(e,t){for(var n=e,i=e.length;i<r+2;i++)n+=" ";console.log(n+t)}))}}(e._delegate._repo,t)},statsIncrementCounter:function(e,t){!function(e,t){var n,r;e.stats_.incrementCounter(t),n=e.statsReporter_,r=t,n.statsToReport_[r]=!0}(e._delegate._repo,t)},dataUpdateCount:function(e){return e._delegate._repo.dataUpdateCount},interceptServerData:function(e,t){return function(e,t){e.interceptServerDataCallback_=t}(e._delegate._repo,t)},initStandalone:function(e){var t=e.app,n=e.url,r=e.version,o=e.customAuthImpl,a=e.namespace,s=e.nodeAdmin,u=void 0!==s&&s;l(r);var c=new i.zt("auth-internal",new i.H0("database-standalone"));return c.setComponent(new i.wA("auth-internal",(function(){return o}),"PRIVATE")),{instance:new Jo(Mo(t,c,void 0,n,u),t),namespace:a}}}),$o=Me;Me.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Me.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var Xo=fe,Qo=$,ea=Object.freeze({__proto__:null,DataConnection:$o,RealTimeConnection:Xo,hijackHash:function(e){var t=Me.prototype.put;return Me.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){Me.prototype.put=t}},ConnectionTarget:Qo,queryIdentifier:function(e){return e._delegate._queryIdentifier},forceRestClient:function(e){!function(e){jo=e}(e)}}),ta=Jo.ServerValue;!function(t){l(t.SDK_VERSION);var n=t.INTERNAL.registerComponent(new i.wA("database",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new Jo(Mo(r,i,o,n),r)}),"PUBLIC").setServiceProps({Reference:Ko,Query:Go,Database:Jo,DataSnapshot:Wo,enableLogging:E,INTERNAL:Yo,ServerValue:ta,TEST_ACCESS:ea}).setMultipleInstances(!0));t.registerVersion("@firebase/database","0.11.0"),(0,o.Yr)()&&(e.exports=n)}(r.Z)},70015:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var i,o=new Promise((function(o,a){n(i=e[t].apply(e,r)).then(o,a)}));return o.request=i,o}function i(e,t,n){var i=r(e,t,n);return i.then((function(e){if(e)return new l(e,i.request)}))}function o(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function a(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function s(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function u(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function c(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function f(e){this._store=e}function d(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function h(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new d(n)}function p(e){this._db=e}function v(e,t,n){var i=r(indexedDB,"open",[e,t]),o=i.request;return o&&(o.onupgradeneeded=function(e){n&&n(new h(o.result,e.oldVersion,o.transaction))}),i.then((function(e){return new p(e)}))}function m(e){return r(indexedDB,"deleteDatabase",[e])}o(c,"_index",["name","keyPath","multiEntry","unique"]),a(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new l(e,t._request)}))}))})})),f.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},f.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(f,"_store",["name","keyPath","indexNames","autoIncrement"]),a(f,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(f,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(f,"_store",IDBObjectStore,["deleteIndex"]),d.prototype.objectStore=function(){return new f(this._tx.objectStore.apply(this._tx,arguments))},o(d,"_tx",["objectStoreNames","mode"]),s(d,"_tx",IDBTransaction,["abort"]),h.prototype.createObjectStore=function(){return new f(this._db.createObjectStore.apply(this._db,arguments))},o(h,"_db",["name","version","objectStoreNames"]),s(h,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new d(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[f,c].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,o=i[e].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[c,f].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})})),e.openDb=v,e.deleteDb=m,Object.defineProperty(e,"__esModule",{value:!0})}(t)},62333:function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?i-1:0,d=n?-1:1,h=e[t+f];for(f+=d,o=h&(1<<-l)-1,h>>=-l,l+=s;l>0;o=256*o+e[t+f],f+=d,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+e[t+f],f+=d,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),o-=c}return(h?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+f>=1?d/u:d*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*u-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+h]=255&s,h+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[n+h]=255&a,h+=p,a/=256,c-=8);e[n+h-p]|=128*v}},87202:function(e,t){"use strict";for(var n="undefined"!=typeof window&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),r={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},i={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:n?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},o={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},a=1;a<20;a++)o["f"+a]=111+a;function s(e,t,n){t&&!("byKey"in t)&&(n=t,t=null),Array.isArray(e)||(e=[e]);var r=e.map((function(e){return u(e,t)})),i=function(e){return r.some((function(t){return c(t,e)}))};return null==n?i:i(n)}function u(e,t){var n=t&&t.byKey,i={},o=(e=e.replace("++","+add")).split("+"),a=o.length;for(var s in r)i[r[s]]=!1;var u=!0,c=!1,d=void 0;try{for(var h,p=o[Symbol.iterator]();!(u=(h=p.next()).done);u=!0){var v=h.value,m=v.endsWith("?")&&v.length>1;m&&(v=v.slice(0,-1));var g=f(v),y=r[g];1!==a&&y||(n?i.key=g:i.which=l(v)),y&&(i[y]=!m||null)}}catch(b){c=!0,d=b}finally{try{!u&&p.return&&p.return()}finally{if(c)throw d}}return i}function c(e,t){for(var n in e){var r=e[n],i=void 0;if(null!=r&&((null!=(i="key"===n&&null!=t.key?t.key.toLowerCase():"which"===n?91===r&&93===t.which?91:t.which:t[n])||!1!==r)&&i!==r))return!1}return!0}function l(e){return e=f(e),o[e]||e.toUpperCase().charCodeAt(0)}function f(e){return e=e.toLowerCase(),e=i[e]||e}t.TB=function(e,t){return s(e,{byKey:!0},t)}},52810:function(e,t,n){"use strict";var r=n(42294),i=n(71941);function o(e,t,n){if(t||(t="sha1"),n||(n="base64"),!(this instanceof o))return new o(e,t,n);if(!e||!(0 in e))throw new Error("Keys must be provided.");function a(e,r){return i.createHmac(t,r).update(e).digest(n).replace(/\/|\+|=/g,(function(e){return{"/":"_","+":"-","=":""}[e]}))}this.sign=function(t){return a(t,e[0])},this.verify=function(e,t){return this.index(e,t)>-1},this.index=function(t,n){for(var i=0,o=e.length;i<o;i++)if(r(n,a(t,e[i])))return i;return-1}}o.sign=o.verify=o.index=function(){throw new Error("Usage: require('keygrip')(<array-of-keys>)")},e.exports=o},80594:function(e,t,n){var r=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,s=parseInt,u="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,c="object"==typeof self&&self&&self.Object===Object&&self,l=u||c||Function("return this")(),f=Object.prototype.toString,d=Math.max,h=Math.min,p=function(){return l.Date.now()};function v(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function m(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==f.call(e)}(e))return NaN;if(v(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=v(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(r,"");var n=o.test(e);return n||a.test(e)?s(e.slice(2),n?2:8):i.test(e)?NaN:+e}e.exports=function(e,t,n){var r,i,o,a,s,u,c=0,l=!1,f=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=r,o=i;return r=i=void 0,c=t,a=e.apply(o,n)}function b(e){return c=e,s=setTimeout(_,t),l?y(e):a}function w(e){var n=e-u;return void 0===u||n>=t||n<0||f&&e-c>=o}function _(){var e=p();if(w(e))return E(e);s=setTimeout(_,function(e){var n=t-(e-u);return f?h(n,o-(e-c)):n}(e))}function E(e){return s=void 0,g&&r?y(e):(r=i=void 0,a)}function S(){var e=p(),n=w(e);if(r=arguments,i=this,u=e,n){if(void 0===s)return b(u);if(f)return s=setTimeout(_,t),y(u)}return void 0===s&&(s=setTimeout(_,t)),a}return t=m(t)||0,v(n)&&(l=!!n.leading,o=(f="maxWait"in n)?d(m(n.maxWait)||0,t):o,g="trailing"in n?!!n.trailing:g),S.cancel=function(){void 0!==s&&clearTimeout(s),c=0,r=u=i=s=void 0},S.flush=function(){return void 0===s?a:E(p())},S}},98357:function(e,t,n){var r="Expected a function",i=/^\s+|\s+$/g,o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,s=/^0o[0-7]+$/i,u=parseInt,c="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,l="object"==typeof self&&self&&self.Object===Object&&self,f=c||l||Function("return this")(),d=Object.prototype.toString,h=Math.max,p=Math.min,v=function(){return f.Date.now()};function m(e,t,n){var i,o,a,s,u,c,l=0,f=!1,d=!1,m=!0;if("function"!=typeof e)throw new TypeError(r);function b(t){var n=i,r=o;return i=o=void 0,l=t,s=e.apply(r,n)}function w(e){return l=e,u=setTimeout(E,t),f?b(e):s}function _(e){var n=e-c;return void 0===c||n>=t||n<0||d&&e-l>=a}function E(){var e=v();if(_(e))return S(e);u=setTimeout(E,function(e){var n=t-(e-c);return d?p(n,a-(e-l)):n}(e))}function S(e){return u=void 0,m&&i?b(e):(i=o=void 0,s)}function x(){var e=v(),n=_(e);if(i=arguments,o=this,c=e,n){if(void 0===u)return w(c);if(d)return u=setTimeout(E,t),b(c)}return void 0===u&&(u=setTimeout(E,t)),s}return t=y(t)||0,g(n)&&(f=!!n.leading,a=(d="maxWait"in n)?h(y(n.maxWait)||0,t):a,m="trailing"in n?!!n.trailing:m),x.cancel=function(){void 0!==u&&clearTimeout(u),l=0,i=c=o=u=void 0},x.flush=function(){return void 0===u?s:S(v())},x}function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function y(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==d.call(e)}(e))return NaN;if(g(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=g(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(i,"");var n=a.test(e);return n||s.test(e)?u(e.slice(2),n?2:8):o.test(e)?NaN:+e}e.exports=function(e,t,n){var i=!0,o=!0;if("function"!=typeof e)throw new TypeError(r);return g(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),m(e,t,{leading:i,maxWait:t,trailing:o})}},39515:function(e,t,n){var r=n(38761)(n(37772),"DataView");e.exports=r},89612:function(e,t,n){var r=n(52118),i=n(96909),o=n(98138),a=n(4174),s=n(7942);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},80235:function(e,t,n){var r=n(3945),i=n(21846),o=n(88028),a=n(72344),s=n(94769);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},10326:function(e,t,n){var r=n(38761)(n(37772),"Map");e.exports=r},96738:function(e,t,n){var r=n(92411),i=n(36417),o=n(86928),a=n(79493),s=n(24150);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},52760:function(e,t,n){var r=n(38761)(n(37772),"Promise");e.exports=r},2143:function(e,t,n){var r=n(38761)(n(37772),"Set");e.exports=r},45386:function(e,t,n){var r=n(96738),i=n(52842),o=n(52482);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},86571:function(e,t,n){var r=n(80235),i=n(15243),o=n(72858),a=n(4417),s=n(8605),u=n(71418);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=a,c.prototype.has=s,c.prototype.set=u,e.exports=c},50857:function(e,t,n){var r=n(37772).Symbol;e.exports=r},79162:function(e,t,n){var r=n(37772).Uint8Array;e.exports=r},93215:function(e,t,n){var r=n(38761)(n(37772),"WeakMap");e.exports=r},49432:function(e){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},65338:function(e){e.exports=function(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}},72517:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},67552:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},38333:function(e,t,n){var r=n(77832);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},34893:function(e){e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},1634:function(e,t,n){var r=n(36473),i=n(79631),o=n(86152),a=n(73226),s=n(39045),u=n(77598),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),l=!n&&i(e),f=!n&&!l&&a(e),d=!n&&!l&&!f&&u(e),h=n||l||f||d,p=h?r(e.length,String):[],v=p.length;for(var m in e)!t&&!c.call(e,m)||h&&("length"==m||f&&("offset"==m||"parent"==m)||d&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,v))||p.push(m);return p}},50343:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},65067:function(e){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},33977:function(e,t,n){var r=n(5809);e.exports=function(e){var t=e.length;return t?e[r(0,t-1)]:void 0}},87064:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},50217:function(e){e.exports=function(e){return e.split("")}},28582:function(e,t,n){var r=n(13940),i=n(41225);e.exports=function(e,t,n){(void 0!==n&&!i(e[t],n)||void 0===n&&!(t in e))&&r(e,t,n)}},60091:function(e,t,n){var r=n(13940),i=n(41225),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];o.call(e,t)&&i(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},22218:function(e,t,n){var r=n(41225);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},12825:function(e,t,n){var r=n(24303);e.exports=function(e,t,n,i){return r(e,(function(e,r,o){t(i,e,n(e),o)})),i}},67993:function(e,t,n){var r=n(752),i=n(90249);e.exports=function(e,t){return e&&r(t,i(t),e)}},55906:function(e,t,n){var r=n(752),i=n(18582);e.exports=function(e,t){return e&&r(t,i(t),e)}},13940:function(e,t,n){var r=n(83043);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},14034:function(e){e.exports=function(e,t,n){return e===e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}},18874:function(e,t,n){var r=n(86571),i=n(72517),o=n(60091),a=n(67993),s=n(55906),u=n(92175),c=n(51522),l=n(7680),f=n(19987),d=n(13483),h=n(76939),p=n(70940),v=n(99917),m=n(8222),g=n(78725),y=n(86152),b=n(73226),w=n(4714),_=n(29259),E=n(43679),S=n(90249),x=n(18582),O="[object Arguments]",C="[object Function]",k="[object Object]",T={};T[O]=T["[object Array]"]=T["[object ArrayBuffer]"]=T["[object DataView]"]=T["[object Boolean]"]=T["[object Date]"]=T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Map]"]=T["[object Number]"]=T[k]=T["[object RegExp]"]=T["[object Set]"]=T["[object String]"]=T["[object Symbol]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T["[object Error]"]=T[C]=T["[object WeakMap]"]=!1,e.exports=function e(t,n,A,I,D,P){var R,N=1&n,j=2&n,M=4&n;if(A&&(R=D?A(t,I,D,P):A(t)),void 0!==R)return R;if(!_(t))return t;var L=y(t);if(L){if(R=v(t),!N)return c(t,R)}else{var F=p(t),B=F==C||"[object GeneratorFunction]"==F;if(b(t))return u(t,N);if(F==k||F==O||B&&!D){if(R=j||B?{}:g(t),!N)return j?f(t,s(R,t)):l(t,a(R,t))}else{if(!T[F])return D?t:{};R=m(t,F,N)}}P||(P=new r);var U=P.get(t);if(U)return U;P.set(t,R),E(t)?t.forEach((function(r){R.add(e(r,n,A,r,t,P))})):w(t)&&t.forEach((function(r,i){R.set(i,e(r,n,A,i,t,P))}));var V=L?void 0:(M?j?h:d:j?x:S)(t);return i(V||t,(function(r,i){V&&(r=t[i=r]),o(R,i,e(r,n,A,i,t,P))})),R}},39413:function(e,t,n){var r=n(29259),i=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},24303:function(e,t,n){var r=n(26548),i=n(92019)(r);e.exports=i},2229:function(e,t,n){var r=n(4795);e.exports=function(e,t,n){for(var i=-1,o=e.length;++i<o;){var a=e[i],s=t(a);if(null!=s&&(void 0===u?s===s&&!r(s):n(s,u)))var u=s,c=a}return c}},21359:function(e){e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},62034:function(e,t,n){var r=n(65067),i=n(95882);e.exports=function e(t,n,o,a,s){var u=-1,c=t.length;for(o||(o=i),s||(s=[]);++u<c;){var l=t[u];n>0&&o(l)?n>1?e(l,n-1,o,a,s):r(s,l):a||(s[s.length]=l)}return s}},15308:function(e,t,n){var r=n(55463)();e.exports=r},26548:function(e,t,n){var r=n(15308),i=n(90249);e.exports=function(e,t){return e&&r(e,t,i)}},13324:function(e,t,n){var r=n(17297),i=n(33812);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},1897:function(e,t,n){var r=n(65067),i=n(86152);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},53366:function(e,t,n){var r=n(50857),i=n(62107),o=n(37157),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},84134:function(e){e.exports=function(e,t){return e>t}},20187:function(e){e.exports=function(e,t){return null!=e&&t in Object(e)}},77832:function(e,t,n){var r=n(21359),i=n(22195),o=n(66024);e.exports=function(e,t,n){return t===t?o(e,t,n):r(e,i,n)}},15183:function(e,t,n){var r=n(53366),i=n(15125);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},88746:function(e,t,n){var r=n(51952),i=n(15125);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,o,a,e,s))}},51952:function(e,t,n){var r=n(86571),i=n(74871),o=n(11491),a=n(17416),s=n(70940),u=n(86152),c=n(73226),l=n(77598),f="[object Arguments]",d="[object Array]",h="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,v,m,g){var y=u(e),b=u(t),w=y?d:s(e),_=b?d:s(t),E=(w=w==f?h:w)==h,S=(_=_==f?h:_)==h,x=w==_;if(x&&c(e)){if(!c(t))return!1;y=!0,E=!1}if(x&&!E)return g||(g=new r),y||l(e)?i(e,t,n,v,m,g):o(e,t,w,n,v,m,g);if(!(1&n)){var O=E&&p.call(e,"__wrapped__"),C=S&&p.call(t,"__wrapped__");if(O||C){var k=O?e.value():e,T=C?t.value():t;return g||(g=new r),m(k,T,n,v,g)}}return!!x&&(g||(g=new r),a(e,t,n,v,m,g))}},74511:function(e,t,n){var r=n(70940),i=n(15125);e.exports=function(e){return i(e)&&"[object Map]"==r(e)}},37036:function(e,t,n){var r=n(86571),i=n(88746);e.exports=function(e,t,n,o){var a=n.length,s=a,u=!o;if(null==e)return!s;for(e=Object(e);a--;){var c=n[a];if(u&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<s;){var l=(c=n[a])[0],f=e[l],d=c[1];if(u&&c[2]){if(void 0===f&&!(l in e))return!1}else{var h=new r;if(o)var p=o(f,d,l,e,t,h);if(!(void 0===p?i(d,f,3,o,h):p))return!1}}return!0}},22195:function(e){e.exports=function(e){return e!==e}},6840:function(e,t,n){var r=n(61049),i=n(47394),o=n(29259),a=n(87035),s=/^\[object .+?Constructor\]$/,u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,d=RegExp("^"+l.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?d:s).test(a(e))}},8109:function(e,t,n){var r=n(70940),i=n(15125);e.exports=function(e){return i(e)&&"[object Set]"==r(e)}},35522:function(e,t,n){var r=n(53366),i=n(61158),o=n(15125),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},68286:function(e,t,n){var r=n(26423),i=n(74716),o=n(23059),a=n(86152),s=n(65798);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?a(e)?i(e[0],e[1]):r(e):s(e)}},86411:function(e,t,n){var r=n(16001),i=n(54248),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},18390:function(e,t,n){var r=n(29259),i=n(16001),o=n(62966),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=i(e),n=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&n.push(s);return n}},26423:function(e,t,n){var r=n(37036),i=n(49882),o=n(73477);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},74716:function(e,t,n){var r=n(88746),i=n(72579),o=n(95041),a=n(21401),s=n(28792),u=n(73477),c=n(33812);e.exports=function(e,t){return a(e)&&s(t)?u(c(e),t):function(n){var a=i(n,e);return void 0===a&&a===t?o(n,e):r(t,a,3)}}},84565:function(e,t,n){var r=n(86571),i=n(28582),o=n(15308),a=n(25561),s=n(29259),u=n(18582),c=n(52434);e.exports=function e(t,n,l,f,d){t!==n&&o(n,(function(o,u){if(d||(d=new r),s(o))a(t,n,u,l,e,f,d);else{var h=f?f(c(t,u),o,u+"",t,n,d):void 0;void 0===h&&(h=o),i(t,u,h)}}),u)}},25561:function(e,t,n){var r=n(28582),i=n(92175),o=n(6190),a=n(51522),s=n(78725),u=n(79631),c=n(86152),l=n(93746),f=n(73226),d=n(61049),h=n(29259),p=n(97030),v=n(77598),m=n(52434),g=n(63329);e.exports=function(e,t,n,y,b,w,_){var E=m(e,n),S=m(t,n),x=_.get(S);if(x)r(e,n,x);else{var O=w?w(E,S,n+"",e,t,_):void 0,C=void 0===O;if(C){var k=c(S),T=!k&&f(S),A=!k&&!T&&v(S);O=S,k||T||A?c(E)?O=E:l(E)?O=a(E):T?(C=!1,O=i(S,!0)):A?(C=!1,O=o(S,!0)):O=[]:p(S)||u(S)?(O=E,u(E)?O=g(E):h(E)&&!d(E)||(O=s(S))):C=!1}C&&(_.set(S,O),b(O,S,y,w,_),_.delete(S)),r(e,n,O)}}},20256:function(e){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},82952:function(e,t,n){var r=n(13324);e.exports=function(e){return function(t){return r(t,e)}}},5809:function(e){var t=Math.floor,n=Math.random;e.exports=function(e,r){return e+t(n()*(r-e+1))}},36060:function(e,t,n){var r=n(23059),i=n(43114),o=n(75251);e.exports=function(e,t){return o(i(e,t,r),e+"")}},46543:function(e,t,n){var r=n(33977),i=n(98346);e.exports=function(e){return r(i(e))}},86532:function(e,t,n){var r=n(86874),i=n(83043),o=n(23059),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},39872:function(e){e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}},36473:function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},1054:function(e,t,n){var r=n(50857),i=n(50343),o=n(86152),a=n(4795),s=r?r.prototype:void 0,u=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return u?u.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n}},51704:function(e,t,n){var r=n(52153),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},47826:function(e){e.exports=function(e){return function(t){return e(t)}}},67326:function(e,t,n){var r=n(45386),i=n(38333),o=n(34893),a=n(59950),s=n(78803),u=n(16909);e.exports=function(e,t,n){var c=-1,l=i,f=e.length,d=!0,h=[],p=h;if(n)d=!1,l=o;else if(f>=200){var v=t?null:s(e);if(v)return u(v);d=!1,l=a,p=new r}else p=t?[]:h;e:for(;++c<f;){var m=e[c],g=t?t(m):m;if(m=n||0!==m?m:0,d&&g===g){for(var y=p.length;y--;)if(p[y]===g)continue e;t&&p.push(g),h.push(m)}else l(p,g,n)||(p!==h&&p.push(g),h.push(m))}return h}},29078:function(e,t,n){var r=n(17297),i=n(56974),o=n(62721),a=n(33812);e.exports=function(e,t){return t=r(t,e),null==(e=o(e,t))||delete e[a(i(t))]}},50753:function(e,t,n){var r=n(50343);e.exports=function(e,t){return r(t,(function(t){return e[t]}))}},59950:function(e){e.exports=function(e,t){return e.has(t)}},89419:function(e,t,n){var r=n(23059);e.exports=function(e){return"function"==typeof e?e:r}},17297:function(e,t,n){var r=n(86152),i=n(21401),o=n(54452),a=n(66188);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}},23895:function(e,t,n){var r=n(39872);e.exports=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:r(e,t,n)}},79882:function(e,t,n){var r=n(79162);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},92175:function(e,t,n){e=n.nmd(e);var r=n(37772),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i?r.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}},34727:function(e,t,n){var r=n(79882);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},96058:function(e){var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},70169:function(e,t,n){var r=n(50857),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},6190:function(e,t,n){var r=n(79882);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},51522:function(e){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},752:function(e,t,n){var r=n(60091),i=n(13940);e.exports=function(e,t,n,o){var a=!n;n||(n={});for(var s=-1,u=t.length;++s<u;){var c=t[s],l=o?o(n[c],e[c],c,n,e):void 0;void 0===l&&(l=e[c]),a?i(n,c,l):r(n,c,l)}return n}},7680:function(e,t,n){var r=n(752),i=n(80633);e.exports=function(e,t){return r(e,i(e),t)}},19987:function(e,t,n){var r=n(752),i=n(12680);e.exports=function(e,t){return r(e,i(e),t)}},24019:function(e,t,n){var r=n(37772)["__core-js_shared__"];e.exports=r},36740:function(e,t,n){var r=n(65338),i=n(12825),o=n(68286),a=n(86152);e.exports=function(e,t){return function(n,s){var u=a(n)?r:i,c=t?t():{};return u(n,e,o(s,2),c)}}},97263:function(e,t,n){var r=n(36060),i=n(82406);e.exports=function(e){return r((function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(a=e.length>3&&"function"==typeof a?(o--,a):void 0,s&&i(n[0],n[1],s)&&(a=o<3?void 0:a,o=1),t=Object(t);++r<o;){var u=n[r];u&&e(t,u,r,a)}return t}))}},92019:function(e,t,n){var r=n(67878);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var o=n.length,a=t?o:-1,s=Object(n);(t?a--:++a<o)&&!1!==i(s[a],a,s););return n}}},55463:function(e){e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}},83126:function(e,t,n){var r=n(23895),i=n(33880),o=n(8435),a=n(66188);e.exports=function(e){return function(t){t=a(t);var n=i(t)?o(t):void 0,s=n?n[0]:t.charAt(0),u=n?r(n,1).join(""):t.slice(1);return s[e]()+u}}},78803:function(e,t,n){var r=n(2143),i=n(34291),o=n(16909),a=r&&1/o(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i;e.exports=a},48642:function(e,t,n){var r=n(97030);e.exports=function(e){return r(e)?void 0:e}},83043:function(e,t,n){var r=n(38761),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},74871:function(e,t,n){var r=n(45386),i=n(87064),o=n(59950);e.exports=function(e,t,n,a,s,u){var c=1&n,l=e.length,f=t.length;if(l!=f&&!(c&&f>l))return!1;var d=u.get(e),h=u.get(t);if(d&&h)return d==t&&h==e;var p=-1,v=!0,m=2&n?new r:void 0;for(u.set(e,t),u.set(t,e);++p<l;){var g=e[p],y=t[p];if(a)var b=c?a(y,g,p,t,e,u):a(g,y,p,e,t,u);if(void 0!==b){if(b)continue;v=!1;break}if(m){if(!i(t,(function(e,t){if(!o(m,t)&&(g===e||s(g,e,n,a,u)))return m.push(t)}))){v=!1;break}}else if(g!==y&&!s(g,y,n,a,u)){v=!1;break}}return u.delete(e),u.delete(t),v}},11491:function(e,t,n){var r=n(50857),i=n(79162),o=n(41225),a=n(74871),s=n(75179),u=n(16909),c=r?r.prototype:void 0,l=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,f,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=s;case"[object Set]":var p=1&r;if(h||(h=u),e.size!=t.size&&!p)return!1;var v=d.get(e);if(v)return v==t;r|=2,d.set(e,t);var m=a(h(e),h(t),r,c,f,d);return d.delete(e),m;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}},17416:function(e,t,n){var r=n(13483),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var u=1&n,c=r(e),l=c.length;if(l!=r(t).length&&!u)return!1;for(var f=l;f--;){var d=c[f];if(!(u?d in t:i.call(t,d)))return!1}var h=s.get(e),p=s.get(t);if(h&&p)return h==t&&p==e;var v=!0;s.set(e,t),s.set(t,e);for(var m=u;++f<l;){var g=e[d=c[f]],y=t[d];if(o)var b=u?o(y,g,d,t,e,s):o(g,y,d,e,t,s);if(!(void 0===b?g===y||a(g,y,n,o,s):b)){v=!1;break}m||(m="constructor"==d)}if(v&&!m){var w=e.constructor,_=t.constructor;w==_||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof _&&_ instanceof _||(v=!1)}return s.delete(e),s.delete(t),v}},29097:function(e,t,n){var r=n(35676),i=n(43114),o=n(75251);e.exports=function(e){return o(i(e,void 0,r),e+"")}},51242:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},13483:function(e,t,n){var r=n(1897),i=n(80633),o=n(90249);e.exports=function(e){return r(e,o,i)}},76939:function(e,t,n){var r=n(1897),i=n(12680),o=n(18582);e.exports=function(e){return r(e,o,i)}},27937:function(e,t,n){var r=n(98304);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},49882:function(e,t,n){var r=n(28792),i=n(90249);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],a=e[o];t[n]=[o,a,r(a)]}return t}},38761:function(e,t,n){var r=n(6840),i=n(98109);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},47353:function(e,t,n){var r=n(60241)(Object.getPrototypeOf,Object);e.exports=r},62107:function(e,t,n){var r=n(50857),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(u){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},80633:function(e,t,n){var r=n(67552),i=n(30981),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},12680:function(e,t,n){var r=n(65067),i=n(47353),o=n(80633),a=n(30981),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=i(e);return t}:a;e.exports=s},70940:function(e,t,n){var r=n(39515),i=n(10326),o=n(52760),a=n(2143),s=n(93215),u=n(53366),c=n(87035),l="[object Map]",f="[object Promise]",d="[object Set]",h="[object WeakMap]",p="[object DataView]",v=c(r),m=c(i),g=c(o),y=c(a),b=c(s),w=u;(r&&w(new r(new ArrayBuffer(1)))!=p||i&&w(new i)!=l||o&&w(o.resolve())!=f||a&&w(new a)!=d||s&&w(new s)!=h)&&(w=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case v:return p;case m:return l;case g:return f;case y:return d;case b:return h}return t}),e.exports=w},98109:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},1369:function(e,t,n){var r=n(17297),i=n(79631),o=n(86152),a=n(39045),s=n(61158),u=n(33812);e.exports=function(e,t,n){for(var c=-1,l=(t=r(t,e)).length,f=!1;++c<l;){var d=u(t[c]);if(!(f=null!=e&&n(e,d)))break;e=e[d]}return f||++c!=l?f:!!(l=null==e?0:e.length)&&s(l)&&a(d,l)&&(o(e)||i(e))}},33880:function(e){var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},52118:function(e,t,n){var r=n(99191);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},96909:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},98138:function(e,t,n){var r=n(99191),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},4174:function(e,t,n){var r=n(99191),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},7942:function(e,t,n){var r=n(99191);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},99917:function(e){var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,r=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},8222:function(e,t,n){var r=n(79882),i=n(34727),o=n(96058),a=n(70169),s=n(6190);e.exports=function(e,t,n){var u=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new u(+e);case"[object DataView]":return i(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,n);case"[object Map]":case"[object Set]":return new u;case"[object Number]":case"[object String]":return new u(e);case"[object RegExp]":return o(e);case"[object Symbol]":return a(e)}}},78725:function(e,t,n){var r=n(39413),i=n(47353),o=n(16001);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}},95882:function(e,t,n){var r=n(50857),i=n(79631),o=n(86152),a=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(a&&e&&e[a])}},39045:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},82406:function(e,t,n){var r=n(41225),i=n(67878),o=n(39045),a=n(29259);e.exports=function(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&o(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},21401:function(e,t,n){var r=n(86152),i=n(4795),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(a.test(e)||!o.test(e)||null!=t&&e in Object(t))}},98304:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},47394:function(e,t,n){var r=n(24019),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},16001:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},28792:function(e,t,n){var r=n(29259);e.exports=function(e){return e===e&&!r(e)}},3945:function(e){e.exports=function(){this.__data__=[],this.size=0}},21846:function(e,t,n){var r=n(22218),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},88028:function(e,t,n){var r=n(22218);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},72344:function(e,t,n){var r=n(22218);e.exports=function(e){return r(this.__data__,e)>-1}},94769:function(e,t,n){var r=n(22218);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},92411:function(e,t,n){var r=n(89612),i=n(80235),o=n(10326);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},36417:function(e,t,n){var r=n(27937);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},86928:function(e,t,n){var r=n(27937);e.exports=function(e){return r(this,e).get(e)}},79493:function(e,t,n){var r=n(27937);e.exports=function(e){return r(this,e).has(e)}},24150:function(e,t,n){var r=n(27937);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},75179:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},73477:function(e){e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},77777:function(e,t,n){var r=n(30733);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},99191:function(e,t,n){var r=n(38761)(Object,"create");e.exports=r},54248:function(e,t,n){var r=n(60241)(Object.keys,Object);e.exports=r},62966:function(e){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},4146:function(e,t,n){e=n.nmd(e);var r=n(51242),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=s},37157:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},60241:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},43114:function(e,t,n){var r=n(49432),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,a=-1,s=i(o.length-t,0),u=Array(s);++a<s;)u[a]=o[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=o[a];return c[t]=n(u),r(e,this,c)}}},62721:function(e,t,n){var r=n(13324),i=n(39872);e.exports=function(e,t){return t.length<2?e:r(e,i(t,0,-1))}},37772:function(e,t,n){var r=n(51242),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},52434:function(e){e.exports=function(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}},52842:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},52482:function(e){e.exports=function(e){return this.__data__.has(e)}},16909:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},75251:function(e,t,n){var r=n(86532),i=n(97787)(r);e.exports=i},97787:function(e){var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var i=t(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},15243:function(e,t,n){var r=n(80235);e.exports=function(){this.__data__=new r,this.size=0}},72858:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},4417:function(e){e.exports=function(e){return this.__data__.get(e)}},8605:function(e){e.exports=function(e){return this.__data__.has(e)}},71418:function(e,t,n){var r=n(80235),i=n(10326),o=n(96738);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},66024:function(e){e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},8435:function(e,t,n){var r=n(50217),i=n(33880),o=n(63344);e.exports=function(e){return i(e)?o(e):r(e)}},54452:function(e,t,n){var r=n(77777),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)})),t}));e.exports=a},33812:function(e,t,n){var r=n(4795);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},87035:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},52153:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},63344:function(e){var t="[\\ud800-\\udfff]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",r="\\ud83c[\\udffb-\\udfff]",i="[^\\ud800-\\udfff]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:"+n+"|"+r+")"+"?",u="[\\ufe0e\\ufe0f]?",c=u+s+("(?:\\u200d(?:"+[i,o,a].join("|")+")"+u+s+")*"),l="(?:"+[i+n+"?",n,o,a,t].join("|")+")",f=RegExp(r+"(?="+r+")|"+l+c,"g");e.exports=function(e){return e.match(f)||[]}},40185:function(e,t,n){var r=n(38101);e.exports=function(e,t){var n;if("function"!=typeof t)throw new TypeError("Expected a function");return e=r(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}},82108:function(e,t,n){var r=n(66188),i=n(23779);e.exports=function(e){return i(r(e).toLowerCase())}},93586:function(e,t,n){var r=n(39872),i=n(82406),o=n(38101),a=Math.ceil,s=Math.max;e.exports=function(e,t,n){t=(n?i(e,t,n):void 0===t)?1:s(o(t),0);var u=null==e?0:e.length;if(!u||t<1)return[];for(var c=0,l=0,f=Array(a(u/t));c<u;)f[l++]=r(e,c,c+=t);return f}},27875:function(e,t,n){var r=n(14034),i=n(7642);e.exports=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=i(n))===n?n:0),void 0!==t&&(t=(t=i(t))===t?t:0),r(i(e),t,n)}},9850:function(e,t,n){var r=n(18874);e.exports=function(e){return r(e,5)}},60417:function(e){e.exports=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i}},86874:function(e){e.exports=function(e){return function(){return e}}},54073:function(e,t,n){var r=n(29259),i=n(61100),o=n(7642),a=Math.max,s=Math.min;e.exports=function(e,t,n){var u,c,l,f,d,h,p=0,v=!1,m=!1,g=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=u,r=c;return u=c=void 0,p=t,f=e.apply(r,n)}function b(e){return p=e,d=setTimeout(_,t),v?y(e):f}function w(e){var n=e-h;return void 0===h||n>=t||n<0||m&&e-p>=l}function _(){var e=i();if(w(e))return E(e);d=setTimeout(_,function(e){var n=t-(e-h);return m?s(n,l-(e-p)):n}(e))}function E(e){return d=void 0,g&&u?y(e):(u=c=void 0,f)}function S(){var e=i(),n=w(e);if(u=arguments,c=this,h=e,n){if(void 0===d)return b(h);if(m)return clearTimeout(d),d=setTimeout(_,t),y(h)}return void 0===d&&(d=setTimeout(_,t)),f}return t=o(t)||0,r(n)&&(v=!!n.leading,l=(m="maxWait"in n)?a(o(n.maxWait)||0,t):l,g="trailing"in n?!!n.trailing:g),S.cancel=function(){void 0!==d&&clearTimeout(d),p=0,u=h=c=d=void 0},S.flush=function(){return void 0===d?f:E(i())},S}},79421:function(e,t,n){e.exports=n(59756)},41225:function(e){e.exports=function(e,t){return e===t||e!==e&&t!==t}},12982:function(e,t,n){var r=n(21359),i=n(68286),o=n(38101),a=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var u=null==n?0:o(n);return u<0&&(u=a(s+u,0)),r(e,i(t,3),u)}},35676:function(e,t,n){var r=n(62034);e.exports=function(e){return(null==e?0:e.length)?r(e,1):[]}},59756:function(e,t,n){var r=n(72517),i=n(24303),o=n(89419),a=n(86152);e.exports=function(e,t){return(a(e)?r:i)(e,o(t))}},72579:function(e,t,n){var r=n(13324);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},95041:function(e,t,n){var r=n(20187),i=n(1369);e.exports=function(e,t){return null!=e&&i(e,t,r)}},23059:function(e){e.exports=function(e){return e}},79631:function(e,t,n){var r=n(15183),i=n(15125),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},86152:function(e){var t=Array.isArray;e.exports=t},67878:function(e,t,n){var r=n(61049),i=n(61158);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},93746:function(e,t,n){var r=n(67878),i=n(15125);e.exports=function(e){return i(e)&&r(e)}},73226:function(e,t,n){e=n.nmd(e);var r=n(37772),i=n(36330),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;e.exports=u},45455:function(e,t,n){var r=n(86411),i=n(70940),o=n(79631),a=n(86152),s=n(67878),u=n(73226),c=n(16001),l=n(77598),f=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||u(e)||l(e)||o(e)))return!e.length;var t=i(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(c(e))return!r(e).length;for(var n in e)if(f.call(e,n))return!1;return!0}},18149:function(e,t,n){var r=n(88746);e.exports=function(e,t){return r(e,t)}},61049:function(e,t,n){var r=n(53366),i=n(29259);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},61158:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},4714:function(e,t,n){var r=n(74511),i=n(47826),o=n(4146),a=o&&o.isMap,s=a?i(a):r;e.exports=s},61726:function(e,t,n){var r=n(37036),i=n(49882);e.exports=function(e,t){return e===t||r(e,t,i(t))}},29259:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},15125:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},97030:function(e,t,n){var r=n(53366),i=n(47353),o=n(15125),a=Function.prototype,s=Object.prototype,u=a.toString,c=s.hasOwnProperty,l=u.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&u.call(n)==l}},43679:function(e,t,n){var r=n(8109),i=n(47826),o=n(4146),a=o&&o.isSet,s=a?i(a):r;e.exports=s},4795:function(e,t,n){var r=n(53366),i=n(15125);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},77598:function(e,t,n){var r=n(35522),i=n(47826),o=n(4146),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},90249:function(e,t,n){var r=n(1634),i=n(86411),o=n(67878);e.exports=function(e){return o(e)?r(e):i(e)}},18582:function(e,t,n){var r=n(1634),i=n(18390),o=n(67878);e.exports=function(e){return o(e)?r(e,!0):i(e)}},56974:function(e){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},55324:function(e,t,n){var r=n(2229),i=n(84134),o=n(68286);e.exports=function(e,t){return e&&e.length?r(e,o(t,2),i):void 0}},30733:function(e,t,n){var r=n(96738);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},98537:function(e,t,n){var r=n(84565),i=n(97263)((function(e,t,n){r(e,t,n)}));e.exports=i},12782:function(e,t,n){var r=n(84565),i=n(97263)((function(e,t,n,i){r(e,t,n,i)}));e.exports=i},34291:function(e){e.exports=function(){}},61100:function(e,t,n){var r=n(37772);e.exports=function(){return r.Date.now()}},17620:function(e,t,n){var r=n(50343),i=n(18874),o=n(29078),a=n(17297),s=n(752),u=n(48642),c=n(29097),l=n(76939),f=c((function(e,t){var n={};if(null==e)return n;var c=!1;t=r(t,(function(t){return t=a(t,e),c||(c=t.length>1),t})),s(e,l(e),n),c&&(n=i(n,7,u));for(var f=t.length;f--;)o(n,t[f]);return n}));e.exports=f},25291:function(e,t,n){var r=n(40185);e.exports=function(e){return r(2,e)}},96795:function(e,t,n){var r=n(36740)((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));e.exports=r},65798:function(e,t,n){var r=n(20256),i=n(82952),o=n(21401),a=n(33812);e.exports=function(e){return o(e)?r(a(e)):i(e)}},62349:function(e,t,n){var r=n(5809),i=n(82406),o=n(5707),a=parseFloat,s=Math.min,u=Math.random;e.exports=function(e,t,n){if(n&&"boolean"!=typeof n&&i(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=o(e),void 0===t?(t=e,e=0):t=o(t)),e>t){var c=e;e=t,t=c}if(n||e%1||t%1){var l=u();return s(e+l*(t-e+a("1e-"+((l+"").length-1))),t)}return r(e,t)}},4742:function(e,t,n){var r=n(33977),i=n(46543),o=n(86152);e.exports=function(e){return(o(e)?r:i)(e)}},30981:function(e){e.exports=function(){return[]}},36330:function(e){e.exports=function(){return!1}},12436:function(e,t,n){var r=n(54073),i=n(29259);e.exports=function(e,t,n){var o=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(n)&&(o="leading"in n?!!n.leading:o,a="trailing"in n?!!n.trailing:a),r(e,t,{leading:o,maxWait:t,trailing:a})}},5707:function(e,t,n){var r=n(7642),i=1/0;e.exports=function(e){return e?(e=r(e))===i||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},38101:function(e,t,n){var r=n(5707);e.exports=function(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}},7642:function(e,t,n){var r=n(51704),i=n(29259),o=n(4795),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||u.test(e)?c(e.slice(2),n?2:8):a.test(e)?NaN:+e}},63329:function(e,t,n){var r=n(752),i=n(18582);e.exports=function(e){return r(e,i(e))}},66188:function(e,t,n){var r=n(1054);e.exports=function(e){return null==e?"":r(e)}},15316:function(e,t,n){var r=n(62034),i=n(68286),o=n(36060),a=n(67326),s=n(93746),u=n(56974),c=o((function(e){var t=u(e);return s(t)&&(t=void 0),a(r(e,1,s,!0),i(t,2))}));e.exports=c},23779:function(e,t,n){var r=n(83126)("toUpperCase");e.exports=r},98346:function(e,t,n){var r=n(50753),i=n(90249);e.exports=function(e){return null==e?[]:r(e,i(e))}},68762:function(e,t,n){!function(){var t=n(19562),r=n(5792).utf8,i=n(16656),o=n(5792).bin,a=function(e,n){e.constructor==String?e=n&&"binary"===n.encoding?o.stringToBytes(e):r.stringToBytes(e):i(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||e.constructor===Uint8Array||(e=e.toString());for(var s=t.bytesToWords(e),u=8*e.length,c=1732584193,l=-271733879,f=-1732584194,d=271733878,h=0;h<s.length;h++)s[h]=16711935&(s[h]<<8|s[h]>>>24)|4278255360&(s[h]<<24|s[h]>>>8);s[u>>>5]|=128<<u%32,s[14+(u+64>>>9<<4)]=u;var p=a._ff,v=a._gg,m=a._hh,g=a._ii;for(h=0;h<s.length;h+=16){var y=c,b=l,w=f,_=d;c=p(c,l,f,d,s[h+0],7,-680876936),d=p(d,c,l,f,s[h+1],12,-389564586),f=p(f,d,c,l,s[h+2],17,606105819),l=p(l,f,d,c,s[h+3],22,-1044525330),c=p(c,l,f,d,s[h+4],7,-176418897),d=p(d,c,l,f,s[h+5],12,1200080426),f=p(f,d,c,l,s[h+6],17,-1473231341),l=p(l,f,d,c,s[h+7],22,-45705983),c=p(c,l,f,d,s[h+8],7,1770035416),d=p(d,c,l,f,s[h+9],12,-1958414417),f=p(f,d,c,l,s[h+10],17,-42063),l=p(l,f,d,c,s[h+11],22,-1990404162),c=p(c,l,f,d,s[h+12],7,1804603682),d=p(d,c,l,f,s[h+13],12,-40341101),f=p(f,d,c,l,s[h+14],17,-1502002290),c=v(c,l=p(l,f,d,c,s[h+15],22,1236535329),f,d,s[h+1],5,-165796510),d=v(d,c,l,f,s[h+6],9,-1069501632),f=v(f,d,c,l,s[h+11],14,643717713),l=v(l,f,d,c,s[h+0],20,-373897302),c=v(c,l,f,d,s[h+5],5,-701558691),d=v(d,c,l,f,s[h+10],9,38016083),f=v(f,d,c,l,s[h+15],14,-660478335),l=v(l,f,d,c,s[h+4],20,-405537848),c=v(c,l,f,d,s[h+9],5,568446438),d=v(d,c,l,f,s[h+14],9,-1019803690),f=v(f,d,c,l,s[h+3],14,-187363961),l=v(l,f,d,c,s[h+8],20,1163531501),c=v(c,l,f,d,s[h+13],5,-1444681467),d=v(d,c,l,f,s[h+2],9,-51403784),f=v(f,d,c,l,s[h+7],14,1735328473),c=m(c,l=v(l,f,d,c,s[h+12],20,-1926607734),f,d,s[h+5],4,-378558),d=m(d,c,l,f,s[h+8],11,-2022574463),f=m(f,d,c,l,s[h+11],16,1839030562),l=m(l,f,d,c,s[h+14],23,-35309556),c=m(c,l,f,d,s[h+1],4,-1530992060),d=m(d,c,l,f,s[h+4],11,1272893353),f=m(f,d,c,l,s[h+7],16,-155497632),l=m(l,f,d,c,s[h+10],23,-1094730640),c=m(c,l,f,d,s[h+13],4,681279174),d=m(d,c,l,f,s[h+0],11,-358537222),f=m(f,d,c,l,s[h+3],16,-722521979),l=m(l,f,d,c,s[h+6],23,76029189),c=m(c,l,f,d,s[h+9],4,-640364487),d=m(d,c,l,f,s[h+12],11,-421815835),f=m(f,d,c,l,s[h+15],16,530742520),c=g(c,l=m(l,f,d,c,s[h+2],23,-995338651),f,d,s[h+0],6,-198630844),d=g(d,c,l,f,s[h+7],10,1126891415),f=g(f,d,c,l,s[h+14],15,-1416354905),l=g(l,f,d,c,s[h+5],21,-57434055),c=g(c,l,f,d,s[h+12],6,1700485571),d=g(d,c,l,f,s[h+3],10,-1894986606),f=g(f,d,c,l,s[h+10],15,-1051523),l=g(l,f,d,c,s[h+1],21,-2054922799),c=g(c,l,f,d,s[h+8],6,1873313359),d=g(d,c,l,f,s[h+15],10,-30611744),f=g(f,d,c,l,s[h+6],15,-1560198380),l=g(l,f,d,c,s[h+13],21,1309151649),c=g(c,l,f,d,s[h+4],6,-145523070),d=g(d,c,l,f,s[h+11],10,-1120210379),f=g(f,d,c,l,s[h+2],15,718787259),l=g(l,f,d,c,s[h+9],21,-343485551),c=c+y>>>0,l=l+b>>>0,f=f+w>>>0,d=d+_>>>0}return t.endian([c,l,f,d])};a._ff=function(e,t,n,r,i,o,a){var s=e+(t&n|~t&r)+(i>>>0)+a;return(s<<o|s>>>32-o)+t},a._gg=function(e,t,n,r,i,o,a){var s=e+(t&r|n&~r)+(i>>>0)+a;return(s<<o|s>>>32-o)+t},a._hh=function(e,t,n,r,i,o,a){var s=e+(t^n^r)+(i>>>0)+a;return(s<<o|s>>>32-o)+t},a._ii=function(e,t,n,r,i,o,a){var s=e+(n^(t|~r))+(i>>>0)+a;return(s<<o|s>>>32-o)+t},a._blocksize=16,a._digestsize=16,e.exports=function(e,n){if(void 0===e||null===e)throw new Error("Illegal argument "+e);var r=t.wordsToBytes(a(e,n));return n&&n.asBytes?r:n&&n.asString?o.bytesToString(r):t.bytesToHex(r)}}()},16656:function(e){function t(e){return!!e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}e.exports=function(e){return null!=e&&(t(e)||function(e){return"function"===typeof e.readFloatLE&&"function"===typeof e.slice&&t(e.slice(0,0))}(e)||!!e._isBuffer)}},27495:function(e,t,n){var r;!function(i,o,a){if(i){for(var s,u={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},c={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},l={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},f={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},d=1;d<20;++d)u[111+d]="f"+d;for(d=0;d<=9;++d)u[d+96]=d.toString();b.prototype.bind=function(e,t,n){var r=this;return e=e instanceof Array?e:[e],r._bindMultiple.call(r,e,t,n),r},b.prototype.unbind=function(e,t){return this.bind.call(this,e,(function(){}),t)},b.prototype.trigger=function(e,t){var n=this;return n._directMap[e+":"+t]&&n._directMap[e+":"+t]({},e),n},b.prototype.reset=function(){var e=this;return e._callbacks={},e._directMap={},e},b.prototype.stopCallback=function(e,t){if((" "+t.className+" ").indexOf(" mousetrap ")>-1)return!1;if(y(t,this.target))return!1;if("composedPath"in e&&"function"===typeof e.composedPath){var n=e.composedPath()[0];n!==e.target&&(t=n)}return"INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable},b.prototype.handleKey=function(){var e=this;return e._handleKey.apply(e,arguments)},b.addKeycodes=function(e){for(var t in e)e.hasOwnProperty(t)&&(u[t]=e[t]);s=null},b.init=function(){var e=b(o);for(var t in e)"_"!==t.charAt(0)&&(b[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},b.init(),i.Mousetrap=b,e.exports&&(e.exports=b),void 0===(r=function(){return b}.call(t,n,t,e))||(e.exports=r)}function h(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function p(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return u[e.which]?u[e.which]:c[e.which]?c[e.which]:String.fromCharCode(e.which).toLowerCase()}function v(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function m(e,t,n){return n||(n=function(){if(!s)for(var e in s={},u)e>95&&e<112||u.hasOwnProperty(e)&&(s[u[e]]=e);return s}()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function g(e,t){var n,r,i,o=[];for(n=function(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus")).split("+")}(e),i=0;i<n.length;++i)r=n[i],f[r]&&(r=f[r]),t&&"keypress"!=t&&l[r]&&(r=l[r],o.push("shift")),v(r)&&o.push(r);return{key:r,modifiers:o,action:t=m(r,o,t)}}function y(e,t){return null!==e&&e!==o&&(e===t||y(e.parentNode,t))}function b(e){var t=this;if(e=e||o,!(t instanceof b))return new b(e);t.target=e,t._callbacks={},t._directMap={};var n,r={},i=!1,a=!1,s=!1;function u(e){e=e||{};var t,n=!1;for(t in r)e[t]?n=!0:r[t]=0;n||(s=!1)}function c(e,n,i,o,a,s){var u,c,l,f,d=[],h=i.type;if(!t._callbacks[e])return[];for("keyup"==h&&v(e)&&(n=[e]),u=0;u<t._callbacks[e].length;++u)if(c=t._callbacks[e][u],(o||!c.seq||r[c.seq]==c.level)&&h==c.action&&("keypress"==h&&!i.metaKey&&!i.ctrlKey||(l=n,f=c.modifiers,l.sort().join(",")===f.sort().join(",")))){var p=!o&&c.combo==a,m=o&&c.seq==o&&c.level==s;(p||m)&&t._callbacks[e].splice(u,1),d.push(c)}return d}function l(e,n,r,i){t.stopCallback(n,n.target||n.srcElement,r,i)||!1===e(n,r)&&(function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}(n),function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}(n))}function f(e){"number"!==typeof e.which&&(e.which=e.keyCode);var n=p(e);n&&("keyup"!=e.type||i!==n?t.handleKey(n,function(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}(e),e):i=!1)}function d(e,t,o,a){function c(t){return function(){s=t,++r[e],clearTimeout(n),n=setTimeout(u,1e3)}}function f(t){l(o,t,e),"keyup"!==a&&(i=p(t)),setTimeout(u,10)}r[e]=0;for(var d=0;d<t.length;++d){var h=d+1===t.length?f:c(a||g(t[d+1]).action);m(t[d],h,a,e,d)}}function m(e,n,r,i,o){t._directMap[e+":"+r]=n;var a,s=(e=e.replace(/\s+/g," ")).split(" ");s.length>1?d(e,s,n,r):(a=g(e,r),t._callbacks[a.key]=t._callbacks[a.key]||[],c(a.key,a.modifiers,{type:a.action},i,e,o),t._callbacks[a.key][i?"unshift":"push"]({callback:n,modifiers:a.modifiers,action:a.action,seq:i,level:o,combo:e}))}t._handleKey=function(e,t,n){var r,i=c(e,t,n),o={},f=0,d=!1;for(r=0;r<i.length;++r)i[r].seq&&(f=Math.max(f,i[r].level));for(r=0;r<i.length;++r)if(i[r].seq){if(i[r].level!=f)continue;d=!0,o[i[r].seq]=1,l(i[r].callback,n,i[r].combo,i[r].seq)}else d||l(i[r].callback,n,i[r].combo);var h="keypress"==n.type&&a;n.type!=s||v(e)||h||u(o),a=d&&"keydown"==n.type},t._bindMultiple=function(e,t,n){for(var r=0;r<e.length;++r)m(e[r],t,n)},h(e,"keypress",f),h(e,"keydown",f),h(e,"keyup",f)}}("undefined"!==typeof window?window:null,"undefined"!==typeof window?document:null)},86077:function(e){!function(){function t(e,t){var n,r,i,o,a,s,u,c;for(n=3&e.length,r=e.length-n,i=t,a=3432918353,s=461845907,c=0;c<r;)u=255&e.charCodeAt(c)|(255&e.charCodeAt(++c))<<8|(255&e.charCodeAt(++c))<<16|(255&e.charCodeAt(++c))<<24,++c,i=27492+(65535&(o=5*(65535&(i=(i^=u=(65535&(u=(u=(65535&u)*a+(((u>>>16)*a&65535)<<16)&4294967295)<<15|u>>>17))*s+(((u>>>16)*s&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(o>>>16)&65535)<<16);switch(u=0,n){case 3:u^=(255&e.charCodeAt(c+2))<<16;case 2:u^=(255&e.charCodeAt(c+1))<<8;case 1:i^=u=(65535&(u=(u=(65535&(u^=255&e.charCodeAt(c)))*a+(((u>>>16)*a&65535)<<16)&4294967295)<<15|u>>>17))*s+(((u>>>16)*s&65535)<<16)&4294967295}return i^=e.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0}var n=t;n.v2=function(e,t){for(var n,r=e.length,i=t^r,o=0;r>=4;)n=1540483477*(65535&(n=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+((1540483477*(n>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),r-=4,++o;switch(r){case 3:i^=(255&e.charCodeAt(o+2))<<16;case 2:i^=(255&e.charCodeAt(o+1))<<8;case 1:i=1540483477*(65535&(i^=255&e.charCodeAt(o)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0},n.v3=t,e.exports=n}()},12041:function(e,t,n){e.exports=n(16802)},86570:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n(97615)}])},81088:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a=(o=n(2784))&&o.__esModule?o:{default:o},s=n(4e3),u=n(92203),c=n(8599);function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var f={};function d(e,t,n,r){if(e&&s.isLocalURL(t)){e.prefetch(t,n,r).catch((function(e){0}));var i=r&&"undefined"!==typeof r.locale?r.locale:e&&e.locale;f[t+"%"+n+(i?"%"+i:"")]=!0}}var h=a.default.forwardRef((function(e,t){var n,r=e.legacyBehavior,o=void 0===r?!0!==Boolean(!1):r,h=e.href,p=e.as,v=e.children,m=e.prefetch,g=e.passHref,y=e.replace,b=e.shallow,w=e.scroll,_=e.locale,E=e.onClick,S=e.onMouseEnter,x=l(e,["href","as","children","prefetch","passHref","replace","shallow","scroll","locale","onClick","onMouseEnter"]);n=v,o&&"string"===typeof n&&(n=a.default.createElement("a",null,n));var O,C=!1!==m,k=u.useRouter(),T=a.default.useMemo((function(){var e=i(s.resolveHref(k,h,!0),2),t=e[0],n=e[1];return{href:t,as:p?s.resolveHref(k,p):n||t}}),[k,h,p]),A=T.href,I=T.as,D=a.default.useRef(A),P=a.default.useRef(I);o&&(O=a.default.Children.only(n));var R=o?O&&"object"===typeof O&&O.ref:t,N=i(c.useIntersection({rootMargin:"200px"}),3),j=N[0],M=N[1],L=N[2],F=a.default.useCallback((function(e){P.current===I&&D.current===A||(L(),P.current=I,D.current=A),j(e),R&&("function"===typeof R?R(e):"object"===typeof R&&(R.current=e))}),[I,R,A,L,j]);a.default.useEffect((function(){var e=M&&C&&s.isLocalURL(A),t="undefined"!==typeof _?_:k&&k.locale,n=f[A+"%"+I+(t?"%"+t:"")];e&&!n&&d(k,A,I,{locale:t})}),[I,A,M,_,C,k]);var B={ref:F,onClick:function(e){o||"function"!==typeof E||E(e),o&&O.props&&"function"===typeof O.props.onClick&&O.props.onClick(e),e.defaultPrevented||function(e,t,n,r,i,o,a,u){("A"!==e.currentTarget.nodeName.toUpperCase()||!function(e){var t=e.currentTarget.target;return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&s.isLocalURL(n))&&(e.preventDefault(),t[i?"replace":"push"](n,r,{shallow:o,locale:u,scroll:a}))}(e,k,A,I,y,b,w,_)},onMouseEnter:function(e){o||"function"!==typeof S||S(e),o&&O.props&&"function"===typeof O.props.onMouseEnter&&O.props.onMouseEnter(e),s.isLocalURL(A)&&d(k,A,I,{priority:!0})}};if(!o||g||"a"===O.type&&!("href"in O.props)){var U="undefined"!==typeof _?_:k&&k.locale,V=k&&k.isLocaleDomain&&s.getDomainLocale(I,U,k&&k.locales,k&&k.domainLocales);B.href=V||s.addBasePath(s.addLocale(I,U,k&&k.defaultLocale))}return o?a.default.cloneElement(O,B):a.default.createElement("a",Object.assign({},x,B),n)}));t.default=h,("function"===typeof t.default||"object"===typeof t.default&&null!==t.default)&&(Object.assign(t.default,t),e.exports=t.default)},8599:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}Object.defineProperty(t,"__esModule",{value:!0}),t.useIntersection=function(e){var t=e.rootRef,n=e.rootMargin,r=e.disabled||!s,l=o.useRef(),f=i(o.useState(!1),2),d=f[0],h=f[1],p=i(o.useState(t?t.current:null),2),v=p[0],m=p[1],g=o.useCallback((function(e){l.current&&(l.current(),l.current=void 0),r||d||e&&e.tagName&&(l.current=function(e,t,n){var r=function(e){var t,n={root:e.root||null,margin:e.rootMargin||""},r=c.find((function(e){return e.root===n.root&&e.margin===n.margin}));r?t=u.get(r):(t=u.get(n),c.push(n));if(t)return t;var i=new Map,o=new IntersectionObserver((function(e){e.forEach((function(e){var t=i.get(e.target),n=e.isIntersecting||e.intersectionRatio>0;t&&n&&t(n)}))}),e);return u.set(n,t={id:n,observer:o,elements:i}),t}(n),i=r.id,o=r.observer,a=r.elements;return a.set(e,t),o.observe(e),function(){if(a.delete(e),o.unobserve(e),0===a.size){o.disconnect(),u.delete(i);var t=c.findIndex((function(e){return e.root===i.root&&e.margin===i.margin}));t>-1&&c.splice(t,1)}}}(e,(function(e){return e&&h(e)}),{root:v,rootMargin:n}))}),[r,v,n,d]),y=o.useCallback((function(){h(!1)}),[]);return o.useEffect((function(){if(!s&&!d){var e=a.requestIdleCallback((function(){return h(!0)}));return function(){return a.cancelIdleCallback(e)}}}),[d]),o.useEffect((function(){t&&m(t.current)}),[t]),[g,d,y]};var o=n(2784),a=n(11424),s="undefined"!==typeof IntersectionObserver;var u=new Map,c=[];("function"===typeof t.default||"object"===typeof t.default&&null!==t.default)&&(Object.assign(t.default,t),e.exports=t.default)},16802:function(e,t,n){"use strict";var r,i=(r=n(94776))&&r.__esModule?r:{default:r};function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return!t||"object"!==l(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var i=s(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}t.default=void 0;var d=function(e){return e&&e.__esModule?e:{default:e}}(n(2784)),h=n(18993);function p(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){p(o,r,i,a,s,"next",e)}function s(e){p(o,r,i,a,s,"throw",e)}a(void 0)}))}}function m(e){return g.apply(this,arguments)}function g(){return(g=v(i.default.mark((function e(t){var n,r,o;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.Component,r=t.ctx,e.next=3,h.loadGetInitialProps(n,r);case 3:return o=e.sent,e.abrupt("return",{pageProps:o});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(s,e);var t,n,r,i=f(s);function s(){return o(this,s),i.apply(this,arguments)}return t=s,(n=[{key:"render",value:function(){var e=this.props,t=e.Component,n=e.pageProps;return d.default.createElement(t,Object.assign({},n))}}])&&a(t.prototype,n),r&&a(t,r),s}(d.default.Component);t.default=y,y.origGetInitialProps=m,y.getInitialProps=m},55263:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){r(e,t,n[t])}))}return e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=o.default,r={loading:function(e){e.error,e.isLoading;return e.pastDelay,null}};a=e,u=Promise,(null!=u&&"undefined"!==typeof Symbol&&u[Symbol.hasInstance]?u[Symbol.hasInstance](a):a instanceof u)?r.loader=function(){return e}:"function"===typeof e?r.loader=e:"object"===typeof e&&(r=i({},r,e));var a,u;var c=r=i({},r,t);if(c.suspense)throw new Error("Invalid suspense option usage in next/dynamic. Read more: https://nextjs.org/docs/messages/invalid-dynamic-suspense");if(c.suspense)return n(c);r.loadableGenerated&&delete(r=i({},r,r.loadableGenerated)).loadableGenerated;if("boolean"===typeof r.ssr){if(!r.ssr)return delete r.ssr,s(n,r);delete r.ssr}return n(r)},t.noSSR=s;a(n(2784));var o=a(n(55933));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return delete t.webpack,delete t.modules,e(t)}("function"===typeof t.default||"object"===typeof t.default&&null!==t.default)&&(Object.assign(t.default,t),e.exports=t.default)},34798:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.LoadableContext=void 0;var i=((r=n(2784))&&r.__esModule?r:{default:r}).default.createContext(null);t.LoadableContext=i},55933:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,s=(a=n(2784))&&a.__esModule?a:{default:a},u=n(81219),c=n(34798);var l=[],f=[],d=!1;function h(e){var t=e(),n={loading:!0,loaded:null,error:null};return n.promise=t.then((function(e){return n.loading=!1,n.loaded=e,e})).catch((function(e){throw n.loading=!1,n.error=e,e})),n}var p=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._loadFn=t,this._opts=n,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}var t,n,i;return t=e,(n=[{key:"promise",value:function(){return this._res.promise}},{key:"retry",value:function(){var e=this;this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};var t=this._res,n=this._opts;if(t.loading){if("number"===typeof n.delay)if(0===n.delay)this._state.pastDelay=!0;else{var r=this;this._delay=setTimeout((function(){r._update({pastDelay:!0})}),n.delay)}if("number"===typeof n.timeout){var i=this;this._timeout=setTimeout((function(){i._update({timedOut:!0})}),n.timeout)}}this._res.promise.then((function(){e._update({}),e._clearTimeouts()})).catch((function(t){e._update({}),e._clearTimeouts()})),this._update({})}},{key:"_update",value:function(e){this._state=o({},this._state,{error:this._res.error,loaded:this._res.loaded,loading:this._res.loading},e),this._callbacks.forEach((function(e){return e()}))}},{key:"_clearTimeouts",value:function(){clearTimeout(this._delay),clearTimeout(this._timeout)}},{key:"getCurrentValue",value:function(){return this._state}},{key:"subscribe",value:function(e){var t=this;return this._callbacks.add(e),function(){t._callbacks.delete(e)}}}])&&r(t.prototype,n),i&&r(t,i),e}();function v(e){return function(e,t){var n=function(){if(!i){var t=new p(e,r);i={getCurrentValue:t.getCurrentValue.bind(t),subscribe:t.subscribe.bind(t),retry:t.retry.bind(t),promise:t.promise.bind(t)}}return i.promise()},r=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null,suspense:!1},t);r.suspense&&(r.lazy=s.default.lazy(r.loader));var i=null;if(!d&&!r.suspense){var a=r.webpack?r.webpack():r.modules;a&&f.push((function(e){var t=!0,r=!1,i=void 0;try{for(var o,s=a[Symbol.iterator]();!(t=(o=s.next()).done);t=!0){var u=o.value;if(-1!==e.indexOf(u))return n()}}catch(c){r=!0,i=c}finally{try{t||null==s.return||s.return()}finally{if(r)throw i}}}))}var l=r.suspense?function(e,t){return s.default.createElement(r.lazy,o({},e,{ref:t}))}:function(e,t){n();var o=s.default.useContext(c.LoadableContext),a=u.useSubscription(i);return s.default.useImperativeHandle(t,(function(){return{retry:i.retry}}),[]),o&&Array.isArray(r.modules)&&r.modules.forEach((function(e){o(e)})),s.default.useMemo((function(){return a.loading||a.error?s.default.createElement(r.loading,{isLoading:a.loading,pastDelay:a.pastDelay,timedOut:a.timedOut,error:a.error,retry:i.retry}):a.loaded?s.default.createElement(function(e){return e&&e.__esModule?e.default:e}(a.loaded),e):null}),[e,a])};return l.preload=function(){return!r.suspense&&n()},l.displayName="LoadableComponent",s.default.forwardRef(l)}(h,e)}function m(e,t){for(var n=[];e.length;){var r=e.pop();n.push(r(t))}return Promise.all(n).then((function(){if(e.length)return m(e,t)}))}v.preloadAll=function(){return new Promise((function(e,t){m(l).then(e,t)}))},v.preloadReady=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise((function(t){var n=function(){return d=!0,t()};m(f,e).then(n,n)}))},window.__NEXT_PRELOADREADY=v.preloadReady;var g=v;t.default=g},70265:function(e,t,n){"use strict";var r=n(52322),i=n(2784),o=n(5632),a=n(30039),s=n(71202),u=n(33337),c=n(54599),l=n(14898),f=n(52251),d=n(17366),h=n(43724);t.Z=function(e){var t=e.redirect,n=void 0===t||t,p=e.closable,v=void 0===p||p,m=e.hideSplashOnLoad,g=void 0===m||m,y=e.children,b=e.showFullPageAuth,w=e.profileArgs,_=(0,i.useState)(!1),E=_[0],S=_[1],x=(0,l.fC)(),O=(0,c.ZP)(),C=(0,o.useRouter)(),k=(0,i.useCallback)((function(){var e=null===w||void 0===w?void 0:w.signUpOrigin,t=e?"?ref=".concat(e):"";f.Z.trackEvent(null,"page_view",{page_title:"Sign Up",page_location:"".concat(document.location.origin,"/auth/sign-up/").concat(t,"}"),page_path:"/auth/sign-up".concat(t),embedded_at_path:C.asPath})}),[C,w]),T=(0,l.Mg)(x),A=T&&(0,l.TF)(x);return(0,d.Z)((function(){T&&(A?n?C.push({pathname:"/auth/sign-up",query:{redirect:C.asPath,ref:null===w||void 0===w?void 0:w.signUpOrigin}},"/auth/sign-up"):((0,u.hf)(),k(),O.isAuthModalOpen||b||O.openSignUpModal({isClosable:v,profileArgs:w})):g&&(0,u.hf)())}),[T,A,n,g,O,v,b,k,C,w]),(0,l.TF)(x)?b?E?(0,r.jsx)(a.Z,{staticLogo:!0,children:(0,r.jsx)(h.o,{profileArgs:w,onGoToSignUp:function(){return S(!1)}})}):(0,r.jsx)(a.Z,{staticLogo:!0,children:(0,r.jsx)(s.Z,{profileArgs:w,onGoToSignIn:function(){return S(!0)}})}):null:(0,r.jsx)(r.Fragment,{children:y})}},4601:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(52322),i=n(2784),o=n(28058),a=n(60034),s=n.n(a);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=function(e){var t=e.className,n=e.error,i=c(e,["className","error"]);return(null===n||void 0===n?void 0:n.length)?(0,r.jsx)("div",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){u(e,t,n[t])}))}return e}({className:(0,o.Z)(s().authFlowFormError,t)},i,{children:n})):null},f=(0,i.memo)(l)},48432:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(52322),i=n(2784),o=n(28058),a=n(98161),s=n(79959),u=n.n(s),c=function(e){var t=e.className,n=e.label,i=e.labelIcon,s=e.title,c=e.footer,l=e.children;return(0,r.jsxs)("div",{className:(0,o.Z)(u().authFlowViewLayout,t),children:[(0,r.jsxs)("div",{className:u().content,children:[(0,r.jsx)(a.ZP,{horizontal:!0,className:u().eraserLogo}),(0,r.jsxs)("div",{className:u().label,children:[i,n]}),(0,r.jsx)("h1",{children:s}),l]}),!!c&&(0,r.jsx)("div",{className:u().footer,children:(0,r.jsx)("p",{children:c})})]})},l=(0,i.memo)(c)},82602:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(52322),i=n(2784),o=n(28058),a=n(35112),s=n.n(a);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=function(e){var t=e.className,n=e.children,i=c(e,["className","children"]);return(0,r.jsx)("div",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){u(e,t,n[t])}))}return e}({className:(0,o.Z)(s().authFormLayout,t)},i,{children:n}))},f=(0,i.memo)(l)},60306:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(52322),i=n(2784),o=n(28058),a=n(30313),s=n.n(a);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=function(e){var t=e.className,n=c(e,["className"]);return(0,r.jsx)("div",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){u(e,t,n[t])}))}return e}({className:(0,o.Z)(s().authViewActionButtons,t)},n))},f=(0,i.memo)(l)},99710:function(e,t,n){"use strict";n.d(t,{D:function(){return h},Z:function(){return p}});var r=n(52322),i=n(2784),o=n(28058),a=n(24165),s=n(33273),u=n.n(s),c=function(e){var t=e.className,n=e.onSelectionChange,s=(0,i.useState)(),c=s[0],l=s[1],f=(0,a.Z)(),d=(0,i.useCallback)((function(e){var t=e.target.value;l(t),n(t)}),[n]);return(0,r.jsx)("div",{className:(0,o.Z)(u().joinTeamSelection,t),children:null===f||void 0===f?void 0:f.map((function(e){return(0,r.jsxs)("label",{className:(0,o.Z)(u().team,c===e.id&&u().selected),children:[(0,r.jsx)("input",{type:"radio",value:e.id,checked:c===e.id,onChange:d}),e.name]},e.id)}))})},l=(0,i.memo)(c),f=n(2468),d=n(35221),h=function(){var e=(0,a.Z)(),t=(0,f.K)({}),n=t.canCreateTeam,i=t.isLoadingCreateTeamCheck,o=t.workDomain;if(i)return null;if(n){if(null===e||void 0===e?void 0:e.length)return(0,r.jsxs)("p",{children:["Pick one of the below teams to join, or ",(0,r.jsx)("a",{href:"/team/create",children:"create a new one"})]});if(e)return(0,r.jsxs)("p",{children:["You have no available teams. ",(0,r.jsx)("a",{href:"/team/create",children:"Create a new one"})]})}return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{children:"Pick one of the below teams to join."}),(0,r.jsxs)(d.U,{className:"marginTopMedium",children:[(0,r.jsx)("b",{children:o})," already has a team with a free plan. To create a new team, contact ",(0,r.jsx)("a",{href:"mailto:hello@eraser.io",children:"hello@eraser.io"})]})]})},p=l},54015:function(e,t,n){"use strict";n.d(t,{Z:function(){return k}});var r,i,o,a,s=n(52322),u=n(2784),c=n(28058),l=n(54599);function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}var d,h,p,v,m=function(e){return u.createElement("svg",f({width:18,height:18,viewBox:"0 0 23 23",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=u.createElement("path",{d:"M5.097 13.9l-.8 2.988-2.926.062A11.449 11.449 0 010 11.5c0-1.907.464-3.705 1.286-5.289l2.606.478 1.14 2.59a6.836 6.836 0 00-.368 2.221c0 .844.153 1.653.433 2.4z",fill:"#FBBB00"})),i||(i=u.createElement("path",{d:"M22.8 9.352c.131.695.2 1.414.2 2.148a11.497 11.497 0 01-4.3 8.968h-.001l-3.281-.168-.465-2.899a6.854 6.854 0 002.95-3.5h-6.15v-4.55h11.046z",fill:"#518EF8"})),o||(o=u.createElement("path",{d:"M18.699 20.468A11.452 11.452 0 0111.5 23c-4.38 0-8.187-2.448-10.13-6.05l3.727-3.05a6.838 6.838 0 009.856 3.501l3.746 3.067z",fill:"#28B446"})),a||(a=u.createElement("path",{d:"M18.84 2.648l-3.725 3.05a6.84 6.84 0 00-10.082 3.58L1.286 6.211A11.498 11.498 0 0111.5 0c2.79 0 5.349.994 7.34 2.648z",fill:"#F14336"})))};function g(){return g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g.apply(this,arguments)}var y,b=function(e){return u.createElement("svg",g({width:18,height:18,viewBox:"0 0 2499.6 2500",xmlns:"http://www.w3.org/2000/svg"},e),d||(d=u.createElement("path",{d:"M1187.9 1187.9H0V0h1187.9z",fill:"#f1511b"})),h||(h=u.createElement("path",{d:"M2499.6 1187.9h-1188V0h1187.9v1187.9z",fill:"#80cc28"})),p||(p=u.createElement("path",{d:"M1187.9 2500H0V1312.1h1187.9z",fill:"#00adef"})),v||(v=u.createElement("path",{d:"M2499.6 2500h-1188V1312.1h1187.9V2500z",fill:"#fbbc09"})))},w=n(3559),_=n(20986);function E(){return E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},E.apply(this,arguments)}var S=function(e){return u.createElement("svg",E({width:19,height:18,viewBox:"0 0 19 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),y||(y=u.createElement("g",{fill:"var(--grey-1200)"},u.createElement("path",{d:"M.5 3a1.8 1.8 0 011.8-1.8h14.4A1.8 1.8 0 0118.5 3v1.448l-9 5.063-9-5.063V3z"}),u.createElement("path",{d:"M.5 5.825V15a1.8 1.8 0 001.8 1.8h14.4a1.8 1.8 0 001.8-1.8V5.825l-9 5.063-9-5.063z"}))))},x=n(20871),O=n.n(x),C=function(e){var t=e.className,n=e.actionText,r=e.asModal,i=e.onSignIn,o=e.onCredentialsAuthClick,a=(0,l.ZP)(),u=a.signInWithGoogle,f=a.signInWithMicrosoft;return r=!!(0,_.$)()||r,(0,s.jsxs)("div",{className:(0,c.Z)(O().ssoButtons,t),children:[(0,s.jsxs)(w.ZP,{variant:w.ZP.Variants.TRANSPARENT,size:w.ZP.Sizes.X_LARGE,className:O().button,type:"button","data-testid":"google-sign-in",onClick:function(){return u({asModal:r}).then(i)},children:[(0,s.jsx)(m,{}),(0,s.jsx)("span",{children:"".concat(n," with Google")})]}),(0,s.jsxs)(w.ZP,{variant:w.ZP.Variants.TRANSPARENT,size:w.ZP.Sizes.X_LARGE,type:"button",className:O().button,onClick:function(){return f({asModal:r}).then(i)},children:[(0,s.jsx)(b,{}),(0,s.jsx)("span",{children:"".concat(n," with Microsoft")})]}),(0,s.jsxs)(w.ZP,{variant:w.ZP.Variants.TRANSPARENT,size:w.ZP.Sizes.X_LARGE,type:"button",className:O().button,onClick:o,children:[(0,s.jsx)(S,{}),(0,s.jsx)("span",{children:"".concat(n," with Email")})]})]})},k=(0,u.memo)(C)},83656:function(e,t,n){"use strict";n.d(t,{Z:function(){return b}});var r=n(52322),i=n(2784),o=n(63955),a=n(11929),s=n(14113),u=n(7305),c=n(54599),l=n(3559),f=n(82602),d=n(60306),h=n(4601),p=n(90792),v=n.n(p);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){m(e,t,n[t])}))}return e}var y=function(e){var t=e.className,n=e.onSignIn,p=e.onResetPasswordClick,m=(0,c.ZP)().signInWithEmailAndPassword,y=(0,o.cI)({reValidateMode:"onChange"}),b=y.register,w=y.formState,_=y.handleSubmit,E=y.getValues,S=w.errors,x=w.submitCount,O=(0,i.useMemo)((function(){if(!Object.keys(w.dirtyFields).length)return!1;var e=E();return Object.keys(e).every((function(t){return!!e[t]}))}),[w.dirtyFields,E()]),C=(0,a.UK)((function(e){return m(e.email,e.password).then(n)})),k=C.execute,T=C.error,A=C.loading;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("form",{id:"sign-in-form",onSubmit:_(k),children:(0,r.jsxs)(f.Z,{className:t,children:[(0,r.jsx)(s.Z,g({size:s.Z.Sizes.LARGE,label:"Email address",placeholder:"Email",type:"email",autoComplete:"email",autoFocus:!0},b("email",{required:!0,validate:u.Le}),{error:S.email,touched:x>0})),(0,r.jsx)(s.Z,g({size:s.Z.Sizes.LARGE,label:"Password",placeholder:"Password",type:"password",autoComplete:"current-password"},b("password",{required:!0}),{error:S.password,touched:x>0,minLength:12})),p&&(0,r.jsx)("div",{className:v().resetPassword,children:(0,r.jsx)("a",{onMouseDown:p,children:"Reset Password"})})]})}),(0,r.jsx)(d.Z,{children:(0,r.jsx)(l.ZP,{form:"sign-in-form",variant:l.ZP.Variants.REGULAR,size:l.ZP.Sizes.X_LARGE,isLoading:A,type:"submit",disabled:!O,children:"Log In"})}),(0,r.jsx)(h.Z,{error:null===T||void 0===T?void 0:T.message})]})},b=(0,i.memo)(y)},43724:function(e,t,n){"use strict";n.d(t,{o:function(){return T},Z:function(){return A}});var r=n(52322),i=n(2784),o=n(54599),a=n(72095),s=n(48432),u=n(54015),c=n(83656),l=n(63955),f=n(11929),d=n(52251),h=n(14113),p=n(7305),v=n(3559),m=n(82602),g=n(60306),y=n(4601);function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){b(e,t,n[t])}))}return e}var _=function(e){var t=e.className,n=e.onResetRequested,a=(0,o.ZP)().sendPasswordResetEmail,s=(0,l.cI)({reValidateMode:"onChange"}),u=s.register,c=s.formState,b=s.handleSubmit,_=s.getValues,E=c.errors,S=c.submitCount,x=(0,i.useMemo)((function(){if(!Object.keys(c.dirtyFields).length)return!1;var e=_();return Object.keys(e).every((function(t){return!!e[t]}))}),[c.dirtyFields,_()]),O=(0,f.UK)((function(e){return a(e.email).then((function(){d.Z.trackEvent("account","reset_password_requested"),n(_("email"))}))})),C=O.execute,k=O.error,T=O.loading;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("form",{id:"request-password-reset",onSubmit:b(C),children:(0,r.jsx)(m.Z,{className:t,children:(0,r.jsx)(h.Z,w({size:h.Z.Sizes.LARGE,label:"Email address",placeholder:"Email",type:"email",autoComplete:"email",autoFocus:!0},u("email",{required:!0,validate:p.Le}),{error:E.email,touched:S>0}))})}),(0,r.jsx)(g.Z,{children:(0,r.jsx)(v.ZP,{form:"request-password-reset",variant:v.ZP.Variants.REGULAR,size:v.ZP.Sizes.X_LARGE,isLoading:T,type:"submit",disabled:!x,children:"Reset Password"})}),(0,r.jsx)(y.Z,{error:null===k||void 0===k?void 0:k.message})]})},E=(0,i.memo)(_),S=n(46527),x=n(37872),O=n(96384),C=n.n(O),k=n(7555),T=function(e){var t=e.profileArgs,n=e.asModal,l=e.onSignIn,f=e.onGoToSignUp;(0,a.T)(t);var d=(0,i.useState)(k.k.SSO),h=d[0],p=d[1],v=(0,i.useState)(),m=v[0],g=v[1],y=(0,o.ZP)(),b=(0,i.useCallback)((function(){p(k.k.CREDENTIALS)}),[]),w=(0,i.useCallback)((function(){p(k.k.RESET_PASSWORD)}),[]),_=(0,i.useCallback)((function(e){p(k.k.RESET_REQUESTED),g(e)}),[]),O=(0,i.useCallback)((function(e){if(f)return e.preventDefault(),void f();n&&(e.preventDefault(),y.openSignUpModal())}),[n,y.openSignUpModal,f]);return h===k.k.CREDENTIALS?(0,r.jsxs)(s.Z,{className:C().signInView,label:"Email Log In",labelIcon:(0,r.jsx)(x.Z,{}),title:"Log into Eraser",footer:(0,r.jsxs)(r.Fragment,{children:["New to Eraser?"," ",(0,r.jsx)("a",{href:"/auth/sign-up",onClick:O,children:"Sign up for free"})]}),children:[(0,r.jsxs)("p",{children:["Or use ",(0,r.jsx)("a",{onMouseDown:function(){return y.signInWithGoogle({asModal:n}).then(l)},children:"Google"})," ","or"," ",(0,r.jsx)("a",{onMouseDown:function(){return y.signInWithMicrosoft({asModal:n}).then(l)},children:"Microsoft"})]}),(0,r.jsx)(c.Z,{className:C().signInForm,onSignIn:l,onResetPasswordClick:w})]}):h===k.k.RESET_PASSWORD?(0,r.jsxs)(s.Z,{className:C().signInView,label:"Password Reset",labelIcon:(0,r.jsx)(S.Z,{}),title:"Reset your password",children:[(0,r.jsxs)("p",{children:["Or return to ",(0,r.jsx)("a",{onMouseDown:b,children:"Log in"})]}),(0,r.jsx)(E,{className:C().resetPasswordForm,onResetRequested:_})]}):h===k.k.RESET_REQUESTED?(0,r.jsx)(s.Z,{className:C().signInView,label:"Password Reset",labelIcon:(0,r.jsx)(S.Z,{}),title:"Check your email",children:(0,r.jsxs)("p",{children:["We sent an email to ",(0,r.jsx)("b",{children:m})," which contains a link to reset your password"]})}):(0,r.jsxs)(s.Z,{className:C().signInView,label:"Log In",labelIcon:(0,r.jsx)(S.Z,{}),title:"Log into Eraser",children:[(0,r.jsxs)("p",{children:["New to Eraser?"," ",(0,r.jsx)("a",{href:"/auth/sign-up",onClick:O,children:"Sign up for free"})]}),(0,r.jsx)(u.Z,{className:C().ssoButtons,actionText:"Log in",asModal:n,onSignIn:l,onCredentialsAuthClick:b})]})},A=(0,i.memo)(T)},7555:function(e,t,n){"use strict";var r;n.d(t,{k:function(){return r}}),function(e){e.SSO="SSO",e.CREDENTIALS="CREDENTIALS",e.RESET_PASSWORD="RESET_PASSWORD",e.RESET_REQUESTED="RESET_REQUESTED"}(r||(r={}))},71202:function(e,t,n){"use strict";n.d(t,{Z:function(){return D}});var r=n(52322),i=n(2784),o=n(55632),a=n(54599),s=n(72095),u=n(48432),c=n(54015),l=n(63955),f=n(11929),d=n(14113),h=n(7305),p=n(3559),v=n(82602),m=n(60306),g=n(4601);function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){y(e,t,n[t])}))}return e}var w,_=function(e){var t=e.className,n=e.onSignIn,o=(0,a.ZP)().createUserWithEmailAndPassword,s=(0,l.cI)({reValidateMode:"onChange"}),u=s.register,c=s.formState,y=s.handleSubmit,w=s.getValues,_=c.errors,E=c.submitCount,S=(0,i.useMemo)((function(){if(!Object.keys(c.dirtyFields).length)return!1;var e=w();return Object.keys(e).every((function(t){return!!e[t]}))}),[c.dirtyFields,w()]),x=(0,f.UK)((function(e){return o(e.email,e.password,e.name).then(n)})),O=x.execute,C=x.error,k=x.loading;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("form",{id:"sign-up-form",onSubmit:y(O),children:(0,r.jsxs)(v.Z,{className:t,children:[(0,r.jsx)(d.Z,b({size:d.Z.Sizes.LARGE,label:"Email address",placeholder:"Work email works best",type:"email",autoComplete:"email",autoFocus:!0},u("email",{required:!0,validate:h.Le}),{error:_.email,touched:E>0})),(0,r.jsx)(d.Z,b({size:d.Z.Sizes.LARGE,label:"User name",placeholder:"What others will see",autoComplete:"full-name"},u("name",{required:!0,minLength:3}),{error:_.name,touched:E>0,minLength:3})),(0,r.jsx)(d.Z,b({size:d.Z.Sizes.LARGE,label:"Password",placeholder:"Password",type:"password",autoComplete:"current-password"},u("password",{required:!0,validate:h.ym}),{error:_.password,touched:E>0,minLength:12}))]})}),(0,r.jsx)(m.Z,{children:(0,r.jsx)(p.ZP,{form:"sign-up-form",variant:p.ZP.Variants.REGULAR,size:p.ZP.Sizes.X_LARGE,isLoading:k,type:"submit",disabled:!S,children:"Create Account"})}),(0,r.jsx)(g.Z,{error:null===C||void 0===C?void 0:C.message})]})},E=(0,i.memo)(_);function S(){return S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S.apply(this,arguments)}var x,O=function(e){return i.createElement("svg",S({width:16,height:15,viewBox:"0 0 16 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),w||(w=i.createElement("path",{d:"M1 4.5l7 4 7-4m-13-3h12a1 1 0 011 1v10a1 1 0 01-1 1H2a1 1 0 01-1-1v-10a1 1 0 011-1z",stroke:"var(--green-success)",strokeWidth:2})))};function C(){return C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C.apply(this,arguments)}var k=function(e){return i.createElement("svg",C({width:16,height:17,viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),x||(x=i.createElement("path",{d:"M7.707 10.202l.707-.707L7 8.081l-.707.706 1.414 1.415zM9 11.493v1h2v-1H9zm2-.999v-1H9v1h2zM9 2.5v1h2v-1H9zm2-.999v-1H9v1h2zM5 5.497H4v2h1v-2zm1 2h1v-2H6v2zm8-2h-1v2h1v-2zm1 2h1v-2h-1v2zM12.293 2.79l-.707.707L13 4.913l.707-.707-1.414-1.415zm2.414.416l.707-.707L14 1.085l-.707.707 1.414 1.415zm-8-1.415L6 1.085 4.586 2.5l.707.707 1.414-1.415zm-.414 2.414L7 4.913l1.414-1.415-.707-.707-1.414 1.415zm7.414 4.581L13 8.081l-1.414 1.414.707.707 1.414-1.415zm-.414 2.414l.707.707 1.414-1.414-.707-.707-1.414 1.414zM1.707 16.198l6-5.996-1.414-1.415-6 5.996 1.414 1.415zM11 11.493v-.999H9v1h2zM11 2.5V1.5H9v1h2zM5 7.497h1v-2H5v2zm9 0h1v-2h-1v2zm-.293-3.29l1-1-1.414-1.415-1 1 1.414 1.414zm-8.414-1l1 1L7.707 2.79l-1-.999-1.414 1.415zm7 6.995l1 1 1.414-1.415-1-1-1.414 1.415z",fill:"var(--green-success)"})))},T=n(68223),A=n.n(T),I=function(e){var t=e.profileArgs,n=e.customSubTitle,l=e.asModal,f=e.onSignIn,d=e.onGoToSignIn;(0,s.T)(t);var h=(0,i.useState)(!1),v=h[0],m=h[1],g=(0,a.ZP)(),y=(0,i.useCallback)((function(){m(!0)}),[]),b=(0,i.useCallback)((function(e){if(d)return e.preventDefault(),void d();l&&(e.preventDefault(),g.openSignInModal())}),[l,g.openSignInModal,d]);return v?(0,r.jsxs)(u.Z,{className:A().signUpView,label:"Email Sign Up",labelIcon:(0,r.jsx)(O,{}),title:"Set your user name & password",footer:(0,r.jsxs)(r.Fragment,{children:["Already have an account?"," ",(0,r.jsx)("a",{href:"/auth/sign-in",onClick:b,children:"Log in"})," ","instead"]}),children:[(0,r.jsxs)("p",{children:["Or use ",(0,r.jsx)("a",{onClick:function(){return g.signInWithGoogle({asModal:l}).then(f)},children:"Google"})," or"," ",(0,r.jsx)("a",{onClick:function(){return g.signInWithMicrosoft({asModal:l}).then(f)},children:"Microsoft"})]}),(0,r.jsx)(E,{className:A().signUpForm,onSignIn:f})]}):(0,r.jsxs)(u.Z,{className:A().signUpView,label:"Sign Up",labelIcon:(0,r.jsx)(k,{}),title:"Create your Eraser account",children:[n||(0,r.jsxs)("p",{children:["By signing up, you agree to our ",(0,r.jsx)("a",{href:"".concat(o.CF.url,"/terms"),children:"terms of service"})]}),(0,r.jsx)("main",{children:(0,r.jsx)(c.Z,{className:A().ssoButtons,actionText:"Sign up",asModal:l,onSignIn:f,onCredentialsAuthClick:y})}),(0,r.jsx)("a",{className:A().signInLink,href:"/auth/sign-in",onClick:b,children:(0,r.jsx)(p.ZP,{variant:p.ZP.Variants.TRANSPARENT,size:p.ZP.Sizes.LARGE,children:"Log In"})})]})},D=(0,i.memo)(I)},72095:function(e,t,n){"use strict";n.d(t,{T:function(){return o}});var r=n(2784),i=n(1380);function o(e){(0,r.useEffect)((function(){e&&(0,i.jj)(e)}),[e])}},60759:function(e,t,n){"use strict";n.d(t,{Z:function(){return L},J:function(){return u.J5}});var r,i=n(52322),o=n(5632),a=n(69904),s=n(33337),u=n(57251),c=n(52251),l=n(30039),f=n(2784),d=n(28058);function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}var p=function(e){return f.createElement("svg",h({width:17,height:17,viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=f.createElement("path",{d:"M9.5 11.5v-1h-2v1h2zm-2 .01v1h2v-1h-2zM7.5 5v4h2V5h-2zm0 6.5v.01h2v-.01h-2zm1 3a6 6 0 01-6-6h-2a8 8 0 008 8v-2zm6-6a6 6 0 01-6 6v2a8 8 0 008-8h-2zm-6-6a6 6 0 016 6h2a8 8 0 00-8-8v2zm0-2a8 8 0 00-8 8h2a6 6 0 016-6v-2z",fill:"#FB4B87"})))},v=n(2607),m=n.n(v),g={401:"Access Error",402:"Plan Limit",403:"Access Error",404:"404 Error",500:"500 Error"},y=function(e){var t=e.className,n=e.statusCode,r=e.title,o=e.children;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:(0,d.Z)(m().errorViewLayout,t),children:(0,i.jsxs)("div",{className:m().content,children:[(0,i.jsxs)("div",{className:m().label,children:[(0,i.jsx)(p,{}),g[n]||"Error"]}),(0,i.jsx)("h1",{children:r}),o]})}),(0,i.jsx)("div",{className:m().footer,children:(0,i.jsxs)("p",{children:["Learn more at ",(0,i.jsx)("a",{href:"https://eraser.io",children:"eraser.io"})]})})]})},b=(0,f.memo)(y),w=n(14898),_=n(3559),E=n(94850),S=n.n(E),x=function(e){var t=e.href,n=e.children,r=e.isOutline,o=e.onClick;return(0,i.jsx)("div",{className:S().errorCtaButton,children:function(){var e=(0,i.jsx)(_.ZP,{className:(0,d.Z)(r&&S().isOutline),size:r?_.ZP.Sizes.LARGE:_.ZP.Sizes.X_LARGE,variant:r?_.ZP.Variants.TRANSPARENT:_.ZP.Variants.REGULAR,onClick:o,children:n});return t?(0,i.jsx)("a",{href:t,children:e}):e}()})},O=(0,f.memo)(x),C=function(e){var t=e.statusCode,n=e.hideActionButtons,r=(0,w.g5)();return 404===t?(0,i.jsxs)(b,{statusCode:t,title:"Page not found",children:[(0,i.jsx)("p",{children:"We couldn\u2019t locate this page. Please double check the URL."}),!n&&(0,i.jsx)(x,{href:r?"https://eraser.io":"/dashboard/all",children:r?"Return to Eraser":"Return to Dashboard"})]}):(0,i.jsxs)(b,{statusCode:t,title:"Oops! That's embarrassing",children:[(0,i.jsx)("p",{children:"Something went wrong. Please let us know at hello@eraser.io if this keeps happening."}),!n&&(0,i.jsx)(x,{onClick:function(){return location.reload()},children:"Refresh Page"})]})},k=(0,f.memo)(C),T=O,A=function(e){var t,n=e.statusCode,r=e.hideActionButtons,o=(0,w.aF)(),a=(0,w.g5)();return 404===n?(0,i.jsxs)(b,{statusCode:n,title:"File not found",children:[(0,i.jsx)("p",{children:"We couldn\u2019t locate this file. Double check the URL, or try searching your files."}),!r&&!a&&(0,i.jsx)(T,{href:"/dashboard/all",isOutline:!0,children:"Search on Dashboard"})]}):[401,403].includes(n)?a?(0,i.jsxs)(b,{statusCode:n,title:"Access Restricted",children:[(0,i.jsx)("p",{children:"This file is not publicly accessible. Try signing into Eraser if you believe you have access."}),!r&&(0,i.jsx)(T,{href:"/auth/sign-in",children:"Log In"})]}):(0,i.jsxs)(b,{statusCode:n,title:"Access Restricted",children:[(0,i.jsxs)("p",{children:["You do not have access to this file. Ask the file owner(s) to share with"," ",null!==(t=null===o||void 0===o?void 0:o.email)&&void 0!==t?t:"your email"]}),!r&&(0,i.jsx)(T,{href:"/dashboard/all",isOutline:!0,children:"Return on Dashboard"})]}):(0,i.jsx)(k,{statusCode:n,hideActionButtons:r})},I=(0,f.memo)(A),D=function(e){var t=e.statusCode,n=e.hideActionButtons,r=(0,w.aF)(),o=(0,w.g5)();return 403===t?(0,i.jsxs)(b,{statusCode:t,title:"Email doesn\u2019t match",children:[(0,i.jsxs)("p",{children:["You are logged in as ",null===r||void 0===r?void 0:r.email,". The invited email doesn\u2019t match this."]}),!n&&(0,i.jsx)(T,{href:"/auth/logout",isOutline:!0,children:"Sign out"})]}):404===t?(0,i.jsxs)(b,{statusCode:t,title:"Invite not found",children:[(0,i.jsx)("p",{children:"We couldn\u2019t locate this invite. Please double check the invite URL or request a new invite."}),!n&&!o&&(0,i.jsx)(T,{href:"/dashboard/all",children:"Return to Dashboard"})]}):(0,i.jsx)(k,{statusCode:t,hideActionButtons:n})},P=(0,f.memo)(D),R=function(e){var t=e.statusCode,n=e.hideActionButtons;return 402===t?(0,i.jsxs)(b,{statusCode:t,title:"File limit reached",children:[(0,i.jsx)("p",{children:"Please upgrade to Professional Plan or archive unused files."}),!n&&(0,i.jsx)(T,{href:"/dashboard?settings=plans",children:"Upgrade to Professional"})]}):(0,i.jsx)(k,{statusCode:t,hideActionButtons:n})},N=(0,f.memo)(R);function j(e){return"error"in e&&(t=e.error,null!=(n=u.tk)&&"undefined"!==typeof Symbol&&n[Symbol.hasInstance]?!!n[Symbol.hasInstance](t):t instanceof n);var t,n}function M(e){return j(e)?{statusCode:e.error.statusCode,title:e.error.message}:e}var L=function(e){var t=M(e).statusCode;(0,s.r4)(),function(e){var t=M(e),n=t.statusCode,r=t.title;(0,a.Z)((function(){402!==n&&c.Z.trackEvent("app","error",{errorCode:n,errorTitle:r})}))}(e);var n=(0,o.useRouter)();return(0,i.jsx)("div",{id:"error-page",children:(0,i.jsx)(l.Z,{children:function(){var r=k;return n.pathname.match("workspace")&&(r=I),n.pathname.match("invite")&&(r=P),n.pathname.match("new")&&(r=N),(0,i.jsx)(r,{statusCode:t,hideActionButtons:e.hideActionButtons})}()})})}},49477:function(e,t,n){"use strict";var r=n(2784),i=n(66924);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return!t||"object"!==l(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var i=s(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}var d={componentStack:null,error:null,eventId:null},h=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(n,e);var t=f(n);function n(){var e;return o(this,n),(e=t.apply(this,arguments)).state=d,e.resetErrorBoundary=function(){e.setState(d)},e}var s=n.prototype;return s.componentDidCatch=function(e,t){var n=t.componentStack,r=this.props,o=r.showDialog,a=r.onError;!function(e,t){var n=new Error(e.message);n.name="[React ErrorBoundary] ".concat(e.name),n.stack=t,e.cause=n}(e,n);var s=(0,i.Tb)(e,{contexts:{react:{componentStack:n}}});o&&i.TF&&i.TF.showReportDialog({eventId:s}),null===a||void 0===a||a(e),this.setState({error:e,componentStack:n,eventId:s})},s.render=function(){var e,t=this.props,n=t.fallback,i=t.children,o=this.state.error;return o?(e="function"===typeof n?n(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}({},this.state,{error:o,resetError:this.resetErrorBoundary})):n,e&&!(0,r.isValidElement)(e)?(console.warn("Invalid fallback"),null):e):i},n}(r.Component);t.Z=h},89393:function(e,t,n){"use strict";var r=n(52322),i=n(2784),o=n(52251),a=n(79208),s=n(44623),u=n(75616),c=n(11648),l=n(10043),f=n(47785),d=n(55632),h=n(67612),p=n(53822),v=n(99627),m=n(29633),g=n(28058),y=n(72840),b=n.n(y),w=n(70812);t.Z=function(e){var t=e.stickTo,n=e.className,y=(0,w.I)(),_=y.isOpen,E=y.onOpen,S="left"===t?b().stickyLeft:b().stickyRight,x=(0,i.useCallback)((function(){var e;null===(e=window.Intercom)||void 0===e||e.call(window,"show")}),[]),O=(0,i.useCallback)((function(){o.Z.trackEvent("help_center","eraser_website_click")}),[]),C=(0,i.useCallback)((function(){o.Z.trackEvent("help_center","slack_click")}),[]),k=(0,i.useCallback)((function(){o.Z.trackEvent("help_center","docs_click")}),[]),T=(0,i.useCallback)((function(){o.Z.trackEvent("help_center","feature_request_click")}),[]),A=(0,i.useCallback)((function(e){e&&o.Z.trackEvent("help_center","help_center_click")}),[]);return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(h.Lt,{minWidth:210,title:(0,r.jsx)("span",{className:b().label,children:"?"}),showCaret:!1,renderPopupInPortal:!0,toggleClassNames:{button:(0,g.Z)(b().container,_&&b().isOpen,S,n),root:b().icon},testId:"help-center",onOpenChange:A,children:[(0,r.jsx)(v.Z,{label:"Send Feedback",onClick:x,icon:(0,r.jsx)(p.J,{icon:a.Z})}),(0,r.jsx)(v.Z,{label:"Feature Request",href:d.CF.featureRequestURL,onClick:T,icon:(0,r.jsx)(p.J,{icon:l.Z})}),(0,r.jsx)(h.KE,{}),(0,r.jsx)(v.Z,{label:"Eraser Website",href:d.CF.homepageURL,onClick:O,icon:(0,r.jsx)(p.J,{icon:s.Z})}),(0,r.jsx)(h.KE,{}),(0,r.jsx)(v.Z,{label:"Slack Community",href:d.CF.slackURL,onClick:C,icon:(0,r.jsx)(p.J,{icon:f.Z})}),(0,r.jsx)(v.Z,{label:"Documentation",href:d.CF.docsURL,onClick:k,icon:(0,r.jsx)(p.J,{icon:c.Z})}),(0,r.jsx)(v.Z,{label:"Shortcuts",onClick:E,icon:(0,r.jsx)(p.J,{icon:u.Z}),rightElement:(0,r.jsx)(m.P,{keys:["CtrlOrCmd","/"]})})]})})}},98161:function(e,t,n){"use strict";n.d(t,{$q:function(){return u}});var r=n(52322),i=n(2784),o=n(28058),a=n(6257),s=n.n(a),u=(0,i.forwardRef)((function(e,t){var n=e.className,i=e.width,o=e.height;return(0,r.jsxs)("svg",{className:n,width:i,height:o,viewBox:"0 0 1699 660",ref:t,children:[(0,r.jsx)("path",{fill:"#EC2C40",d:"M804.7,660.3H50c-38.8,0-62.8-55-42.7-98.2L253,31.4C262,11.9,278.2,0,295.7,0h509V660.3z"}),(0,r.jsx)("path",{fill:"#00A9E5",d:"M891.3,0L1646,0c38.8,0,62.8,55,42.7,98.2L1443,628.9c-9,19.5-25.2,31.4-42.7,31.4h-509V0z"})]})})),c=function(e){var t=e.className;return(0,r.jsxs)("svg",{className:t,viewBox:"0 0 670 135",fill:"currentColor",children:[(0,r.jsx)("path",{d:"M61.1,132.4c-18.2,0-32.9-5.7-44.2-17.2C5.6,103.8,0,88.6,0,69.5V66c0-12.7,2.5-24.1,7.4-34.2 c4.9-10,11.8-17.8,20.7-23.4C37,2.8,46.9,0,57.8,0c17.4,0,30.8,5.5,40.3,16.6s14.2,26.8,14.2,47.1v11.6H28.9 c0.9,10.5,4.4,18.9,10.6,25c6.2,6.1,13.9,9.2,23.3,9.2c13.1,0,23.8-5.3,32.1-15.9l15.5,14.7c-5.1,7.6-11.9,13.6-20.5,17.8 C81.3,130.3,71.8,132.4,61.1,132.4z M57.7,23c-7.9,0-14.2,2.8-19.1,8.3s-7.9,13.2-9.3,23H84v-2.1c-0.6-9.6-3.2-16.9-7.7-21.8 C71.9,25.5,65.7,23,57.7,23z"}),(0,r.jsx)("path",{d:"M201.5,28.6c-3.8-0.6-7.7-0.9-11.7-0.9c-13.1,0-22,5-26.6,15.1v87.3h-28.7V2.4h27.4l0.7,14.3 C169.5,5.5,179.1,0,191.4,0c4.1,0,7.5,0.6,10.1,1.7L201.5,28.6z"}),(0,r.jsx)("path",{d:"M293.5,130.1c-1.3-2.4-2.4-6.4-3.3-11.9c-9.1,9.5-20.3,14.3-33.5,14.3c-12.8,0-23.3-3.7-31.4-11 c-8.1-7.3-12.2-16.4-12.2-27.1c0-13.6,5.1-24.1,15.2-31.3S252.9,52,271.7,52h17.6v-8.4c0-6.6-1.9-11.9-5.5-15.9 c-3.7-4-9.3-6-16.9-6c-6.5,0-11.9,1.6-16,4.9c-4.2,3.3-6.3,7.4-6.3,12.4h-28.7c0-7,2.3-13.5,7-19.6c4.6-6.1,11-10.9,18.9-14.3 c8-3.5,16.9-5.2,26.7-5.2c14.9,0,26.9,3.8,35.8,11.3c8.9,7.5,13.5,18.1,13.7,31.7v57.6c0,11.5,1.6,20.7,4.8,27.5v2H293.5z M262,109.4c5.7,0,11-1.4,16-4.1c5-2.8,8.8-6.5,11.3-11.1V70.1h-15.5c-10.6,0-18.6,1.8-24,5.5c-5.4,3.7-8,8.9-8,15.7 c0,5.5,1.8,9.9,5.5,13.2C251,107.8,255.9,109.4,262,109.4z"}),(0,r.jsx)("path",{d:"M419.6,95.4c0-5.1-2.1-9-6.3-11.7c-4.2-2.7-11.2-5-20.9-7.1c-9.8-2-17.9-4.6-24.4-7.8 c-14.3-6.9-21.5-17-21.5-30.1c0-11,4.6-20.2,13.9-27.6C369.6,3.7,381.4,0,395.7,0c15.3,0,27.6,3.8,37,11.3 c9.4,7.6,14.1,17.3,14.1,29.4h-28.7c0-5.5-2-10.1-6.1-13.8c-4.1-3.7-9.5-5.5-16.3-5.5c-6.3,0-11.4,1.5-15.4,4.4 c-4,2.9-6,6.8-6,11.7c0,4.4,1.8,7.8,5.5,10.3c3.7,2.4,11.2,4.9,22.4,7.4c11.3,2.5,20.1,5.4,26.5,8.8c6.4,3.4,11.2,7.5,14.3,12.3 c3.1,4.8,4.7,10.6,4.7,17.5c0,11.5-4.8,20.8-14.3,27.9c-9.5,7.1-22,10.7-37.4,10.7c-10.5,0-19.8-1.9-28-5.7 c-8.2-3.8-14.6-9-19.1-15.6c-4.6-6.6-6.8-13.7-6.8-21.4H370c0.4,6.8,2.9,12,7.7,15.6c4.7,3.7,11,5.5,18.8,5.5 c7.6,0,13.3-1.4,17.2-4.3C417.6,103.8,419.6,100,419.6,95.4z"}),(0,r.jsx)("path",{d:"M529,132.4c-18.2,0-32.9-5.7-44.2-17.2c-11.3-11.4-16.9-26.7-16.9-45.7V66c0-12.7,2.5-24.1,7.4-34.2 c4.9-10,11.8-17.8,20.7-23.4c8.9-5.6,18.8-8.4,29.7-8.4C543,0,556.5,5.5,566,16.6c9.5,11.1,14.2,26.8,14.2,47.1v11.6h-83.4 c0.9,10.5,4.4,18.9,10.6,25c6.2,6.1,13.9,9.2,23.3,9.2c13.1,0,23.8-5.3,32.1-15.9l15.5,14.7c-5.1,7.6-11.9,13.6-20.5,17.8 C549.2,130.3,539.6,132.4,529,132.4z M525.5,23c-7.9,0-14.2,2.8-19.1,8.3c-4.8,5.5-7.9,13.2-9.3,23h54.6v-2.1 c-0.6-9.6-3.2-16.9-7.7-21.8C539.7,25.5,533.5,23,525.5,23z"}),(0,r.jsx)("path",{d:"M669.3,28.6c-3.8-0.6-7.7-0.9-11.7-0.9c-13.1,0-22,5-26.6,15.1v87.3h-28.7V2.4h27.4l0.7,14.3 C637.4,5.5,647,0,659.3,0c4.1,0,7.5,0.6,10.1,1.7L669.3,28.6z"})]})};u.displayName="EraserIconSVG",t.ZP=function(e){var t=e.className,n=e.horizontal,i=void 0===n||n,a=e.vertical,l=void 0!==a&&a,f=e.width,d=e.height;return(0,r.jsxs)("div",{className:(0,o.Z)(t,s().logo,i&&s().horizontal,l&&s().vertical),children:[(0,r.jsx)(u,{className:s().icon,width:f,height:d}),(0,r.jsx)(c,{className:s().text})]})}},90612:function(e,t,n){"use strict";n.d(t,{nV:function(){return p}});var r=n(52322),i=n(2784),o=n(67612),a=n(99627),s=n(456),u=n(28058),c=n(48707),l=n.n(c);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){f(e,t,n[t])}))}return e}t.ZP=function(e){var t=e.workspaceMembersInfo,n=t.invitedGuests,i=t.invitedMembers,o=t.pendingInvitees;return t.isLoading?null:(0,r.jsxs)("div",{className:(0,u.Z)(l().userList,"column gapMedium"),children:[(0,r.jsx)(h,d({isOwnerRow:!0},e)),null===o||void 0===o?void 0:o.map((function(t){return(0,r.jsx)(h,d({invite:t},e),t.id)})),null===i||void 0===i?void 0:i.map((function(t){return(0,r.jsx)(h,d({member:t},e),t.id)})),null===n||void 0===n?void 0:n.map((function(t){return(0,r.jsx)(h,d({guest:t},e),t.id)}))]})};var h=function(e){var t,n=e.isOwnerRow,o=e.member,a=e.guest,c=e.invite,f=e.workspaceMembersInfo,h=e.workspace,v=n?null===h||void 0===h?void 0:h.ownerId:null!==(t=null===o||void 0===o?void 0:o.id)&&void 0!==t?t:null===a||void 0===a?void 0:a.id,m=null===c||void 0===c?void 0:c.inviteeEmail,g=(0,i.useMemo)((function(){return function(e,t){var n=e.userId,r=e.email;return null===t||void 0===t?void 0:t.find((function(e){return!(!e.userId||e.userId!==n)||(!(!e.email||e.email!==r)||void 0)}))}({userId:v,email:m},f.knownPeople)}),[v,m,f.knownPeople]),y=(0,i.useMemo)((function(){return function(e){var t=e.invite,n=e.member,r=e.guest;if(e.isOwnerRow)return"Author";if(t)return"Invited";if(r)return"Can Edit (Guest)";if(n)return"Member";return""}({invite:c,member:o,guest:a,isOwnerRow:n})}),[c,o,a,n]),b=(0,i.useMemo)((function(){return function(e){var t=e.invite,n=e.guest,r=e.member,i=e.isExternalUser,o=e.userId,a=e.onCancelInvite,s=e.onAddMemberToTeam,u=e.onRemoveMemberFromWorkspace;return e.isOwnerRow?[]:t?[{label:"Cancel Invitation",asyncOnClick:function(){return a(t.id)}}]:i&&n&&n.inviteId?[{label:"Leave",asyncOnClick:function(){return u(n)}}]:n?[{label:"Add to Team",asyncOnClick:function(){return s(n)}},{label:"Remove Guest from File",asyncOnClick:function(){return u(n)}}]:r?[{label:r.id===o?"Leave file":"Remove from File",asyncOnClick:function(){return u(r)}}]:[]}(e)}),[e]);return(0,r.jsxs)("div",{className:(0,u.Z)(l().userRow,"rowCentered"),children:[(0,r.jsx)(s.a,d({userId:v,email:m,avatarSize:26},g)),(0,r.jsx)(p,{unopenedText:y,dropdownOptions:b})]})};var p=function(e){var t=e.unopenedText,n=e.dropdownOptions;return n.length?(0,r.jsx)(o.Lt,{title:t,isMountedInPopper:!0,asNested:!1,variant:o.Lt.Variants.LightGrey,popperModifiers:[{name:"offset",options:{offset:[0,8]}}],children:n.map((function(e){var t=e.label,n=e.asyncOnClick;return(0,r.jsx)(a.Z,{label:t,asyncOnClick:n},t)}))}):(0,r.jsx)("div",{className:l().accessBadge,children:t})}},11678:function(e,t,n){"use strict";n.d(t,{Xh:function(){return u},vQ:function(){return s}});var r=n(67612),i=n(99627);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a,s={width:265,asNested:!1,spacing:"medium",popperPlacement:"left-start",variant:r.Lt.Variants.Grey,popperModifiers:[{name:"offset",options:{offset:[0,30]}}],selectionVariant:i.Z.SelectionVariants.Grey},u=(o(a={none:"Only team members or invited guests can view or edit this file.",write:"Anyone with a link can edit. Requires Eraser account to edit.",read:"Anyone with a link can view. Does not require Eraser account."},"anonymous-write","Anyone with a link can edit. Does not require Eraser account."),o(a,"private","Link access cannot be changed for Private Files"),a)},98143:function(e,t,n){"use strict";n.d(t,{b:function(){return d}});var r=n(52322),i=n(2784),o=n(9605),a=n(3559),s=n(87115),u=n(14113),c=n(7305),l=n(83445),f=n(66924),d=function(e){var t=e.unsearchableUserId,n=e.unsearchableEmail,d=e.unsearchableErrorMessage,h=void 0===d?"That input is invalid.":d,p=e.placeholder,v=e.onInvite,m=(0,i.useState)(""),g=m[0],y=m[1],b=(0,i.useState)(!1),w=b[0],_=b[1],E=(0,i.useRef)(null),S=(0,o.Z)(),x=(0,l.Z)({defaultIsOpen:!1}),O=x.isOpen,C=x.onOpen,k=x.onClose,T=!(0,c.Le)(g),A=g===n,I=(0,i.useCallback)((function(e){_(!0),y(""),S.promise(v(e),{loading:"Inviting ".concat(e),success:"Invitation sent to ".concat(e),error:function(e){return(0,f.Tb)(new Error("Failed to invite user",{cause:e})),"Invitation sending failed"}}).finally((function(){_(!1)}))}),[S,v]),D=(0,i.useCallback)((function(e){e.preventDefault(),A?S.error(h):T&&!w&&I(g)}),[S,A,T,g,w,I,h]),P=(0,i.useCallback)((function(e){var t=e.email;y(t),I(t)}),[I]),R=(0,i.useCallback)((function(e){return e.memberId!==t}),[t]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("form",{onSubmit:D,style:{width:"100%"},children:(0,r.jsx)(u.Z,{autoFocus:!0,ref:E,placeholder:p,onChange:function(e){return y(e.target.value)},value:g,button:(0,r.jsx)(a.ZP,{disabled:!T,type:"submit",isLoading:w,children:"Invite"}),onBlur:k,onFocus:C})}),O&&E.current&&(0,r.jsx)(s.Z,{targetNode:E.current,search:g||void 0,onSelect:P,isPopperVisible:!0,shouldIncludeEmails:!0,className:"marginTopMedium",filterPredicate:R})]})}},27331:function(e,t,n){"use strict";n.d(t,{_:function(){return B},E:function(){return U}});var r=n(94776),i=n.n(r),o=n(2784),a=n(20810),s=n(39739),u=n(77984),c=n(39369),l=n(12335),f=n(17003),d=n(17559),h=n(9605),p=n(14898),v=n(41573),m=n(94608),g=n(59065),y=n(57066),b=n(3213);function w(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}var _=function(e,t){var n=b.Z.team(e).withConverter(m.ML);return y.RZ.runTransaction(function(){var r,o=(r=i().mark((function r(o){var a,s,u,c;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,o.get(n);case 2:if(a=r.sent.data()){r.next=5;break}throw new Error("Team does not exist");case 5:if(!a.inviteId){r.next=12;break}return s=b.Z.invite(a.inviteId).withConverter(m.xI),r.next=9,o.get(s);case 9:if(!r.sent.exists){r.next=12;break}return r.abrupt("return",a.inviteId);case 12:return u=b.Z.invites.doc(),c={type:g.PA.Link,inviteTo:g.FU.Team,inviterId:t,teamId:e},o.set(u,c),o.update(n,{inviteId:u.id}),r.abrupt("return",u.id);case 17:case"end":return r.stop()}}),r)})),function(){var e=this,t=arguments;return new Promise((function(n,i){var o=r.apply(e,t);function a(e){w(o,n,i,a,s,"next",e)}function s(e){w(o,n,i,a,s,"throw",e)}a(void 0)}))});return function(e){return o.apply(this,arguments)}}())};function E(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}var S=function(e){var t=b.Z.team(e).withConverter(m.ML);return y.RZ.runTransaction(function(){var e,n=(e=i().mark((function e(n){var r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.get(t);case 2:if(r=e.sent.data()){e.next=5;break}throw new Error("Team does not exist");case 5:r.inviteId&&(o=b.Z.invite(r.inviteId),n.delete(o),n.update(t,{inviteId:y.ZP.firestore.FieldValue.delete()}));case 6:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){E(o,r,i,a,s,"next",e)}function s(e){E(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e){return n.apply(this,arguments)}}())},x=n(64208),O=n(44323),C=n(62044),k=function(e){var t=e.workspaceId,n=e.isDirectAccessAllowed,r=e.directAccessMode;return b.Z.workspace(t).update({isDirectAccessAllowed:n,directAccessMode:r,updatedAt:C.GH.serverTimestamp()})},T=n(65545),A=n(55632),I=n(66924);function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function P(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function R(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){P(o,r,i,a,s,"next",e)}function s(e){P(o,r,i,a,s,"throw",e)}a(void 0)}))}}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){N(e,t,n[t])}))}return e}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var L={isReady:!1,isCreating:!1,isDeleting:!1},F=function(e){var t=e.entityId,n=e.createInvite,r=e.removeInvite,i=(0,h.Z)(),a=(0,o.useState)(L),s=a[0],u=a[1],c=(0,f.Z)(n),l=(0,f.Z)(r),d=(0,o.useCallback)((function(e){(0,I.Tb)(e),i.error("Something went wrong")}),[i]),p=(0,o.useCallback)((function(){u((function(e){return j({},e,{isEnabled:!0,isCreating:!0})})),l.reset(),c.execute().catch(d)}),[d]),v=(0,o.useCallback)((function(){u((function(e){return j({},e,{isDeleting:!0})})),c.reset(),l.execute().catch(d)}),[t,d]);return{toast:i,state:s,setState:u,onTurnOff:v,onTurnOn:p}},B=function(e){var t,n=e.entityId,r=function(e,t){return{createInvite:(0,o.useCallback)(R(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,_(e,t);case 2:case"end":return n.stop()}}),n)}))),[e,t]),removeInvite:(0,o.useCallback)(R(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,S(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)}))),[e]),observeEntity:x.Z}}(n,(0,p.II)()),f=r.createInvite,d=r.removeInvite,h=r.observeEntity,v=F({entityId:n,createInvite:f,removeInvite:d}),m=v.setState,g=v.state,y=v.onTurnOff,b=v.onTurnOn,w=g.inviteId?(t=g.inviteId,"".concat(A.l2.url,"/invite/").concat(t)):"";return function(e){var t=e.teamId,n=e.setState,r=e.observeEntity,i=(0,a.m)((function(e){return e.pipe((0,u.U)((function(e){return M(e,1)[0]})),(0,c.x)(),(0,l.w)((function(e){return r(e)})),(0,u.U)((function(e){return null===e||void 0===e?void 0:e.inviteId})),(0,c.x)())}),[t]);(0,s.m)(i,(0,o.useCallback)((function(e){var t=!!e;n((function(n){return j({},n,{isReady:!0,isRemoteEnabled:t,isEnabled:t,isCreating:!1,isDeleting:!1,inviteId:e})}))}),[n]),I.Tb)}({teamId:n,setState:m,observeEntity:h}),j({},g,{isEnabled:Boolean(g.isEnabled||g.isRemoteEnabled),onTurnOn:b,onTurnOff:y,inviteLink:w})},U=function(e){var t,n,r=e.entityId,f=e.accessMode,h=e.shareOrigin,p=void 0===h?"share":h,m=(0,o.useState)(f),g=m[0],y=m[1],b=(0,v.ZP)(),w=(0,d.Z)(),_=(t=r,n=g,{createInvite:(0,o.useCallback)(R(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k({workspaceId:t,isDirectAccessAllowed:!0,directAccessMode:n});case 2:case"end":return e.stop()}}),e)}))),[t,n]),removeInvite:(0,o.useCallback)(R(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k({workspaceId:t,isDirectAccessAllowed:!1});case 2:case"end":return e.stop()}}),e)}))),[t]),setDirectAccessMode:(0,o.useCallback)((function(e){return k({workspaceId:t,directAccessMode:e})}),[t]),observeEntity:O.Z}),E=_.setDirectAccessMode,S=_.observeEntity,x=F({entityId:r,createInvite:_.createInvite,removeInvite:_.removeInvite}),C=x.setState,A=x.state,D=x.onTurnOff,P=x.onTurnOn;!function(e){var t=e.workspaceId,n=e.setState,r=e.setAccessMode,i=e.observeEntity,f=(0,a.m)((function(e){return e.pipe((0,u.U)((function(e){return M(e,1)[0]})),(0,c.x)(),(0,l.w)((function(e){return i(e)})),(0,u.U)((function(e){return{isDirectAccessAllowed:null===e||void 0===e?void 0:e.isDirectAccessAllowed,directAccessMode:null===e||void 0===e?void 0:e.directAccessMode}})))}),[t]);(0,s.m)(f,(0,o.useCallback)((function(e){var t=!!(null===e||void 0===e?void 0:e.isDirectAccessAllowed),i=null===e||void 0===e?void 0:e.directAccessMode;i&&r(i),n((function(e){return j({},e,{isReady:!0,isRemoteEnabled:t,isEnabled:t,isCreating:!1,isDeleting:!1})}))}),[n,r]),I.Tb)}({workspaceId:r,setState:C,setAccessMode:y,observeEntity:S});var N=(0,o.useCallback)((function(e){E(e)}),[E]),L=(0,T.NY)({workspaceId:r,params:{origin:p}}),B=(0,o.useCallback)((function(e){var t="Link copied";b&&"isDirectAccessAllowed"in b&&!b.isDirectAccessAllowed&&(t="".concat(t," - only collaborators can access"));var n={workspaceId:r,params:{origin:p}};e&&(n.params.elements=e);var i=(0,T.NY)(n);w(i,t)}),[w,b,r,p]);return j({},A,{accessMode:g,isEnabled:Boolean(A.isEnabled||A.isRemoteEnabled),copyLinkToClipboard:B,onTurnOn:P,onTurnOff:D,onAccessModeChange:N,inviteLink:L})}},30039:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(52322),i=n(2784),o=n(98161),a=n(58058),s=n.n(a),u=function(e){var t=e.children,n=e.staticLogo,i=(0,r.jsx)(o.ZP,{horizontal:!0,className:s().eraserLogo});return(0,r.jsxs)("div",{className:s().minimalPageLayout,children:[n?i:(0,r.jsx)("a",{href:"/",children:i}),(0,r.jsx)("div",{className:s().content,children:t})]})},c=(0,i.memo)(u)},55261:function(e,t,n){"use strict";n.d(t,{BD:function(){return g},a_:function(){return p}});var r=n(52322),i=n(2784),o=n(21746),a=n(5632),s=n(70213),u=n(9779),c=n(14898),l=n(26005),f=n(53292);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){d(e,t,n[t])}))}return e}var p=(0,o.kr)({files:[],updateOrder:function(){return null},orderBy:s.nm.orderBy,orderDir:s.nm.orderDir}),v={title:"asc",updatedAt:"desc",createdAt:"desc",folderId:"desc",nComments:"desc"},m=function(e,t,n){if(!e)return{};switch(e){case"private":return{ownerId:t,isPrivate:!0};case"folder":return{folderId:n};case"unsorted":return{folderId:null};case"archived":return{isArchived:!0,ownerId:t};case"created-by-me":return{ownerId:t};default:return{}}};t.ZP=function(e){var t=e.children,n=(0,a.useRouter)(),o=(0,c.II)(),d=(0,i.useState)(h({},s.nm,m((0,l.N)(n.asPath),o,(0,f.N0)(n.asPath)))),g=d[0],y=d[1],b=(0,u.Z)(g),w=(0,i.useCallback)((function(e){y((function(t){var n;return t.orderBy===e?h({},t,{orderDir:"asc"===t.orderDir?"desc":"asc"}):h({},t,{orderBy:e,orderDir:null!==(n=v[e])&&void 0!==n?n:"desc"})}))}),[]);(0,i.useEffect)((function(){var e=function(e){var t=(0,l.N)(e),n=(0,f.N0)(e),r=m(t,o,n);y((function(e){return h({orderBy:e.orderBy,orderDir:e.orderDir},r)}))};return n.events.on("beforeHistoryChange",e),function(){n.events.off("beforeHistoryChange",e)}}),[o,n]),(0,i.useEffect)((function(){y((function(e){return h({},e,m((0,l.N)(n.asPath),o,(0,f.N0)(n.asPath)))}))}),[o,n]);var _=(0,i.useMemo)((function(){return{files:b||[],updateOrder:w,orderBy:g.orderBy,orderDir:g.orderDir}}),[b,w,g.orderBy,g.orderDir]);return(0,r.jsx)(p.Provider,{value:_,children:t})};var g=function(){return(0,o.qp)(p)}},89406:function(e,t,n){"use strict";n.d(t,{F9:function(){return l},iu:function(){return d}});var r=n(94776),i=n.n(r),o=n(3213),a=n(66924);function s(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){s(o,r,i,a,u,"next",e)}function u(e){s(o,r,i,a,u,"throw",e)}a(void 0)}))}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=function(){var e=u(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.element){e.next=2;break}return e.abrupt("return",[t.element]);case 2:if(!t.elements){e.next=10;break}return e.next=5,o.Z.canvasLink(t.elements).get();case 5:if(n=e.sent,r=n.data()){e.next=9;break}return e.abrupt("return",[t.elements]);case 9:return e.abrupt("return",r.elementIds);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(e){return!e.isDeleted},d=function(e,t){if(1===e.length){var n=t.find((function(t){return t.id===e[0]}));return n&&f(n)?[n]:[]}var r=t.reduce((function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){c(e,t,n[t])}))}return e}({},e,c({},t.id,t))}),{});return e.reduce((function(e,t){var n=r[t];return n&&f(n)&&e.push(n),e}),[])},h=function(e,t,n){e.zoomToFitElements(t,n),e.highlightElements(t,500)},p=function(){var e=u(i().mark((function e(t,n,r){var o,s,u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l(n);case 3:if(null===(o=e.sent)||void 0===o?void 0:o.length){e.next=6;break}return e.abrupt("return");case 6:if((s=d(o,t.getSceneElements())).length){e.next=11;break}return u=1===o.length?"Object has been deleted":"Objects have been deleted",r.error(u),e.abrupt("return");case 11:h(t,s,(function(e,t,n,r){window.onElementsFocused&&window.onElementsFocused(e,t,n,r)})),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),(0,a.Tb)(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t,n,r){return e.apply(this,arguments)}}();t.ZP=p},9318:function(e,t,n){"use strict";var r=n(52322),i=n(2784),o=n(51992),a=n(71141),s=n.n(a),u=n(28058),c=(0,i.memo)((function(e){var t=e.absolute;return e.hidden?null:(0,r.jsx)("div",{className:(0,u.Z)(s().container,t&&s().absolute),children:(0,r.jsxs)("div",{className:s().notepad,children:[(0,r.jsx)(o.yB,{color:"var(--grey-500)",highlightColor:"var(--grey-400)",children:(0,r.jsx)("div",{className:s().skeletonTitle,children:(0,r.jsx)(o.ZP,{count:1,height:22,className:s().titleSkeleton})})}),(0,r.jsx)(o.yB,{color:"var(--grey-500)",highlightColor:"var(--grey-400)",children:(0,r.jsxs)("div",{className:s().skeletonBody,children:[(0,r.jsx)("p",{children:(0,r.jsx)(o.ZP,{count:1,height:12})}),(0,r.jsx)("p",{children:(0,r.jsx)(o.ZP,{count:1,height:12,width:200})})]})})]})})}));c.displayName="NotepadSkeleton",t.Z=c},95655:function(e,t,n){"use strict";n.d(t,{P8:function(){return _},Zv:function(){return E}});var r=n(52322),i=n(2784),o=n(94764),a=n(28316),s=n(24235),u=n(49797),c=n(24507),l=n(23763),f=n(87115),d=n(45253),h=n(28058),p=n(19142),v=n.n(p);function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){g(e,t,n[t])}))}return e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var w=function(e){var t=e.data,n=e.isSelected,i=b((0,s.gE)(t.userId,t.email),2),o=i[0],a=(i[1],(0,u.Z)(t.userId));return o?(0,r.jsx)(_,{profile:a,display:o,isSelected:n}):null},_=function(e){var t=e.profile,n=e.display,i=e.classNames,o=e.isSelected,a=(0,c.F)().isDarkMode;return(0,r.jsxs)("span",{className:(0,h.Z)(null===i||void 0===i?void 0:i.root,v().personDisplay,a&&v().isDarkMode,o&&v().isSelected),children:[(0,r.jsx)(l.Z,y({},t,{className:(0,h.Z)(v().avatar,null===i||void 0===i?void 0:i.avatar)})),(0,r.jsx)("span",{className:(0,h.Z)(v().label,null===i||void 0===i?void 0:i.label),children:n})]})},E=function(e){var t=e.attributes,n=e.element,s=e.children,u=n.mentionData,c=n.mentionType,l=(0,d.W)(n),h=l.updateMention,p=l.unwrapMention,m=l.checkIfMentionDone,g=l.isSelected,y=l.text,b=l.getBounds,_=(0,i.useCallback)((function(e){var t={userId:e.userId,email:e.email};t.id=(0,o.x0)(),h({mentionType:"person",mentionData:t})}),[h]),E=Boolean(!!c&&"person"===c&&(null===u||void 0===u?void 0:u.email));return(0,r.jsxs)(S,{attributes:t,mentionType:c,mentionData:u,isSelected:g,isValidPerson:E,renderMenu:function(){var e=(0,i.useState)(null),t=e[0],n=e[1],o=b();if(!o)return null;var s=(0,r.jsx)("span",{className:v().dropdownAnchor,style:{top:o.bottom,left:o.left},ref:n,children:(0,r.jsx)(f.Z,{targetNode:t,className:v().dropdownContainer,onSelect:_,withProfileOnly:!0,search:y?y.slice(1):"",includeSelf:!0,searchOnEmptyString:!0,onCancel:p,onSearchFinished:function(e){m(e)},shouldIncludeEmails:!1,isPopperVisible:!0})});return(0,a.createPortal)(s,document.body)},PersonDisplayComponent:w,children:[s,"@"===y&&!E&&(0,r.jsx)("span",{className:v().placeholder,children:"mention"})]})},S=function(e){var t=e.attributes,n=e.isValidPerson,i=e.mentionData,o=e.isSelected,a=e.mentionType,s=e.children,u=e.renderMenu,c=e.PersonDisplayComponent;return(0,r.jsxs)("span",y({},t,{className:(0,h.Z)(v().editorMention,n&&v().validPerson),children:[n?(0,r.jsx)(c,{data:i,isSelected:o}):null,o&&!a&&u(),s]}))}},24192:function(e,t,n){"use strict";n.d(t,{O:function(){return c}});var r=n(2784),i=n(9605),o=n(89271),a=n(66924);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function c(){var e=(0,i.Z)(),t=(0,r.useCallback)((function(t){var n=(0,o.E)(t,"Unknown",{}),r=n.error,i=u(n,["error"]);if(!1!==r.isSevere&&e.error(r.message,{id:r.message}),!r.handled){var c=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}({},i,{cause:r.cause});(0,a.Tb)(r,{extra:c})}}),[e]);return{onError:t}}},69349:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(52322),i=(n(2784),n(43176)),o=n(24507),a=n(41417),s=n(51581),u=n.n(s),c=n(28058),l=n(52251),f=n(24721),d=function(e){var t=e.limit,n=e.current,i=e.showLink,o=e.featureName,s=e.shortExplanation,d=(0,a.Y)().openSettingsModal,h=i?(0,r.jsx)("a",{role:"button",onClick:function(){d({openedPane:"plans"}),l.Z.trackEvent("payment","open_billing_pane",{source:"limitBar",featureName:o})},children:"Upgrade"}):"Upgrade",p=n>t?"".concat(t+1,"+"):n,v=function(){switch(o){case f.M$.Workspaces:return"files";case f.M$.AiDiagrams:return"AI credits";default:return"files"}};return s?(0,r.jsxs)("span",{className:(0,c.Z)(u().explanation),children:[(0,r.jsx)("span",{children:p})," out of ",(0,r.jsx)("span",{children:t})," ".concat(v()," used. / "),i&&(0,r.jsx)("a",{role:"button",onClick:function(){d({openedPane:"plans"})},children:"Upgrade to unlimited"})]}):(0,r.jsxs)("span",{className:(0,c.Z)(u().explanation),children:[(0,r.jsx)("strong",{children:p})," out of ",(0,r.jsx)("strong",{children:t})," ".concat(v()," used."),(0,r.jsx)("br",{}),h," your plan for unlimited access."]})},h=function(e){var t=e.limit,n=e.style,a=e.current,s=e.useColor,u=e.showLink,c=e.fullColor,l=e.className,f=e.featureName,h=e.shortExplanation,p=(0,o.F)().theme;return t===1/0?null:(0,r.jsxs)("div",{style:n,children:[(0,r.jsx)(i.k,{limit:t,theme:p,current:a,useColor:s,fullColor:c,className:l}),(0,r.jsx)(d,{limit:t,current:a,showLink:u,featureName:f,shortExplanation:h})]})}},29098:function(e,t,n){"use strict";n.d(t,{p:function(){return d},f:function(){return g}});var r=n(52322),i=n(2784),o=n(39449),a=n(53822),s=n(8069),u=n.n(s),c=n(72342),l=n(52251),f=n(2545),d=function(e){var t=e.error,n=e.onClose,s=t.errorObject,d=t.featureName;return(0,i.useEffect)((function(){l.Z.trackEvent("payment","open_billing_pane",{featureName:d,source:"paywallNotification"})}),[d]),(0,r.jsx)(c.Z,{isOpen:!0,hideCloseButton:!0,onClose:n,size:c.Z.Sizes.XL,className:u().modal,title:s.message,children:(0,r.jsxs)("div",{"data-testid":"paywall-notification",className:u().container,children:[(0,r.jsx)("div",{className:u().notificationPrompt,children:s.hint}),(0,r.jsx)("div",{className:u().billingPlanCardsContainer,children:(0,r.jsx)(f.m,{mountedIn:"paywallNotification"})}),(0,r.jsx)("button",{className:u().closeBtn,type:"button",onClick:n,children:(0,r.jsx)(a.J,{icon:o.Z})})]})})},h=n(68732),p=n(24721),v=n(58199),m=n(69349),g=function(e){var t=e.style,n=e.showLink,i=e.useColor,o=(0,h.LP)(),a=(0,v.B)(p.M$.Workspaces,o);if(!a||a.limit===1/0)return null;var s=a.limit,u=a.current;return(0,r.jsx)(m.Z,{style:t,limit:s,current:u,showLink:n,useColor:i,featureName:p.M$.Workspaces})}},33337:function(e,t,n){"use strict";n.d(t,{bJ:function(){return l},ch:function(){return f},hf:function(){return u},r4:function(){return c}});var r=n(52322),i=n(51258),o=n(17366),a=n(28058),s="eraser-splash",u=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=document.getElementById(s);t&&(e?t.remove():(t.classList.add("hidden"),setTimeout((function(){return t.remove()}),100)))},c=function(e,t){return(0,o.Z)((function(){var t;(null===(t=null===e||void 0===e?void 0:e())||void 0===t||t)&&u()}),t)},l=function(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.Z,{}),(0,r.jsxs)("div",{className:"splashLoadingContainer",children:[(0,r.jsx)("div",{className:"splashLoadingSpinner"}),(0,r.jsx)("span",{children:"Loading eraser.io"})]})]})},f=function(e){var t=e.initialTheme,n=null!==t&&void 0!==t?t:"light";return(0,r.jsx)("div",{id:s,className:(0,a.Z)("eraserSplash","dark"===n&&"dark"),children:(0,r.jsx)("div",{className:"splashCenterer",children:(0,r.jsx)(l,{})})})}},24165:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var r=n(2784),i=n(20810),o=n(39739),a=n(77984),s=n(99054),u=n(39369),c=n(12335),l=n(68732),f=n(14898),d=n(7867),h=n(94608),p=n(3213),v=function(e){return(0,d.BS)(p.Z.teams.withConverter(h.ML).where("isAutoJoinEnabled","==",!0).where("domain","==",e))},m=n(66924),g=n(47985);function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var w=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t=e.prototype;return t.setId=function(e){this._userId!==e&&(this._data=void 0),this._userId=e},t.getTeams=function(e){return e&&this._userId===e?this._data:void 0},t.setTeams=function(e){this._data=e},e}()),_=function(){var e=(0,f.aF)(),t=(0,l.mZ)();w.setId(null===e||void 0===e?void 0:e.id);var n=(0,r.useState)(w.getTeams(null===e||void 0===e?void 0:e.id)),d=n[0],h=n[1],p=(null===e||void 0===e?void 0:e.emailVerified)?null===e||void 0===e?void 0:e.email:null;(0,r.useEffect)((function(){(null===e||void 0===e?void 0:e.id)&&d&&w.setTeams(d)}),[null===e||void 0===e?void 0:e.id,d]);var y=(0,i.m)((function(e){return e.pipe((0,a.U)((function(e){return b(e,1)[0]})),(0,s.h)((function(e){return"string"===typeof e})),(0,a.U)((function(e){return(0,g.ZP)(e)})),(0,u.x)(),(0,c.w)((function(e){return v(e)})))}),[p]);return(0,o.m)(y,h,m.Tb),(0,r.useMemo)((function(){if(e)return p?null===d||void 0===d?void 0:d.filter((function(e){return!t.has(e.id)})):[]}),[p,e,d,t])}},6673:function(e,t,n){"use strict";var r=n(94776),i=n.n(r),o=n(30686),a=n(89406),s=n(10559),u=n(66924);function c(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return!t||"object"!==p(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}var m=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(n,e);var t=v(n);function n(){var e;return l(this,n),(e=t.apply(this,arguments))._handleLayoutReady=function(t){e.setLayout=t,e.on("change-layout",t)},e._handleFocusOnWhiteboardElements=function(t){e._focusElementsByURL(t)},e._handleExcalidrawReady=function(t){e.api=t},e}var r=n.prototype;return r.init=function(){this.on("focus-elements",this._handleFocusOnWhiteboardElements),this.on("layout-ready",this._handleLayoutReady),this.on("excalidraw-ready",this._handleExcalidrawReady)},r.dispose=function(){this.api=void 0,this.removeAllListeners()},r._focusElementsByURL=function(e){var t,n=this;return(t=i().mark((function t(){var r,o,c,l,f,d,h,p,v;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n.api){t.next=3;break}return t.abrupt("return");case 3:return r=e.url,o=e.switchLayout,c=void 0===o||o,l=r.searchParams,f={element:l.get("element"),elements:l.get("elements")},t.next=8,(0,a.F9)(f);case 8:if(d=t.sent){t.next=11;break}return t.abrupt("return");case 11:h=(0,a.iu)(d,n.api.getSceneElements()),c&&(null===(v=(p=n).setLayout)||void 0===v||v.call(p,s.X.Both)),requestAnimationFrame((function(){return requestAnimationFrame((function(){n.api.zoomToFitElements(h),n.api.highlightElements(h)}))})),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(0),(0,u.Tb)(t.t0);case 19:case"end":return t.stop()}}),t,null,[[0,16]])})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(e){c(o,r,i,a,s,"next",e)}function s(e){c(o,r,i,a,s,"throw",e)}a(void 0)}))})()},n}(o.v);t.Z=new m},91594:function(e,t,n){"use strict";n.d(t,{Z:function(){return q},p:function(){return z}});var r=n(94776),i=n.n(r),o=n(52322),a=n(2784),s=n(21746),u=n(68732),c=n(14898),l=n(29843),f=n(95879),d=n(57066),h=n(3213),p=n(30686),v=n(10559),m=n(94764),g=(n(54073),n(12995)),y=n(85009),b=n(48156),w=n(52326),_=n(56943),E=n(6673);function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var O=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isTag=!1,this.isClosingTag=!1,this.isBody=!1,this._setTagBuffer=function(e){var n;e.length&&(t.tagBuffer=(null!==(n=t.tagBuffer)&&void 0!==n?n:"")+e)},this._resetFlags=function(){t.currentSection=void 0,t.tagBuffer=void 0,t.isClosingTag=!1,t.isBody=!1,t.isTag=!1,t.prevChunk=void 0},this._maybeClosingTag=function(e){var n=e.trim();return"<"===t.prevChunk&&n.startsWith("/")||n.startsWith("</")?(t.isClosingTag=!0,t.prevChunk=n.startsWith("/")?n.slice(1):n,{chunk:null,skip:!0}):{chunk:null,skip:!1}}}var t=e.prototype;return t._isKnownTag=function(e){var t=null!==e&&void 0!==e?e:"";return["title","notes","diagram"].includes(t.toLowerCase())?t.toLowerCase():null},t._maybeCompleteTag=function(e){var t=e.trim();if(this.isTag&&t.startsWith("/")){this.isTag=!1,this.isClosingTag=!0;var n=t.slice(1);return this._setTagBuffer(n),this.prevChunk=n,{chunk:null,skip:!0}}var r=t.match(/<\/?(\w+)>/);if(r){var i=t.startsWith("</"),o=r[1],a=this._isKnownTag(o);return a?(this.isBody=!i,this.currentSection=a,{chunk:null,skip:!0}):{chunk:e,skip:!1}}if(t.endsWith(">")){var s=x(e.split(/>/),2),u=s[0],c=s[1];if(this._setTagBuffer(u),this.isTag)return this._isKnownTag(this.tagBuffer)?(this.currentSection=this.tagBuffer,this.isTag=!1,this.isBody=!0,{chunk:c||void 0,skip:!c}):{chunk:"<"+this.tagBuffer+">"+c,skip:!1};if(this.isClosingTag)return this._isKnownTag(this.tagBuffer)?(this._resetFlags(),{chunk:c||void 0,skip:!c}):{chunk:"</"+this.tagBuffer+">"+c,skip:!1}}if(this.isClosingTag&&this._isKnownTag(this.tagBuffer))return{chunk:null,skip:!0};return{chunk:null,skip:!1}},t._maybeTag=function(e){if(this.isBody)return{chunk:e,skip:!1};if(this.isClosingTag)return this._setTagBuffer(e),{chunk:null,skip:!0};var t=e.trim();if("<"===t)return this.prevChunk=t,this.isTag=!0,{chunk:null,skip:!0};if(!t.startsWith("<"))return this.prevChunk=t,this._setTagBuffer(e),{chunk:null,skip:!0};var n=x(e.split(/</),2),r=n[0],i=n[1];return this._setTagBuffer(i),this.prevChunk=t,this.isTag=!0,{chunk:r||void 0,skip:!r}},t.filterChunk=function(e){var t=this._maybeCompleteTag(e);if(!t.skip){if(t.chunk)return t.chunk;var n=this._maybeClosingTag(e);if(!n.skip){if(n.chunk)return n.chunk;var r=this._maybeTag(e);if(!r.skip){if(r.chunk)return r.chunk;if(!this.isTag)return this.isBody?e:void 0;this._setTagBuffer(e)}}}},e}();function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function k(e){return function(e){if(Array.isArray(e))return C(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var T=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isFirstChunk=!0,this.debouncedTitleUpdate=t,this.toast=n,this.chunkHandler||(this.chunkHandler=new O)}var t=e.prototype;return t._fillTitle=function(e){var t;"\n"!==e&&(this.title=(null!==(t=this.title)&&void 0!==t?t:"")+e,this.title&&this.debouncedTitleUpdate&&this.debouncedTitleUpdate(this.title))},t._fillNotes=function(e,t,n){var r,i=null===(r=this.pathRef)||void 0===r?void 0:r.current;if(i){var o=g.ML.node(e,i),a=g.ML.end(e,o[1]),s=t.split(/(\s)/).filter(Boolean),u=!0,c=!1,l=void 0;try{for(var f,d=this,h=function(t,r){var i=r.value,s=d;g.ML.withoutNormalizing(e,(function(){var t=g.ML.above(e,{mode:"lowest",match:function(t){return g.ML.isBlock(e,t)}});s.isFirstChunk&&(g.YR.setSelection(e,{anchor:a,focus:a}),o&&g.ML.string(e,o[1]).trim().length>0&&e.insertBreak(),s.isFirstChunk=!1);var n=t&&g.y$.hasPrevious(t[1]),r=(0,_.wu)(e,{type:"list-item"});if("\n"===i){if(!n&&t&&0===g.ML.string(e,t[1]).trim().length)return;return e.insertBreak(),void(r&&e.insertBreak())}e.insertText(i)})),g.YR.setNodes(e,{isAI:!0,aiRequestId:n},{match:function(t){return g.ML.isBlock(e,t)&&["section","list","list-item","paragraph","header"].includes(t.type)},mode:"lowest"})},p=s[Symbol.iterator]();!(u=(f=p.next()).done);u=!0)h(0,f)}catch(w){c=!0,l=w}finally{try{u||null==p.return||p.return()}finally{if(c)throw l}}var v=function(e,t,n){return k(Array.from(g.ML.nodes(e,{at:[],match:function(e){return"isAI"in e&&"aiRequestId"in e&&e.aiRequestId===n},mode:"lowest",reverse:!0})))[0]}(e,0,n);if(v){var m=g.ML.end(e,v[1]);g.YR.setSelection(e,{anchor:m,focus:m})}else{var y=g.ML.last(e,i),b=g.ML.after(e,y[1]);g.YR.setSelection(e,{anchor:b,focus:b})}}else console.error("[ChunkToSlateBuilder] No path provided")},t._fillCanvas=function(e){var t;this.diagramText=(null!==(t=this.diagramText)&&void 0!==t?t:"")+e},t._insertDiagram=function(e,t,n){var r,i,o,a,s,u,c,l,f=null===(r=n.match(/Title:([\s\S]+)(?:Type)/))||void 0===r||null===(i=r[1])||void 0===i?void 0:i.trim(),d=null===(o=n.match(/Type:([\s\S]+)(?:Description)/))||void 0===o||null===(a=o[1])||void 0===a?void 0:a.trim(),h=null===(s=n.match(/Description:([\s\S]+)(?:Position)/))||void 0===s||null===(u=s[1])||void 0===u?void 0:u.trim(),p=null===(c=n.match(/Position:([\s\S]+)(?:\n)/))||void 0===c||null===(l=c[1])||void 0===l?void 0:l.trim(),m={title:f,description:h,diagramType:d,coordinates:this.nextElementCoordinates},g=t.insertSetOfElements("aiOutline",m,{x:w.Pe.DISTANCE_BETWEEN_FIGURES,y:0});if(this.nextElementCoordinates={x:g[0].x+g[0].width+w.Pe.DISTANCE_BETWEEN_FIGURES,y:g[0].y+w.Pe.FIGURE_PADDING},(0,b.rj)()){var y;null===(y=null===p||void 0===p?void 0:p.match(/Under Header "(.+)"/))||void 0===y||y[1];E.Z.emit("change-layout",v.X.Canvas),t.selectElements(g.map((function(e){return e.id}))),t.zoomToFitElements(g),requestAnimationFrame((function(){t.actionManager.executeAction("openCodeEditor")}))}},t.fill=function(e,t,n){var r,i,o,a,s,u=this.chunkHandler.filterChunk(n.data);if((null===(r=this.chunkHandler)||void 0===r?void 0:r.isClosingTag)&&"diagram"===(null===(i=this.chunkHandler)||void 0===i?void 0:i.currentSection)&&this.insertDiagramIfExist(e,t),u&&!(null===(o=this.chunkHandler)||void 0===o?void 0:o.isTag)&&!(null===(a=this.chunkHandler)||void 0===a?void 0:a.isClosingTag)&&(null===(s=this.chunkHandler)||void 0===s?void 0:s.currentSection)){var c,l,f,d;if(!this.currentToastId)this.currentToastId=(0,m.x0)(),null===(c=this.toast)||void 0===c||c.loading("Processing AI content...",{id:this.currentToastId});if("title"===this.chunkHandler.currentSection)return null===(l=this.toast)||void 0===l||l.loading("Generating document title",{id:this.currentToastId}),void this._fillTitle(u);if(this.isFirstChunk){if(!y.F3.isFocused(e)){y.F3.focus(e);var h=g.ML.end(e,[]);g.YR.setSelection(e,{anchor:h,focus:h})}var p=g.ML.end(e,e.selection.focus),v=g.ML.above(e,{at:p,match:function(t){return g.ML.isBlock(e,t)&&["section","list","paragraph","header"].includes(t.type)},mode:"lowest"});v||(v=g.ML.node(e,p)),this.pathRef=g.ML.pathRef(e,v[1])}if("notes"===this.chunkHandler.currentSection)return null===(f=this.toast)||void 0===f||f.loading("Generating outline",{id:this.currentToastId}),void this._fillNotes(e,u,n.requestId);if("diagram"===this.chunkHandler.currentSection)return null===(d=this.toast)||void 0===d||d.loading("Generating diagram ideas",{id:this.currentToastId}),void this._fillCanvas(u)}},t.insertDiagramWithStaticPrompt=function(e,t,n){this.diagramText=n,this.insertDiagramIfExist(e,t)},t.insertDiagramIfExist=function(e,t){var n=this.diagramText;n?(this._insertDiagram(e,t,n),this.diagramText=void 0):console.debug("[ChunkRenderController] no canvas chunks")},t.cleanup=function(){var e,t;(this.title=void 0,this.isFirstChunk=!0,this.nextElementCoordinates=void 0,null===(e=this.pathRef)||void 0===e||e.unref(),this.pathRef=void 0,this.currentToastId)&&(null===(t=this.toast)||void 0===t||t.success("Generated successfully",{id:this.currentToastId}),this.currentToastId=void 0)},e}();function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t){return!t||"object"!==P(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var P=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function R(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=A(e);if(t){var i=A(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return I(this,n)}}var N=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(n,e);var t=R(n);function n(e,r,i,o){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(a=t.call(this)).processedChunkIds=[],a.chunkRenderController=void 0,a.editor=e,a.excalidrawApi=i,!a.chunkRenderController&&r&&(a.chunkRenderController=new T(r,o)),a.on("receive",a._onReceive),a.on("finish",a.cleanup),a}var r=n.prototype;return r._onReceive=function(e,t){var n;if(e){var r=t||this.editor;r?this.processedChunkIds.includes(e.id)?console.debug("[StreamEmitter] Chunk already inserted",e.id):null===(n=this.chunkRenderController)||void 0===n||n.fill(r,this.excalidrawApi,e):console.error("[StreamEmitter] Editor not set")}},r.createAiDiagram=function(e){var t;if(this.editor){var n=["Title: Diagram","Type:","Description: ".concat(e),"Position:"].join("\n");null===(t=this.chunkRenderController)||void 0===t||t.insertDiagramWithStaticPrompt(this.editor,this.excalidrawApi,n)}else console.error("[StreamEmitter] Editor not set")},r.cleanup=function(){var e;null===(e=this.chunkRenderController)||void 0===e||e.cleanup(),this.processedChunkIds=[]},n}(p.v),j=n(52251);function M(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){L(e,t,n[t])}))}return e}var B={isLoading:!1,lastGenerationStatus:void 0,generate:function(){return Promise.resolve(void 0)},createAiDiagram:function(){},initializeStreamService:function(){return null},destroyStreamService:function(){return null}},U=(0,s.kr)(B);function V(e){switch(e){case l.O.OutlineQuestions:return{step:"initial-questions",action:"generate-outline"};case l.O.Outline:return{step:"follow-up-questions",action:"generate-outline"};case l.O.Subheaders:case l.O.Bullets:case l.O.Diagrams:return{action:e};default:return{action:"generate-outline"}}}var z=function(){var e=(0,s.qp)(U);if(!e)throw new Error("useAiOutline must be used within AiOutlineContextProvider");return e},q=function(e){var t=e.children,n=(0,c.II)(),r=(0,u.LP)(),s=(0,a.useRef)(null),p=(0,a.useState)(!1),v=p[0],m=p[1],g=(0,a.useState)(void 0),y=g[0],b=g[1],w=(0,a.useState)(void 0),_=w[0],E=w[1];(0,a.useEffect)((function(){if(y&&s.current){var e=y.id,t=y.createdBy,n=d.Fs.ref("aiStream/".concat(t,"/").concat(e)),r=function(e){var t=e.val();(null===t||void 0===t?void 0:t.data)&&s.current.emit("receive",t)};return n.on("child_added",r),function(){n.off("child_added",r)}}}),[y]);var S=(0,a.useCallback)((function(e,t,n,r){s.current||(s.current=new N(e,t,n,r))}),[]),x=(0,a.useCallback)((function(){var e;null===(e=s.current)||void 0===e||e.cleanup(),s.current=null}),[]),O=(0,a.useCallback)(function(){var e,t=(e=i().mark((function e(t,o,a){var u,c,d,p,g,y;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&o&&n){e.next=3;break}return console.error("WorkspaceId, userId or teamId is not provided"),e.abrupt("return");case 3:if(!v){e.next=5;break}return e.abrupt("return");case 5:return m(!0),u=V(t.type),c=u.step,d=u.action,c?j.Z.trackEvent("ai_assistant","step_submitted",{action:d,step:c}):j.Z.trackEvent("ai_action","initiate",{source:null!==a&&void 0!==a?a:"",action:d}),p=F({},t,{teamId:r,workspaceId:o,createdBy:n,createdAt:Date.now()}),e.next=11,h.Z.aiOutlineRequests.add(p);case 11:if(g=e.sent,b(F({id:g.id},p)),t.type!==l.O.OutlineQuestions){e.next=24;break}return e.next=16,f.Z.post("ai/prompt",{requestId:g.id}).catch((function(e){return{done:!1,error:e.message,result:[]}}));case 16:if(y=e.sent,m(!1),y.error&&c&&j.Z.trackEvent("ai_assistant","error",{action:d,step:"initial-questions",error:y.error}),!y.done){e.next=21;break}return e.abrupt("return",y.result||[]);case 21:return e.abrupt("return",[]);case 24:return e.prev=24,e.next=27,f.Z.post("ai/prompt",{requestId:g.id});case 27:t.type===l.O.Outline&&j.Z.trackEvent("ai_assistant","complete",{action:"generate-outline"}),E("success"),e.next=35;break;case 31:e.prev=31,e.t0=e.catch(24),t.type===l.O.Outline&&j.Z.trackEvent("ai_assistant","error",{action:"generate-outline",step:"follow-up-questions"}),E("fail");case 35:return e.prev=35,s.current.emit("finish"),b(void 0),m(!1),e.finish(35);case 40:case"end":return e.stop()}}),e,null,[[24,31,35,40]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){M(o,r,i,a,s,"next",e)}function s(e){M(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e,n,r){return t.apply(this,arguments)}}(),[r,n,v]),C=(0,a.useCallback)((function(e){var t;null===(t=s.current)||void 0===t||t.createAiDiagram(e)}),[]);return(0,o.jsx)(U.Provider,{value:{generate:O,createAiDiagram:C,lastGenerationStatus:_,isLoading:v,initializeStreamService:S,destroyStreamService:x},children:t})}},91781:function(e,t,n){"use strict";n.d(t,{H:function(){return h},Z:function(){return p}});var r,i=n(52322),o=n(2784),a=n(83445),s=n(72342),u=n(43724).Z,c=n(71202),l=n(74495),f=n.n(l);!function(e){e.SIGN_IN="SIGN_IN",e.SIGN_UP="SIGN_UP"}(r||(r={}));var d=(0,o.createContext)(void 0),h=function(e){var t=e.children,n=(0,a.Z)(),l=n.isOpen,h=n.onOpen,p=n.onClose,v=(0,o.useState)(r.SIGN_UP),m=v[0],g=v[1],y=(0,o.useState)(),b=y[0],w=y[1],_=(0,o.useCallback)((function(e){g(r.SIGN_UP),"undefined"!==typeof e&&w(e),h()}),[h]),E=(0,o.useCallback)((function(e){g(r.SIGN_IN),"undefined"!==typeof e&&w(e),h()}),[h]),S=(0,o.useCallback)((function(){w(void 0),p()}),[p]),x=(0,o.useMemo)((function(){return{openSignUpModal:_,openSignInModal:E,closeAuthModal:S,isAuthModalOpen:l}}),[_,E,S,l]),O=(0,o.useCallback)((function(){(null===b||void 0===b?void 0:b.isClosable)&&p()}),[b,p]),C=m===r.SIGN_IN?u:c.Z;return(0,i.jsxs)(d.Provider,{value:x,children:[t,(0,i.jsx)(s.Z,{className:f().authModal,isOpen:l,onClose:O,hideCloseButton:!0,children:(0,i.jsx)(C,{profileArgs:null===b||void 0===b?void 0:b.profileArgs,customSubTitle:null===b||void 0===b?void 0:b.customSubTitle,onSignIn:null===b||void 0===b?void 0:b.onSignIn,asModal:!0})})]})},p=d},46060:function(e,t,n){"use strict";n.d(t,{Ii:function(){return w},jH:function(){return b}});var r=n(94776),i=n.n(r),o=n(52322),a=n(2784),s=n(20810),u=n(34394),c=n(77984),l=n(12335),f=n(14898),d=n(32331),h=n(90396);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var g={coachmarks:{},markCoachmark:function(){}},y=(0,a.createContext)(g),b=function(e){var t=e.children,n=(0,f.II)(),r=(0,s.m)((function(e){return e.pipe((0,c.U)((function(e){return m(e,1)[0]})),(0,h.BX)())}),[n]),a=(0,s.m)((function(){return r.pipe((0,l.w)((function(e){return d.m.observerUserCoachmarks(e)})))})),p=(0,u.p)(a,{}),g=function(){var e,t=(e=i().mark((function e(t){var r,o=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=!(o.length>1&&void 0!==o[1])||o[1],n){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,d.m.markCoachmark(n,t,r);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){v(o,r,i,a,s,"next",e)}function s(e){v(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();return(0,o.jsx)(y.Provider,{value:{coachmarks:p,markCoachmark:g},children:t})},w=function(){return(0,a.useContext)(y)}},57899:function(e,t,n){"use strict";n.d(t,{o:function(){return y},Z:function(){return b}});var r=n(52322),i=n(34394),o=n(21746),a=n(56130),s=n(77984),u=n(7867),c=n(3213),l=n(90396),f="webapp",d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;return(0,u._1)(c.Z.config(e)).pipe((0,l.pA)({}),(0,l.Fb)({}))},h=n(77407),p=n(91614),v=new a.X(void 0);p.jU?d().pipe((0,s.U)((function(e){return new h.v(e)}))).subscribe(v):v.next(new h.v({}));var m=v,g=(0,o.kr)(void 0),y=function(e){var t=e.children,n=(0,i.p)(m);return(0,r.jsx)(g.Provider,{value:n,children:t})},b=g},96299:function(e,t,n){"use strict";n.d(t,{JR:function(){return w},Yp:function(){return _},yR:function(){return E}});var r=n(52322),i=n(2784),o=n(5632),a=n(20810),s=n(39739),u=n(77984),c=n(11348),l=n(12335),f=n(21746),d=n(68732),h=n(50046),p=n(66924),v=n(90396),m=n(21043);function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var b=(0,f.kr)({folderTree:{},foldersMap:{},isLoaded:!1,folders:void 0,topLevelFolders:[],renamingFolder:null,openFolder:function(){},closeFolder:function(){},switchFolder:function(){},toggleFolder:function(){},openFolders:new Set,getFolderPath:function(){return[]},getAllFolderPaths:function(){return[]},getFolderChildren:function(){return[]},setRenamingFolder:function(){},getFolderNameById:function(){return""}}),w=32,_="Untitled Folder",E=function(e){var t=e.children,n=(0,o.useRouter)(),f=(0,d.LP)(),g=(0,i.useState)(new Set),w=g[0],E=g[1],S=(0,i.useState)(void 0),x=S[0],O=S[1],C=(0,i.useState)(null),k=C[0],T=C[1],A=(0,i.useMemo)((function(){return x?(0,m.Hz)(x):{}}),[x]),I=(0,i.useMemo)((function(){return(0,m.JN)(A)}),[A]),D=(0,i.useMemo)((function(){return Object.values(A).sort((function(e,t){return e.order-t.order}))}),[A]),P=(0,i.useCallback)((function(e){var t;return e&&(null===(t=I.find((function(t){return t.id===e})))||void 0===t?void 0:t.children)||[]}),[I]),R=(0,i.useCallback)((function(e){return e?(0,m.p6)(e,A):[]}),[A]),N=(0,i.useCallback)((function(){return(0,m.am)(A)}),[A]),j=(0,i.useMemo)((function(){return(null===x||void 0===x?void 0:x.reduce((function(e,t){return e[t.id]=t,e}),{}))||{}}),[x]),M=(0,i.useCallback)((function(e,t){"folder"===e&&t?n.push("/folder/".concat(t)):n.push("/dashboard/".concat(e))}),[n]),L=(0,i.useCallback)((function(e){E((function(t){var n=new Set(t);return n.add(e),n}))}),[]),F=(0,i.useCallback)((function(e){E((function(t){var n=new Set(t);return n.delete(e),n}))}),[]),B=(0,i.useCallback)((function(e){E((function(t){var n=new Set(t);return t.has(e)?n.delete(e):n.add(e),n}))}),[]),U=(0,i.useCallback)((function(e){return j[e]?j[e].name||_:""}),[j]),V=(0,a.m)((function(e){return e.pipe((0,u.U)((function(e){return y(e,1)[0]})),(0,v.BX)(),(0,c.b)((function(){return O(void 0)})),(0,l.w)((function(e){return(0,h.Z)(e)})))}),[f]);return(0,s.m)(V,O,p.Tb),(0,r.jsx)(b.Provider,{value:{folders:x,folderTree:A,foldersMap:j,openFolder:L,closeFolder:F,openFolders:w,toggleFolder:B,switchFolder:M,getFolderPath:R,renamingFolder:k,topLevelFolders:D,getAllFolderPaths:N,getFolderNameById:U,setRenamingFolder:T,getFolderChildren:P,isLoaded:!!x},children:t})};t.ZP=b},2253:function(e,t,n){"use strict";n.d(t,{i:function(){return o}});var r=n(2784),i=n(47520),o=(0,r.createContext)(i.Z);t.Z=o.Provider},46134:function(e,t,n){"use strict";n.d(t,{qz:function(){return l}});var r=n(52322),i=n(98906),o=n(2784);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var u={setModalStates:function(){},modalStates:{isCommandKModalOpen:!1,isFileSearchModalOpen:!1}},c=(0,o.createContext)(u),l=function(){return(0,o.useContext)(c)};t.ZP=function(e){var t=e.children,n=s((0,i.R)(u.modalStates),2),o=n[0],a=n[1];return(0,r.jsx)(c.Provider,{value:{modalStates:o,setModalStates:a},children:t})}},22557:function(e,t,n){"use strict";n.d(t,{Un:function(){return w},WR:function(){return b}});var r=n(52322),i=n(2784),o=n(29098),a=n(48293);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return null!=t&&"undefined"!==typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){u(e,t,n[t])}))}return e}function d(e,t){return!t||"object"!==p(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var p=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}var m={showError:function(){console.warn("Not implemented")},hide:function(){console.warn("Not implemented")}},g=f({},m),y=(0,i.createContext)(f({},m)),b=function(){return(0,i.useContext)(y)},w=function(e){var t=e.children,n=(0,i.useState)(void 0),a=n[0],s=n[1];(0,i.useEffect)((function(){return g.showError=s,g.hide=function(){return s(void 0)},function(){g=f({},m)}}),[]);var u=g.hide;return(0,r.jsx)(y.Provider,{value:g,children:(0,r.jsx)(_,{setCaughtError:function(e){return s({errorObject:e})},children:(0,r.jsxs)(r.Fragment,{children:[t,a&&(0,r.jsx)(o.p,{error:a,onClose:u})]})})})},_=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}(n,e);var t=v(n);function n(){var e;return s(this,n),(e=t.apply(this,arguments)).state={reactTreeError:void 0},e}var r=n.prototype;return r.componentDidCatch=function(e,t){l(e,a.W)&&this.props.setCaughtError(e)},r.componentDidUpdate=function(e,t){t.reactTreeError!==this.state.reactTreeError&&this.state.reactTreeError&&this.props.setCaughtError(this.state.reactTreeError)},r.render=function(){return this.props.children},n.getDerivedStateFromError=function(e){if(l(e,a.W))return{reactTreeError:e}},n}(i.Component)},32140:function(e,t,n){"use strict";n.d(t,{Yl:function(){return d},eX:function(){return u}});var r=n(52322),i=n(2784),o=n(45455),a=n.n(o),s=n(5632),u="dashboard-coachmark",c=["element","layout","elements","action","origin","name","embed","templateId","elementData","autoDiagramId",u,"theme","ref","state","settings","showPromoCodeOption","aiOutline"],l=["theme"];var f=(0,i.createContext)({}),d=function(e){var t=e.children,n=function(){var e=(0,s.useRouter)();return(0,i.useMemo)((function(){if(!e.isReady)return{};var t={};return c.forEach((function(n){var r=e.query[n];Array.isArray(r)&&(r=r[0]),r&&(t[n]=r)})),t}),[e.isReady,e.query])}(),o=(0,i.useMemo)((function(){return n}),[n]);return(0,i.useEffect)((function(){a()(n)||function(e){var t=new URL(location.origin+location.pathname),n=!0,r=!1,i=void 0;try{for(var o,a=l[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;e[s]&&t.searchParams.set(s,e[s])}}catch(u){r=!0,i=u}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}window.history.replaceState(null,"",t.toString())}(n)}),[n]),(0,r.jsx)(f.Provider,{value:o,children:t})};t.ZP=f},27292:function(e,t,n){"use strict";n.d(t,{N:function(){return P},Z:function(){return R}});var r=n(94776),i=n.n(r),o=n(52322),a=n(5632),s=n(20810),u=n(39739),c=n(2784),l=n(47864),f=n(35120),d=n(12335),h=n(16981),p=n(77984),v=n(21746);var m=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,c.useState)(e),n=t[0],r=t[1],i=(0,c.useCallback)((function(){r(!0)}),[]),o=(0,c.useCallback)((function(){r(!1)}),[]),a=(0,c.useCallback)((function(){r((function(e){return!e}))}),[]);return[n,{on:i,off:o,toggle:a}]},g=n(68732),y=n(14898),b=n(52251),w=n(55632),_=n(46995),E=n(92678),S=n(66924);function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){C(e,t,n[t])}))}return e}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var A=(0,v.kr)(void 0),I={restrictSearchableAttributes:["title","noteText","whiteboardTexts","ownerName"]},D=function(){var e=(0,E.ZP)(),t=(0,c.useState)(),r=t[0],o=t[1];return(0,c.useEffect)((function(){var t;(t=i().mark((function t(){var r,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=6;break}return t.next=3,Promise.resolve().then(n.t.bind(n,43931,23));case 3:r=t.sent.default,a=r(w.O9.appId,e).initIndex(w.O9.workspacesIndex),o(a);case 6:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(e){O(o,r,i,a,s,"next",e)}function s(e){O(o,r,i,a,s,"throw",e)}a(void 0)}))})()}),[e]),r},P=function(e){var t=e.children,n=(0,g.LP)(),r=D(),i=T(m(!1),2),v=i[0],w=i[1],E=w.on,x=w.off,O=(0,c.useState)({}),P=O[0],R=O[1],N=(0,a.useRouter)(),j=(0,y.II)(),M=(0,c.useState)(!1),L=M[0],F=M[1],B=(0,c.useState)([]),U=B[0],V=B[1],z=(0,c.useState)(""),q=z[0],Z=z[1],H=(0,c.useCallback)((function(){q.length&&N.query[_.KU]!==q&&N.replace({query:k({},N.query,C({},_.KU,q))},void 0,{shallow:!0})}),[q,N]),W=(0,c.useMemo)((function(){if(!n)return"";var e="teamId:".concat(n);return e+=" AND isWorkspaceArchived:".concat((null===P||void 0===P?void 0:P.isArchived)?"true":"false"),void 0!==P.folderId&&(P.folderId?e+=" AND folderId:".concat(P.folderId):e+=" AND folderId:UNSORTED"),P.isOwner&&j&&(e+=" AND ownerId:".concat(j)),P.isPrivate&&j&&(e+=" AND isPrivate:true"),e}),[n,P.folderId,null===P||void 0===P?void 0:P.isArchived,P.isOwner,P.isPrivate,j]),G=(0,s.m)((function(e){return e.pipe((0,d.w)((function(e){var t=T(e,3),n=t[0],r=t[1],i=t[2];return n&&""!==r?(b.Z.trackEvent("search","search",{query:r}),(0,l.H)(300).pipe((0,h.O)((function(){return{isLoading:!0,hits:[]}})),(0,d.w)((function(){return n.search(r,k({filters:i},I))})),(0,p.U)((function(e){return{isLoading:!1,hits:e.hits}})))):(0,f.of)({isLoading:!0,hits:[]})})))}),[r,q,W]);(0,u.m)(G,(0,c.useCallback)((function(e){var t=e.isLoading,n=e.hits;F(t),V(n)}),[]),S.Tb);var K=(0,c.useCallback)((function(){Z(""),x(),R({})}),[x]),J=(0,c.useMemo)((function(){return{hits:U,query:q,isLoading:L,onSearchBarOpen:E,onSearchBarClose:K,isSearchBarOpen:v,onInputChange:Z,setPassedFilters:R,saveRouteToHistory:H}}),[U,q,L,E,K,v,H]);return(0,o.jsx)(A.Provider,{value:J,children:t})},R=A},89383:function(e,t,n){"use strict";n.d(t,{fr:function(){return K},cf:function(){return $},ZP:function(){return Y},AR:function(){return J}});var r=n(94776),i=n.n(r),o=n(52322),a=n(2784),s=n(18149),u=n.n(s),c=n(5632),l=n(20810),f=n(39739),d=n(19184),h=n(1118),p=n(67394);function v(e,t,n,r,i){return function(o,a){var s=n,u=t,c=0;o.subscribe((0,p.x)(a,(function(t){var n=c++;u=s?e(u,t,n):(s=!0,t),r&&a.next(u)}),i&&function(){s&&a.next(u),a.complete()}))}}var m=n(77984),g=n(99054),y=n(39369),b=n(12335),w=n(62355),_=n(21746),E=n(14898),S=n(64208),x=n(63502),O=n(7867),C=n(3213),k=n(90396),T=function(e){return(0,O.BS)(C.Z.userTeams(e),"id").pipe((0,k.pA)([]),(0,k.VK)(),(0,k.Fb)([]))},A=n(17366),I=n(74665),D=n(7878),P=n(66924),R=n(48156);function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function j(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function F(e,t,n){return(F=L()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&V(i,n.prototype),i}).apply(null,arguments)}function B(e){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e,t){return!t||"object"!==q(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var q=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Z(e){var t="function"===typeof Map?new Map:void 0;return Z=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return F(e,arguments,B(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),V(r,e)},Z(e)}function H(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=B(e);if(t){var i=B(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return U(this,n)}}var W="team-id",G=(0,_.kr)(void 0),K=function(e){var t=e.children,n=(0,E.II)(),r=(0,c.useRouter)(),s=(0,E.g5)(),p=(0,a.useState)((0,R.rj)()),_=p[0],O=p[1],C=(0,a.useState)(),k=C[0],N=C[1],M=(0,a.useState)(),L=M[0],F=M[1],B=(0,a.useState)((function(){return D.J.getItem(W)||void 0})),U=B[0],V=B[1],q=(0,a.useState)(new Map),Z=q[0],H=q[1];(0,a.useEffect)((function(){var e,t=function(e){var t=(0,R.rj)(e);t&&O(t)};return null===(e=r.events)||void 0===e||e.on("routeChangeStart",t),function(){var e;null===(e=r.events)||void 0===e||e.off("routeChangeStart",t)}}),[r.events]);var K=(0,a.useCallback)((function(e){u()(L,e)||F(e)}),[L]),Y=(0,a.useCallback)((function(e,t){D.J.setItem(W,e),V(e),(null===t||void 0===t?void 0:t.shouldResetFolder)&&r.replace("/all")}),[r]),X=(0,l.m)((function(e){return e.pipe((0,m.U)((function(e){var t=z(e,2),n=t[0];return t[1]?null:n})),(0,g.h)((function(e){return null!=e})),(0,y.x)(),(0,b.w)((function(e){return(0,S.Z)(e)})))}),[U,s]),Q=(0,l.m)((function(e){return e.pipe((0,m.U)((function(e){var t=z(e,2),n=t[0];return t[1]?null:n})),(0,g.h)((function(e){return null!=e})),(0,y.x)(),(0,b.w)((function(e){return T(e)})))}),[n,s]),ee=(0,l.m)((function(){return Q.pipe((0,w.z)((function(e){return(0,d.D)(e)})),(0,w.z)((function(e){return(0,S.Z)(e.id)})),function(e,t){return(0,h.e)(v(e,t,arguments.length>=2,!0))}((function(e,t){var n=new Map(e);return t&&n.set(t.id,t),n}),new Map))}));(0,f.m)(X,K,P.Tb),(0,f.m)(Q,N,P.Tb),(0,f.m)(ee,H,P.Tb);var te=(0,a.useCallback)((function(){J(),V(void 0),F(void 0)}),[]);(0,A.Z)((function(){var e=null!=k,t=!(null===k||void 0===k?void 0:k.length),n=U&&e&&void 0===k.find((function(e){return e.id===U}));if(U&&e&&n)te();else if(!U&&!t){var r=k.some((function(e){if(e.role===I.i.Admin)return Y(e.id),!0}));r||Y(k[0].id)}}),[k,U,te,Y]);var ne,re=(0,a.useMemo)((function(){return new Set(null===k||void 0===k?void 0:k.map((function(e){return e.id})))}),[k]),ie=(0,a.useMemo)((function(){return new Set(Array.from(null!==(ne=null===Z||void 0===Z?void 0:Z.values())&&void 0!==ne?ne:[]).map((function(e){return null===e||void 0===e?void 0:e.name})).filter((function(e){return Boolean(e)})))}),[Z]),oe=(0,a.useCallback)(function(){var e,t=(e=i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.name){e.next=8;break}if(r=n.name,!L||r!==L.name){e.next=6;break}e.next=8;break;case 6:if(!ie.has(r)){e.next=8;break}throw new $("That team name is already in use.");case 8:return e.next=10,(0,x.Z)(t,n);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){j(o,r,i,a,s,"next",e)}function s(e){j(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e,n){return t.apply(this,arguments)}}(),[ie,L]);return(0,o.jsx)(G.Provider,{value:{userTeams:k,resetTeam:te,updateTeam:oe,switchTeam:Y,userTeamIds:re,currentTeam:L,currentTeamId:U,lastVisitedWorkspaceId:_,userTeamNames:Z},children:t})};function J(){D.J.removeItem(W)}var Y=G,$=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(n,e);var t=H(n);function n(){return M(this,n),t.apply(this,arguments)}return n}(Z(Error))},4719:function(e,t,n){"use strict";n.d(t,{Hq:function(){return g},ZP:function(){return y}});var r=n(52322),i=n(2784),o=n(27193),a=n(97032),s=n.n(a),u=function(e){var t=e.message;return t?(0,r.jsx)("div",{className:s().container,"data-testid":"toast",children:(0,r.jsx)("span",{children:t})}):null};function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){c(e,t,n[t])}))}return e}var f=function(e){return null===e?null:function(t){if("function"===typeof e){var n=e(t);return(0,r.jsx)(u,l({},t,{message:n}))}return(0,r.jsx)(u,l({},t,{message:e}))}},d=function(e){return function(t,n){var r;if("custom"===e)r=o.ZP[e](t,l({},n));else if("blank"===e)r=(0,o.ZP)(f(t),l({},n));else{var i=f(t);r=i?o.ZP[e](i,l({},n)):""}return r}},h=function(e,t){return"function"===typeof e?e(t):e},p=function(e,t){return d("blank")(e,t)};p.error=d("error"),p.custom=d("custom"),p.success=d("success"),p.loading=d("loading"),p.remove=o.ZP.remove,p.dismiss=o.ZP.dismiss,p.promise=function(e,t,n){var r=p.loading(t.loading,l({},n,null===n||void 0===n?void 0:n.loading));return e.then((function(e){return p.success(h(t.success,e),l({id:r},n,null===n||void 0===n?void 0:n.success)),e})).catch((function(e){p.error(h(t.error,e),l({id:r},n,null===n||void 0===n?void 0:n.error))})),e};var v={className:s().blank,error:{className:s().error},loading:{className:s().loading},success:{className:s().success}},m=(0,i.createContext)(p),g=function(e){var t=e.children;return(0,r.jsxs)(m.Provider,{value:p,children:[t,(0,r.jsx)(o.x7,{"data-testid":"toaster",position:"bottom-left",reverseOrder:!1,toastOptions:v})]})},y=m},50405:function(e,t,n){"use strict";n.d(t,{u_:function(){return d},vq:function(){return h}});var r=n(52322),i=n(2784),o=n(21805),a=n(21746),s=n(17366),u=n(57066),c=n(66924),l=n(15878),f="userSessionToken",d=(0,a.kr)(void 0),h=function(e){var t=e.children,n=(0,i.useState)(),a=n[0],h=n[1];return(0,s.Z)((function(){return u.I8.onAuthStateChanged((function(e){e&&e.getIdToken().then((function(e){h(e),l.J.setItem(f,e,{secure:!0})})).catch(c.Tb)}))})),(0,s.Z)((function(){return u.I8.onIdTokenChanged((function(e){e&&e.getIdToken().then((function(e){h(e),o.Z.set(f,e,{secure:!0})})).catch(c.Tb)}))})),(0,r.jsx)(d.Provider,{value:a,children:t})}},29755:function(e,t,n){"use strict";n.d(t,{_$:function(){return z},St:function(){return q},fS:function(){return Z}});var r=n(52322),i=n(2784),o=n(20810),a=n(39739),s=n(35120),u=n(77984),c=n(12335),l=n(21746),f=n(54599),d=n(19605),h=n(52251),p=n(13358),v=n(62349),m=n.n(v),g=n(96603);var y=function(e){var t,n=function(e){return[g.Q6[e],g.iQ[e],g.pl[e],g.ht[e],g.QN[e],g.iN[e],g.sl[e],g.$C[e],g.ek[e],g.LR[e],g.er[e],g.$y[e]]}(8);return n[(e?null===(t=e)||void 0===t?void 0:t.split("").reduce((function(e,t){return e+t.charCodeAt(0)}),0):m()())%n.length]},b=n(23779),w=n.n(b),_=["Charming","Creative","Determined","Energetic","Friendly","Imaginative","Dynamic","Brave","Thoughtful","Passionate","Optimistic","Humorous","Marvelous","Knowledgeable","Expert","Amazing","Awesome","Fabulous","Fantastic","Gorgeous","Incredible","Outstanding","Remarkable","Spectacular","Splendid","Stellar","Super","Upbeat","Stunning","Wondrous","Dazzling","Vibrant","Brilliant","Elegant","Enchanting","Magnificent","Insightful","Adventurous","Charismatic","Inquisitive"],E=["Aardvark","Albatross","Alpaca","Armadillo","Alligator","Antelope","Baboon","Bobcat","Buffalo","Butterfly","Bear","Beaver","Camel","Caterpillar","Cheetah","Dolphin","Elephant","Fox","Falcon","Flamingo","Giraffe","Goose","Eagle","Hippo","Iguana","Jaguar","Kangaroo","Koala","Lion","Llama","Moose","Nighingale","Narwhal","Otter","Ostrich","Peacock","Penguin","Porcupine","Platypus","Puma","Panther","Rabbit","Raccoon","Reindeer","Rhino","Turtle","Squirrel","Swan","Tiger","Walrus","Whale","Wolverine","Wolf","Wombat","Woodpecker","Zebra"];var S=function(){var e=_[m()(_.length-1)],t=E[m()(E.length-1)];return"".concat(w()(e)," ").concat(w()(t))},x=n(32331),O=n(37637),C=n(1380),k=n(7867),T=n(94608),A=n(3213),I=n(90396),D=function(e){return(0,k._1)(A.Z.user(e).withConverter(T.yN)).pipe((0,I.pA)(null),(0,I.VK)(),(0,I.Fb)(null))},P=n(43616),R=n(49892),N=n(17366),j=n(57066),M=n(66924),L=n(91614);function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){B(e,t,n[t])}))}return e}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var z=(0,l.kr)(void 0),q=(0,l.kr)(void 0);var Z=function(e){var t=e.children,n=(0,i.useState)(),l=n[0],v=n[1],m=(0,i.useState)(),g=m[0],b=m[1],w=(0,d.K)();(0,i.useEffect)((function(){var e=function(e){l&&v(U({},l,e))};return f.h0.on("userEmailChanged",e),f.h0.on("userProfileChanged",e),function(){f.h0.off("userEmailChanged",e),f.h0.off("userProfileChanged",e)}}),[l]),(0,N.Z)((function(){return j.I8.onAuthStateChanged((function(e){if(e){var t,n,r,i=e.email,o=e.uid,a=e.metadata,s=e.isAnonymous,u=e.displayName,c=!!e.emailVerified||"microsoft"===(null===(t=e.providerData)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.providerId),l=s?{}:(0,C.AJ)(),f=(null===w||void 0===w?void 0:w.name)?(0,P.Vy)(w.name):null;s?((0,O.do)(o),r=f||u||S()):(p.b.add({name:R.iL,value:"true"}),r=u||f||(null===l||void 0===l?void 0:l.displayName)||S());var d=y(e.uid),h=e.photoURL||void 0;v({id:o,color:d,photoURL:h,isAnonymous:s,displayName:r,email:i||void 0,emailVerified:c,createdAt:a.creationTime?new Date(a.creationTime):void 0});var m=(0,O.ES)(),g=p.b.getByName(R.IF)||m,b=U({},null!==l&&void 0!==l?l:{},{displayName:r,color:d,photoURL:h});g&&(p.b.add({name:R.IF,value:g}),b.analyticsId=g),(!e.displayName||e.displayName!==r)&&e.updateProfile({displayName:r}).catch(M.Tb),x.H.createOrUpdateUserProfile(o,b).then((function(){s||((0,C.Q0)(),(0,O.QZ)())})).catch(M.Tb)}else v(null),j.I8.signInAnonymously().then((function(){return(0,O.GF)()})).catch(M.Tb)}))}),[null===w||void 0===w?void 0:w.name]),(0,i.useEffect)((function(){L.IU&&j.I8.getRedirectResult().then((function(e){var t=e.user,n=e.additionalUserInfo;null!=t&&(null===n||void 0===n?void 0:n.isNewUser)&&h.Z.trackEvent("account","create",{userId:t.uid,email:t.email,oldUserId:(0,O.ES)(),authMethod:"google.com"===n.providerId?"google":"microsoft"})})).catch(M.Tb)}),[]);var _=(0,o.m)((function(e){return e.pipe((0,u.U)((function(e){return V(e,1)[0]})),(0,c.w)((function(e){return!e||e.isAnonymous?(0,s.of)(e):D(e.id).pipe((0,u.U)((function(t){return U({},e,t)})))})))}),[l]);return(0,a.m)(_,b,M.Tb),(0,r.jsx)(z.Provider,{value:l,children:(0,r.jsx)(q.Provider,{value:g,children:t})})}},91382:function(e,t,n){"use strict";n.d(t,{X:function(){return xe},Z:function(){return Oe}});var r=n(52322),i=n(2784),o=n(20810),a=n(34394),s=n(39739),u=n(11929),c=n(35120),l=n(43806),f=n(12335),d=n(77984),h=n(99054),p=n(21746),v=n(17003),m=n(94764),g=n(9605),y=n(95585),b=n(83969),w=n(24192),_=n(94776),E=n.n(_),S=n(30686),x=n(14216),O=n(98609),C=n(89271),k=n(57066),T=n(95879),A="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function I(e){if(0===e)return"A0";for(var t="";e>0;){var n=e%A.length;t=A[n]+t,e-=n,e/=A.length}return A[t.length+9]+t}function D(e){if(0===e.length||e[0]!==A[e.length+8])throw new Error("Invalid revision id!");for(var t=0,n=1;n<e.length;n++)t*=A.length,t+=A.indexOf(e[n]);return t}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function N(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function j(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){N(o,r,i,a,s,"next",e)}function s(e){N(o,r,i,a,s,"throw",e)}a(void 0)}))}}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){M(e,t,n[t])}))}return e}function B(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function U(e,t){return!t||"object"!==Z(t)&&"function"!==typeof t?R(e):t}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||H(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e){return function(e){if(Array.isArray(e))return P(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||H(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Z=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function H(e,t){if(e){if("string"===typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}function W(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=L(e);if(t){var i=L(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return U(this,n)}}var G=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(n,e);var t=W(n);function n(e,r,i){var o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(o=t.call(this)).workspaceId=e,o.userId=r,o.clientId=i,o.opsQueue=[],o._handleConnection=function(e){if(e){var t=function(e,t){var n=K(e).orderByKey();(null===t||void 0===t?void 0:t.lastOpId)&&(n=n.startAfter(t.lastOpId));return n}(o.workspaceId,{lastOpId:o.lastKnownId});t.on("child_added",o._receiveData),o.once("connection-change",(function(){t.off("child_added",o._receiveData)}))}},o.onConnectionChange=function(e){var t=e.val();o.isConnected=t,o.emit("connection-change",t)};var a=R(o);return o._listenForErrors=j(E().mark((function e(){var t,n,r;return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(a.workspaceId).get();case 2:(t=e.sent).exists()&&(r=null===(n=t.val())||void 0===n?void 0:n.opId)&&(a.lastKnownErrorId=r),Y(a.workspaceId).on("value",a.onServerError);case 5:case"end":return e.stop()}}),e)}))),o.onServerError=function(e){var t=e.val();if(t){var n=t.message,r=B(t,["message"]);if(!(o.lastKnownErrorId&&D(r.opId)<=D(o.lastKnownErrorId))){o.lastKnownErrorId=r.opId;var i=(0,C.E)(new Error(n),"ApplyOpServer",r);o.emit("bad-data",i)}}},o.makeOpsEntry=function(e){return{ops:e,clientId:o.clientId,userId:o.userId,time:(new Date).toISOString()}},o._receiveData=function(e){var t=x.oO.fromDatabase(e);o._handleData(t)},o._handleData=function(e){if(e.id>o.lastKnownId&&(o.lastKnownId=e.id,e.clientId!==o.clientId)){var t=o.clientId<e.clientId?"right":"left",n=z((0,O.YV)(o.opsQueue,e.ops,t),2),r=n[0],i=n[1];o.opsQueue=r,o.emit("ops-added",F({},e,{ops:i}))}},o.lastKnownId=I(0),o.lastKnownErrorId=void 0,o.isConnected=!1,o}var r=n.prototype;return r.connectToServer=function(){this.on("connection-change",this._handleConnection),J().on("value",this.onConnectionChange)},r.destroy=function(){J().off("value",this.onConnectionChange),Y(this.workspaceId).off("value",this.onServerError),this.off("connection-change",this._handleConnection)},r.hasPendingOps=function(){return 0!==this.opsQueue.length},r.sendOps=function(e){var t=this;return j(E().mark((function n(){var r,i,o,a,s,u;return E().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=0===t.opsQueue.length,(r=t.opsQueue).push.apply(r,q(e)),!1!==i){n.next=5;break}return n.abrupt("return");case 5:o=t.lastKnownId?D(t.lastKnownId):0,a=I(o+1);case 7:if(!t.opsQueue.length){n.next=14;break}return s=K(t.workspaceId).child(a),u=0,n.next=12,new Promise((function(e,n){s.transaction((function(e){if(null==e){var n=t.makeOpsEntry(t.opsQueue);return u=t.opsQueue.length,x.oO.toDatabase(F({},n,{id:a}))}var r=(0,x.A1)(e.ops);t._handleData(F({},e,{id:a,ops:r}))}),(function(r,i){i?(t.opsQueue.splice(0,u),u=0,t.lastKnownId=a):r?r&&"permission_denied"===r.message&&n(r):(o=t.lastKnownId?D(t.lastKnownId):0,a=I(o+1)),e()}),!1)}));case 12:n.next=7;break;case 14:case"end":return n.stop()}}),n)})))()},r.fetchValue=function(){var e=this;return j(E().mark((function t(){var n;return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T.Z.get("workspace/".concat(e.workspaceId,"/notes"));case 2:return n=t.sent,e._listenForErrors(),n.lastOpId&&(e.lastKnownId=n.lastOpId),t.abrupt("return",n);case 6:case"end":return t.stop()}}),t)})))()},n}(S.v);function K(e){return k.Fs.ref("workspaces/".concat(e,"/slate/operations"))}function J(){return k.Fs.ref(".info/connected")}function Y(e){return k.Fs.ref("workspaces/".concat(e,"/slate/error"))}function $(e){var t=e.workspaceId,n=e.userId,r=(0,g.Z)(),o=(0,y.Z)(),a=(0,i.useState)(0),s=a[0],u=a[1],c=(0,i.useCallback)((function(){return u((function(e){return e+1}))}),[]),l=(0,w.O)().onError,f=(0,i.useMemo)((function(){if(n&&t){var e=(0,m.x0)(),i=function(e,t,n){return new G(e,t,n)}(t,n,e);return new b.W({userId:n,clientId:e,adapter:i,onError:l,onConnectionChange:function(e){e&&r.success("Connection to server re-established.",{id:"connection"}),o()}})}}),[t,n,o,s]),d=null===f||void 0===f?void 0:f.isReady;return(0,i.useEffect)((function(){if(d)return d?function(){null===f||void 0===f||f.destroy()}:void 0;null===f||void 0===f||f.getInitialData().then(o)}),[f,d,o]),{collab:d?f:void 0,restartCollab:c}}var X=n(68732),Q=n(14898),ee=n(48215),te=n(94608),ne=n(3213);function re(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function ie(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){re(o,r,i,a,s,"next",e)}function s(e){re(o,r,i,a,s,"throw",e)}a(void 0)}))}}function oe(e,t){return ae.apply(this,arguments)}function ae(){return(ae=ie(E().mark((function e(t,n){return E().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&n){e.next=2;break}return e.abrupt("return",void 0);case 2:return e.abrupt("return",(0,ee.Z)("workspace-getTeamInfo",{teamId:t,workspaceId:n}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var se=n(7867),ue=n(90396),ce=function(e,t){return(0,se._1)(ne.Z.teamMember(e,t).withConverter(te.q0)).pipe((0,ue.pA)(null),(0,ue.Fb)(null))},le=function(e){return(0,ee.Z)("visitedWorkspace-markWorkspaceAsVisited",e)},fe=n(44323),de=n(71975),he=function(e,t){return(0,se._1)(ne.Z.workspaceMember(e,t).withConverter(te.hu)).pipe((0,ue.pA)(null),(0,ue.Fb)(null))},pe=n(59065),ve=function(e,t){return(0,se.BS)(ne.Z.invites.withConverter(te.xI).where("workspaceId","==",e).where("inviteeEmail","==",t).where("type","==",pe.PA.Email).where("inviteTo","==",pe.FU.Workspace).where("status","in",[pe.aj.Pending,pe.aj.Accepted]))},me=n(17366),ge=n(66924),ye=n(2738);function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function we(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){we(e,t,n[t])}))}return e}function Ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return be(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Se=(0,p.kr)({}),xe=function(e){var t,n,p=e.workspaceId,m=e.environment,g=void 0===m?"default":m,y=e.externalUserId,b=e.children,w=(0,Q.AN)(),_=(0,X.mZ)(),E=(0,X.LP)(),S=Ee((0,X.p3)(),2)[1],x=(0,i.useState)({environment:g}),O=x[0],C=x[1],k=(0,Q.II)(),T=y||k,A=(0,Q.g5)(),I=(0,o.m)((function(e){return e.pipe((0,d.U)((function(e){var t=Ee(e,2),n=t[0];return t[1]?n:null})),(0,h.h)((function(e){return null!=e})),(0,f.w)((function(e){return(0,fe.Z)(e,{mapPermissionDeniedErrorToNull:!1})})))}),[p,y||w]);(0,s.m)(I,(function(e){C((function(t){return _e({},t,{workspace:e,error:void 0})}))}),(function(e){C((function(t){return _e({},t,{workspace:null,error:e})}))}));var D=function(e){var t=e.teamId,n=e.workspaceId,r=(0,u.UK)(oe),o=r.execute,a=r.loading,s=r.result;return(0,i.useEffect)((function(){o(t,n)}),[t,n]),{loading:a,teamInfo:s}}({workspaceId:p,teamId:null===(t=O.workspace)||void 0===t?void 0:t.teamId}).teamInfo,P=(0,de.a)(p),R=P.result,N=P.error,j=function(e,t,n){var r=(0,Q.eA)(),u=(0,i.useState)(),h=u[0],p=u[1],v=void 0!==t,m=null===t||void 0===t?void 0:t.id,g=null===t||void 0===t?void 0:t.teamId,y=(0,o.m)((function(e){return e.pipe((0,f.w)((function(e){var t=Ee(e,2),n=t[0],r=t[1];return n&&r?ve(n,r):(0,c.of)([])})),(0,d.U)((function(e){return e&&e.length>0})))}),[m,r]),b=(0,a.p)(y,!1);return(0,s.m)((0,o.m)((function(e){return e.pipe((0,f.w)((function(e){var t=Ee(e,4),n=t[0],r=t[1],i=t[2],o=t[3];return n&&o?r&&i?(0,l.a)([ce(i,o).pipe((0,d.U)((function(e){return null!=e&&(0,ye.pc)(e)}))),he(r,o).pipe((0,d.U)((function(e){return null!=e})))]).pipe((0,d.U)((function(e){return e.some(Boolean)}))):(0,c.of)(!1):(0,c.of)(void 0)})))}),[v,m,g,e]),p,ge.Tb),(0,i.useMemo)((function(){if(void 0!==h)return{isMember:h,isInvitedByEmail:b,isReadOnly:!(!(null===n||void 0===n?void 0:n.read)||(null===n||void 0===n?void 0:n.write)),isAnonymousAccessAllowed:!!(null===t||void 0===t?void 0:t.isAnonymousAccessAllowed)}}),[h,b,n,null===t||void 0===t?void 0:t.isAnonymousAccessAllowed])}(T,O.workspace,R);(0,i.useEffect)((function(){C((function(e){return _e({},e,{access:j,teamInfo:D,showTeamJoinBanner:!!(null===D||void 0===D?void 0:D.canJoinTeam)})}))}),[j,D]),(0,i.useEffect)((function(){O.workspace&&O.workspace.isPrivate&&O.workspace.ownerId!==T&&j&&!j.isInvitedByEmail&&(y||C((function(e){return _e({},e,{workspace:null,error:{name:"",message:"User don't have access to this file",code:"permission-denied"}})})))}),[j,O.workspace,T,y]);var M=(0,i.useRef)(!1),L=(0,v.Z)(le);(0,i.useEffect)((function(){var e=O.workspace;if(!M.current&&e&&T&&!A){var t=e.id;L.execute({workspaceId:t}).catch(ge.Tb),M.current=!0}}),[T,O.workspace,L,A]),(0,me.Z)((function(){var e=O.workspace;e&&E&&e.teamId&&e.teamId!==E&&_.has(e.teamId)&&S(e.teamId)}),[O,E,_,S]),(0,i.useEffect)((function(){C({environment:g}),M.current=!1}),[g,p]);var F=$({userId:T,workspaceId:p}),B=F.collab,U=F.restartCollab;(0,i.useEffect)((function(){var e;(null===(e=O.workspace)||void 0===e?void 0:e.duplicatedFrom)&&U()}),[null===(n=O.workspace)||void 0===n?void 0:n.duplicatedFrom,U]);var V=(0,i.useCallback)((function(){C((function(e){return _e({},e,{showTeamJoinBanner:!1})}))}),[]),z=(0,i.useMemo)((function(){return _e({},O,{slateCollab:B,restartSlateCollab:U,hideTeamJoinBanner:V})}),[O,B,U,V]);return R||N?(0,r.jsx)(Se.Provider,{value:z,children:b}):null},Oe=Se},94659:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r,i=n(52322),o=n(2784);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}var s=function(e){return o.createElement("svg",a({width:11,height:11,viewBox:"0 0 11 11",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.2 9.748V0h.733v9.748l1.574-1.574.519.519-2.2 2.2a.367.367 0 01-.519 0l-2.2-2.2.519-.519L2.2 9.748zM11 2.933H6.6V2.2H11v.733zM9.533 5.867H6.6v-.734h2.933v.734zM8.067 8.8H6.6v-.733h1.467V8.8z",fill:"currentColor"})))},u=n(53822),c=n(28058),l=n(77042),f=n.n(l);function d(e){var t=e.column,n=e.children,r=e.orderBy,o=e.orderDir,a=e.updateOrder,l=t.flex,d=t.orderKey,h=t.className,p=r&&d===r;return(0,i.jsx)("div",{className:(0,c.Z)(f().item,t.className),style:{flex:null!==l&&void 0!==l?l:1},children:(0,i.jsxs)("div",{onClick:function(){d&&a(d)},className:(0,c.Z)(f().headItem,p&&f().headItemActive,!(!d||!r)&&f().headItemSortable,t.className,h),"data-testid":"table-header-".concat(t.id),children:[(0,i.jsx)(u.J,{icon:s,style:{display:p?"flex":"none",transform:"asc"===o?"rotate(180deg)":void 0},"data-testid":"table-header-".concat(t.id,"-icon-").concat(o)}),n]})})}var h=n(51448),p=n.n(h);function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var g=function(e){var t=e.className,n=e.columns,r=e.hideBorder,o=m(e,["className","columns","hideBorder"]);return(0,i.jsx)("div",{className:(0,c.Z)(p().tableHeader,r&&p().noBorder,t),children:Object.values(n).map((function(e){return(0,i.jsx)(d,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){v(e,t,n[t])}))}return e}({column:e},o,{children:e.title}),e.id)}))})}},17003:function(e,t,n){"use strict";var r=n(11929),i=n(10596);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.Z=function(e,t){var n=(0,r.UK)(e,t);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}({},n,{execute:(0,i.Z)(n.execute),set:(0,i.Z)(n.set),merge:(0,i.Z)(n.merge),reset:(0,i.Z)(n.reset)})}},8930:function(e,t,n){"use strict";var r=n(2784);t.Z=function(e){var t=(0,r.useRef)();return"undefined"===typeof t.current&&(t.current=e()),t.current}},10162:function(e,t,n){"use strict";var r=n(2784);t.Z=function(e){(0,r.useEffect)((function(){var t=function(t){"Escape"===t.key&&(null===e||void 0===e||e(t))};return document.addEventListener("keydown",t),function(){return document.removeEventListener("keydown",t)}}),[e])}},98906:function(e,t,n){"use strict";n.d(t,{R:function(){return o}});var r=n(2784);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=function(e){var t=(0,r.useState)(e),n=t[0],o=t[1],a=(0,r.useCallback)((function(e){return o((function(t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}({},t,e)}))}),[]);return[n,a,o]}},15878:function(e,t,n){"use strict";n.d(t,{J:function(){return c}});var r=n(21805),i=n(29259),o=n.n(i),a="__session",s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.Z,t=e.get(a);if(!t)return null;var n=decodeURIComponent(t);try{var i=JSON.parse(n);return o()(i)?i:null}catch(s){return null}},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{expires:365};try{r.Z.set(a,JSON.stringify(e),t)}catch(n){}},c={getItem:function(e,t){var n=s(t);return n?n[e]:null},setItem:function(e,t,n){var r=s();r||(r={}),r[e]=t,u(r,n)},removeItem:function(e){var t=s();t&&(delete t[e],u(t))},clear:function(){r.Z.remove(a)}}},55932:function(e,t,n){"use strict";n.d(t,{j:function(){return m}});var r=n(94776),i=n.n(r),o=n(10732),a=n(94608),s=n(97442).Z,u=n(55579),c=n(3213),l=n(90396);function f(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){f(o,r,i,a,s,"next",e)}function s(e){f(o,r,i,a,s,"throw",e)}a(void 0)}))}}var h=function(){var e=d(i().mark((function e(t,n,r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.teamGitHubRepositories(t,n).add(r);case 2:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),p=function(){var e=d(i().mark((function e(t,n,r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.teamGitHubRepository(t,n,r).delete();case 2:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),v=function(){var e=d(i().mark((function e(t,n,r,o){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.teamGitHubRepository(t,n,r).withConverter(s).set({settings:o},{merge:!0});case 2:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),m={addRepository:h,removeRepository:p,observeRepositories:function(e,t){return(0,o.BS)(c.Z.teamGitHubRepositories(e,t),"id")},observeOrganizations:function(e){return(0,o.BS)(c.Z.teamGitHubOrganizations(e),"id")},configureOrganization:function(e){var t,n=e.type,r=e.name,i=e.installationId;return t="Organization"===n?"".concat(u.UZ,"/organizations/").concat(r,"/settings/installations/").concat(i):"".concat(u.UZ,"/settings/installations/").concat(i),window.open(t,"_blank")},updateRepositorySettings:v,observeRepositoryWorkspaces:function(e){var t=e.organizationId,n=e.repositoryId,r=e.teamId,i=e.orderBy,s=e.orderDir,u=c.Z.workspaces.withConverter(a.BV).where("teamId","==",r).where("isArchived","==",!1).where("gitHubRepository.repositoryId","==",n).where("gitHubRepository.organizationId","==",t).orderBy(i,s);return(0,o.BS)(u)},observeRepositoryOperationStatus:function(e){return(0,o._1)(c.Z.gitHubRepositoryOperationStatus(e)).pipe((0,l.BX)())}}},48075:function(e,t,n){"use strict";n.d(t,{b1:function(){return c},lq:function(){return f}});var r=n(52322),i=n(2784),o=n(61049),a=n.n(o);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}var c=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight((function(e,t){return(0,i.createElement)(t,{},e)}),(0,r.jsx)(i.Fragment,u({},e)))}};function l(e,t){if(null!=e)if(a()(e))e(t);else try{e.current=t}catch(n){throw new Error("Cannot assign value '".concat(t,"' to ref '").concat(e,"'"))}}function f(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.forEach((function(t){return l(t,e)}))}}},68732:function(e,t,n){"use strict";n.d(t,{Ad:function(){return f},DJ:function(){return o},LP:function(){return d},MV:function(){return l},Rs:function(){return h},S5:function(){return s},T3:function(){return c},Zj:function(){return p},lh:function(){return a},mZ:function(){return u},p3:function(){return v}});var r=n(21746),i=n(89383),o=function(){return(0,r.Sz)(i.ZP,(function(e){return e||{}}))},a=function(){return(0,r.Sz)(i.ZP,(function(e){return null===e||void 0===e?void 0:e.userTeams}))},s=function(){return(0,r.Sz)(i.ZP,(function(e){return null===e||void 0===e?void 0:e.lastVisitedWorkspaceId}))},u=function(){return(0,r.Sz)(i.ZP,(function(e){return e.userTeamIds}))},c=function(e){return u().has(e)},l=function(){return(0,r.Sz)(i.ZP,(function(e){return void 0!==(null===e||void 0===e?void 0:e.userTeams)}))},f=function(){return(0,r.Sz)(i.ZP,(function(e){return!(null===(t=null===e||void 0===e?void 0:e.userTeams)||void 0===t?void 0:t.length);var t}))},d=function(){return(0,r.Sz)(i.ZP,(function(e){var t;return null===e||void 0===e||null===(t=e.currentTeam)||void 0===t?void 0:t.id}))},h=function(){return(0,r.Sz)(i.ZP,(function(e){return null===e||void 0===e?void 0:e.currentTeam}))},p=function(){return(0,r.Sz)(i.ZP,(function(e){return null===e||void 0===e?void 0:e.resetTeam}))},v=function(){return[h(),(0,r.Sz)(i.ZP,(function(e){return e.switchTeam})),p()]}},36658:function(e,t,n){"use strict";n.d(t,{ZP:function(){return R},LO:function(){return I},Sh:function(){return D},q8:function(){return P}});var r=n(2784),i=n(20810),o=n(39739),a=n(99054),s=n(12335),u=n(66924),c=n(71523),l=n(94776),f=n.n(l),d=n(57066),h=n(93586),p=n.n(h);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){m(o,r,i,a,s,"next",e)}function s(e){m(o,r,i,a,s,"throw",e)}a(void 0)}))}}function y(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}d.ZP.database.ServerValue;var b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return function(){var n=g(f().mark((function n(r){var i,o,a,s,u,c=arguments;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(i=c.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=c[a];if(!(r.length<=t)){n.next=5;break}return n.next=4,e.apply(void 0,[r].concat(y(o)));case 4:return n.abrupt("return",n.sent);case 5:return s=p()(r,t),u=s.map((function(t){return e.apply(void 0,[t].concat(y(o)))})),n.next=9,Promise.all(u);case 9:return n.abrupt("return",n.sent.flat());case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},w=n(94608),_=n(3213);function E(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}var S=function(){var e,t=(e=f().mark((function e(t,n){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.length){e.next=2;break}return e.abrupt("return",[]);case 2:return e.next=4,_.Z.knownPeople.withConverter(w.UK).where("userId","in",t).where("teamId","==",n).get();case 4:return r=e.sent,e.abrupt("return",r.docs.map((function(e){return e.data()})));case 6:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){E(o,r,i,a,s,"next",e)}function s(e){E(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e,n){return t.apply(this,arguments)}}(),x=b(S);function O(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}var C=function(){var e,t=(e=f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.length){e.next=2;break}return e.abrupt("return",[]);case 2:if(!(t.length>1)){e.next=8;break}return e.next=5,k(t);case 5:return e.abrupt("return",e.sent);case 8:return e.next=10,_.Z.profile(t[0]).withConverter(w.Zd).get();case 10:return n=e.sent.data(),e.abrupt("return",n?[n]:[]);case 12:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){O(o,r,i,a,s,"next",e)}function s(e){O(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}(),k=b(C,1);function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var I=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=(0,r.useState)(),f=l[0],d=l[1],h=(0,r.useMemo)((function(){return n}),Object.values(n)),p=(0,i.m)((function(e){return e.pipe((0,a.h)((function(e){return null!=A(e,1)[0]})),(0,s.w)((function(e){var t=A(e,2),n=t[0],r=t[1];return(0,c.Z)(n,r)})))}),[e,h]);return(0,o.m)(p,d,u.Tb),(0,r.useMemo)((function(){return t?null===f||void 0===f?void 0:f.filter((function(e){return e.id!==t})):f}),[t,f])},D=function(e,t,n){var i=(0,r.useState)(),o=i[0],a=i[1],s=I(e,t,n);return(0,r.useEffect)((function(){if(s&&e)if(s.length){var t=s.map((function(e){return e.id}));x(t,e).then((function(e){a(e)}))}else a([]);else a(void 0)}),[s,e]),o},P=function(e,t,n){var i=(0,r.useState)(),o=i[0],a=i[1],s=I(e,t,n);return(0,r.useEffect)((function(){if(s&&e)if(s.length){var t=s.map((function(e){return e.id}));k(t).then((function(e){a(e)}))}else a([]);else a(void 0)}),[s,e]),o},R=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return null!==(n=I(e,t,r))&&void 0!==n?n:[]}},54599:function(e,t,n){"use strict";n.d(t,{h0:function(){return S},w7:function(){return C},yZ:function(){return E}});var r=n(94776),i=n.n(r),o=n(2784),a=n(30686),s=n(60759),u=n(91781),c=n(89383),l=n(52251),f=n(13358),d=n(32331),h=n(37637),p=n(1380),v=n(49892),m=n(57066),g=n(66924);function y(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){y(o,r,i,a,s,"next",e)}function s(e){y(o,r,i,a,s,"throw",e)}a(void 0)}))}}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _,E=["google.com","microsoft.com"],S=new a.Z;function x(e){return O.apply(this,arguments)}function O(){return O=b(i().mark((function e(t){var n,r,o=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o.length>1&&void 0!==o[1]?o[1]:{},m.I8.useDeviceLanguage(),r=m.I8.currentUser?m.I8.currentUser.toJSON():null,!n.asModal){e.next=7;break}return e.abrupt("return",m.I8.signInWithPopup(t).then((function(e){return B(e,r),e})).catch(U));case 7:return e.abrupt("return",m.I8.signInWithRedirect(t).catch(U).then((function(){})));case 8:case"end":return e.stop()}}),e)}))),O.apply(this,arguments)}function C(){return k.apply(this,arguments)}function k(){return(k=b(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(0,c.AR)(),f.b.add({name:v.iL,value:"false"}),e.next=4,m.I8.signOut();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return A.apply(this,arguments)}function A(){return A=b(i().mark((function e(){var t,n,r=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},n=J("google.com"),e.abrupt("return",x(n,t));case 3:case"end":return e.stop()}}),e)}))),A.apply(this,arguments)}function I(){return D.apply(this,arguments)}function D(){return D=b(i().mark((function e(){var t,n,r=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},n=J("microsoft.com"),e.abrupt("return",x(n,t));case 3:case"end":return e.stop()}}),e)}))),D.apply(this,arguments)}function P(e){return R.apply(this,arguments)}function R(){return(R=b(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m.ZP.auth().sendPasswordResetEmail(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e,t){return j.apply(this,arguments)}function j(){return j=b(i().mark((function e(t,n){var r,o,a=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]?a[2]:t,o=m.I8.currentUser?m.I8.currentUser.toJSON():null,(0,p.jj)({displayName:r}),e.abrupt("return",m.ZP.auth().createUserWithEmailAndPassword(t,n).then((function(e){return B(e,o,r),e})).catch(U));case 4:case"end":return e.stop()}}),e)}))),j.apply(this,arguments)}function M(e,t){return L.apply(this,arguments)}function L(){return(L=b(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m.ZP.auth().signInWithEmailAndPassword(t,n).catch(U));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var F=(w(_={},"google.com","google"),w(_,"microsoft.com","microsoft"),w(_,"password","email"),_);function B(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if((null===e||void 0===e?void 0:e.user)&&(null===e||void 0===e||null===(n=e.additionalUserInfo)||void 0===n?void 0:n.isNewUser)){var i,o,a,s=null!==(o=null!==(i=null===t||void 0===t?void 0:t.uid)&&void 0!==i?i:(0,h.ES)())&&void 0!==o?o:"",u=f.b.getByName(v.IF),c=e.user.uid,d=e.user.email,p=null!==(a=F[e.additionalUserInfo.providerId])&&void 0!==a?a:"",m=r||e.user.displayName||"";l.Z.identify({analyticsId:u||s,id:c,email:d,displayName:m,isAnonymous:!1,color:""}),l.Z.trackEvent("account","create",{userId:e.user.uid,email:e.user.email,authMethod:p,oldUserId:s})}}function U(e){var t=(0,s.J)(e),n=t.statusCode,r=t.message;n>=500&&(0,g.Tb)(e);var i=r!==e.message;throw new Error(i?r:"Error")}function V(e,t,n){return z.apply(this,arguments)}function z(){return(z=b(i().mark((function e(t,n,r){var o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((o=m.ZP.auth().currentUser)&&o.email){e.next=3;break}throw new Error("No user signed in");case 3:if(r){e.next=5;break}throw new Error("Must confirm password");case 5:return e.prev=5,a=m.ZP.auth.EmailAuthProvider.credential(o.email,r),e.next=9,o.reauthenticateWithCredential(a);case 9:return e.next=11,o.updateEmail(n);case 11:return e.next=13,d.H.updateUserKnownPerson(o.uid,t,{email:n});case 13:S.emit("userEmailChanged",{email:n}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),U(e.t0);case 19:case"end":return e.stop()}}),e,null,[[5,16]])})))).apply(this,arguments)}function q(e,t){return Z.apply(this,arguments)}function Z(){return(Z=b(i().mark((function e(t,n){var r,o,a,s,u,c,f,h,p,v;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=m.ZP.auth().currentUser){e.next=4;break}throw new Error("No user signed in");case 4:if(s=a.uid,u=a.email,c=a.providerData.find((function(e){return(null===e||void 0===e?void 0:e.providerId)===t})),f=F[t],!c){e.next=12;break}return e.next=11,a.unlink(t).catch(U);case 11:l.Z.trackEvent("account","unlink",{userId:s,authMethod:f,oldEmail:u});case 12:return h=J(t),e.next=15,a.linkWithPopup(h).catch((function(e){l.Z.trackEvent("account","relink_error",{userId:s,authMethod:f,oldEmail:u}),U(e)}));case 15:if(p=e.sent,v=null===(o=null===p||void 0===p||null===(r=p.additionalUserInfo)||void 0===r?void 0:r.profile)||void 0===o?void 0:o.email,l.Z.trackEvent("account","relink",{userId:s,authMethod:f,oldEmail:u}),!v||v===u){e.next=24;break}return e.next=21,a.updateEmail(v).catch(U);case 21:return e.next=23,d.H.updateUserKnownPerson(a.uid,n,{email:v}).catch(g.Tb);case 23:S.emit("userEmailChanged",{email:v});case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e,t){return W.apply(this,arguments)}function W(){return(W=b(i().mark((function e(t,n){var r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=m.ZP.auth().currentUser){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,r.updateProfile(n);case 5:return e.next=7,d.H.updateUserProfile(r.uid,n);case 7:if(!n.displayName){e.next=11;break}return o=n.displayName,e.next=11,d.H.updateUserKnownPerson(r.uid,t,{displayName:o});case 11:S.emit("userProfileChanged",n);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e,t){return K.apply(this,arguments)}function K(){return(K=b(i().mark((function e(t,n){var r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=m.ZP.auth().currentUser)&&r.email){e.next=3;break}throw new Error("No user signed in");case 3:return e.prev=3,o=m.ZP.auth.EmailAuthProvider.credential(r.email,n),e.next=7,r.reauthenticateWithCredential(o);case 7:return e.next=9,r.updatePassword(t);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),U(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,11]])})))).apply(this,arguments)}function J(e){if("google.com"===e){var t=new m.ZP.auth.GoogleAuthProvider;return t.setCustomParameters({prompt:"select_account"}),t}return new m.ZP.auth.OAuthProvider("microsoft.com")}t.ZP=function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){w(e,t,n[t])}))}return e}({},(0,o.useContext)(u.Z),{signIn:x,signOut:C,updateUserEmail:V,signInWithGoogle:T,updateUserProfile:H,updateUserPassword:G,signInWithMicrosoft:I,sendPasswordResetEmail:P,signInWithEmailAndPassword:M,createUserWithEmailAndPassword:N,resetProviderEmail:q})}},24235:function(e,t,n){"use strict";n.d(t,{Qf:function(){return a},gE:function(){return u},zw:function(){return s}});var r=n(2784),i=n(49797);function o(e){var t=e.timeout,n=e.isActivated,i=(0,r.useRef)(void 0),o=(0,r.useState)(n),a=o[0],s=o[1];return(0,r.useEffect)((function(){return i.current&&clearTimeout(i.current),n&&(i.current=setTimeout((function(){s(!1)}),t)),function(){return clearTimeout(i.current)}}),[n,t]),{isActive:a}}var a={},s=function(e){var t=e?a[e]:null,n=(0,i.Z)(e),s=!o({isActivated:!0,timeout:1e3}).isActive;return(0,r.useEffect)((function(){s&&t&&e&&!n?delete a[e]:e&&!t&&n&&(a[e]=n)}),[e,t,n,s]),n||t},u=function(e,t){var n,r=s(e),i=o({isActivated:!0,timeout:c}).isActive;return e?[!i?null!==(n=null===r||void 0===r?void 0:r.displayName)&&void 0!==n?n:t:(null===r||void 0===r?void 0:r.displayName)||null,r]:[null,null]},c=400},17559:function(e,t,n){"use strict";var r=n(2784),i=n(9605),o="Copied to clipboard";t.Z=function(){var e=(0,i.Z)();return(0,r.useCallback)((function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;navigator.clipboard.writeText(t).then((function(){return e.success(n)})).catch((function(){return e("An error has occured")}))}),[e])}},19605:function(e,t,n){"use strict";n.d(t,{K:function(){return o}});var r=n(2784),i=n(32140),o=function(){return(0,r.useContext)(i.ZP)}},58579:function(e,t,n){"use strict";n.d(t,{Dv:function(){return a},MO:function(){return l},O6:function(){return s},Rx:function(){return o},Sr:function(){return c},nR:function(){return u}});var r=n(21746),i=n(27292),o=function(){return(0,r.Sz)(i.Z,(function(e){return{onInputChange:e.onInputChange,query:e.query,saveRouteToHistory:e.saveRouteToHistory}}))},a=function(){return(0,r.Sz)(i.Z,(function(e){return e.query.length>0}))},s=function(){return(0,r.Sz)(i.Z,(function(e){return e.hits}))},u=function(){return(0,r.Sz)(i.Z,(function(e){return e.isLoading}))},c=function(){return(0,r.Sz)(i.Z,(function(e){return{setPassedFilters:e.setPassedFilters}}))},l=function(){return(0,r.Sz)(i.Z,(function(e){return{onSearchBarClose:e.onSearchBarClose,onSearchBarOpen:e.onSearchBarOpen,isSearchBarOpen:e.isSearchBarOpen}}))}},9605:function(e,t,n){"use strict";var r=n(2784),i=n(4719);t.Z=function(){return(0,r.useContext)(i.ZP)}},6717:function(e,t,n){"use strict";n.d(t,{Y:function(){return a},j:function(){return s}});var r=n(21746),i=n(50405),o=n(48834).Buffer,a=function(){return(0,r.qp)(i.u_)},s=function(){var e=a();if(!e)return null;var t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/");return JSON.parse(o.from(t,"base64").toString()).firebase.sign_in_provider}},14898:function(e,t,n){"use strict";n.d(t,{AN:function(){return m},Fl:function(){return p},II:function(){return f},Mg:function(){return u},TF:function(){return c},ZE:function(){return d},aF:function(){return h},eA:function(){return v},fC:function(){return l},g5:function(){return g},pC:function(){return y}});var r,i=n(21746),o=n(29755),a=n(32331),s=n(10596),u=function(e){return void 0!==e},c=function(e){return null===(r=null===e||void 0===e?void 0:e.isAnonymous)||void 0===r||r},l=function(){return(0,i.qp)(o._$)},f=function(){return(0,i.Sz)(o._$,(function(e){return null===e||void 0===e?void 0:e.id}))},d=function(){return(0,i.Sz)(o._$,(function(e){return null===e||void 0===e?void 0:e.displayName}))},h=function(){return(0,i.qp)(o.St)},p=function(){var e;return null===(e=h())||void 0===e?void 0:e.userSettings},v=function(){return(0,i.Sz)(o._$,(function(e){return null===e||void 0===e?void 0:e.email}))},m=function(){return(0,i.Sz)(o._$,(function(e){return null!=e}))},g=function(){return(0,i.Sz)(o._$,c)},y=function(){var e=f();return(0,s.Z)((function(t){return e?a.H.updateUserSettings(e,t):Promise.resolve()}))}},49797:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(2784),i=n(39739),o=n(20810),a=n(77984),s=n(39369),u=n(12335),c=n(7867),l=n(94608),f=n(3213),d=n(90396),h=function(e){return(0,c._1)(f.Z.profile(e).withConverter(l.Zd)).pipe((0,d.pA)(null))},p=n(66924);function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var g=function(e){var t=(0,r.useState)(),n=t[0],c=t[1];return(0,i.m)((0,o.m)((function(e){return e.pipe((0,a.U)((function(e){return m(e,1)[0]})),(0,d.BX)(),(0,s.x)(),(0,u.w)((function(e){return h(e)})))}),[e]),c,p.Tb),n}},41573:function(e,t,n){"use strict";n.d(t,{JP:function(){return d},Rx:function(){return p},S$:function(){return g},Z0:function(){return w},aq:function(){return m},bm:function(){return c},bx:function(){return b},cF:function(){return l},mT:function(){return f},sx:function(){return y},t6:function(){return _},u0:function(){return h},vP:function(){return v}});var r=n(2784),i=n(21746),o=n(91382),a=n(49892),s=function(e){return void 0!==e},u=function(e){return void 0!==e},c=function(){return(0,i.Sz)(o.Z,(function(e){return e}))},l=function(){return(0,i.Sz)(o.Z,(function(e){return e.workspace}))},f=function(){return(0,i.Sz)(o.Z,(function(e){var t;return null===(t=e.workspace)||void 0===t?void 0:t.id}))},d=function(){return(0,i.Sz)(o.Z,(function(e){var t;return null===(t=e.workspace)||void 0===t?void 0:t.teamId}))},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.SF,t=(0,i.Sz)(o.Z,(function(e){var t;return null===(t=e.workspace)||void 0===t?void 0:t.title}));return(0,r.useMemo)((function(){return t&&t.trim().length>0?t:e}),[t,e])},p=function(){return(0,i.Sz)(o.Z,(function(e){return function(e){return s(e.workspace)&&u(e.access)}(e)}))},v=function(){return(0,i.Sz)(o.Z,(function(e){var t=e.workspace;return s(t)&&null!==t}))},m=function(){return(0,i.Sz)(o.Z,(function(e){return e.environment}))},g=function(){return"integration"===m()},y=function(){return(0,i.Sz)(o.Z,(function(e){return e.access}))},b=function(){return"permission-denied"!==(0,i.Sz)(o.Z,(function(e){var t;return null===(t=e.error)||void 0===t?void 0:t.code}))},w=function(){return(0,i.Sz)(o.Z,(function(e){var t;return null===(t=e.workspace)||void 0===t?void 0:t.folderId}))},_=function(){return(0,i.Sz)(o.Z,(function(e){return e.workspace&&e.access&&!e.access.isReadOnly&&!e.workspace.isArchived}))};t.ZP=l},69685:function(e,t,n){"use strict";var r=n(94776),i=n.n(r),o=n(5632),a=n.n(o),s=n(22557),u=n(17003),c=n(68732),l=n(9605),f=n(14898),d=n(35621),h=n(48293),p=n(10596),v=n(66924),m=n(24721);function g(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){g(o,r,i,a,s,"next",e)}function s(e){g(o,r,i,a,s,"throw",e)}a(void 0)}))}}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){b(e,t,n[t])}))}return e}function _(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}t.Z=function(){var e=(0,l.Z)(),t=(0,f.II)(),n=(0,c.LP)(),r=(0,s.WR)().showError,o=(0,u.Z)(function(){var e=y(i().mark((function e(t,n){var r,o,s,u,c,l,f,h,p=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=p.length>2&&void 0!==p[2]?p[2]:{},o=r.redirect,s=void 0===o||o,u=r.query,c=void 0===u?{}:u,e.next=4,(0,d.M)(t,n,"new");case 4:if(l=e.sent,!s){e.next=11;break}return f="/workspace/".concat(l.id),(h=new URLSearchParams(c).toString())&&(f+="?".concat(h)),e.next=11,a().push(f);case 11:return e.abrupt("return",l);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),g=function(t){return n=t,(null!=(i=h.W)&&"undefined"!==typeof Symbol&&i[Symbol.hasInstance]?i[Symbol.hasInstance](n):n instanceof i)?(r({errorObject:t,featureName:m.M$.Workspaces}),e.dismiss(),null):((0,v.Tb)(new Error("Error creating file",{cause:t})),"Error creating file");var n,i};return{loading:o.loading,request:(0,p.Z)(function(){var r=y(i().mark((function r(a,s){var u,c,l,f,d,h,p,v=arguments;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(u=v.length>2&&void 0!==v[2]?v[2]:{},!o.loading&&t){r.next=3;break}return r.abrupt("return");case 3:return c=s.title,l=void 0===c?"":c,f=_(s,["title"]),d=u.toastMessages,h=u.toastOptions,p=w({teamId:n,ownerId:t,title:l},f),r.next=8,e.promise(o.execute(p,a,u),null!==d&&void 0!==d?d:{loading:"Creating file",success:"Created file",error:g},null!==h&&void 0!==h?h:{success:{duration:1e3}});case 8:return r.abrupt("return",r.sent);case 9:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}())}}},35795:function(e,t,n){"use strict";n.d(t,{Z:function(){return w}});var r=n(2784),i=n(27193),o=n(17003),a=n(52251),s=n(94776),u=n.n(s),c=n(94608),l=n(57066),f=n(3213),d=n(24721),h=n(29487);function p(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){p(o,r,i,a,s,"next",e)}function s(e){p(o,r,i,a,s,"throw",e)}a(void 0)}))}}var m=function(){var e=v(u().mark((function e(t){var n,r,i,o,a,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.file,r=t.folderId,i=t.teamId,o=f.Z.team(i).withConverter(c.ML),a=r?f.Z.teamFolder(i,r):null,s=f.Z.workspace(n.id).withConverter(c.BV),!0!==n.isArchived){e.next=7;break}return e.next=7,h.j.validateLimitedFeature(d.M$.Workspaces,i);case 7:return e.next=9,l.RZ.runTransaction(function(){var e=v(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=6;break}return e.next=3,t.get(o);case 3:if(e.sent.data()){e.next=6;break}throw new Error("Team ".concat(i," not found"));case 6:if(!a){e.next=12;break}return e.next=9,t.get(a);case 9:if(e.sent.data()){e.next=12;break}throw new Error("Folder ".concat(r||"Unknown"," not found"));case 12:t.update(s,{folderId:r,teamId:i,isArchived:!1});case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=n(48293),y=n(66924),b=n(22557);var w=function(){var e=(0,o.Z)(m),t=(0,b.WR)().showError;return(0,r.useCallback)((function(n){var r=n.file,o=n.folderId,s=n.onClose,u=n.teamId;null===s||void 0===s||s(),void 0!==o&&u&&i.ZP.promise(e.execute({file:r,folderId:o,teamId:u}),{loading:"Moving file",success:"Moved file",error:function(e){return n=e,(null!=(r=g.W)&&"undefined"!==typeof Symbol&&r[Symbol.hasInstance]?r[Symbol.hasInstance](n):n instanceof r)?(t({errorObject:e,featureName:d.M$.Workspaces}),i.ZP.dismiss(),null):((0,y.Tb)(new Error("Error moving file",{cause:e})),"Error moving file");var n,r}}).then((function(){return a.Z.trackEvent("folders","move_workspace",{eventSource:"modal"})}))}),[e,t])}},12405:function(e,t,n){"use strict";n.d(t,{o:function(){return w}});var r=n(14898),i=n(2784),o=n(94776),a=n.n(o),s=n(35532),u=n(3213),c=n(24721),l=n(29487);function f(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}var d=s.Z.firestore.FieldValue,h=function(e,t,n){return u.Z.workspace(e).update({isArchived:!0,archivedAt:d.serverTimestamp(),archivedBy:n})},p=function(){var e,t=(e=a().mark((function e(t,n,r){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.j.validateLimitedFeature(c.M$.Workspaces,n);case 2:return e.next=4,u.Z.workspace(t).update({isArchived:!1});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){f(o,r,i,a,s,"next",e)}function s(e){f(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e,n,r){return t.apply(this,arguments)}}(),v=n(17003),m=n(9605),g=n(48293),y=n(66924),b=n(22557);var w=function(e){var t=e.workspaceId,n=e.isArchived,o=e.currentTeamId,a=e.workspaceTeamId,s=(0,m.Z)(),u=(0,r.II)(),l=(0,v.Z)(h),f=(0,v.Z)(p),d=(0,b.WR)().showError;return(0,i.useCallback)((function(){if(o&&a&&o===a){var e=l,r="Archiving a file",i="File has been archived successfully";n&&(e=f,r="Restoring a file",i="File has been restored successfully"),s.promise(e.execute(t,o,u),{loading:r,success:i,error:function(e){return t=e,(null!=(n=g.W)&&"undefined"!==typeof Symbol&&n[Symbol.hasInstance]?n[Symbol.hasInstance](t):t instanceof n)?(d({errorObject:e,featureName:c.M$.Workspaces}),s.dismiss(),null):((0,y.Tb)(new Error("Error ".concat(r),{cause:e})),"Error ".concat(r));var t,n}},{success:{duration:1e3}})}else s.error("You need to be on the correct team to do that.")}),[l,n,s,t,f,o,u,a,d])}},36171:function(e,t,n){"use strict";n.d(t,{X:function(){return m}});var r=n(5632),i=n.n(r),o=n(17003),a=n(9605),s=n(36710),u=n(48293),c=n(66924),l=n(22557),f=n(24721),d=n(52251);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){return null!=t&&"undefined"!==typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){h(e,t,n[t])}))}return e}var m=function(){var e=(0,a.Z)(),t=(0,l.WR)().showError,n=(0,o.Z)(s.Z);return{loading:n.loading,request:function(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.workspaceId,s=r.teamId;if(a&&s&&!n.loading){r.isFromTemplate&&d.Z.trackEvent("template","use",{templateId:a,teamId:s});var l=o.reload,h=o.openInNewTab,m=o.stayOnPage;e.promise(n.execute(v({},r,{workspaceId:a,teamId:s})),{success:"Duplicated file",loading:"Duplicating file",error:function(n){return p(n,u.W)?(t({errorObject:n,featureName:f.M$.Workspaces}),e.dismiss(),null):((0,c.Tb)(new Error("Error duplicating workspace",{cause:n})),"Error duplicating file")}},{success:{duration:1e3}}).then((function(e){if(e){var t="/workspace/".concat(e.workspaceId);if(l&&h)window.open(location.origin+t,"_blank");else if(l)location.replace(window.location.origin+t);else if(!m)return i().push(t)}}))}}}}},12788:function(e,t,n){"use strict";n.d(t,{g:function(){return O},j:function(){return x}});var r=n(52322),o=n(2784),a=n(27892),s=n(45500),u=n(20810),c=n(34394),l=n(11348),f=n(12335),d=n(43806),h=n(35120),p=n(77984),v=n(16487);function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e){if(Array.isArray(e))return e}function y(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function b(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function w(e,t){return g(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||E(e,t)||b()}function _(e){return function(e){if(Array.isArray(e))return m(e)}(e)||y(e)||E(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){if(e){if("string"===typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}var S=(0,o.createContext)({catalogs:[],areItemsLoading:!1,areCatalogsLoading:!1,catalogIdWithItemsMap:new Map}),x=function(){return(0,o.useContext)(S)},O=function(e){var t=e.children,n=v.QS,m=(0,o.useState)(!1),x=m[0],O=m[1],C=(0,a.A)(n),k=C.catalogs,T=C.isLoading,A=(0,u.m)((function(e){return e.pipe((0,l.b)((function(){return O(!0)})),(0,f.w)((function(e){var t=w(e,1)[0];return(0,d.a)([(0,h.of)(t)].concat(_(t.map((function(e){return s.n.observeCanvasCatalogItems(e.id)})))))})),(0,p.U)((function(e){var t,n=g(t=e)||y(t)||E(t,i)||b(),r=n[0];return n.slice(1).reduce((function(e,t,n){return e.set(r[n].id,t)}),new Map)})),(0,l.b)((function(){return O(!1)})))}),[k]),I=(0,c.p)(A,new Map);return(0,r.jsx)(S.Provider,{value:{catalogs:k,areItemsLoading:x,areCatalogsLoading:T,catalogIdWithItemsMap:I},children:t})}},27892:function(e,t,n){"use strict";n.d(t,{A:function(){return d}});var r=n(45500),i=n(90396),o=n(20810),a=n(34394),s=n(2784),u=n(11348),c=n(12335);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var d=function(e){var t=(0,s.useState)(!1),n=t[0],l=t[1],d=(0,o.m)((function(e){return e.pipe((0,u.b)((function(){return l(!0)})),(0,c.w)((function(e){var t=f(e,1)[0];return r.n.observeCanvasCatalogs(t)})),(0,i.Fb)([]),(0,u.b)((function(){return l(!1)})))}),[e]);return{catalogs:(0,a.p)(d,[]),isLoading:n}}},8975:function(e,t,n){"use strict";n.d(t,{p:function(){return r}});var r=5},26005:function(e,t,n){"use strict";n.d(t,{N:function(){return u},Q:function(){return s}});var r=n(5632),i=["all","folder","github","search","private","history","archived","unsorted","templates","created-by-me","getting-started"],o=/^\/dashboard\/([\w-]+)/,a=function(e){return i.includes(e)},s=function(){var e=(0,r.useRouter)();if(e.pathname.startsWith("/folder"))return{tabId:"folder",query:e.query};var t=u(e.pathname);return"string"===typeof t&&a(t)?{tabId:t,query:e.query}:{tabId:"all",query:e.query}};function u(e){var t;if(e.startsWith("/folder"))return"folder";var n=null===(t=e.match(o))||void 0===t?void 0:t[1];return"string"===typeof n&&a(n)?n:"all"}},53292:function(e,t,n){"use strict";n.d(t,{MZ:function(){return a},N0:function(){return c},wK:function(){return s}});var r=n(21746),i=n(96299),o=n(26005),a=function(){var e=(0,o.Q)(),t=e.tabId,n=e.query;if("folder"===t){var r,i=n.folderId;return null!==(r=Array.isArray(i)?i[0]:i)&&void 0!==r?r:""}},s=function(){var e=a();return(0,r.Sz)(i.ZP,(function(t){var n=t.foldersMap,r=t.isLoaded;if(!e)return null;if(r){var i=n[e];return i||(console.info("Folder: ".concat(e," not found. Redirecting...")),null)}}))},u=/\/folder\/([^?^/]+)/,c=function(e){var t;return null===(t=e.match(u))||void 0===t?void 0:t[1]}},6328:function(e,t,n){"use strict";var r=n(21746),i=n(96299);t.Z=function(){return(0,r.qp)(i.ZP)}},25223:function(e,t,n){"use strict";var r;n.d(t,{L:function(){return r}}),function(e){e.Folder="FOLDER",e.Workspace="WORKSPACE"}(r||(r={}))},48483:function(e,t,n){"use strict";n.d(t,{Q:function(){return L},z:function(){return F}});var r=n(2784),i=n(690),o=n(92566),a=n(32741),s=n(45293);function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,"spec",void 0),c(this,"monitor",void 0),this.spec=t,this.monitor=n}var t,n,r;return t=e,(n=[{key:"canDrop",value:function(){var e=this.spec,t=this.monitor;return!e.canDrop||e.canDrop(t.getItem(),t)}},{key:"hover",value:function(){var e=this.spec,t=this.monitor;e.hover&&e.hover(t.getItem(),t)}},{key:"drop",value:function(){var e=this.spec,t=this.monitor;if(e.drop)return e.drop(t.getItem(),t)}}])&&u(t.prototype,n),r&&u(t,r),e}();function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t,n){var u=(0,o.N)(),c=function(e,t){var n=(0,r.useMemo)((function(){return new l(e,t)}),[t]);return(0,r.useEffect)((function(){n.spec=e}),[e]),n}(e,t),d=function(e){var t=e.accept;return(0,r.useMemo)((function(){return(0,s.k)(null!=e.accept,"accept must be defined"),Array.isArray(t)?t:[t]}),[t])}(e);(0,a.L)((function(){var e=f((0,i.n)(d,c,u),2),r=e[0],o=e[1];return t.receiveHandlerId(r),n.receiveHandlerId(r),o}),[u,t,c,n,d.map((function(e){return e.toString()})).join("|")])}var p=n(69980);function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=!1,y=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),m(this,"internalMonitor",void 0),m(this,"targetId",null),this.internalMonitor=t.getMonitor()}var t,n,r;return t=e,(n=[{key:"receiveHandlerId",value:function(e){this.targetId=e}},{key:"getHandlerId",value:function(){return this.targetId}},{key:"subscribeToStateChange",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:"canDrop",value:function(){if(!this.targetId)return!1;(0,s.k)(!g,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return g=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{g=!1}}},{key:"isOver",value:function(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}])&&v(t.prototype,n),r&&v(t,r),e}();var b=n(57320),w=n(55020),_=n(86337);function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),S(this,"hooks",(0,w.p)({dropTarget:function(e,t){n.clearDropTarget(),n.dropTargetOptions=t,(0,_.d)(e)?n.dropTargetRef=e:n.dropTargetNode=e,n.reconnect()}})),S(this,"handlerId",null),S(this,"dropTargetRef",null),S(this,"dropTargetNode",void 0),S(this,"dropTargetOptionsInternal",null),S(this,"unsubscribeDropTarget",void 0),S(this,"lastConnectedHandlerId",null),S(this,"lastConnectedDropTarget",null),S(this,"lastConnectedDropTargetOptions",null),S(this,"backend",void 0),this.backend=t}var t,n,r;return t=e,(n=[{key:"connectTarget",get:function(){return this.dropTarget}},{key:"reconnect",value:function(){var e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();var t=this.dropTarget;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions)):this.lastConnectedDropTarget=t)}},{key:"receiveHandlerId",value:function(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}},{key:"dropTargetOptions",get:function(){return this.dropTargetOptionsInternal},set:function(e){this.dropTargetOptionsInternal=e}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didDropTargetChange",value:function(){return this.lastConnectedDropTarget!==this.dropTarget}},{key:"didOptionsChange",value:function(){return!(0,b.w)(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}},{key:"disconnectDropTarget",value:function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}},{key:"dropTarget",get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}},{key:"clearDropTarget",value:function(){this.dropTargetRef=null,this.dropTargetNode=null}}])&&E(t.prototype,n),r&&E(t,r),e}();var O=n(64969);function C(e){return(0,r.useMemo)((function(){return e.hooks.dropTarget()}),[e])}function k(e,t){var n=(0,p.w)(e,t),i=function(){var e=(0,o.N)();return(0,r.useMemo)((function(){return new y(e)}),[e])}(),s=function(e){var t=(0,o.N)(),n=(0,r.useMemo)((function(){return new x(t.getBackend())}),[t]);return(0,a.L)((function(){return n.dropTargetOptions=e||null,n.reconnect(),function(){return n.disconnectDropTarget()}}),[e]),n}(n.options);return h(n,i,s),[(0,O.J)(n.collect,i,s),C(s)]}var T=n(39717),A=n(6328),I=n(25223),D=n(68732),P=n(35795),R=n(50639),N=n(8975);function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var L=function(e){var t=(0,R.d)(),n=M((0,T.c)({item:e,type:I.L.Folder,canDrag:function(){return!t},collect:function(e){return{isDraggingFolder:e.isDragging()}}}),3);return{isDraggingFolder:n[0].isDraggingFolder,dragRef:n[1],previewRef:n[2]}},F=function(e){var t=e.rootRef,n=e.targetFolder,i=e.onFolderReorder,o=n.id,a=(0,A.Z)().getFolderPath,s=(0,r.useState)("none"),u=s[0],c=s[1],l=function(e){var t=e.folderId,n=(0,P.Z)(),i=(0,D.LP)();return(0,r.useCallback)((function(e,r){var o=r.getItemType();i&&o===I.L.Workspace&&n({teamId:i,folderId:t,file:e,eventSource:"drag_and_drop"})}),[t,n,i])}({folderId:n.id}),f=(0,r.useCallback)((function(e,t){t.getItemType()===I.L.Workspace?l(e,t):i&&i({draggingFolder:e,targetFolder:n,folderDropSide:u})}),[l,i,n,u]),d=M(k({accept:[I.L.Workspace,I.L.Folder],canDrop:function(e,t){switch(t.getItemType()){case I.L.Folder:return function(e,t){return e.id!==t.id}(n,e);case I.L.Workspace:return function(e,t){return!t.isPrivate&&t.folderId!==e}(o,e);default:return!0}},drop:f,hover:function(e,r){var i=r.canDrop(),o=r.getClientOffset(),s=r.getItem(),u=r.getItemType()===I.L.Folder;if((null===t||void 0===t?void 0:t.current)&&o&&i&&u){var l=t.current.getBoundingClientRect(),f=l.top,d=l.height,h=o.y-f<d/2,p=d/4;if(o.y-f>p&&o.y-f<d-p&&s.parentFolderId!==n.id)a(n.id).length<N.p&&c("on");else c(h?"before":h?"none":"after")}else c("none")},collect:function(e){var t=e.getItemType(),n=e.isOver()&&e.canDrop();return{isDroppingFolder:n&&t===I.L.Folder,isDroppingWorkspace:n&&t===I.L.Workspace}}},[o,f]),2),h=d[0],p=h.isDroppingFolder,v=h.isDroppingWorkspace;return{dropRef:d[1],isDroppingFolder:p,isDroppingWorkspace:v,folderDropSide:u}}},35537:function(e,t,n){"use strict";n.d(t,{i:function(){return l}});var r=n(52322),i=n(96299),o=n(99627),a=n(28058),s=n(19344),u=n.n(s),c=function(){return(0,r.jsx)("svg",{fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 9",children:(0,r.jsx)("path",{fill:"#fff",d:"M4 6.78L1.687 4.467a.664.664 0 10-.94.94l2.786 2.786c.26.26.68.26.94 0l7.054-7.053a.664.664 0 10-.94-.94L4 6.78z"})})},l=function(e){var t=e.name,n=e.onClick,s=e.selected,l=e.disabled,f=e.className,d=t||i.Yp;return(0,r.jsxs)(o.Z,{title:d,isDisabled:l,isSelected:s,onClick:l?void 0:n,className:(0,a.Z)(u().listItem,f),children:[d,l&&" (current)",s&&(0,r.jsx)("span",{className:u().checkMark,children:(0,r.jsx)(c,{})})]})}},21043:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}function a(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,{Hz:function(){return s},JN:function(){return u},ZN:function(){return f},am:function(){return l},p6:function(){return c}});var s=function(e){if(!e)return{};var t={},n={},r=function(e){var t=n[e.id];t.forEach((function(t){e.children.push(t),r(t)})),t.sort((function(e,t){return e.order-t.order}))},i=e.filter((function(e){return!e.parentFolderId})).map((function(e){return o({},e,{children:[]})})).sort((function(e,t){return e.order-t.order}));return e.forEach((function(e){if(n[e.id]||(n[e.id]=[]),e.parentFolderId){var t=o({},e,{children:[]});n[e.parentFolderId]?n[e.parentFolderId].push(t):n[e.parentFolderId]=[t]}})),i.forEach((function(e){t[e.id]=e,r(e)})),t},u=function(e){var t=[],n=function(e){t.push(e),e.children.forEach((function(e){return n(e)}))};return Object.values(e).forEach(n),t},c=function(e,t){var n=[],r=Object.values(t),i=function(t){return n.push(t),t.id===e||(!!t.children.some(i)||(n.pop(),!1))};return r.find(i),n},l=function(e){var t=[],n=[],r=Object.values(e).sort((function(e,t){return e.order-t.order})),i=function(e){n.push(e),t.push(a(n)),e.children.forEach(i),n.pop()};return r.forEach(i),t},f=function(e,t){var n=[],r=[],i=function(e,t){var n=Object.values(t),r=function(t){if(t.id===e)return t;var n=!0,i=!1,o=void 0;try{for(var a,s=t.children[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var u=a.value,c=r(u);if(c)return c}}catch(l){i=!0,o=l}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}},i=!0,o=!1,a=void 0;try{for(var s,u=n[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value,l=r(c);if(l)return l}}catch(f){o=!0,a=f}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}}(e,t);if(!i)return n;var o=function(e){r.push(e),n.push(a(r)),e.children.forEach(o),r.pop()};return o(i),n}},83492:function(e,t,n){"use strict";n.d(t,{v:function(){return d}});var r=n(52322),i=n(98161),o=n(11945),a=n(54784),s=n(83e3),u=n(53822),c=n(18746),l=n.n(c),f=n(35404),d=function(e){var t=e.onConnectClick;return(0,r.jsxs)("div",{className:l().emptyStateRoot,children:[(0,r.jsxs)("div",{className:l().iconTray,children:[(0,r.jsx)(u.J,{icon:a.Z,width:24}),(0,r.jsx)(u.J,{icon:o.Z,width:30,height:30,color:"grey-1000"}),(0,r.jsx)(i.$q,{height:14})]}),(0,r.jsxs)("div",{className:l().textSection,children:["Use Eraser to create, read, edit, and update your Github-hosted markdown files.\xa0",(0,r.jsx)(s.d,{href:"https://docs.eraser.io/docs/github-getting-started",children:"Learn more"})]}),(0,r.jsx)(f.g,{onClick:t})]})}},35404:function(e,t,n){"use strict";n.d(t,{g:function(){return s}});var r=n(52322),i=n(41369),o=n(3559),a=n(53822),s=function(e){var t=e.onClick;return(0,r.jsxs)(o.ZP,{variant:o.ZP.Variants.OUTLINE,onClick:t,style:{marginBottom:10},children:[(0,r.jsx)(a.J,{icon:i.Z,style:{marginRight:8}}),"Connect new Github Org"]})}},60541:function(e,t,n){"use strict";n.d(t,{Uk:function(){return Qt},DZ:function(){return Xt},E$:function(){return $t}});var r={};n.r(r),n.d(r,{hasBrowserEnv:function(){return Be},hasStandardBrowserEnv:function(){return Ue},hasStandardBrowserWebWorkerEnv:function(){return ze}});var i=n(94776),o=n.n(i),a=n(52322),s=n(2784),u=n(30686),c=n(94764),l=n(20810),f=n(34394),d=n(5163),h=n(1118),p=n(67394),v=n(97674),m=n(69676),g=n(15562),y=n(26932);var b=n(77984),w=n(12335),_=n(19184),E=n(16981),S=n(43806),x=n(97032),O=n.n(x),C=n(48215),k=n(95879),T=n(54167),A=n(48834).Buffer;function I(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function D(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){I(o,r,i,a,s,"next",e)}function s(e){I(o,r,i,a,s,"throw",e)}a(void 0)}))}}var P=function(){var e=D(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,C.Z)("gitHub-listRepositories",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=D(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!T.g.isFeatureEnabled("nextjsgithub")){e.next=4;break}return e.abrupt("return",k.Z.get("git/".concat(t.teamId,"/").concat(t.organizationId,"/").concat(t.repositoryId,"/branchNames")));case 4:return e.abrupt("return",(0,C.Z)("gitHub-listRepositoryBranches",t));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=D(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!T.g.isFeatureEnabled("nextjsgithub")){e.next=4;break}return e.abrupt("return",k.Z.get("git/".concat(t.teamId,"/").concat(t.organizationId,"/").concat(t.repositoryId,"/defaultBranchName")));case 4:return e.abrupt("return",(0,C.Z)("gitHub-getDefaultBranchName",t));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=D(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,C.Z)("gitHub-batchPull",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=D(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,C.Z)("gitHub-batchPush",t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=D(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!T.g.isFeatureEnabled("nextjsgithub")){e.next=5;break}return n=A.from(t.filePath).toString("base64"),e.abrupt("return",k.Z.get("git/".concat(t.teamId,"/").concat(t.organizationId,"/").concat(t.repositoryId,"/").concat(n,"/latestCommit")));case 5:return e.abrupt("return",(0,C.Z)("gitHub-getLatestCommitForFile",t));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F={batchPull:j,batchPush:M,listRepositoryBranches:R,getLatestCommitForFile:L,getRepositoryDefaultBranchName:N,listRepositoriesForOrganization:P};function B(e,t){return function(){return e.apply(t,arguments)}}const{toString:U}=Object.prototype,{getPrototypeOf:V}=Object,z=(q=Object.create(null),e=>{const t=U.call(e);return q[t]||(q[t]=t.slice(8,-1).toLowerCase())});var q;const Z=e=>(e=e.toLowerCase(),t=>z(t)===e),H=e=>t=>typeof t===e,{isArray:W}=Array,G=H("undefined");const K=Z("ArrayBuffer");const J=H("string"),Y=H("function"),$=H("number"),X=e=>null!==e&&"object"===typeof e,Q=e=>{if("object"!==z(e))return!1;const t=V(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ee=Z("Date"),te=Z("File"),ne=Z("Blob"),re=Z("FileList"),ie=Z("URLSearchParams");function oe(e,t,{allOwnKeys:n=!1}={}){if(null===e||"undefined"===typeof e)return;let r,i;if("object"!==typeof e&&(e=[e]),W(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let a;for(r=0;r<o;r++)a=i[r],t.call(null,e[a],a,e)}}function ae(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const se="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,ue=e=>!G(e)&&e!==se;const ce=(le="undefined"!==typeof Uint8Array&&V(Uint8Array),e=>le&&e instanceof le);var le;const fe=Z("HTMLFormElement"),de=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),he=Z("RegExp"),pe=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};oe(n,((n,i)=>{let o;!1!==(o=t(n,i,e))&&(r[i]=o||n)})),Object.defineProperties(e,r)},ve="abcdefghijklmnopqrstuvwxyz",me="0123456789",ge={DIGIT:me,ALPHA:ve,ALPHA_DIGIT:ve+ve.toUpperCase()+me};const ye=Z("AsyncFunction");var be={isArray:W,isArrayBuffer:K,isBuffer:function(e){return null!==e&&!G(e)&&null!==e.constructor&&!G(e.constructor)&&Y(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Y(e.append)&&("formdata"===(t=z(e))||"object"===t&&Y(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&K(e.buffer),t},isString:J,isNumber:$,isBoolean:e=>!0===e||!1===e,isObject:X,isPlainObject:Q,isUndefined:G,isDate:ee,isFile:te,isBlob:ne,isRegExp:he,isFunction:Y,isStream:e=>X(e)&&Y(e.pipe),isURLSearchParams:ie,isTypedArray:ce,isFileList:re,forEach:oe,merge:function e(){const{caseless:t}=ue(this)&&this||{},n={},r=(r,i)=>{const o=t&&ae(n,i)||i;Q(n[o])&&Q(r)?n[o]=e(n[o],r):Q(r)?n[o]=e({},r):W(r)?n[o]=r.slice():n[o]=r};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&oe(arguments[i],r);return n},extend:(e,t,n,{allOwnKeys:r}={})=>(oe(t,((t,r)=>{n&&Y(t)?e[r]=B(t,n):e[r]=t}),{allOwnKeys:r}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,o,a;const s={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)a=i[o],r&&!r(a,e,t)||s[a]||(t[a]=e[a],s[a]=!0);e=!1!==n&&V(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:z,kindOfTest:Z,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(W(e))return e;let t=e.length;if(!$(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:fe,hasOwnProperty:de,hasOwnProp:de,reduceDescriptors:pe,freezeMethods:e=>{pe(e,((t,n)=>{if(Y(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];Y(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return W(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:ae,global:se,isContextDefined:ue,ALPHABET:ge,generateString:(e=16,t=ge.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&Y(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(X(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=W(e)?[]:{};return oe(e,((e,t)=>{const o=n(e,r+1);!G(o)&&(i[t]=o)})),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:ye,isThenable:e=>e&&(X(e)||Y(e))&&Y(e.then)&&Y(e.catch)};function we(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}be.inherits(we,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:be.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const _e=we.prototype,Ee={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{Ee[e]={value:e}})),Object.defineProperties(we,Ee),Object.defineProperty(_e,"isAxiosError",{value:!0}),we.from=(e,t,n,r,i,o)=>{const a=Object.create(_e);return be.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),we.call(a,e.message,t,n,r,i),a.cause=e,a.name=e.name,o&&Object.assign(a,o),a};var Se=we,xe=n(48834).Buffer;function Oe(e){return be.isPlainObject(e)||be.isArray(e)}function Ce(e){return be.endsWith(e,"[]")?e.slice(0,-2):e}function ke(e,t,n){return e?e.concat(t).map((function(e,t){return e=Ce(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const Te=be.toFlatObject(be,{},null,(function(e){return/^is[A-Z]/.test(e)}));var Ae=function(e,t,n){if(!be.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=be.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!be.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,o=n.dots,a=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&be.isSpecCompliantForm(t);if(!be.isFunction(i))throw new TypeError("visitor must be a function");function u(e){if(null===e)return"";if(be.isDate(e))return e.toISOString();if(!s&&be.isBlob(e))throw new Se("Blob is not supported. Use a Buffer instead.");return be.isArrayBuffer(e)||be.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):xe.from(e):e}function c(e,n,i){let s=e;if(e&&!i&&"object"===typeof e)if(be.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(be.isArray(e)&&function(e){return be.isArray(e)&&!e.some(Oe)}(e)||(be.isFileList(e)||be.endsWith(n,"[]"))&&(s=be.toArray(e)))return n=Ce(n),s.forEach((function(e,r){!be.isUndefined(e)&&null!==e&&t.append(!0===a?ke([n],r,o):null===a?n:n+"[]",u(e))})),!1;return!!Oe(e)||(t.append(ke(i,n,o),u(e)),!1)}const l=[],f=Object.assign(Te,{defaultVisitor:c,convertValue:u,isVisitable:Oe});if(!be.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!be.isUndefined(n)){if(-1!==l.indexOf(n))throw Error("Circular reference detected in "+r.join("."));l.push(n),be.forEach(n,(function(n,o){!0===(!(be.isUndefined(n)||null===n)&&i.call(t,n,be.isString(o)?o.trim():o,r,f))&&e(n,r?r.concat(o):[o])})),l.pop()}}(e),t};function Ie(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function De(e,t){this._pairs=[],e&&Ae(e,this,t)}const Pe=De.prototype;Pe.append=function(e,t){this._pairs.push([e,t])},Pe.toString=function(e){const t=e?function(t){return e.call(this,t,Ie)}:Ie;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var Re=De;function Ne(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function je(e,t,n){if(!t)return e;const r=n&&n.encode||Ne,i=n&&n.serialize;let o;if(o=i?i(t,n):be.isURLSearchParams(t)?t.toString():new Re(t,n).toString(r),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}var Me=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){be.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},Le={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Fe={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Re,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]};const Be="undefined"!==typeof window&&"undefined"!==typeof document,Ue=(Ve="undefined"!==typeof navigator&&navigator.product,Be&&["ReactNative","NativeScript","NS"].indexOf(Ve)<0);var Ve;const ze="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts;var qe={...r,...Fe};var Ze=function(e){function t(e,n,r,i){let o=e[i++];if("__proto__"===o)return!0;const a=Number.isFinite(+o),s=i>=e.length;if(o=!o&&be.isArray(r)?r.length:o,s)return be.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!a;r[o]&&be.isObject(r[o])||(r[o]=[]);return t(e,n,r[o],i)&&be.isArray(r[o])&&(r[o]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}(r[o])),!a}if(be.isFormData(e)&&be.isFunction(e.entries)){const n={};return be.forEachEntry(e,((e,r)=>{t(function(e){return be.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const He={transitional:Le,adapter:["xhr","http"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=be.isObject(e);i&&be.isHTMLForm(e)&&(e=new FormData(e));if(be.isFormData(e))return r&&r?JSON.stringify(Ze(e)):e;if(be.isArrayBuffer(e)||be.isBuffer(e)||be.isStream(e)||be.isFile(e)||be.isBlob(e))return e;if(be.isArrayBufferView(e))return e.buffer;if(be.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Ae(e,new qe.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return qe.isNode&&be.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=be.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Ae(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(be.isString(e))try{return(t||JSON.parse)(e),be.trim(e)}catch(r){if("SyntaxError"!==r.name)throw r}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||He.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&be.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(i){if(n){if("SyntaxError"===i.name)throw Se.from(i,Se.ERR_BAD_RESPONSE,this,null,this.response);throw i}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:qe.classes.FormData,Blob:qe.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};be.forEach(["delete","get","head","post","put","patch"],(e=>{He.headers[e]={}}));var We=He;const Ge=be.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);const Ke=Symbol("internals");function Je(e){return e&&String(e).trim().toLowerCase()}function Ye(e){return!1===e||null==e?e:be.isArray(e)?e.map(Ye):String(e)}function $e(e,t,n,r,i){return be.isFunction(r)?r.call(this,t,n):(i&&(t=n),be.isString(t)?be.isString(r)?-1!==t.indexOf(r):be.isRegExp(r)?r.test(t):void 0:void 0)}class Xe{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=Je(t);if(!i)throw new Error("header name must be a non-empty string");const o=be.findKey(r,i);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||t]=Ye(e))}const o=(e,t)=>be.forEach(e,((e,n)=>i(e,n,t)));return be.isPlainObject(e)||e instanceof this.constructor?o(e,t):be.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?o((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&Ge[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t):null!=e&&i(t,e,n),this}get(e,t){if(e=Je(e)){const n=be.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(be.isFunction(t))return t.call(this,e,n);if(be.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Je(e)){const n=be.findKey(this,e);return!(!n||void 0===this[n]||t&&!$e(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=Je(e)){const i=be.findKey(n,e);!i||t&&!$e(0,n[i],i,t)||(delete n[i],r=!0)}}return be.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!$e(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return be.forEach(this,((r,i)=>{const o=be.findKey(n,i);if(o)return t[o]=Ye(r),void delete t[i];const a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();a!==i&&delete t[i],t[a]=Ye(r),n[a]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return be.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&be.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach((e=>n.set(e))),n}static accessor(e){const t=(this[Ke]=this[Ke]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=Je(e);t[r]||(!function(e,t){const n=be.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return be.isArray(e)?e.forEach(r):r(e),this}}Xe.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),be.reduceDescriptors(Xe.prototype,(({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}})),be.freezeMethods(Xe);var Qe=Xe;function et(e,t){const n=this||We,r=t||n,i=Qe.from(r.headers);let o=r.data;return be.forEach(e,(function(e){o=e.call(n,o,i.normalize(),t?t.status:void 0)})),i.normalize(),o}function tt(e){return!(!e||!e.__CANCEL__)}function nt(e,t,n){Se.call(this,null==e?"canceled":e,Se.ERR_CANCELED,t,n),this.name="CanceledError"}be.inherits(nt,Se,{__CANCEL__:!0});var rt=nt;var it=qe.hasStandardBrowserEnv?{write(e,t,n,r,i,o){const a=[e+"="+encodeURIComponent(t)];be.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),be.isString(r)&&a.push("path="+r),be.isString(i)&&a.push("domain="+i),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function ot(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var at=qe.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=be.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0};var st=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,o=0,a=0;return t=void 0!==t?t:1e3,function(s){const u=Date.now(),c=r[a];i||(i=u),n[o]=s,r[o]=u;let l=a,f=0;for(;l!==o;)f+=n[l++],l%=e;if(o=(o+1)%e,o===a&&(a=(a+1)%e),u-i<t)return;const d=c&&u-c;return d?Math.round(1e3*f/d):void 0}};function ut(e,t){let n=0;const r=st(50,250);return i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,s=o-n,u=r(s);n=o;const c={loaded:o,total:a,progress:a?o/a:void 0,bytes:s,rate:u||void 0,estimated:u&&a&&o<=a?(a-o)/u:void 0,event:i};c[t?"download":"upload"]=!0,e(c)}}const ct={http:null,xhr:"undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){let r=e.data;const i=Qe.from(e.headers).normalize();let o,a,{responseType:s,withXSRFToken:u}=e;function c(){e.cancelToken&&e.cancelToken.unsubscribe(o),e.signal&&e.signal.removeEventListener("abort",o)}if(be.isFormData(r))if(qe.hasStandardBrowserEnv||qe.hasStandardBrowserWebWorkerEnv)i.setContentType(!1);else if(!1!==(a=i.getContentType())){const[e,...t]=a?a.split(";").map((e=>e.trim())).filter(Boolean):[];i.setContentType([e||"multipart/form-data",...t].join("; "))}let l=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(t+":"+n))}const f=ot(e.baseURL,e.url);function d(){if(!l)return;const r=Qe.from("getAllResponseHeaders"in l&&l.getAllResponseHeaders());!function(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Se("Request failed with status code "+n.status,[Se.ERR_BAD_REQUEST,Se.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),c()}),(function(e){n(e),c()}),{data:s&&"text"!==s&&"json"!==s?l.response:l.responseText,status:l.status,statusText:l.statusText,headers:r,config:e,request:l}),l=null}if(l.open(e.method.toUpperCase(),je(f,e.params,e.paramsSerializer),!0),l.timeout=e.timeout,"onloadend"in l?l.onloadend=d:l.onreadystatechange=function(){l&&4===l.readyState&&(0!==l.status||l.responseURL&&0===l.responseURL.indexOf("file:"))&&setTimeout(d)},l.onabort=function(){l&&(n(new Se("Request aborted",Se.ECONNABORTED,e,l)),l=null)},l.onerror=function(){n(new Se("Network Error",Se.ERR_NETWORK,e,l)),l=null},l.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const r=e.transitional||Le;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new Se(t,r.clarifyTimeoutError?Se.ETIMEDOUT:Se.ECONNABORTED,e,l)),l=null},qe.hasStandardBrowserEnv&&(u&&be.isFunction(u)&&(u=u(e)),u||!1!==u&&at(f))){const t=e.xsrfHeaderName&&e.xsrfCookieName&&it.read(e.xsrfCookieName);t&&i.set(e.xsrfHeaderName,t)}void 0===r&&i.setContentType(null),"setRequestHeader"in l&&be.forEach(i.toJSON(),(function(e,t){l.setRequestHeader(t,e)})),be.isUndefined(e.withCredentials)||(l.withCredentials=!!e.withCredentials),s&&"json"!==s&&(l.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&l.addEventListener("progress",ut(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&l.upload&&l.upload.addEventListener("progress",ut(e.onUploadProgress)),(e.cancelToken||e.signal)&&(o=t=>{l&&(n(!t||t.type?new rt(null,e,l):t),l.abort(),l=null)},e.cancelToken&&e.cancelToken.subscribe(o),e.signal&&(e.signal.aborted?o():e.signal.addEventListener("abort",o)));const h=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(f);h&&-1===qe.protocols.indexOf(h)?n(new Se("Unsupported protocol "+h+":",Se.ERR_BAD_REQUEST,e)):l.send(r||null)}))}};be.forEach(ct,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));const lt=e=>`- ${e}`,ft=e=>be.isFunction(e)||null===e||!1===e;var dt=e=>{e=be.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let o=0;o<t;o++){let t;if(n=e[o],r=n,!ft(n)&&(r=ct[(t=String(n)).toLowerCase()],void 0===r))throw new Se(`Unknown adapter '${t}'`);if(r)break;i[t||"#"+o]=r}if(!r){const e=Object.entries(i).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));let n=t?e.length>1?"since :\n"+e.map(lt).join("\n"):" "+lt(e[0]):"as no adapter specified";throw new Se("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function ht(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new rt(null,e)}function pt(e){ht(e),e.headers=Qe.from(e.headers),e.data=et.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return dt(e.adapter||We.adapter)(e).then((function(t){return ht(e),t.data=et.call(e,e.transformResponse,t),t.headers=Qe.from(t.headers),t}),(function(t){return tt(t)||(ht(e),t&&t.response&&(t.response.data=et.call(e,e.transformResponse,t.response),t.response.headers=Qe.from(t.response.headers))),Promise.reject(t)}))}const vt=e=>e instanceof Qe?e.toJSON():e;function mt(e,t){t=t||{};const n={};function r(e,t,n){return be.isPlainObject(e)&&be.isPlainObject(t)?be.merge.call({caseless:n},e,t):be.isPlainObject(t)?be.merge({},t):be.isArray(t)?t.slice():t}function i(e,t,n){return be.isUndefined(t)?be.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function o(e,t){if(!be.isUndefined(t))return r(void 0,t)}function a(e,t){return be.isUndefined(t)?be.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(n,i,o){return o in t?r(n,i):o in e?r(void 0,n):void 0}const u={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:(e,t)=>i(vt(e),vt(t),!0)};return be.forEach(Object.keys(Object.assign({},e,t)),(function(r){const o=u[r]||i,a=o(e[r],t[r],r);be.isUndefined(a)&&o!==s||(n[r]=a)})),n}const gt="1.6.5",yt={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{yt[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const bt={};yt.transitional=function(e,t,n){function r(e,t){return"[Axios v1.6.5] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,o)=>{if(!1===e)throw new Se(r(i," has been removed"+(t?" in "+t:"")),Se.ERR_DEPRECATED);return t&&!bt[i]&&(bt[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,o)}};var wt={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Se("options must be an object",Se.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],a=t[o];if(a){const t=e[o],n=void 0===t||a(t,o,e);if(!0!==n)throw new Se("option "+o+" must be "+n,Se.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Se("Unknown option "+o,Se.ERR_BAD_OPTION)}},validators:yt};const _t=wt.validators;class Et{constructor(e){this.defaults=e,this.interceptors={request:new Me,response:new Me}}request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=mt(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&wt.assertOptions(n,{silentJSONParsing:_t.transitional(_t.boolean),forcedJSONParsing:_t.transitional(_t.boolean),clarifyTimeoutError:_t.transitional(_t.boolean)},!1),null!=r&&(be.isFunction(r)?t.paramsSerializer={serialize:r}:wt.assertOptions(r,{encode:_t.function,serialize:_t.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&be.merge(i.common,i[t.method]);i&&be.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=Qe.concat(o,i);const a=[];let s=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(s=s&&e.synchronous,a.unshift(e.fulfilled,e.rejected))}));const u=[];let c;this.interceptors.response.forEach((function(e){u.push(e.fulfilled,e.rejected)}));let l,f=0;if(!s){const e=[pt.bind(this),void 0];for(e.unshift.apply(e,a),e.push.apply(e,u),l=e.length,c=Promise.resolve(t);f<l;)c=c.then(e[f++],e[f++]);return c}l=a.length;let d=t;for(f=0;f<l;){const e=a[f++],t=a[f++];try{d=e(d)}catch(h){t.call(this,h);break}}try{c=pt.call(this,d)}catch(h){return Promise.reject(h)}for(f=0,l=u.length;f<l;)c=c.then(u[f++],u[f++]);return c}getUri(e){return je(ot((e=mt(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}be.forEach(["delete","get","head","options"],(function(e){Et.prototype[e]=function(t,n){return this.request(mt(n||{},{method:e,url:t,data:(n||{}).data}))}})),be.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(mt(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Et.prototype[e]=t(),Et.prototype[e+"Form"]=t(!0)}));var St=Et;class xt{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new rt(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new xt((function(t){e=t})),cancel:e}}}var Ot=xt;const Ct={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ct).forEach((([e,t])=>{Ct[t]=e}));var kt=Ct;const Tt=function e(t){const n=new St(t),r=B(St.prototype.request,n);return be.extend(r,St.prototype,n,{allOwnKeys:!0}),be.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(mt(t,n))},r}(We);Tt.Axios=St,Tt.CanceledError=rt,Tt.CancelToken=Ot,Tt.isCancel=tt,Tt.VERSION=gt,Tt.toFormData=Ae,Tt.AxiosError=Se,Tt.Cancel=Tt.CanceledError,Tt.all=function(e){return Promise.all(e)},Tt.spread=function(e){return function(t){return e.apply(null,t)}},Tt.isAxiosError=function(e){return be.isObject(e)&&!0===e.isAxiosError},Tt.mergeConfig=mt,Tt.AxiosHeaders=Qe,Tt.formToJSON=e=>Ze(be.isHTMLForm(e)?new FormData(e):e),Tt.getAdapter=dt,Tt.HttpStatusCode=kt,Tt.default=Tt;var At=Tt,It=function(e){return At.create({headers:{authorization:"Bearer ".concat(e)}})};function Dt(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}var Pt="api/git/auth",Rt=function(){var e,t=(e=o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,It(t).get("/".concat(Pt,"/checkLogin"));case 2:return n=e.sent.data,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Dt(o,r,i,a,s,"next",e)}function s(e){Dt(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}(),Nt={checkIsLoggedIn:Rt,login:function(e){var t=new URL("".concat(window.location.origin,"/").concat(Pt,"/login"));t.searchParams.set("authToken",e),t.searchParams.set("redirectUrl",window.location.href),window.location.href=t.toString()},installApp:function(e,t){var n=new URL("".concat(window.location.origin,"/").concat(Pt,"/install"));return n.searchParams.set("teamId",t),n.searchParams.set("authToken",e),function(e,t,n,r){var i=screen.width/2-n/2,o=screen.height/2-r/2;return window.open(t,e,"\n      status=no,\n      toolbar=no,\n      menubar=no,\n      location=no,\n      resizable=no,\n      scrollbars=no,\n      directories=no,\n      copyhistory=no,\n      top=".concat(o,",\n      left=").concat(i,",\n      width=").concat(n,",\n      height=").concat(r,"\n    "))}("Connect your GitHub organization to Eraser",n.toString(),1030,600)}},jt=n(55932),Mt=n(68732),Lt=n(9605),Ft=n(6717),Bt=n(14898),Ut=n(83e3),Vt=function(e){var t=e.error;if(!t)return(0,a.jsx)(a.Fragment,{children:"A server occurred. Please try again later."});if(!t.documentationUrl)return(0,a.jsx)(a.Fragment,{children:t.message});var n=t.message.endsWith(".")?t.message:"".concat(t.message,".");return(0,a.jsxs)("span",{children:[n,"\xa0",(0,a.jsx)(Ut.d,{href:t.documentationUrl,style:{display:"block"},children:(0,a.jsx)("small",{children:"Learn more"})})]})},zt=n(52251),qt=n(90396);function Zt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ht(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function Wt(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Ht(o,r,i,a,s,"next",e)}function s(e){Ht(o,r,i,a,s,"throw",e)}a(void 0)}))}}function Gt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Gt(e,t,n[t])}))}return e}function Jt(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Zt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Zt(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Yt=(0,s.createContext)({isLoggedIn:!1,organizations:null,isLoginLoading:!0,repositoriesMap:null,login:function(){},installApp:function(){},openHelpModal:function(){},configureOrganization:function(){},batchPush:function(){return Promise.resolve(void 0)},batchPull:function(){return Promise.resolve(void 0)},subscribeToEventBus:function(){return new u.v},addRepository:function(){return Promise.resolve(void 0)},getDefaultBranchName:function(){return Promise.resolve("")},listRepositoryBranches:function(){return Promise.resolve([])},removeRepository:function(){return Promise.resolve(void 0)},getLatestCommitForFile:function(){return Promise.resolve(void 0)},listRepositoriesForOrganization:function(){return Promise.resolve([])}}),$t=function(){return(0,s.useContext)(Yt)},Xt=function(e,t){var n=$t().subscribeToEventBus;(0,s.useEffect)((function(){var r=n(e,t);return function(){r.off(e,t)}}),[e,n,t])},Qt=function(e){var t=e.children,n=(0,Lt.Z)(),r=(0,Ft.Y)(),i=(0,Mt.LP)(),x=(0,Bt.aF)(),C=(0,s.useRef)(new u.v),k=(0,l.m)((function(e){return e.pipe((0,b.U)((function(e){return Jt(e,1)[0]})),(0,qt.BX)())}),[r,null===x||void 0===x?void 0:x.gitHubInfo]),T=(0,l.m)((function(){return k.pipe((0,w.w)((function(e){return(0,_.D)(Nt.checkIsLoggedIn(e))})),(0,b.U)((function(e){return{isLoginLoading:!1,isLoggedIn:e}})),(0,E.O)({isLoginLoading:!0,isLoggedIn:!1}))})),A=(0,l.m)((function(e){return e}),[i]).pipe((0,b.U)((function(e){return Jt(e,1)[0]})),(0,qt.BX)()),I=(0,l.m)((function(){return A.pipe((0,w.w)((function(e){return jt.j.observeOrganizations(e)})))})),D=(0,l.m)((function(){return I.pipe((0,b.U)((function(e){return e.map((function(e){return e.id}))})),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,y.jO)(e);return(0,h.e)((function(t,r){for(var i=e.length,o=new Array(i),a=e.map((function(){return!1})),s=!1,u=function(t){(0,v.Xf)(e[t]).subscribe((0,p.x)(r,(function(e){o[t]=e,s||a[t]||(a[t]=!0,(s=a.every(m.y))&&(a=null))}),g.Z))},c=0;c<i;c++)u(c);t.subscribe((0,p.x)(r,(function(e){if(s){var t=(0,d.ev)([e],(0,d.CR)(o));r.next(n?n.apply(void 0,(0,d.ev)([],(0,d.CR)(t))):t)}})))}))}(A),(0,w.w)((function(e){var t=Jt(e,2),n=t[0],r=t[1];return(0,S.a)(n.map((function(e){return jt.j.observeRepositories(r,e)}))).pipe((0,b.U)((function(e){return e.reduce((function(e,t,r){return e.set(n[r],t)}),new Map)})))})))})),P=(0,f.p)(I,null),R=(0,f.p)(D,null),N=(0,f.p)(T,{isLoggedIn:!1,isLoginLoading:!0}),j=function(){var e=Wt(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.listRepositoriesForOrganization({organizationId:t,teamId:i});case 2:return n=e.sent,e.abrupt("return",n.map((function(e){return e.name})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Wt(o().mark((function e(t){var n,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.organizationId,r=t.organizationName,a=t.repositoryName,e.next=3,jt.j.addRepository(i,n,{name:a});case 3:zt.Z.trackEvent("gitHub-dashboard","add_repository",{repositoryName:a,organizationName:r});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Wt(o().mark((function e(t){var n,r,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.organizationId,r=t.organizationName,a=t.repositoryId,s=t.repositoryName,e.next=3,jt.j.removeRepository(i,n,a);case 3:zt.Z.trackEvent("gitHub-dashboard","remove_repository",{repositoryName:s,organizationName:r});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Wt(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.listRepositoryBranches({repositoryId:n,organizationId:t,teamId:i});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),U=function(){var e=Wt(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.getRepositoryDefaultBranchName({repositoryId:n,organizationId:t,teamId:i});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),V=function(){var e=Wt(o().mark((function e(t){var r,s,u,l,f,d,h,p,v;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.byType,s=t.organizationName,u=t.repositoryName,l=(0,c.x0)(),e.prev=3,e.t0=r,e.next="workspace"===e.t0?7:"repository"===e.t0?12:17;break;case 7:return d=t.workspaceIds,e.next=10,F.batchPull({byType:r,workspaceIds:d,teamId:i});case 10:return f=e.sent,e.abrupt("break",18);case 12:return h=t.organizationId,p=t.repositoryId,e.next=15,F.batchPull({byType:r,repositoryId:p,organizationId:h,teamId:i});case 15:return f=e.sent,e.abrupt("break",18);case 17:return e.abrupt("return");case 18:if(zt.Z.trackEvent("gitHub-dashboard","batch_pull",{byType:r,repositoryName:u,organizationName:s}),!f){e.next=21;break}return e.abrupt("return",f.operationId);case 21:e.next=27;break;case 23:e.prev=23,e.t1=e.catch(3),v=e.t1,n.error((0,a.jsx)(Vt,{error:v.details}),{id:l});case 27:case"end":return e.stop()}}),e,null,[[3,23]])})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Wt(o().mark((function e(t){var r,s,u,l,f,d,h,p,v,m,g,y,b,w,_,E,S;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.byType,s=t.prInfo,u=t.filePath,l=t.branchName,f=t.commitMessage,d=t.repositoryName,h=t.organizationName,p=t.defaultBranchName,v=(0,c.x0)(),g={prInfo:s,branchName:l,commitMessage:f},e.prev=4,e.t0=r,e.next="workspace"===e.t0?9:"repository"===e.t0?16:23;break;case 9:return b=t.workspaceIds,y="Eraser file pushed to GitHub",n.loading("Pushing Eraser file to GitHub",{id:v}),e.next=14,F.batchPush(Kt({byType:r,workspaceIds:b},g));case 14:return m=e.sent,e.abrupt("break",24);case 16:return w=t.organizationId,_=t.repositoryId,y="Eraser files pushed to GitHub",n.loading("Pushing Eraser files to GitHub",{id:v}),e.next=21,F.batchPush(Kt({byType:r},g,{repositoryId:_,organizationId:w,teamId:i}));case 21:return m=e.sent,e.abrupt("break",24);case 23:return e.abrupt("return");case 24:206===m.status?(E="PR creation failed: ".concat(m.prError.message),y="".concat(y,". ").concat(E),n(y,{id:v,icon:"\u26a0\ufe0f",className:O().warning})):n.success(y,{id:v}),zt.Z.trackEvent("gitHub-dashboard","batch_push",{byType:r,filePath:u,branchName:l,commitMessage:f,repositoryName:d,organizationName:h,prTitle:null===s||void 0===s?void 0:s.title,isDefaultBranch:l===p}),e.next=32;break;case 28:e.prev=28,e.t1=e.catch(4),S=e.t1,n.error((0,a.jsx)(Vt,{error:S.details}),{id:v});case 32:case"end":return e.stop()}}),e,null,[[4,28]])})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Wt(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.getLatestCommitForFile(Kt({},t,{teamId:i}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=C.current.on.bind(C.current);return(0,a.jsx)(Yt.Provider,{value:Kt({login:function(){zt.Z.trackEvent("gitHub-dashboard","login"),Nt.login(r)},batchPull:V,batchPush:z,installApp:function(){zt.Z.trackEvent("gitHub-dashboard","add_organization_click");var e=Nt.installApp(r,i),t=setInterval((function(){e?e.closed&&(clearInterval(t),C.current.emit("onInstallWindowClosed")):clearInterval(t)}),300)}},N,{openHelpModal:function(){return C.current.emit("openHelpModal")},addRepository:M,organizations:P,repositoriesMap:R,removeRepository:L,subscribeToEventBus:Z,getDefaultBranchName:U,configureOrganization:function(e){var t=e.organizationId,n=e.organizationName,r=null===P||void 0===P?void 0:P.find((function(e){return e.id===t}));r&&(jt.j.configureOrganization(r),zt.Z.trackEvent("gitHub-dashboard","configure_organization",{organizationName:n}))},listRepositoryBranches:B,getLatestCommitForFile:q,listRepositoriesForOrganization:j}),children:t})}},27822:function(e,t,n){"use strict";n.d(t,{$m:function(){return o},dr:function(){return a},k_:function(){return s}});var r=n(26005),i=n(60541),o=function(){var e=(0,r.Q)(),t=e.tabId,n=e.query,i=n.repositoryName,o=n.organizationName;return"github"===t?{organizationName:o,repositoryName:i}:{organizationName:void 0,repositoryName:void 0}},a=function(){var e=o().organizationName,t=(0,i.E$)().organizations;if(t&&e)return t.find((function(t){return t.name===e}))},s=function(){var e,t=(0,i.E$)().repositoriesMap,n=o().repositoryName,r=a();if(t&&r&&n)return null===(e=t.get(r.id))||void 0===e?void 0:e.find((function(e){return e.name===n}))}},89011:function(e,t,n){"use strict";n.d(t,{Qs:function(){return i},T5:function(){return a},aO:function(){return o}});var r=n(60541),i=function(e){var t=(0,r.E$)().organizations;return null===t||void 0===t?void 0:t.find((function(t){return t.id===e}))},o=function(e,t){var n,i=(0,r.E$)().repositoriesMap;return null===(n=null===i||void 0===i?void 0:i.get(null!==e&&void 0!==e?e:""))||void 0===n?void 0:n.find((function(e){return e.id===t}))},a=function(e){var t=e||{},n=t.repositoryId,r=t.organizationId;return{organization:i(r),repository:o(r,n)}}},99089:function(e,t,n){"use strict";n.d(t,{N:function(){return b}});var r=n(52322),i=n(49797),o=n(4742),a=n.n(o),s=n(51992),u=n(8930),c=n(42033),l=n.n(c);function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d=function(e){var t=e.size,n=void 0===t?28:t,i=e.skeletonThemeProps,o=(0,u.Z)((function(){return a()([75,100,125])}));return(0,r.jsx)(s.yB,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){f(e,t,n[t])}))}return e}({color:"#eeeeee",highlightColor:"#f2f2f2"},i,{children:(0,r.jsxs)("div",{className:l().skeleton,children:[(0,r.jsx)(s.ZP,{count:1,width:n,height:n,circle:!0,className:l().avatar}),(0,r.jsx)(s.ZP,{count:1,width:o,height:n/2,className:l().name})]})}))},h=n(23763),p=n(28058),v=n(53035),m=n.n(v);function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){g(e,t,n[t])}))}return e}var b=function(e){var t=e.userId,n=e.avatarSize,o=e.skeletonThemeProps,a=e.classNames,s=(0,i.Z)(t),u=(0,r.jsx)(d,{skeletonThemeProps:o,size:n});return s&&(u=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.Z,y({className:m().avatar},s,{size:n,isNoTooltip:!0})),(0,r.jsx)("div",{className:(0,p.Z)(m().name,null===a||void 0===a?void 0:a.name),children:s.displayName})]})),(0,r.jsx)("div",{className:m().member,children:u})}},10890:function(e,t,n){"use strict";n.d(t,{Z:function(){return O}});var r=n(52322),i=n(2784),o=n(27875),a=n.n(o),s=n(89473),u=n(99089),c=n(46710),l=n(83445),f=n(28058),d=n(32105),h=n.n(d),p=function(e){var t=e.userIds,n=e.avatarSize;return(0,r.jsx)("div",{className:(0,f.Z)(h().members),children:t.map((function(e){return(0,r.jsx)(u.N,{userId:e,avatarSize:n,classNames:{name:h().memberName},skeletonThemeProps:{color:"var(--grey-1300-constant)",highlightColor:"var(--grey-1100-constant)"}},e)}))})},v=function(e){var t=e.userIds,n=e.avatarSize,o=e.isInviteOpen,a=(0,i.useRef)(null),s=(0,l.Z)(),u=s.isOpen,f=s.onOpen,d=s.onClose,v=(0,i.useCallback)((function(e){e.stopPropagation(),e.preventDefault(),u?d():f()}),[u,d,f]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{ref:a,onMouseEnter:f,onMouseLeave:d,className:h().moreMembers,onTouchEnd:v,style:{width:n,height:n},children:(0,r.jsxs)("span",{children:["+",t.length]})}),(0,r.jsx)(c.Z,{disableArrow:!0,placement:"bottom",targetNode:a.current,className:h().listPopper,visible:u&&!o,children:(0,r.jsx)(p,{userIds:t,avatarSize:n})})]})},m=(0,i.memo)(v),g=n(23763),y=n(51980),b=n(58525),w=n.n(b);function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var S={refreshRate:0,handleHeight:!1,refreshMode:"debounce"},x=function(e){var t=e.isOpen,n=e.userIds,o=e.max,u=void 0===o?6:o,c=e.onClick,l=e.className,d=e.isStaticSize,h=e.avatarSize,p=void 0===h?28:h,v=e.tooltipSubTextById,b=e.avatarDummyThreshold,_=void 0===b?3:b,x=e.showDummyAvatars,O=void 0!==x&&x,C=e.horizontalAlign,k=void 0===C?"start":C,T=(0,s.NB)(S),A=T.width,I=T.ref,D=p+4,P=u;A&&!d&&(P=a()(Math.floor(A/(D-5)),1,u));var R=(0,i.useMemo)((function(){return[n.slice(0,P),n.slice(P)]}),[n,P]),N=R[0],j=R[1];if(0===N.length)return null;var M=function(e,t,n){if(e.length>=n||!t)return e.map((function(e){return{userId:e,type:"realUser"}}));var r=n-e.length;return E(e.map((function(e){return{userId:e,type:"realUser"}}))).concat(E(Array(r).fill(0).map((function(e,t){return{userId:"dummy-".concat(t),type:"dummy"}}))))}(N,O,_);return(0,r.jsxs)("div",{className:(0,f.Z)(w().container,l),onClick:c,children:[(0,r.jsx)("div",{ref:I,className:(0,f.Z)(w().avatars,w()["align-".concat(k)]),children:M.map((function(e){var t=e.type,n=e.userId;return(0,r.jsx)("span",{className:w().avatarContainer,children:"realUser"===t?(0,r.jsx)(y.s,{userId:n,size:p,className:(0,f.Z)(w().avatar,w().userAvatar),tooltipSubText:null===v||void 0===v?void 0:v[n]}):(0,r.jsx)(g.Z,{isNoTooltip:!0,fallback:"\xa0",size:p,color:"var(--grey-700)",className:w().avatar})},n)}))}),j.length>0&&(0,r.jsx)(m,{userIds:j,isInviteOpen:t,avatarSize:p},"more")]})},O=(0,i.memo)(x)},41417:function(e,t,n){"use strict";n.d(t,{Y:function(){return u}});var r=n(2732),i=(0,r.cn)({key:"settingsModalState",default:{isOpen:!1,openedPane:"members"}}),o=n(2784);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var u=function(){var e=s((0,r.FV)(i),2),t=e[0],n=e[1],a=(0,o.useCallback)((function(e){var t;n({isOpen:!0,openedPane:null!==(t=null===e||void 0===e?void 0:e.openedPane)&&void 0!==t?t:"members"})}),[n]),u=(0,o.useCallback)((function(){n({isOpen:!1,openedPane:void 0})}),[n]);return{setOpenedPane:(0,o.useCallback)((function(e){n({isOpen:!0,openedPane:e})}),[n]),openSettingsModal:a,closeSettingsModal:u,openedPane:t.openedPane,isSettingsModalOpen:t.isOpen}}},53351:function(e,t,n){"use strict";n.d(t,{x:function(){return c}});var r=n(52322),i=n(28058),o=n(20172),a=n.n(o),s=n(4679),u=n.n(s),c=function(e){var t=e.disabled,n=e.onClick,o=e.classNames;return(0,r.jsx)("div",{onClick:n,className:(0,i.Z)(null===o||void 0===o?void 0:o.root,a().newTemplateCard,u().templateCard,t&&a().disabled),children:(0,r.jsx)("span",{className:a().newTemplateCardTitle,children:"Create New Template"})})}},63525:function(e,t,n){"use strict";n.d(t,{w:function(){return j}});var r,i=n(52322),o=n(5632),a=n(2784),s=n(28058),u=n(67612),c=n(19422),l=n(29658),f=n(20879),d=n(67159);function h(){return h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h.apply(this,arguments)}var p,v,m,g=function(e){return a.createElement("svg",h({width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=a.createElement("path",{d:"M6 11.2v-10M1.2 4V1.2h9.6V4m-8 6.8h6",stroke:"currentColor"})))},y=n(40040),b=n(49892),w=n(76117);function _(){return _=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_.apply(this,arguments)}var E=function(e){return a.createElement("svg",_({xmlns:"http://www.w3.org/2000/svg",width:77,height:76,viewBox:"0 0 77 76",fill:"none"},e),p||(p=a.createElement("path",{d:"M10.398 2.467h59.2A4.933 4.933 0 0174.532 7.4v59.2m-22.2-49.333h4.933m17.267 26.567l-14.8-14.79-7.634 6.64-20.966-24.65L23.998 18",stroke:"var(--grey-1200)",strokeWidth:4.933})),v||(v=a.createElement("path",{d:"M41.233 71.533h4.934m-19.734 0h4.934m-19.734 0h4.934M3 62.9h4.933M3 48.1h4.933M3 33.3h4.933M54.8 71.533h4.933M3 20.35h4.933",stroke:"var(--grey-800)",strokeWidth:4.933})),m||(m=a.createElement("path",{stroke:"var(--grey-1200)",strokeWidth:4.93,d:"M2.243 5.757l68 68"})))},S=n(14113),x=n(3559),O=n(12405),C=n(68732),k=n(36171),T=n(79057),A=n(46637),I=n(24507),D=n(72625),P=n(9605),R=n(4679),N=n.n(R),j=function(e){var t,n=e.template,r=e.isLoading,h=e.onPreviewClick,p=e.onUseTemplate,v=e.classNames,m=void 0===v?{}:v,_=(0,o.useRouter)(),R=(0,P.Z)(),j=(0,I.F)().theme,M=n.isArchived,L=(0,C.LP)(),F=(0,a.useState)(!1),B=F[0],U=F[1],V=(0,a.useState)(!1),z=V[0],q=V[1],Z=(0,a.useState)(!1),H=Z[0],W=Z[1],G=(0,a.useState)(n.title),K=G[0],J=G[1],Y=(0,k.X)(),$=Y.request,X=Y.loading,Q=(0,O.o)({currentTeamId:L,isArchived:!!M,workspaceId:n.id,workspaceTeamId:n.teamId}),ee=function(){U(!0),_.push("/workspace/".concat(n.id))},te=function(){z||q(!0)},ne=function(){q(!1),n.title!==K&&(0,T.e)(n.id,{title:K})},re=function(e,t){var n=e.id,r=e.templateVersionId,i=e.templatePreviewImages;if(!r||!i||!i[t])return{};if(i[t]!==r)return{};var o=(0,A.j)({theme:t,templateVersionId:r,templateWorkspaceId:n}).imgixPath;return{backgroundImage:"url(".concat((0,w.V)(o),")")}}(n,j),ie=!!n.templateVersionId;return(0,i.jsxs)("div",{className:(0,s.Z)(m.root,N().templateCard,(r||X||B)&&N().disabled),children:[(0,i.jsxs)("div",{onClick:ie?h:ee,className:N().imageContainer,style:re,children:[!re.backgroundImage&&(0,i.jsx)("div",{className:N().fallbackContainer,children:(0,i.jsxs)("div",{children:[(0,i.jsx)(E,{}),"No thumbnail available"]})}),(0,i.jsxs)("div",{className:N().tooltip,children:[ie?(0,i.jsx)(x.ZP,{variant:x.ZP.Variants.TRANSPARENT,onClick:h,children:re.backgroundImage?"Preview":"Load Preview"}):(0,i.jsx)(x.ZP,{variant:x.ZP.Variants.TRANSPARENT,onClick:ee,children:"Edit"}),!M&&ie&&(0,i.jsx)(x.ZP,{onClick:function(e){e.stopPropagation(),p(n)},children:"Use Template"}),!M&&!ie&&(0,i.jsx)(x.ZP,{onClick:function(e){e.preventDefault(),e.stopPropagation(),H||n.templateVersionId||(W(!0),(0,D.X)({templateWorkspaceId:n.id,teamId:n.teamId}).then((function(){W(!1),R.success("Template published")}),(function(){W(!1),R.error("Error publishing")})))},isLoading:H,tooltipDisabled:H,title:"Templates must be published before they can be used.",children:"Publish"})]})]}),(0,i.jsxs)("div",{className:N().titleWrapper,children:[(0,i.jsxs)("div",{className:"rowCentered gapLarge",children:[!z&&(0,i.jsx)("span",{className:N().title,onClick:te,children:null!==(t=n.title)&&void 0!==t?t:b.k1}),z&&(0,i.jsx)(S.Z,{autoFocus:!0,value:K,className:N().renameInput,onBlur:ne,onKeyDown:function(e){"Enter"===e.key?ne():"Escape"===e.key&&(e.stopPropagation(),q(!1),J(n.title))},onChange:function(e){return J(e.currentTarget.value)}})]}),(0,i.jsxs)(u.Ng,{children:[!M&&(0,i.jsx)(c.Wx,{label:"Use Template",icon:(0,i.jsx)(f.Z,{}),onClick:function(){return p(n)},isDisabled:!ie}),!M&&(0,i.jsx)(c.Wx,{onClick:ee,label:"Edit Template",icon:(0,i.jsx)(d.Z,{})}),M&&(0,i.jsx)(c.Wx,{label:"Restore Template",icon:(0,i.jsx)(f.Z,{}),onClick:Q}),(0,i.jsx)(c.Wx,{onClick:te,label:"Rename",icon:(0,i.jsx)(g,{})}),!M&&(0,i.jsx)(c.Wx,{onClick:function(){$({workspaceId:n.id,teamId:n.teamId})},label:"Duplicate",icon:(0,i.jsx)(y.Z,{})}),!M&&(0,i.jsx)(u.KE,{space:"medium"}),!M&&(0,i.jsx)(c.Wx,{onClick:Q,label:"Archive",icon:(0,i.jsx)(l.Z,{})})]})]})]})}},16866:function(e,t,n){"use strict";n.d(t,{E:function(){return pe}});var r=n(52322),i=n(66700),o=n(19785);function a(e){(0,o.Z)(1,arguments);var t=(0,i.Z)(e);return!isNaN(t)}var s={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function u(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth,r=e.formats[n]||e.formats[e.defaultWidth];return r}}var c={date:u({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:u({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:u({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},l={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function f(e){return function(t,n){var r,i=n||{};if("formatting"===(i.context?String(i.context):"standalone")&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,a=i.width?String(i.width):o;r=e.formattingValues[a]||e.formattingValues[o]}else{var s=e.defaultWidth,u=i.width?String(i.width):e.defaultWidth;r=e.values[u]||e.values[s]}return r[e.argumentCallback?e.argumentCallback(t):t]}}var d={ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:f({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:f({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:f({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:f({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:f({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function h(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;var a,s=o[0],u=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(u)?v(u,(function(e){return e.test(s)})):p(u,(function(e){return e.test(s)}));a=e.valueCallback?e.valueCallback(c):c,a=n.valueCallback?n.valueCallback(a):a;var l=t.slice(s.length);return{value:a,rest:l}}}function p(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}function v(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n}var m,g={ordinalNumber:(m={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.match(m.matchPattern);if(!n)return null;var r=n[0],i=e.match(m.parsePattern);if(!i)return null;var o=m.valueCallback?m.valueCallback(i[0]):i[0];o=t.valueCallback?t.valueCallback(o):o;var a=e.slice(r.length);return{value:o,rest:a}}),era:h({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:h({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:h({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:h({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:h({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},y={code:"en-US",formatDistance:function(e,t,n){var r;return n=n||{},r="string"===typeof s[e]?s[e]:1===t?s[e].one:s[e].other.replace("{{count}}",t),n.addSuffix?n.comparison>0?"in "+r:r+" ago":r},formatLong:c,formatRelative:function(e,t,n,r){return l[e]},localize:d,match:g,options:{weekStartsOn:0,firstWeekContainsDate:1}};function b(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function w(e,t){(0,o.Z)(2,arguments);var n=(0,i.Z)(e).getTime(),r=b(t);return new Date(n+r)}function _(e,t){(0,o.Z)(2,arguments);var n=b(t);return w(e,-n)}function E(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var S={y:function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return E("yy"===t?r%100:r,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):E(n+1,2)},d:function(e,t){return E(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return E(e.getUTCHours()%12||12,t.length)},H:function(e,t){return E(e.getUTCHours(),t.length)},m:function(e,t){return E(e.getUTCMinutes(),t.length)},s:function(e,t){return E(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,r=e.getUTCMilliseconds();return E(Math.floor(r*Math.pow(10,n-3)),t.length)}},x=864e5;function O(e){(0,o.Z)(1,arguments);var t=1,n=(0,i.Z)(e),r=n.getUTCDay(),a=(r<t?7:0)+r-t;return n.setUTCDate(n.getUTCDate()-a),n.setUTCHours(0,0,0,0),n}function C(e){(0,o.Z)(1,arguments);var t=(0,i.Z)(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var a=O(r),s=new Date(0);s.setUTCFullYear(n,0,4),s.setUTCHours(0,0,0,0);var u=O(s);return t.getTime()>=a.getTime()?n+1:t.getTime()>=u.getTime()?n:n-1}function k(e){(0,o.Z)(1,arguments);var t=C(e),n=new Date(0);n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0);var r=O(n);return r}var T=6048e5;function A(e,t){(0,o.Z)(1,arguments);var n=t||{},r=n.locale,a=r&&r.options&&r.options.weekStartsOn,s=null==a?0:b(a),u=null==n.weekStartsOn?s:b(n.weekStartsOn);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var c=(0,i.Z)(e),l=c.getUTCDay(),f=(l<u?7:0)+l-u;return c.setUTCDate(c.getUTCDate()-f),c.setUTCHours(0,0,0,0),c}function I(e,t){(0,o.Z)(1,arguments);var n=(0,i.Z)(e,t),r=n.getUTCFullYear(),a=t||{},s=a.locale,u=s&&s.options&&s.options.firstWeekContainsDate,c=null==u?1:b(u),l=null==a.firstWeekContainsDate?c:b(a.firstWeekContainsDate);if(!(l>=1&&l<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=new Date(0);f.setUTCFullYear(r+1,0,l),f.setUTCHours(0,0,0,0);var d=A(f,t),h=new Date(0);h.setUTCFullYear(r,0,l),h.setUTCHours(0,0,0,0);var p=A(h,t);return n.getTime()>=d.getTime()?r+1:n.getTime()>=p.getTime()?r:r-1}function D(e,t){(0,o.Z)(1,arguments);var n=t||{},r=n.locale,i=r&&r.options&&r.options.firstWeekContainsDate,a=null==i?1:b(i),s=null==n.firstWeekContainsDate?a:b(n.firstWeekContainsDate),u=I(e,t),c=new Date(0);c.setUTCFullYear(u,0,s),c.setUTCHours(0,0,0,0);var l=A(c,t);return l}var P=6048e5;var R="midnight",N="noon",j="morning",M="afternoon",L="evening",F="night",B={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return S.y(e,t)},Y:function(e,t,n,r){var i=I(e,r),o=i>0?i:1-i;return"YY"===t?E(o%100,2):"Yo"===t?n.ordinalNumber(o,{unit:"year"}):E(o,t.length)},R:function(e,t){return E(C(e),t.length)},u:function(e,t){return E(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return E(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return E(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return S.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return E(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var a=function(e,t){(0,o.Z)(1,arguments);var n=(0,i.Z)(e),r=A(n,t).getTime()-D(n,t).getTime();return Math.round(r/P)+1}(e,r);return"wo"===t?n.ordinalNumber(a,{unit:"week"}):E(a,t.length)},I:function(e,t,n){var r=function(e){(0,o.Z)(1,arguments);var t=(0,i.Z)(e),n=O(t).getTime()-k(t).getTime();return Math.round(n/T)+1}(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):E(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):S.d(e,t)},D:function(e,t,n){var r=function(e){(0,o.Z)(1,arguments);var t=(0,i.Z)(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=t.getTime(),a=n-r;return Math.floor(a/x)+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):E(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return E(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return E(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return E(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,i=e.getUTCHours();switch(r=12===i?N:0===i?R:i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,i=e.getUTCHours();switch(r=i>=17?L:i>=12?M:i>=4?j:F,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return S.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):S.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):E(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):E(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):S.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):S.s(e,t)},S:function(e,t){return S.S(e,t)},X:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();if(0===i)return"Z";switch(t){case"X":return V(i);case"XXXX":case"XX":return z(i);default:return z(i,":")}},x:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return V(i);case"xxxx":case"xx":return z(i);default:return z(i,":")}},O:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+U(i,":");default:return"GMT"+z(i,":")}},z:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+U(i,":");default:return"GMT"+z(i,":")}},t:function(e,t,n,r){var i=r._originalDate||e;return E(Math.floor(i.getTime()/1e3),t.length)},T:function(e,t,n,r){return E((r._originalDate||e).getTime(),t.length)}};function U(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),o=r%60;if(0===o)return n+String(i);var a=t||"";return n+String(i)+a+E(o,2)}function V(e,t){return e%60===0?(e>0?"-":"+")+E(Math.abs(e)/60,2):z(e,t)}function z(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e);return r+E(Math.floor(i/60),2)+n+E(i%60,2)}var q=B;function Z(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}}function H(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}}var W={p:H,P:function(e,t){var n,r=e.match(/(P+)(p+)?/),i=r[1],o=r[2];if(!o)return Z(e,t);switch(i){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",Z(i,t)).replace("{{time}}",H(o,t))}},G=W;function K(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var J=["D","DD"],Y=["YY","YYYY"];function $(e){return-1!==J.indexOf(e)}function X(e){return-1!==Y.indexOf(e)}function Q(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"))}var ee=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,te=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ne=/^'([^]*?)'?$/,re=/''/g,ie=/[a-zA-Z]/;function oe(e){return e.match(ne)[1].replace(re,"'")}var ae=n(95655),se=n(49797),ue=n(59697),ce=n.n(ue),le=n(28058),fe=n(55324),de=n.n(fe),he=function(e){return function(e,t,n){(0,o.Z)(2,arguments);var r=String(t),s=n||{},u=s.locale||y,c=u.options&&u.options.firstWeekContainsDate,l=null==c?1:b(c),f=null==s.firstWeekContainsDate?l:b(s.firstWeekContainsDate);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var d=u.options&&u.options.weekStartsOn,h=null==d?0:b(d),p=null==s.weekStartsOn?h:b(s.weekStartsOn);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!u.localize)throw new RangeError("locale must contain localize property");if(!u.formatLong)throw new RangeError("locale must contain formatLong property");var v=(0,i.Z)(e);if(!a(v))throw new RangeError("Invalid time value");var m=K(v),g=_(v,m),w={firstWeekContainsDate:f,weekStartsOn:p,locale:u,_originalDate:v};return r.match(te).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,G[t])(e,u.formatLong,w):e})).join("").match(ee).map((function(n){if("''"===n)return"'";var r=n[0];if("'"===r)return oe(n);var i=q[r];if(i)return!s.useAdditionalWeekYearTokens&&X(n)&&Q(n,t,e),!s.useAdditionalDayOfYearTokens&&$(n)&&Q(n,t,e),i(g,n,u.localize,w);if(r.match(ie))throw new RangeError("Format string contains an unescaped latin alphabet character `"+r+"`");return n})).join("")}(new Date(e),"PPP")},pe=function(e){var t=e.template,n=e.classNames,i=void 0===n?{}:n,o=function(e){return e.isArchived&&e.archivedAt?e.archivedBy:e.updatedAt?null===(t=de()(e.contributors,"contributedAt"))||void 0===t?void 0:t.userId:e.createdAt?e.ownerId:void 0;var t}(t),a=(0,se.Z)(o);return function(){var e;return t.isArchived&&t.archivedAt?e=(0,r.jsxs)("span",{children:["Archived on ",he(t.archivedAt.toMillis())]}):t.updatedAt?e=(0,r.jsxs)("span",{children:["Updated on ",he(t.updatedAt.toMillis())]}):t.createdAt&&(e=(0,r.jsxs)("span",{children:["Updated on ",he(t.createdAt.toMillis())]})),e?(0,r.jsxs)("span",{className:(0,le.Z)(ce().metadataContent,i.content),children:[e,(0,r.jsxs)("span",{children:["\xa0by\xa0",a&&(0,r.jsx)(ae.P8,{isSelected:!1,profile:a,display:a.displayName,classNames:{avatar:ce().avatar,label:(0,le.Z)(ce().avatarName,i.avatarName)}})]})]}):null}()}},28900:function(e,t,n){"use strict";n.d(t,{S:function(){return u}});var r=n(52322),i=n(3559),o=n(5632),a=n(85655),s=n.n(a),u=function(e){var t=e.successMessage,n=(0,o.useRouter)();return(0,r.jsxs)("div",{className:s().successToastWrapper,children:[(0,r.jsx)("span",{children:t}),(0,r.jsx)(i.ZP,{variant:i.ZP.Variants.TRANSPARENT,onClick:function(){return n.push("/dashboard/templates")},children:"Manage Templates"})]})}},73471:function(e,t,n){"use strict";n.d(t,{z:function(){return i}});var r=n(9779),i=function(e){var t=e.isArchived;return(0,r.Z)({isTemplate:!0,isArchived:t,orderBy:"createdAt",orderDir:"desc"})}},24507:function(e,t,n){"use strict";n.d(t,{F:function(){return u}});var r=n(2784),i=function(){var e=(0,r.useState)(!1),t=e[0],n=e[1];return(0,r.useEffect)((function(){n(window.matchMedia("(prefers-color-scheme: dark)").matches);var e=function(e){var t=e.matches?"dark":"light";n("dark"===t)};return window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e),function(){window.matchMedia("(prefers-color-scheme: dark)").removeEventListener("change",e)}}),[]),t},o=n(19605),a=n(14898),s=n(32331),u=function(){var e,t=(0,a.aF)(),n=(0,o.K)(),u=i(),c=n.theme||(null===t||void 0===t||null===(e=t.userSettings)||void 0===e?void 0:e.theme)||"system",l=(0,r.useMemo)((function(){return c&&"system"!==c?c:u?"dark":"light"}),[c,u]),f=(0,r.useMemo)((function(){return"dark"===l}),[l]),d=(0,r.useCallback)((function(){if(null===t||void 0===t?void 0:t.id){var e=f?"light":"dark";s.H.updateUserSettings(t.id,{theme:e})}}),[f,null===t||void 0===t?void 0:t.id]),h=(0,r.useCallback)((function(e){(null===t||void 0===t?void 0:t.id)&&s.H.updateUserSettings(t.id,{theme:e})}),[null===t||void 0===t?void 0:t.id]);return{theme:l,themeSetting:c,isDarkMode:f,toggleTheme:d,setThemeSetting:h}}},97615:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Bh}});var r={};n.r(r),n.d(r,{FILE:function(){return li},HTML:function(){return hi},TEXT:function(){return di},URL:function(){return fi}});var i=n(94776),o=n.n(i),a=n(52322),s=n(2784),u=n(61099),c=n.n(u),l=n(12041),f=n(97729),d=n.n(f),h=n(5632),p=n.n(h),v=n(45847),m=n.n(v),g=(n(61710),n(60759)),y=n(49477),b=n(39097),w=n.n(b),_=n(89011),E=n(65944),S=n(72297),x=n(49892),O=n(53822),C=n(68252),k=n(28058),T=n(9315),A=n.n(T);function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D=function(e){var t=e.gitHubRepository,n=(0,_.T5)(t||{}),r=n.organization,i=n.repository;return(0,a.jsxs)("span",{className:A().subtitle,children:[(0,a.jsx)(O.J,{icon:E.Z,color:"grey-1200",width:12}),(0,a.jsx)("span",{className:A().gitHubSubtitle,children:r&&i?"".concat(r.name,"/").concat(i.name):null})]})},P=function(e){var t=e.file,n=e.isActive,r=e.gitHubRepository,i=e.className,o=(0,C.Id)(null===r||void 0===r?void 0:r.filePath),s=null!=r;return(0,a.jsxs)("a",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){I(e,t,n[t])}))}return e}({},e,{className:(0,k.Z)(A().filesSearchResult,i,n&&A().isActive),children:[(0,a.jsxs)("span",{className:A().title,children:[t.isPrivate&&(0,a.jsx)(O.J,{icon:S.Z}),t.title||x.SF,s&&(0,a.jsx)("span",{className:A().filePath,title:o,children:o})]}),s?(0,a.jsx)(D,{gitHubRepository:r}):(0,a.jsx)("span",{className:A().subtitle,children:t.folderName||"Unsorted"})]}))},R=(0,s.memo)(P),N=n(46134),j=n(68732),M=n(14898),L=n(41573),F=n(52251),B=n(25825),U=n(72342),V=n(13587),z=n(24965),q=n(18154),Z=n(12044),H=n(7048),W=n.n(H),G=n(51992),K=n(48291),J=n.n(K),Y=function(e){var t=e.isActive;return(0,a.jsx)("div",{className:(0,k.Z)(J().skeletonWrapper,t&&J().isActive),children:(0,a.jsxs)(G.yB,{color:"var(--grey-800)",highlightColor:"var(--grey-400)",children:[(0,a.jsx)(G.ZP,{height:15}),(0,a.jsx)(G.ZP,{className:J().folder,width:"30%",height:14})]})})},$=(0,s.memo)(Y),X=n(54167),Q={id:"no-results",title:"No results found",folderName:"Hit enter to try full search"},ee=function(){var e,t=(0,s.useRef)(null),n=(0,N.qz)(),r=n.modalStates,i=n.setModalStates,o=(0,s.useState)(""),u=o[0],c=o[1],l=(0,j.LP)(),f=(0,M.g5)(),d=(0,L.S$)(),h=(0,V.Z)(r.isFileSearchModalOpen?u.trim():void 0,6),v=(0,s.useMemo)((function(){if(Array.isArray(h.results))return h.results.length?h.results:[Q]}),[h.results]),m=(0,s.useMemo)((function(){return"/team/create"!==p().pathname&&(!f&&!d&&!!l)}),[f,d,l]),g=(0,s.useCallback)((function(e){return e===Q?"/dashboard/all?search=".concat(encodeURIComponent(u)):"/workspace/".concat(e.id)}),[u]),y=(0,s.useCallback)((function(){var e;F.Z.trackEvent("files_search","open_full_search",{resultsCount:(null===(e=h.results)||void 0===e?void 0:e.length)||0})}),[null===(e=h.results)||void 0===e?void 0:e.length]),b=(0,s.useCallback)((function(e,t){var n=g(e);e===Q&&y(),(null===t||void 0===t?void 0:t[q.q])?window.open(n,"_blank"):(p().push(n),i({isFileSearchModalOpen:!1}))}),[g,y,i]),_=(0,s.useCallback)((function(e){if(F.Z.trackEvent("files_search","open_file",{method:"click",isInNewTab:e[q.q]||e.shiftKey}),!e[q.q]&&!e.shiftKey){e.preventDefault();var t=e.currentTarget.id,n=null===v||void 0===v?void 0:v.find((function(e){return e.id===t}));n&&b(n)}}),[b,v]),E=(0,s.useCallback)((function(e,t){F.Z.trackEvent("files_search","open_file",{method:"keyboard",isInNewTab:t[q.q]}),b(e,t)}),[b]),S=(0,B.c)({containerRef:t,items:v||[],onSelect:E,isListOpen:r.isFileSearchModalOpen}),x=S.activeIndex,O=S.setActiveIndex,C=(0,s.useCallback)((function(e){m&&(F.Z.trackEvent("files_search","open",{method:"shortcut"}),e.preventDefault(),e.stopPropagation(),c(""),i({isFileSearchModalOpen:!0,isCommandKModalOpen:!1}))}),[m,i]),k=(0,s.useCallback)((function(){i({isFileSearchModalOpen:!1})}),[i]),T=(0,s.useCallback)((function(e){c(e.target.value)}),[]);return(0,s.useEffect)((function(){var e;r.isFileSearchModalOpen&&u.length&&(h.isLoading||(null===(e=h.results)||void 0===e?void 0:e.length)||F.Z.trackEvent("files_search","no_results"))}),[r.isFileSearchModalOpen,h.isLoading,h.results,u.length]),(0,z.Z)({"command+p":C,"ctrl+p":C},{stopCallback:null}),(0,a.jsxs)(U.Z,{className:W().filesSearch,contentWrapperClassName:W().wrapper,isOpen:r.isFileSearchModalOpen,onClose:k,hideCloseButton:!0,"data-testid":"FilesSearchModal",children:[(0,a.jsx)("input",{type:"text",placeholder:"Search a file",className:W().searchInput,value:u,onChange:T,autoFocus:!0,"data-testid":"FilesSearchModal-input"}),(0,a.jsxs)("div",{ref:t,className:W().content,children:[v?(0,a.jsx)(a.Fragment,{children:v.map((function(e,t){return(0,a.jsx)(R,{file:e,id:e.id,onClick:_,href:g(e),isActive:t===x,gitHubRepository:e.gitHubRepository,onMouseOver:O.bind(null,t)},e.id)}))}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)($,{isActive:!0}),(0,a.jsx)($,{}),(0,a.jsx)($,{}),(0,a.jsx)($,{}),(0,a.jsx)($,{}),(0,a.jsx)($,{})]}),function(){var e;return 1===(null===(e=h.results)||void 0===e?void 0:e.length)&&u?(0,a.jsxs)("div",{className:W().fullSearchSuggestion,children:["Not what you are looking for? Try",(0,a.jsx)(w(),{href:g(Q),children:(0,a.jsx)("a",{onClick:k,onMouseDown:y,children:"full search"})})]}):null}()]}),(0,a.jsxs)("div",{className:W().shortcuts,children:[(0,a.jsxs)("span",{children:[(0,a.jsxs)("span",{className:W().keys,children:[(0,Z.K8)("ArrowUp",!0),(0,Z.K8)("ArrowDown",!0)]}),(0,a.jsx)("span",{children:"to navigate"})]}),(0,a.jsxs)("span",{children:[(0,a.jsx)("span",{className:W().keys,children:(0,Z.K8)("Enter",!0)}),(0,a.jsx)("span",{children:"open here"})]}),(0,a.jsxs)("span",{children:[(0,a.jsxs)("span",{className:W().keys,children:[(0,Z.K8)("CtrlOrCmd",!0).toLowerCase(),(0,Z.K8)("Enter",!0)]}),(0,a.jsx)("span",{children:"open new tab"})]}),(0,a.jsxs)("span",{children:[(0,a.jsx)("span",{className:W().keys,children:"esc"}),(0,a.jsx)("span",{children:"to dismiss"})]})]})]})},te=function(){var e=(0,M.g5)(),t=X.g.isFeatureEnabled("commandKModal");return e||t?null:(0,a.jsx)(ee,{})},ne=(0,s.memo)(te),re=n(66924);function ie(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function oe(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){ie(o,r,i,a,s,"next",e)}function s(e){ie(o,r,i,a,s,"throw",e)}a(void 0)}))}}function ae(){return(ae=oe(o().mark((function e(t){var n,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,re.AC)();case 2:n=e.sent,r=t.id,i=t.displayName,null===n||void 0===n||n.onLoad(oe(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,(0,re.AC)();case 3:n=e.sent,null===(t=n.setUser)||void 0===t||t.call(n,{id:r,username:i});case 5:case"end":return e.stop()}}),e)}))));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var se=function(){var e=(0,M.fC)(),t=null!==e&&void 0!==e?e:{},n=t.id,r=t.displayName;return(0,s.useEffect)((function(){null!=n&&function(e){ae.apply(this,arguments)}({id:n,displayName:r})}),[n,r]),null};function ue(){return ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ue.apply(this,arguments)}function ce(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,le(e,t)}function le(e,t){return le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},le(e,t)}var fe={templateTitle:"",noindex:!1,nofollow:!1,defaultOpenGraphImageWidth:0,defaultOpenGraphImageHeight:0,defaultOpenGraphVideoWidth:0,defaultOpenGraphVideoHeight:0},de=function(e,t,n){void 0===t&&(t=[]);var r=void 0===n?{}:n,i=r.defaultWidth,o=r.defaultHeight;return t.reduce((function(t,n,r){return t.push(s.createElement("meta",{key:"og:"+e+":0"+r,property:"og:"+e,content:n.url})),n.alt&&t.push(s.createElement("meta",{key:"og:"+e+":alt0"+r,property:"og:"+e+":alt",content:n.alt})),n.secureUrl&&t.push(s.createElement("meta",{key:"og:"+e+":secure_url0"+r,property:"og:"+e+":secure_url",content:n.secureUrl.toString()})),n.type&&t.push(s.createElement("meta",{key:"og:"+e+":type0"+r,property:"og:"+e+":type",content:n.type.toString()})),n.width?t.push(s.createElement("meta",{key:"og:"+e+":width0"+r,property:"og:"+e+":width",content:n.width.toString()})):i&&t.push(s.createElement("meta",{key:"og:"+e+":width0"+r,property:"og:"+e+":width",content:i.toString()})),n.height?t.push(s.createElement("meta",{key:"og:"+e+":height"+r,property:"og:"+e+":height",content:n.height.toString()})):o&&t.push(s.createElement("meta",{key:"og:"+e+":height"+r,property:"og:"+e+":height",content:o.toString()})),t}),[])},he=function(e){var t,n,r,i=[];e.titleTemplate&&(fe.templateTitle=e.titleTemplate);var o="";e.title?(o=e.title,fe.templateTitle&&(o=fe.templateTitle.replace(/%s/g,(function(){return o})))):e.defaultTitle&&(o=e.defaultTitle),o&&i.push(s.createElement("title",{key:"title"},o));var a,u,c=e.noindex||fe.noindex||e.dangerouslySetAllPagesToNoIndex,l=e.nofollow||fe.nofollow||e.dangerouslySetAllPagesToNoFollow,f="";if(e.robotsProps){var d=e.robotsProps,h=d.nosnippet,p=d.maxSnippet,v=d.maxImagePreview,m=d.maxVideoPreview,g=d.noarchive,y=d.noimageindex,b=d.notranslate,w=d.unavailableAfter;f=(h?",nosnippet":"")+(p?",max-snippet:"+p:"")+(v?",max-image-preview:"+v:"")+(g?",noarchive":"")+(w?",unavailable_after:"+w:"")+(y?",noimageindex":"")+(m?",max-video-preview:"+m:"")+(b?",notranslate":"")}(c||l?(e.dangerouslySetAllPagesToNoIndex&&(fe.noindex=!0),e.dangerouslySetAllPagesToNoFollow&&(fe.nofollow=!0),i.push(s.createElement("meta",{key:"robots",name:"robots",content:(c?"noindex":"index")+","+(l?"nofollow":"follow")+f}))):i.push(s.createElement("meta",{key:"robots",name:"robots",content:"index,follow"+f})),e.description&&i.push(s.createElement("meta",{key:"description",name:"description",content:e.description})),e.mobileAlternate&&i.push(s.createElement("link",{rel:"alternate",key:"mobileAlternate",media:e.mobileAlternate.media,href:e.mobileAlternate.href})),e.languageAlternates&&e.languageAlternates.length>0&&e.languageAlternates.forEach((function(e){i.push(s.createElement("link",{rel:"alternate",key:"languageAlternate-"+e.hrefLang,hrefLang:e.hrefLang,href:e.href}))})),e.twitter&&(e.twitter.cardType&&i.push(s.createElement("meta",{key:"twitter:card",name:"twitter:card",content:e.twitter.cardType})),e.twitter.site&&i.push(s.createElement("meta",{key:"twitter:site",name:"twitter:site",content:e.twitter.site})),e.twitter.handle&&i.push(s.createElement("meta",{key:"twitter:creator",name:"twitter:creator",content:e.twitter.handle}))),e.facebook&&e.facebook.appId&&i.push(s.createElement("meta",{key:"fb:app_id",property:"fb:app_id",content:e.facebook.appId})),null!=(t=e.openGraph)&&t.title||o)&&i.push(s.createElement("meta",{key:"og:title",property:"og:title",content:(null==(a=e.openGraph)?void 0:a.title)||o}));(null!=(n=e.openGraph)&&n.description||e.description)&&i.push(s.createElement("meta",{key:"og:description",property:"og:description",content:(null==(u=e.openGraph)?void 0:u.description)||e.description}));if(e.openGraph){if((e.openGraph.url||e.canonical)&&i.push(s.createElement("meta",{key:"og:url",property:"og:url",content:e.openGraph.url||e.canonical})),e.openGraph.type){var _=e.openGraph.type.toLowerCase();i.push(s.createElement("meta",{key:"og:type",property:"og:type",content:_})),"profile"===_&&e.openGraph.profile?(e.openGraph.profile.firstName&&i.push(s.createElement("meta",{key:"profile:first_name",property:"profile:first_name",content:e.openGraph.profile.firstName})),e.openGraph.profile.lastName&&i.push(s.createElement("meta",{key:"profile:last_name",property:"profile:last_name",content:e.openGraph.profile.lastName})),e.openGraph.profile.username&&i.push(s.createElement("meta",{key:"profile:username",property:"profile:username",content:e.openGraph.profile.username})),e.openGraph.profile.gender&&i.push(s.createElement("meta",{key:"profile:gender",property:"profile:gender",content:e.openGraph.profile.gender}))):"book"===_&&e.openGraph.book?(e.openGraph.book.authors&&e.openGraph.book.authors.length&&e.openGraph.book.authors.forEach((function(e,t){i.push(s.createElement("meta",{key:"book:author:0"+t,property:"book:author",content:e}))})),e.openGraph.book.isbn&&i.push(s.createElement("meta",{key:"book:isbn",property:"book:isbn",content:e.openGraph.book.isbn})),e.openGraph.book.releaseDate&&i.push(s.createElement("meta",{key:"book:release_date",property:"book:release_date",content:e.openGraph.book.releaseDate})),e.openGraph.book.tags&&e.openGraph.book.tags.length&&e.openGraph.book.tags.forEach((function(e,t){i.push(s.createElement("meta",{key:"book:tag:0"+t,property:"book:tag",content:e}))}))):"article"===_&&e.openGraph.article?(e.openGraph.article.publishedTime&&i.push(s.createElement("meta",{key:"article:published_time",property:"article:published_time",content:e.openGraph.article.publishedTime})),e.openGraph.article.modifiedTime&&i.push(s.createElement("meta",{key:"article:modified_time",property:"article:modified_time",content:e.openGraph.article.modifiedTime})),e.openGraph.article.expirationTime&&i.push(s.createElement("meta",{key:"article:expiration_time",property:"article:expiration_time",content:e.openGraph.article.expirationTime})),e.openGraph.article.authors&&e.openGraph.article.authors.length&&e.openGraph.article.authors.forEach((function(e,t){i.push(s.createElement("meta",{key:"article:author:0"+t,property:"article:author",content:e}))})),e.openGraph.article.section&&i.push(s.createElement("meta",{key:"article:section",property:"article:section",content:e.openGraph.article.section})),e.openGraph.article.tags&&e.openGraph.article.tags.length&&e.openGraph.article.tags.forEach((function(e,t){i.push(s.createElement("meta",{key:"article:tag:0"+t,property:"article:tag",content:e}))}))):"video.movie"!==_&&"video.episode"!==_&&"video.tv_show"!==_&&"video.other"!==_||!e.openGraph.video||(e.openGraph.video.actors&&e.openGraph.video.actors.length&&e.openGraph.video.actors.forEach((function(e,t){e.profile&&i.push(s.createElement("meta",{key:"video:actor:0"+t,property:"video:actor",content:e.profile})),e.role&&i.push(s.createElement("meta",{key:"video:actor:role:0"+t,property:"video:actor:role",content:e.role}))})),e.openGraph.video.directors&&e.openGraph.video.directors.length&&e.openGraph.video.directors.forEach((function(e,t){i.push(s.createElement("meta",{key:"video:director:0"+t,property:"video:director",content:e}))})),e.openGraph.video.writers&&e.openGraph.video.writers.length&&e.openGraph.video.writers.forEach((function(e,t){i.push(s.createElement("meta",{key:"video:writer:0"+t,property:"video:writer",content:e}))})),e.openGraph.video.duration&&i.push(s.createElement("meta",{key:"video:duration",property:"video:duration",content:e.openGraph.video.duration.toString()})),e.openGraph.video.releaseDate&&i.push(s.createElement("meta",{key:"video:release_date",property:"video:release_date",content:e.openGraph.video.releaseDate})),e.openGraph.video.tags&&e.openGraph.video.tags.length&&e.openGraph.video.tags.forEach((function(e,t){i.push(s.createElement("meta",{key:"video:tag:0"+t,property:"video:tag",content:e}))})),e.openGraph.video.series&&i.push(s.createElement("meta",{key:"video:series",property:"video:series",content:e.openGraph.video.series})))}e.defaultOpenGraphImageWidth&&(fe.defaultOpenGraphImageWidth=e.defaultOpenGraphImageWidth),e.defaultOpenGraphImageHeight&&(fe.defaultOpenGraphImageHeight=e.defaultOpenGraphImageHeight),e.openGraph.images&&e.openGraph.images.length&&i.push.apply(i,de("image",e.openGraph.images,{defaultWidth:fe.defaultOpenGraphImageWidth,defaultHeight:fe.defaultOpenGraphImageHeight})),e.defaultOpenGraphVideoWidth&&(fe.defaultOpenGraphVideoWidth=e.defaultOpenGraphVideoWidth),e.defaultOpenGraphVideoHeight&&(fe.defaultOpenGraphVideoHeight=e.defaultOpenGraphVideoHeight),e.openGraph.videos&&e.openGraph.videos.length&&i.push.apply(i,de("video",e.openGraph.videos,{defaultWidth:fe.defaultOpenGraphVideoWidth,defaultHeight:fe.defaultOpenGraphVideoHeight})),e.openGraph.audio&&i.push.apply(i,de("audio",e.openGraph.audio)),e.openGraph.locale&&i.push(s.createElement("meta",{key:"og:locale",property:"og:locale",content:e.openGraph.locale})),e.openGraph.site_name&&i.push(s.createElement("meta",{key:"og:site_name",property:"og:site_name",content:e.openGraph.site_name}))}return e.canonical&&i.push(s.createElement("link",{rel:"canonical",href:e.canonical,key:"canonical"})),e.additionalMetaTags&&e.additionalMetaTags.length>0&&e.additionalMetaTags.forEach((function(e){var t,n,r;i.push(s.createElement("meta",ue({key:"meta:"+(null!=(t=null!=(n=null!=(r=e.keyOverride)?r:e.name)?n:e.property)?t:e.httpEquiv)},e)))})),null!=(r=e.additionalLinkTags)&&r.length&&e.additionalLinkTags.forEach((function(e){var t;i.push(s.createElement("link",ue({key:"link"+(null!=(t=e.keyOverride)?t:e.href)+e.rel},e)))})),i},pe=function(e){function t(){return e.apply(this,arguments)||this}return ce(t,e),t.prototype.render=function(){var e=this.props,t=e.title,n=e.titleTemplate,r=e.defaultTitle,i=e.dangerouslySetAllPagesToNoIndex,o=void 0!==i&&i,a=e.dangerouslySetAllPagesToNoFollow,u=void 0!==a&&a,c=e.description,l=e.canonical,f=e.facebook,h=e.openGraph,p=e.additionalMetaTags,v=e.twitter,m=e.defaultOpenGraphImageWidth,g=e.defaultOpenGraphImageHeight,y=e.defaultOpenGraphVideoWidth,b=e.defaultOpenGraphVideoHeight,w=e.mobileAlternate,_=e.languageAlternates,E=e.additionalLinkTags,S=e.robotsProps;return s.createElement(d(),null,he({title:t,titleTemplate:n,defaultTitle:r,dangerouslySetAllPagesToNoIndex:o,dangerouslySetAllPagesToNoFollow:u,description:c,canonical:l,facebook:f,openGraph:h,additionalMetaTags:p,twitter:v,defaultOpenGraphImageWidth:m,defaultOpenGraphImageHeight:g,defaultOpenGraphVideoWidth:y,defaultOpenGraphVideoHeight:b,mobileAlternate:w,languageAlternates:_,additionalLinkTags:E,robotsProps:S}))},t}(s.Component),ve=(s.Component,Object.freeze({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;"}));new RegExp("["+Object.keys(ve).join("")+"]","g");var me=n(70977),ge=n.n(me),ye=n(55632),be={type:"website",title:"Eraser \u2013 Docs and Diagrams for Engineering Teams",description:"Create diagrams, wireframes, technical specs with your team. Your all-in-one technical ideation tool.",images:[{url:"".concat(ye.l2.url).concat(ge()),width:1200,height:630,alt:"Eraser"}]},we={site:"@EraserLabs",cardType:"summary_large_image"},_e=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{og:be}).og;return(0,a.jsx)(pe,{openGraph:e||be,description:e?e.description:be.description,twitter:we})},Ee=n(33337),Se=function(){var e=(0,s.useCallback)((function(e){e.preventDefault()}),[]);return(0,z.Z)({"command+s":e}),null},xe=n(48075),Oe=n(54073),Ce=n.n(Oe),ke=n(49797),Te=n(13358),Ae=n(24721);function Ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var De=(0,s.createContext)(F.Z),Pe=function(e){F.Z.trackEvent(null,"page_view",{page_title:document.title,page_location:document.location.href,page_path:e})};var Re=n(91781),Ne=n(46060),je=n(57899),Me=n(22557),Le=n(89383),Fe=n(4719),Be=n(50405),Ue=n(29755),Ve=n(37923),ze=n(83445),qe=n(24507),Ze=n(57313),He=n.n(Ze),We=n(90161),Ge=n(8501),Ke=n.n(Ge),Je=n(29633),Ye=n(51581),$e=n.n(Ye),Xe="keyboard-shortcuts-scroll-container",Qe=n(12982),et=n.n(Qe),tt=n(9850),nt=n.n(tt),rt=n(65233);function it(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){it(e,t,n[t])}))}return e}var at=function(){return[{label:"General",sections:[{label:"Global",shortcuts:[{keys:["Control|Alt N"],description:"New file"},{keys:["Control|Alt Shift N"],description:"New private file"},{keys:["CtrlOrCmd P"],description:"Switch file"},{keys:rt.Um?["Control|Alt Option ArrowLeft"]:["CtrlOrCmd Control|Alt ArrowLeft"],description:"Go to dashboard"},{keys:rt.Um?["Control|Alt Option ArrowRight"]:["CtrlOrCmd Control|Alt ArrowRight"],description:"Go to last file"},{keys:["CtrlOrCmd /"],description:"Keyboard shortcuts"}]},{label:"Dashboard",shortcuts:[{keys:["/"],description:"Search"},{keys:["A"],description:"All files"},{keys:["P"],description:"Private files"},{keys:["E"],description:"Archived (from all files)"},{keys:["Control|Alt 1"],description:"All (from all files)"},{keys:["Control|Alt 2"],description:"Recent files (from all files)"},{keys:["Control|Alt 3"],description:"Created by me (from all files)"},{keys:["Control|Alt 4"],description:"View folders (from all files)"},{keys:["Control|Alt 5"],description:"Unsorted (from all files)"},{keys:["[","]"],description:"Focus previous / next folder"}]}]},{label:"Document",sections:[{label:"Formatting and Blocks",shortcuts:[{keys:["CtrlOrCmd Option 1"],description:"H1 heading",markdown:"# text"},{keys:["CtrlOrCmd Option 2"],description:"H2 heading",markdown:"## text"},{keys:["CtrlOrCmd Option 3"],description:"H3 heading",markdown:"### text"},{keys:["CtrlOrCmd Shift 8"],description:"Bulleted list",markdown:"* text"},{keys:["CtrlOrCmd Shift 7"],description:"Checkbox",markdown:"[] text"},{keys:["CtrlOrCmd Shift 9"],description:"Numbered list",markdown:"1. text"},{keys:["CtrlOrCmd B"],markdown:"**text**",description:"Bold"},{keys:["CtrlOrCmd I"],description:"Italicize",markdown:"*text*"},{keys:["CtrlOrCmd U"],description:"Underline",markdown:""},{keys:["CtrlOrCmd Shift X"],description:"Strikethrough",markdown:"~text~"},{keys:["CtrlOrCmd Shift C"],description:"Inline code",markdown:"`text`"},{keys:["CtrlOrCmd Shift \\"],description:"Code block",markdown:"```"},{keys:["CtrlOrCmd K"],description:"Create or edit link",markdown:""},{keys:["CtrlOrCmd Shift M"],description:"Comment on selected text",markdown:""},{description:"Text divider",markdown:"---"},{description:"Blockquote",markdown:"> text"},{description:"Mention a colleague",markdown:"@name"},{description:"Link to another file",markdown:"+filename"}]},{label:"Edit",shortcuts:[{keys:["AltOrOption ArrowUp","AltOrOption ArrowDown"],description:"Move item up / down",markdown:""},{keys:["Tab"],description:"List \u2013 Indent",markdown:""},{keys:["Shift Tab"],description:"List \u2013 Un-indent",markdown:""},{keys:["CtrlOrCmd Enter"],description:"Checkbox \u2013 Check/uncheck",markdown:""},{keys:["Shift Enter"],description:"Line break",markdown:""},{keys:["Enter"],description:"New paragraph",markdown:""},{keys:["CtrlOrCmd Z"],description:"Undo",markdown:""},{keys:["CtrlOrCmd Shift Z"],description:"Redo",markdown:""},{keys:["CtrlOrCmd Alt T"],description:"Insert Table",markdown:""},{keys:["CtrlOrCmd Shift +"],description:"Insert table row",markdown:""},{keys:["CtrlOrCmd Shift -"],description:"Remove table row",markdown:""},{keys:["CtrlOrCmd Shift AltOrOption +"],description:"Insert table column",markdown:""},{keys:["CtrlOrCmd Shift AltOrOption -"],description:"Remove table column",markdown:""},{keys:["CtrlOrCmd Shift AltOrOption ArrowUp"],description:"Move table row up",markdown:""},{keys:["CtrlOrCmd Shift AltOrOption ArrowDown"],description:"Move table row down",markdown:""},{keys:["CtrlOrCmd Shift AltOrOption ArrowLeft"],description:"Move table column left",markdown:""},{keys:["CtrlOrCmd Shift AltOrOption ArrowRight"],description:"Move table column right",markdown:""}]}]},{label:"Canvas",sections:[{label:"View",shortcuts:[{keys:["CtrlOrCmd +"],description:"Zoom in"},{keys:["CtrlOrCmd -"],description:"Zoom out"},{keys:["Space Drag"],description:"Move canvas"},{keys:["Shift 2"],description:"Zoom to fit selected element(s)"}]},{label:"Tool",shortcuts:[{keys:["\\"],description:"Open insert menu"},{keys:["V","1"],description:"Selection"},{keys:["R","2"],description:"Rectangle"},{keys:["O","3"],description:"Ellipse"},{keys:["A","4"],description:"Arrow"},{keys:["L","5"],description:"Line"},{keys:["D","6"],description:"Free draw"},{keys:["T","7"],description:"Text"},{keys:["F"],description:"Figure"},{keys:["C"],description:"Comment"}]},{label:"Edit",shortcuts:[{keys:["Del"],description:"Delete"},{keys:["CtrlOrCmd C"],description:"Copy"},{keys:["CtrlOrCmd V"],description:"Paste"},{keys:["CtrlOrCmd Z"],description:"Undo"},{keys:["CtrlOrCmd Shift Z"],description:"Redo"},{keys:["CtrlOrCmd D"],description:"Duplicate"},{keys:["CtrlOrCmd G"],description:"Group"},{keys:["CtrlOrCmd Shift G"],description:"Ungroup"},{keys:["Shift F"],description:"Create figure from selection"},{keys:["CtrlOrCmd Shift F"],description:"Remove figure"},{keys:["CtrlOrCmd AltOrOption F"],description:"Resize figure to fit"},{keys:["Shift Click"],description:"Add to selection"},{keys:["CtrlOrCmd Drag"],description:"Select within background shape"},{keys:["CtrlOrCmd Click"],description:"Select within group"},{keys:["AltOrOption Drag"],description:"Drag a copy of selected elements"},{keys:["CtrlOrCmd"],description:"Prevent snapping and binding"},{keys:["["],description:"Send back"},{keys:["]"],description:"Send front"},{keys:["CtrlOrCmd ["],description:"Send backward"},{keys:["CtrlOrCmd ]"],description:"Send forward"},{keys:["Shift AltOrOption C"],description:"Copy to clipboard as PNG"}]},{label:"Flowchart",shortcuts:[{keys:["CtrlOrCmd ArrowRight"],description:"Add a connected shape"},{keys:["CtrlOrCmd ArrowRight ArrowRight"],description:"Add multiple connected shapes"},{keys:["Tab"],description:"Change shape"},{keys:["AltOrOption ArrowRight"],description:"Navigate to closest element"}]},{label:"Text",shortcuts:[{keys:["Enter"],description:"Add text to shape"},{keys:["Esc"],description:"Leave text edit mode"},{keys:["CtrlOrCmd Shift >"],description:"Increment font size"},{keys:["CtrlOrCmd Shift <"],description:"Decrement font size"}]}]},{label:"File",sections:[{label:"Manage",shortcuts:[{keys:["Control|Alt M"],description:"Move file"},{keys:["CtrlOrCmd D"],description:"Duplicate file"},{keys:["CtrlOrCmd E"],description:"Archive file"}]},{label:"Layout",shortcuts:[{keys:["Control|Alt 1"],description:"Document layout"},{keys:["Control|Alt 2"],description:"Both layout"},{keys:["Control|Alt 3"],description:"Canvas layout"},{keys:["Control|Alt C"],description:"Show or hide comments"}]},{label:"Comments",shortcuts:[{keys:["@"],description:"Mention a colleague"},{keys:["CtrlOrCmd Enter"],description:"Submit comment"},{keys:["AltOrOption R"],description:"Resolve comment"},{keys:["AltOrOption D"],description:"Delete comment"}]}]}].map((function(e){var t=e.sections.map((function(t){return ot({},t,{group:e.label,id:st(ot({},t,{group:e.label}))})}));return ot({},e,{sections:t})}))};function st(e){var t=e.group,n=e.label;return"".concat(t,"-").concat(n)}function ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ct(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lt(e){return function(e){if(Array.isArray(e))return ut(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return ut(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ut(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ft=Ce()((function(e){F.Z.trackEvent("help_center","keyboard_shortcuts_search",{searchTerm:e})}),500);function dt(e){var t,n=e.description.toLowerCase().replace(/-\//," ").split(/\s+/),r=(null!==(t=e.keys)&&void 0!==t?t:[]).flatMap((function(e){return e.toLowerCase().split(/\s+/)}));return lt(n).concat(lt(r))}function ht(e){var t=(0,s.useMemo)(at,[]),n=(0,s.useMemo)((function(){return t.flatMap((function(e){return e.sections.flatMap((function(e){return e.shortcuts.map((function(t){return{shortcut:t,section:e,searchMatches:dt(t)}}))}))}))}),[t]),r=(0,s.useMemo)((function(){return t.flatMap((function(e){return e.sections}))}),[t]);return(0,s.useMemo)((function(){if(!e)return r;var t=e.toLowerCase(),i=n.filter((function(e){return e.searchMatches.some((function(e){return e.match(t)}))})),o=r.filter((function(e){return e.label.toLowerCase().match(t)||e.group.toLowerCase().match(t)})),a=nt()(o);return i.forEach((function(e){var t=e.section,n=e.shortcut;if(!o.some((function(e){return e.label===t.label}))){var r=a.find((function(e){return e.label===t.label}));r?r.shortcuts.push(n):a.push(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ct(e,t,n[t])}))}return e}({},t,{shortcuts:[n]}))}})),a}),[e,n,r])}var pt=function(){return(0,a.jsxs)("div",{className:Ke().noResults,children:[(0,a.jsx)("p",{children:"It seems we don't do that (yet)."}),(0,a.jsx)("p",{children:"Try another search term."})]})},vt=function(e){var t=e.combinations,n=(0,s.useCallback)((function(e){return e.map((function(e,t){return(0,a.jsxs)(s.Fragment,{children:[0!==t&&(0,a.jsx)("span",{className:Ke().shortcutDivider,children:"or"}),(0,a.jsx)(Je.P,{keys:e.split(" "),shortcutStyle:"pills"})]},"combination-".concat(e))}))}),[]);return t&&t.length?(0,a.jsx)("div",{className:"rowCentered",children:n(t)}):null},mt=function(e){var t=e.section,n=e.headers;return(0,a.jsxs)("div",{className:Ke().shortcutsTable,id:t.id,children:[(0,a.jsx)("p",{className:$e().mediumSemiBold,children:t.label}),(0,a.jsxs)("table",{className:Ke().table,children:[(0,a.jsx)("thead",{children:(0,a.jsx)("tr",{children:n.map((function(e,t){return(0,a.jsx)("th",{className:$e().smallSemiBold,children:(0,a.jsx)("p",{children:e})},"header-".concat(e,"-").concat(t))}))})}),(0,a.jsx)("tbody",{children:t.shortcuts.map((function(e){return(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:e.description}),(0,a.jsx)("td",{children:(0,a.jsx)(vt,{combinations:e.keys})}),(0,a.jsx)("td",{children:e.markdown})]},"row-".concat(e.description))}))})]})]})},gt=function(e){var t=ht(e.searchTerm);return(0,a.jsx)("div",{className:He().paneContainer,id:Xe,children:t.length?t.map((function(e){return(0,a.jsx)(mt,{section:e,headers:e.shortcuts.some((function(e){return!!e.markdown}))?["","","Markdown Syntax"]:[" "," "," "]},e.id)})):(0,a.jsx)(pt,{})})},yt=n(14555),bt=n.n(yt),wt=n(99627);var _t=n(84173),Et=function(e){var t=e.section,n=e.isSelected,r=e.onClick,i=e.onAcquiredFocus,o=(0,s.useRef)(null),u=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,s.useState)(t),r=n[0],i=n[1];return(0,s.useEffect)((function(){var t=null===e||void 0===e?void 0:e.current;if(t){var n=function(){return i(!0)},r=function(){return i(!1)};return t.addEventListener("focus",n),t.addEventListener("blur",r),function(){t&&(t.removeEventListener("focus",n),t.removeEventListener("blur",r))}}}),[e]),{isFocused:r}}(o),c=u.isFocused,l=(0,_t.Z)(c);return(0,s.useEffect)((function(){c&&!l&&i(t.id)}),[c,l,i,t.id]),(0,a.jsx)(wt.Z,{ref:o,onClick:r,label:t.label,isSelected:n,focusOnMouseEnter:!1,focusSelectedOnMount:!1})},St=function(e){var t=e.activeSectionId,n=e.setActiveSectionId,r=(0,s.useMemo)(at,[]);return(0,a.jsx)("div",{className:(0,k.Z)(bt().sideBarRoot,Ke().navContainer),children:r.map((function(e){return(0,a.jsxs)(s.Fragment,{children:[(0,a.jsx)("p",{className:(0,k.Z)(bt().sideBarHeader,$e().smallSemiBold,Ke().navHeader),children:e.label}),e.sections.map((function(e){return(0,a.jsx)(Et,{section:e,isSelected:e.id===t,onClick:function(){return n(e.id)},onAcquiredFocus:n},e.id)}))]},e.label)}))})};function xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){xt(e,t,n[t])}))}return e}function Ct(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var kt=function(e){var t=e.isOpen,n=e.onOpen,r=e.onClose,i=e.initialSearchTerm,o=Ct(e,["isOpen","onOpen","onClose","initialSearchTerm"]),u=(0,s.useState)(0),c=u[0],l=u[1],f=(0,s.useState)(),d=f[0],h=f[1],p=function(e,t){var n=(0,s.useState)(null!==t&&void 0!==t?t:""),r=n[0],i=n[1],o=(0,s.useMemo)(at,[]),a=(0,s.useMemo)((function(){return o.flatMap((function(e){return e.sections}))}),[o]),u=(0,s.useState)(t?void 0:o[0].sections[0].id),c=u[0],l=u[1],f=(0,s.useCallback)((function(e){i(e),e&&(ft(e),l(void 0))}),[]),d=(0,s.useRef)(),h=(0,s.useRef)(),p=(0,s.useCallback)((function(e){d.current=e,l(e)}),[]),v=(0,s.useCallback)((function(e){if(!r&&(p(e),e)){var t,n=document.getElementById(e);h.current=e,null===n||void 0===n||n.scrollIntoView({behavior:"smooth",block:"start",inline:"nearest"}),F.Z.trackEvent("help_center","keyboard_shortcuts_nav",{section:null===(t=a.find((function(t){return t.id===e})))||void 0===t?void 0:t.label})}}),[r,a,p]),m=(0,s.useRef)(),g=(0,s.useRef)(!1);return(0,s.useLayoutEffect)((function(){if(e){var t=document.getElementById(Xe),n=function(e){if(e.target){var t,n,r=null!==(t=m.current)&&void 0!==t?t:0,i=null!==(n=e.target.scrollTop)&&void 0!==n?n:0;if(!h.current){var o=i<r;g.current=o}m.current=i}};return null===t||void 0===t||t.addEventListener("scroll",n),function(){null===t||void 0===t||t.removeEventListener("scroll",n)}}}),[e]),(0,s.useLayoutEffect)((function(){if(e){var t=new IntersectionObserver((function(e){var t=e.find((function(e){return e.isIntersecting}));if(t){var n=t.target.id,r=h.current;if(r)return void(n===r&&(h.current=void 0));p(n)}else{var i=e[0].target;if(i.id!==d.current)return;if(i.id===h.current)return void(h.current=void 0);var o=g.current?-1:1,s=et()(a,{id:i.id}),u=a[s+o];u&&p(u.id)}}),{root:document.getElementById(Xe),threshold:.6});return a.forEach((function(e){var n=document.getElementById(e.id);n&&t.observe(n)})),function(){t.disconnect()}}}),[a,e,p]),{searchTerm:r,setSearchTerm:f,activeSectionId:c,setActiveSectionId:v}}(!!t,i),v=p.searchTerm,m=p.setSearchTerm,g=(0,qe.F)().theme,y=(0,s.useCallback)((function(){return l(performance.now()),v&&v!==i&&m(""),n()}),[n,v,m,i]),b=(0,s.useCallback)((function(e){var t=Math.round((performance.now()-c)/1e3);return l(0),h(void 0),F.Z.trackEvent("help_center","keyboard_shortcuts_view",{timeSpentInSeconds:t,origin:null!==e&&void 0!==e?e:"button"}),null===r||void 0===r?void 0:r()}),[r,c]);if((0,z.Z)({"mod+/":function(){t?b(d):(h("keyboard"),y())}}),!t)return null;var w=(0,a.jsxs)("div",{className:"rowCentered spaceBetween",children:["Keyboard Shortcuts and Markdown Syntax",(0,a.jsx)(We.Z,{searchTerm:v,setSearchTerm:m,className:Ke().searchInput,autoFocus:!0})]});return(0,a.jsx)(U.Z,Ot({},o,{isOpen:t,onClose:r,theme:g,bottomGradient:!0,className:He().modalRoot,title:w,showTitleSeparator:!0,size:U.Z.Sizes.XL,closeButtonVariant:"text",children:(0,a.jsxs)("div",{className:He().container,children:[(0,a.jsx)(St,Ot({},p)),(0,a.jsx)(gt,Ot({},p))]})}))},Tt=n(41092),At={logLevel:4,sdkKey:"X8uGG684qRdkxfjg7yDEx",datafileOptions:{autoUpdate:!0,updateInterval:6e5,urlTemplate:"/api/optimizely/datafile"}},It=n(60541),Dt=n(91594),Pt=n(12788),Rt=(0,xe.b1)(je.o,Re.H,Ue.fS,Be.vq,Ne.jH,Le.fr,(function(e){var t=e.children,n=(0,M.fC)(),r=null===n||void 0===n?void 0:n.id,i=(0,j.DJ)().currentTeamId,o=(0,j.Ad)(),u=(0,M.g5)(),c=(0,j.MV)(),l=(0,s.useMemo)((function(){return{teamId:null!==i&&void 0!==i?i:"",userId:null!==r&&void 0!==r?r:"",areTeamsEmpty:o,areTeamsLoaded:c,isUserAnonymous:u}}),[i,r,o,c,u]);return(0,Tt.B)(l,At)?(0,a.jsx)(a.Fragment,{children:t}):null}),(function(e){var t=e.children,n=(0,h.useRouter)(),r=(0,j.Rs)(),i=(0,M.aF)(),o=(0,M.fC)(),u=(0,ke.Z)(null===o||void 0===o?void 0:o.id);(0,s.useEffect)((function(){var e,t,n={referrer:document.referrer,screenWidth:window.innerWidth,screenHeight:window.innerHeight};r&&(n.teamPaymentPlan=null!==(t=null===(e=r.plan)||void 0===e?void 0:e.planType)&&void 0!==t?t:Ae.k9.Free);F.Z.updateSessionProperties(n)}),[r]),(0,s.useEffect)((function(){var e=Ce()((function(){F.Z.updateSessionProperties({screenWidth:window.innerWidth,screenHeight:window.innerHeight})}),500);return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),(0,s.useEffect)((function(){if(u&&o&&i&&u.id===o.id&&null!=u.displayName){var e=function(e){var t,n,r,i,o,a,s,u={tools:null===(t=e.surveyData)||void 0===t?void 0:t.tools,useCases:null===(n=e.surveyData)||void 0===n?void 0:n.useCases},c=!0,l=!1,f=void 0;try{for(var d,h=(null!==(a=null===(r=e.surveyData)||void 0===r?void 0:r.tools)&&void 0!==a?a:[])[Symbol.iterator]();!(c=(d=h.next()).done);c=!0){var p=d.value;u["tools.".concat(p)]=!0}}catch(_){l=!0,f=_}finally{try{c||null==h.return||h.return()}finally{if(l)throw f}}var v=!0,m=!1,g=void 0;try{for(var y,b=(null!==(s=null===(i=e.surveyData)||void 0===i?void 0:i.useCases)&&void 0!==s?s:[])[Symbol.iterator]();!(v=(y=b.next()).done);v=!0){var w=y.value;u["useCases.".concat(w)]=!0}}catch(_){m=!0,g=_}finally{try{v||null==b.return||b.return()}finally{if(m)throw g}}(null===(o=e.surveyData)||void 0===o?void 0:o.customToolsInput)&&(u["tools.custom"]=e.surveyData.customToolsInput);return u}(i);F.Z.identify(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ie(e,t,n[t])}))}return e}({},u,o,e))}}),[u,i,o]);var c=null===u||void 0===u?void 0:u.analyticsId;return(0,s.useEffect)((function(){c&&Te.b.add({name:x.IF,value:c})}),[c]),(0,s.useEffect)((function(){return Pe(n.asPath),n.events.on("routeChangeComplete",Pe),function(){n.events.off("routeChangeComplete",Pe)}}),[n.events]),(0,a.jsx)(De.Provider,{value:F.Z,children:t})}),Fe.Hq,It.Uk,Dt.Z,(function(e){var t=e.children,n=(0,ze.Z)(),r=n.isOpen,i=n.onOpen,o=n.onClose,u=(0,s.useMemo)((function(){return{isKeyboardShortcutsOpen:r,openKeyboardShortcuts:i,closeKeyboardShortcuts:o}}),[r,i,o]);return(0,a.jsxs)(Ve.Z.Provider,{value:u,children:[t,(0,a.jsx)(kt,{isOpen:r,onOpen:i,onClose:o})]})}),Me.Un,Pt.g);Rt.displayName="AppContextProviders";var Nt=Rt,jt=n(32140),Mt=n(57066),Lt=n(15878),Ft=n(21805),Bt="eraserTheme",Ut=n(53913),Vt=function(){var e=(0,qe.F)(),t=e.theme,n=e.toggleTheme,r=e.isDarkMode,i=(0,s.useCallback)((function(){n(),F.Z.trackEvent("dark_mode","toggle_theme",{source:"global_shortcut",theme:r?"light":"dark"})}),[n,r]);return(0,z.Z)({"shift+alt+d":i},{stopCallback:null}),(0,s.useEffect)((function(){t&&(Ft.Z.remove("eraserTheme"),Lt.J.setItem(Bt,t)),r?window.document.documentElement.classList.add(Ut.W):window.document.documentElement.classList.remove(Ut.W)}),[t,r]),null},zt=n(91614),qt=n(96932),Zt=n(54282);function Ht(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function Wt(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Ht(o,r,i,a,s,"next",e)}function s(e){Ht(o,r,i,a,s,"throw",e)}a(void 0)}))}}function Gt(e,t){return Kt.apply(this,arguments)}function Kt(){return(Kt=Wt(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,re.S1)().catch(console.error);case 2:if(!t){e.next=5;break}return e.next=5,(0,Zt.S1)({firebaseUser:t,isIntegration:n.includes("/integration")});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jt(e){return function(e){return e.toLowerCase().replace(/_/g," ").includes("permission denied")}("string"===typeof e?e:e.message)}n(4510),n(36933);var Yt=n(89075),$t=n(45293),Xt="dnd-core/INIT_COORDS",Qt="dnd-core/BEGIN_DRAG",en="dnd-core/PUBLISH_DRAG_SOURCE",tn="dnd-core/HOVER",nn="dnd-core/DROP",rn="dnd-core/END_DRAG";function on(e,t){return{type:Xt,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}function an(e){return an="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},an(e)}function sn(e,t,n){return t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:n||null}),e)}function un(e,t){return e.filter((function(e){return e!==t}))}function cn(e){return"object"===an(e)}function ln(e,t){var n=new Map,r=function(e){n.set(e,n.has(e)?n.get(e)+1:1)};e.forEach(r),t.forEach(r);var i=[];return n.forEach((function(e,t){1===e&&i.push(t)})),i}var fn={type:Xt,payload:{clientOffset:null,sourceClientOffset:null}};function dn(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{publishSource:!0},r=n.publishSource,i=void 0===r||r,o=n.clientOffset,a=n.getSourceClientOffset,s=e.getMonitor(),u=e.getRegistry();e.dispatch(on(o)),hn(t,s,u);var c=mn(t,s);if(null!==c){var l=null;if(o){if(!a)throw new Error("getSourceClientOffset must be defined");pn(a),l=a(c)}e.dispatch(on(o,l));var f=u.getSource(c),d=f.beginDrag(s,c);if(null!=d){vn(d),u.pinSource(c);var h=u.getSourceType(c);return{type:Qt,payload:{itemType:h,item:d,sourceId:c,clientOffset:o||null,sourceClientOffset:l||null,isSourcePublic:!!i}}}}else e.dispatch(fn)}}function hn(e,t,n){(0,$t.k)(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach((function(e){(0,$t.k)(n.getSource(e),"Expected sourceIds to be registered.")}))}function pn(e){(0,$t.k)("function"===typeof e,"When clientOffset is provided, getSourceClientOffset must be a function.")}function vn(e){(0,$t.k)(cn(e),"Item must be an object.")}function mn(e,t){for(var n=null,r=e.length-1;r>=0;r--)if(t.canDragSource(e[r])){n=e[r];break}return n}function gn(e){return function(){if(e.getMonitor().isDragging())return{type:en}}}function yn(e,t){return null===t?null===e:Array.isArray(e)?e.some((function(e){return e===t})):e===t}function bn(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.clientOffset;wn(t);var i=t.slice(0),o=e.getMonitor(),a=e.getRegistry();_n(i,o,a);var s=o.getItemType();return En(i,a,s),Sn(i,o,a),{type:tn,payload:{targetIds:i,clientOffset:r||null}}}}function wn(e){(0,$t.k)(Array.isArray(e),"Expected targetIds to be an array.")}function _n(e,t,n){(0,$t.k)(t.isDragging(),"Cannot call hover while not dragging."),(0,$t.k)(!t.didDrop(),"Cannot call hover after drop.");for(var r=0;r<e.length;r++){var i=e[r];(0,$t.k)(e.lastIndexOf(i)===r,"Expected targetIds to be unique in the passed array.");var o=n.getTarget(i);(0,$t.k)(o,"Expected targetIds to be registered.")}}function En(e,t,n){for(var r=e.length-1;r>=0;r--){var i=e[r];yn(t.getTargetType(i),n)||e.splice(r,1)}}function Sn(e,t,n){e.forEach((function(e){n.getTarget(e).hover(t,e)}))}function xn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function On(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xn(Object(n),!0).forEach((function(t){Cn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Cn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kn(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.getMonitor(),r=e.getRegistry();Tn(n);var i=In(n);i.forEach((function(i,o){var a=An(i,o,r,n),s={type:nn,payload:{dropResult:On(On({},t),a)}};e.dispatch(s)}))}}function Tn(e){(0,$t.k)(e.isDragging(),"Cannot call drop while not dragging."),(0,$t.k)(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function An(e,t,n,r){var i=n.getTarget(e),o=i?i.drop(r,e):void 0;return function(e){(0,$t.k)("undefined"===typeof e||cn(e),"Drop result must either be an object or undefined.")}(o),"undefined"===typeof o&&(o=0===t?{}:r.getDropResult()),o}function In(e){var t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}function Dn(e){return function(){var t=e.getMonitor(),n=e.getRegistry();!function(e){(0,$t.k)(e.isDragging(),"Cannot call endDrag while not dragging.")}(t);var r=t.getSourceId();null!=r&&(n.getSource(r,!0).endDrag(t,r),n.unpinSource());return{type:rn}}}function Pn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Rn=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isSetUp=!1,this.handleRefCountChange=function(){var e=r.store.getState().refCount>0;r.backend&&(e&&!r.isSetUp?(r.backend.setup(),r.isSetUp=!0):!e&&r.isSetUp&&(r.backend.teardown(),r.isSetUp=!1))},this.store=t,this.monitor=n,t.subscribe(this.handleRefCountChange)}var t,n,r;return t=e,n=[{key:"receiveBackend",value:function(e){this.backend=e}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.monitor.registry}},{key:"getActions",value:function(){var e=this,t=this.store.dispatch,n=function(e){return{beginDrag:dn(e),publishDragSource:gn(e),hover:bn(e),drop:kn(e),endDrag:Dn(e)}}(this);return Object.keys(n).reduce((function(r,i){var o,a=n[i];return r[i]=(o=a,function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=o.apply(e,r);"undefined"!==typeof a&&t(a)}),r}),{})}},{key:"dispatch",value:function(e){this.store.dispatch(e)}}],n&&Pn(t.prototype,n),r&&Pn(t,r),e}();function Nn(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var jn="function"===typeof Symbol&&Symbol.observable||"@@observable",Mn=function(){return Math.random().toString(36).substring(7).split("").join(".")},Ln={INIT:"@@redux/INIT"+Mn(),REPLACE:"@@redux/REPLACE"+Mn(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Mn()}};function Fn(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Bn(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Nn(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Nn(1));return n(Bn)(e,t)}if("function"!==typeof e)throw new Error(Nn(2));var i=e,o=t,a=[],s=a,u=!1;function c(){s===a&&(s=a.slice())}function l(){if(u)throw new Error(Nn(3));return o}function f(e){if("function"!==typeof e)throw new Error(Nn(4));if(u)throw new Error(Nn(5));var t=!0;return c(),s.push(e),function(){if(t){if(u)throw new Error(Nn(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),a=null}}}function d(e){if(!Fn(e))throw new Error(Nn(7));if("undefined"===typeof e.type)throw new Error(Nn(8));if(u)throw new Error(Nn(9));try{u=!0,o=i(o,e)}finally{u=!1}for(var t=a=s,n=0;n<t.length;n++){(0,t[n])()}return e}function h(e){if("function"!==typeof e)throw new Error(Nn(10));i=e,d({type:Ln.REPLACE})}function p(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(Nn(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[jn]=function(){return this},e}return d({type:Ln.INIT}),(r={dispatch:d,subscribe:f,getState:l,replaceReducer:h})[jn]=p,r}var Un=function(e,t){return e===t};function Vn(e,t){return!e&&!t||!(!e||!t)&&(e.x===t.x&&e.y===t.y)}function zn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Un;if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(!n(e[r],t[r]))return!1;return!0}function qn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Zn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qn(Object(n),!0).forEach((function(t){Hn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Hn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wn={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function Gn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wn,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case Xt:case Qt:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case tn:return Vn(e.clientOffset,n.clientOffset)?e:Zn(Zn({},e),{},{clientOffset:n.clientOffset});case rn:case nn:return Wn;default:return e}}var Kn="dnd-core/ADD_SOURCE",Jn="dnd-core/ADD_TARGET",Yn="dnd-core/REMOVE_SOURCE",$n="dnd-core/REMOVE_TARGET";function Xn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Qn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xn(Object(n),!0).forEach((function(t){er(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function er(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tr={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function nr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tr,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case Qt:return Qn(Qn({},e),{},{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case en:return Qn(Qn({},e),{},{isSourcePublic:!0});case tn:return Qn(Qn({},e),{},{targetIds:n.targetIds});case $n:return-1===e.targetIds.indexOf(n.targetId)?e:Qn(Qn({},e),{},{targetIds:un(e.targetIds,n.targetId)});case nn:return Qn(Qn({},e),{},{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case rn:return Qn(Qn({},e),{},{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function rr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Kn:case Jn:return e+1;case Yn:case $n:return e-1;default:return e}}var ir=[],or=[];function ar(e,t){return e!==ir&&(e===or||"undefined"===typeof t||(n=e,t.filter((function(e){return n.indexOf(e)>-1}))).length>0);var n}function sr(){var e=arguments.length>1?arguments[1]:void 0;switch(e.type){case tn:break;case Kn:case Jn:case $n:case Yn:return ir;default:return or}var t=e.payload,n=t.targetIds,r=void 0===n?[]:n,i=t.prevTargetIds,o=void 0===i?[]:i,a=ln(r,o),s=a.length>0||!zn(r,o);if(!s)return ir;var u=o[o.length-1],c=r[r.length-1];return u!==c&&(u&&a.push(u),c&&a.push(c)),a}function ur(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e+1}function cr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cr(Object(n),!0).forEach((function(t){fr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:sr(e.dirtyHandlerIds,{type:t.type,payload:lr(lr({},t.payload),{},{prevTargetIds:sn(e,"dragOperation.targetIds",[])})}),dragOffset:Gn(e.dragOffset,t),refCount:rr(e.refCount,t),dragOperation:nr(e.dragOperation,t),stateId:ur(e.stateId)}}function hr(e,t){return{x:e.x-t.x,y:e.y-t.y}}function pr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}ir.__IS_NONE__=!0,or.__IS_ALL__=!0;var vr,mr=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t,this.registry=n}var t,n,r;return t=e,n=[{key:"subscribeToStateChange",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{handlerIds:void 0},r=n.handlerIds;(0,$t.k)("function"===typeof e,"listener must be a function."),(0,$t.k)("undefined"===typeof r||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");var i=this.store.getState().stateId,o=function(){var n=t.store.getState(),o=n.stateId;try{o===i||o===i+1&&!ar(n.dirtyHandlerIds,r)||e()}finally{i=o}};return this.store.subscribe(o)}},{key:"subscribeToOffsetChange",value:function(e){var t=this;(0,$t.k)("function"===typeof e,"listener must be a function.");var n=this.store.getState().dragOffset;return this.store.subscribe((function(){var r=t.store.getState().dragOffset;r!==n&&(n=r,e())}))}},{key:"canDragSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e);return(0,$t.k)(t,"Expected to find a valid source. sourceId=".concat(e)),!this.isDragging()&&t.canDrag(this,e)}},{key:"canDropOnTarget",value:function(e){if(!e)return!1;var t=this.registry.getTarget(e);return(0,$t.k)(t,"Expected to find a valid target. targetId=".concat(e)),!(!this.isDragging()||this.didDrop())&&yn(this.registry.getTargetType(e),this.getItemType())&&t.canDrop(this,e)}},{key:"isDragging",value:function(){return Boolean(this.getItemType())}},{key:"isDraggingSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e,!0);return(0,$t.k)(t,"Expected to find a valid source. sourceId=".concat(e)),!(!this.isDragging()||!this.isSourcePublic())&&this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e)}},{key:"isOverTarget",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shallow:!1};if(!e)return!1;var n=t.shallow;if(!this.isDragging())return!1;var r=this.registry.getTargetType(e),i=this.getItemType();if(i&&!yn(r,i))return!1;var o=this.getTargetIds();if(!o.length)return!1;var a=o.indexOf(e);return n?a===o.length-1:a>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){return function(e){var t,n,r=e.clientOffset,i=e.initialClientOffset,o=e.initialSourceClientOffset;return r&&i&&o?hr((n=o,{x:(t=r).x+n.x,y:t.y+n.y}),i):null}(this.store.getState().dragOffset)}},{key:"getDifferenceFromInitialOffset",value:function(){return function(e){var t=e.clientOffset,n=e.initialClientOffset;return t&&n?hr(t,n):null}(this.store.getState().dragOffset)}}],n&&pr(t.prototype,n),r&&pr(t,r),e}(),gr=0;function yr(e){return yr="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yr(e)}function br(e,t){t&&Array.isArray(e)?e.forEach((function(e){return br(e,!1)})):(0,$t.k)("string"===typeof e||"symbol"===yr(e),t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}function wr(e){Er.length||(_r(),!0),Er[Er.length]=e}!function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"}(vr||(vr={}));var _r,Er=[],Sr=0;function xr(){for(;Sr<Er.length;){var e=Sr;if(Sr+=1,Er[e].call(),Sr>1024){for(var t=0,n=Er.length-Sr;t<n;t++)Er[t]=Er[t+Sr];Er.length-=Sr,Sr=0}}Er.length=0,Sr=0,!1}var Or="undefined"!==typeof n.g?n.g:self,Cr=Or.MutationObserver||Or.WebKitMutationObserver;function kr(e){return function(){var t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}_r="function"===typeof Cr?function(e){var t=1,n=new Cr(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}(xr):kr(xr),wr.requestFlush=_r,wr.makeRequestCallFromTimer=kr;var Tr=[],Ar=[],Ir=wr.makeRequestCallFromTimer((function(){if(Ar.length)throw Ar.shift()}));function Dr(e){var t;(t=Tr.length?Tr.pop():new Pr).task=e,wr(t)}var Pr=function(){function e(){}return e.prototype.call=function(){try{this.task.call()}catch(e){Dr.onerror?Dr.onerror(e):(Ar.push(e),Ir())}finally{this.task=null,Tr[Tr.length]=this}},e}();function Rr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return jr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Mr(e){var t=(gr++).toString();switch(e){case vr.SOURCE:return"S".concat(t);case vr.TARGET:return"T".concat(t);default:throw new Error("Unknown Handler Role: ".concat(e))}}function Lr(e){switch(e[0]){case"S":return vr.SOURCE;case"T":return vr.TARGET;default:(0,$t.k)(!1,"Cannot parse handler ID: ".concat(e))}}function Fr(e,t){var n=e.entries(),r=!1;do{var i=n.next(),o=i.done;if(Nr(i.value,2)[1]===t)return!0;r=!!o}while(!r);return!1}var Br=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}var t,n,r;return t=e,n=[{key:"addSource",value:function(e,t){br(e),function(e){(0,$t.k)("function"===typeof e.canDrag,"Expected canDrag to be a function."),(0,$t.k)("function"===typeof e.beginDrag,"Expected beginDrag to be a function."),(0,$t.k)("function"===typeof e.endDrag,"Expected endDrag to be a function.")}(t);var n=this.addHandler(vr.SOURCE,e,t);return this.store.dispatch(function(e){return{type:Kn,payload:{sourceId:e}}}(n)),n}},{key:"addTarget",value:function(e,t){br(e,!0),function(e){(0,$t.k)("function"===typeof e.canDrop,"Expected canDrop to be a function."),(0,$t.k)("function"===typeof e.hover,"Expected hover to be a function."),(0,$t.k)("function"===typeof e.drop,"Expected beginDrag to be a function.")}(t);var n=this.addHandler(vr.TARGET,e,t);return this.store.dispatch(function(e){return{type:Jn,payload:{targetId:e}}}(n)),n}},{key:"containsHandler",value:function(e){return Fr(this.dragSources,e)||Fr(this.dropTargets,e)}},{key:"getSource",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,$t.k)(this.isSourceId(e),"Expected a valid source ID.");var n=t&&e===this.pinnedSourceId,r=n?this.pinnedSource:this.dragSources.get(e);return r}},{key:"getTarget",value:function(e){return(0,$t.k)(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}},{key:"getSourceType",value:function(e){return(0,$t.k)(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}},{key:"getTargetType",value:function(e){return(0,$t.k)(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}},{key:"isSourceId",value:function(e){return Lr(e)===vr.SOURCE}},{key:"isTargetId",value:function(e){return Lr(e)===vr.TARGET}},{key:"removeSource",value:function(e){var t=this;(0,$t.k)(this.getSource(e),"Expected an existing source."),this.store.dispatch(function(e){return{type:Yn,payload:{sourceId:e}}}(e)),Dr((function(){t.dragSources.delete(e),t.types.delete(e)}))}},{key:"removeTarget",value:function(e){(0,$t.k)(this.getTarget(e),"Expected an existing target."),this.store.dispatch(function(e){return{type:$n,payload:{targetId:e}}}(e)),this.dropTargets.delete(e),this.types.delete(e)}},{key:"pinSource",value:function(e){var t=this.getSource(e);(0,$t.k)(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}},{key:"unpinSource",value:function(){(0,$t.k)(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}},{key:"addHandler",value:function(e,t,n){var r=Mr(e);return this.types.set(r,t),e===vr.SOURCE?this.dragSources.set(r,n):e===vr.TARGET&&this.dropTargets.set(r,n),r}}],n&&Rr(t.prototype,n),r&&Rr(t,r),e}();function Ur(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=Vr(r),o=new mr(i,new Br(i)),a=new Rn(i,o),s=e(a,t,n);return a.receiveBackend(s),a}function Vr(e){var t="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return Bn(dr,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}var zr=n(12005),qr=["children"];function Zr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Hr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Hr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wr(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Gr=0,Kr=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__"),Jr=(0,s.memo)((function(e){var t=e.children,n=function(e){if("manager"in e){return[{dragDropManager:e.manager},!1]}var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Yr(),n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=t;i[Kr]||(i[Kr]={dragDropManager:Ur(e,t,n,r)});return i[Kr]}(e.backend,e.context,e.options,e.debugMode),n=!e.context;return[t,n]}(Wr(e,qr)),r=Zr(n,2),i=r[0],o=r[1];return(0,s.useEffect)((function(){if(o){var e=Yr();return++Gr,function(){0===--Gr&&(e[Kr]=null)}}}),[]),(0,a.jsx)(zr.L.Provider,Object.assign({value:i},{children:t}),void 0)}));function Yr(){return"undefined"!==typeof n.g?n.g:window}function $r(e){var t=null;return function(){return null==t&&(t=e()),t}}function Xr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ei=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Qr(this,"entered",[]),Qr(this,"isNodeInDocument",void 0),this.isNodeInDocument=t}var t,n,r;return t=e,n=[{key:"enter",value:function(e){var t=this,n=this.entered.length;return this.entered=function(e,t){var n=new Set,r=function(e){return n.add(e)};e.forEach(r),t.forEach(r);var i=[];return n.forEach((function(e){return i.push(e)})),i}(this.entered.filter((function(n){return t.isNodeInDocument(n)&&(!n.contains||n.contains(e))})),[e]),0===n&&this.entered.length>0}},{key:"leave",value:function(e){var t,n,r=this.entered.length;return this.entered=(t=this.entered.filter(this.isNodeInDocument),n=e,t.filter((function(e){return e!==n}))),r>0&&0===this.entered.length}},{key:"reset",value:function(){this.entered=[]}}],n&&Xr(t.prototype,n),r&&Xr(t,r),e}(),ti=$r((function(){return/firefox/i.test(navigator.userAgent)})),ni=$r((function(){return Boolean(window.safari)}));function ri(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ii(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oi=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ii(this,"xs",void 0),ii(this,"ys",void 0),ii(this,"c1s",void 0),ii(this,"c2s",void 0),ii(this,"c3s",void 0);for(var r=t.length,i=[],o=0;o<r;o++)i.push(o);i.sort((function(e,n){return t[e]<t[n]?-1:1}));for(var a,s,u=[],c=[],l=[],f=0;f<r-1;f++)a=t[f+1]-t[f],s=n[f+1]-n[f],c.push(a),u.push(s),l.push(s/a);for(var d=[l[0]],h=0;h<c.length-1;h++){var p=l[h],v=l[h+1];if(p*v<=0)d.push(0);else{a=c[h];var m=c[h+1],g=a+m;d.push(3*g/((g+m)/p+(g+a)/v))}}d.push(l[l.length-1]);for(var y,b=[],w=[],_=0;_<d.length-1;_++){y=l[_];var E=d[_],S=1/c[_],x=E+d[_+1]-y-y;b.push((y-E-x)*S),w.push(x*S*S)}this.xs=t,this.ys=n,this.c1s=d,this.c2s=b,this.c3s=w}var t,n,r;return t=e,(n=[{key:"interpolate",value:function(e){var t=this.xs,n=this.ys,r=this.c1s,i=this.c2s,o=this.c3s,a=t.length-1;if(e===t[a])return n[a];for(var s,u=0,c=o.length-1;u<=c;){var l=t[s=Math.floor(.5*(u+c))];if(l<e)u=s+1;else{if(!(l>e))return n[s];c=s-1}}var f=e-t[a=Math.max(0,c)],d=f*f;return n[a]+r[a]*f+i[a]*d+o[a]*f*d}}])&&ri(t.prototype,n),r&&ri(t,r),e}();function ai(e){var t=1===e.nodeType?e:e.parentElement;if(!t)return null;var n=t.getBoundingClientRect(),r=n.top;return{x:n.left,y:r}}function si(e){return{x:e.clientX,y:e.clientY}}function ui(e,t,n,r,i){var o=function(e){var t;return"IMG"===e.nodeName&&(ti()||!(null!==(t=document.documentElement)&&void 0!==t&&t.contains(e)))}(t),a=ai(o?e:t),s={x:n.x-a.x,y:n.y-a.y},u=e.offsetWidth,c=e.offsetHeight,l=r.anchorX,f=r.anchorY,d=function(e,t,n,r){var i=e?t.width:n,o=e?t.height:r;return ni()&&e&&(o/=window.devicePixelRatio,i/=window.devicePixelRatio),{dragPreviewWidth:i,dragPreviewHeight:o}}(o,t,u,c),h=d.dragPreviewWidth,p=d.dragPreviewHeight,v=i.offsetX,m=i.offsetY,g=0===m||m;return{x:0===v||v?v:new oi([0,.5,1],[s.x,s.x/u*h,s.x+h-u]).interpolate(l),y:g?m:function(){var e=new oi([0,.5,1],[s.y,s.y/c*p,s.y+p-c]).interpolate(f);return ni()&&o&&(e+=(window.devicePixelRatio-1)*p),e}()}}var ci,li="__NATIVE_FILE__",fi="__NATIVE_URL__",di="__NATIVE_TEXT__",hi="__NATIVE_HTML__";function pi(e,t,n){var r=t.reduce((function(t,n){return t||e.getData(n)}),"");return null!=r?r:n}function vi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mi=(vi(ci={},li,{exposeProperties:{files:function(e){return Array.prototype.slice.call(e.files)},items:function(e){return e.items}},matchesTypes:["Files"]}),vi(ci,hi,{exposeProperties:{html:function(e,t){return pi(e,t,"")}},matchesTypes:["Html","text/html"]}),vi(ci,fi,{exposeProperties:{urls:function(e,t){return pi(e,t,"").split("\n")}},matchesTypes:["Url","text/uri-list"]}),vi(ci,di,{exposeProperties:{text:function(e,t){return pi(e,t,"")}},matchesTypes:["Text","text/plain"]}),ci);function gi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var bi=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),yi(this,"item",void 0),yi(this,"config",void 0),this.config=t,this.item={},this.initializeExposedProperties()}var t,n,r;return t=e,(n=[{key:"initializeExposedProperties",value:function(){var e=this;Object.keys(this.config.exposeProperties).forEach((function(t){Object.defineProperty(e.item,t,{configurable:!0,enumerable:!0,get:function(){return console.warn("Browser doesn't allow reading \"".concat(t,'" until the drop event.')),null}})}))}},{key:"loadDataTransfer",value:function(e){var t=this;if(e){var n={};Object.keys(this.config.exposeProperties).forEach((function(r){n[r]={value:t.config.exposeProperties[r](e,t.config.matchesTypes),configurable:!0,enumerable:!0}})),Object.defineProperties(this.item,n)}}},{key:"canDrag",value:function(){return!0}},{key:"beginDrag",value:function(){return this.item}},{key:"isDragging",value:function(e,t){return t===e.getSourceId()}},{key:"endDrag",value:function(){}}])&&gi(t.prototype,n),r&&gi(t,r),e}();function wi(e){if(!e)return null;var t=Array.prototype.slice.call(e.types||[]);return Object.keys(mi).filter((function(e){return mi[e].matchesTypes.some((function(e){return t.indexOf(e)>-1}))}))[0]||null}function _i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ei(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Si=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Ei(this,"ownerDocument",null),Ei(this,"globalContext",void 0),Ei(this,"optionsArgs",void 0),this.globalContext=t,this.optionsArgs=n}var t,n,r;return t=e,(n=[{key:"window",get:function(){return this.globalContext?this.globalContext:"undefined"!==typeof window?window:void 0}},{key:"document",get:function(){var e;return null!==(e=this.globalContext)&&void 0!==e&&e.document?this.globalContext.document:this.window?this.window.document:void 0}},{key:"rootElement",get:function(){var e;return(null===(e=this.optionsArgs)||void 0===e?void 0:e.rootElement)||this.window}}])&&_i(t.prototype,n),r&&_i(t,r),e}();function xi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xi(Object(n),!0).forEach((function(t){ki(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xi(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ci(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ki(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ti,Ai=function(){function e(t,n,r){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ki(this,"options",void 0),ki(this,"actions",void 0),ki(this,"monitor",void 0),ki(this,"registry",void 0),ki(this,"enterLeaveCounter",void 0),ki(this,"sourcePreviewNodes",new Map),ki(this,"sourcePreviewNodeOptions",new Map),ki(this,"sourceNodes",new Map),ki(this,"sourceNodeOptions",new Map),ki(this,"dragStartSourceIds",null),ki(this,"dropTargetIds",[]),ki(this,"dragEnterTargetIds",[]),ki(this,"currentNativeSource",null),ki(this,"currentNativeHandle",null),ki(this,"currentDragSourceNode",null),ki(this,"altKeyPressed",!1),ki(this,"mouseMoveTimeoutTimer",null),ki(this,"asyncEndDragFrameId",null),ki(this,"dragOverTargetIds",null),ki(this,"getSourceClientOffset",(function(e){var t=i.sourceNodes.get(e);return t&&ai(t)||null})),ki(this,"endDragNativeItem",(function(){i.isDraggingNativeItem()&&(i.actions.endDrag(),i.currentNativeHandle&&i.registry.removeSource(i.currentNativeHandle),i.currentNativeHandle=null,i.currentNativeSource=null)})),ki(this,"isNodeInDocument",(function(e){return Boolean(e&&i.document&&i.document.body&&i.document.body.contains(e))})),ki(this,"endDragIfSourceWasRemovedFromDOM",(function(){var e=i.currentDragSourceNode;null==e||i.isNodeInDocument(e)||i.clearCurrentDragSourceNode()&&i.monitor.isDragging()&&i.actions.endDrag()})),ki(this,"handleTopDragStartCapture",(function(){i.clearCurrentDragSourceNode(),i.dragStartSourceIds=[]})),ki(this,"handleTopDragStart",(function(e){if(!e.defaultPrevented){var t=i.dragStartSourceIds;i.dragStartSourceIds=null;var n=si(e);i.monitor.isDragging()&&i.actions.endDrag(),i.actions.beginDrag(t||[],{publishSource:!1,getSourceClientOffset:i.getSourceClientOffset,clientOffset:n});var r=e.dataTransfer,o=wi(r);if(i.monitor.isDragging()){if(r&&"function"===typeof r.setDragImage){var a=i.monitor.getSourceId(),s=i.sourceNodes.get(a),u=i.sourcePreviewNodes.get(a)||s;if(u){var c=i.getCurrentSourcePreviewNodeOptions(),l=ui(s,u,n,{anchorX:c.anchorX,anchorY:c.anchorY},{offsetX:c.offsetX,offsetY:c.offsetY});r.setDragImage(u,l.x,l.y)}}try{null===r||void 0===r||r.setData("application/json",{})}catch(f){}i.setCurrentDragSourceNode(e.target),i.getCurrentSourcePreviewNodeOptions().captureDraggingState?i.actions.publishDragSource():setTimeout((function(){return i.actions.publishDragSource()}),0)}else if(o)i.beginDragNativeItem(o);else{if(r&&!r.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}}})),ki(this,"handleTopDragEndCapture",(function(){i.clearCurrentDragSourceNode()&&i.monitor.isDragging()&&i.actions.endDrag()})),ki(this,"handleTopDragEnterCapture",(function(e){if(i.dragEnterTargetIds=[],i.enterLeaveCounter.enter(e.target)&&!i.monitor.isDragging()){var t=e.dataTransfer,n=wi(t);n&&i.beginDragNativeItem(n,t)}})),ki(this,"handleTopDragEnter",(function(e){var t=i.dragEnterTargetIds;(i.dragEnterTargetIds=[],i.monitor.isDragging())&&(i.altKeyPressed=e.altKey,t.length>0&&i.actions.hover(t,{clientOffset:si(e)}),t.some((function(e){return i.monitor.canDropOnTarget(e)}))&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=i.getCurrentDropEffect())))})),ki(this,"handleTopDragOverCapture",(function(){i.dragOverTargetIds=[]})),ki(this,"handleTopDragOver",(function(e){var t=i.dragOverTargetIds;if(i.dragOverTargetIds=[],!i.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer&&(e.dataTransfer.dropEffect="none"));i.altKeyPressed=e.altKey,i.actions.hover(t||[],{clientOffset:si(e)}),(t||[]).some((function(e){return i.monitor.canDropOnTarget(e)}))?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=i.getCurrentDropEffect())):i.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))})),ki(this,"handleTopDragLeaveCapture",(function(e){i.isDraggingNativeItem()&&e.preventDefault(),i.enterLeaveCounter.leave(e.target)&&i.isDraggingNativeItem()&&setTimeout((function(){return i.endDragNativeItem()}),0)})),ki(this,"handleTopDropCapture",(function(e){var t;(i.dropTargetIds=[],i.isDraggingNativeItem())?(e.preventDefault(),null===(t=i.currentNativeSource)||void 0===t||t.loadDataTransfer(e.dataTransfer)):wi(e.dataTransfer)&&e.preventDefault();i.enterLeaveCounter.reset()})),ki(this,"handleTopDrop",(function(e){var t=i.dropTargetIds;i.dropTargetIds=[],i.actions.hover(t,{clientOffset:si(e)}),i.actions.drop({dropEffect:i.getCurrentDropEffect()}),i.isDraggingNativeItem()?i.endDragNativeItem():i.monitor.isDragging()&&i.actions.endDrag()})),ki(this,"handleSelectStart",(function(e){var t=e.target;"function"===typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))})),this.options=new Si(n,r),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new ei(this.isNodeInDocument)}var t,n,i;return t=e,n=[{key:"profile",value:function(){var e,t;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:(null===(e=this.dragStartSourceIds)||void 0===e?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:(null===(t=this.dragOverTargetIds)||void 0===t?void 0:t.length)||0}}},{key:"window",get:function(){return this.options.window}},{key:"document",get:function(){return this.options.document}},{key:"rootElement",get:function(){return this.options.rootElement}},{key:"setup",value:function(){var e=this.rootElement;if(void 0!==e){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}},{key:"teardown",value:function(){var e,t=this.rootElement;void 0!==t&&(t.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&(null===(e=this.window)||void 0===e||e.cancelAnimationFrame(this.asyncEndDragFrameId)))}},{key:"connectDragPreview",value:function(e,t,n){var r=this;return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,t),function(){r.sourcePreviewNodes.delete(e),r.sourcePreviewNodeOptions.delete(e)}}},{key:"connectDragSource",value:function(e,t,n){var r=this;this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,n);var i=function(t){return r.handleDragStart(t,e)},o=function(e){return r.handleSelectStart(e)};return t.setAttribute("draggable","true"),t.addEventListener("dragstart",i),t.addEventListener("selectstart",o),function(){r.sourceNodes.delete(e),r.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",i),t.removeEventListener("selectstart",o),t.setAttribute("draggable","false")}}},{key:"connectDropTarget",value:function(e,t){var n=this,r=function(t){return n.handleDragEnter(t,e)},i=function(t){return n.handleDragOver(t,e)},o=function(t){return n.handleDrop(t,e)};return t.addEventListener("dragenter",r),t.addEventListener("dragover",i),t.addEventListener("drop",o),function(){t.removeEventListener("dragenter",r),t.removeEventListener("dragover",i),t.removeEventListener("drop",o)}}},{key:"addEventListeners",value:function(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}},{key:"removeEventListeners",value:function(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}},{key:"getCurrentSourceNodeOptions",value:function(){var e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return Oi({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}},{key:"getCurrentDropEffect",value:function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}},{key:"getCurrentSourcePreviewNodeOptions",value:function(){var e=this.monitor.getSourceId();return Oi({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(e)||{})}},{key:"isDraggingNativeItem",value:function(){var e=this.monitor.getItemType();return Object.keys(r).some((function(t){return r[t]===e}))}},{key:"beginDragNativeItem",value:function(e,t){this.clearCurrentDragSourceNode(),this.currentNativeSource=function(e,t){var n=new bi(mi[e]);return n.loadDataTransfer(t),n}(e,t),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}},{key:"setCurrentDragSourceNode",value:function(e){var t=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e,this.mouseMoveTimeoutTimer=setTimeout((function(){var e;return null===(e=t.rootElement)||void 0===e?void 0:e.addEventListener("mousemove",t.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)}},{key:"clearCurrentDragSourceNode",value:function(){var e;return!!this.currentDragSourceNode&&(this.currentDragSourceNode=null,this.rootElement&&(null===(e=this.window)||void 0===e||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)),this.mouseMoveTimeoutTimer=null,!0)}},{key:"handleDragStart",value:function(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}},{key:"handleDragEnter",value:function(e,t){this.dragEnterTargetIds.unshift(t)}},{key:"handleDragOver",value:function(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}},{key:"handleDrop",value:function(e,t){this.dropTargetIds.unshift(t)}}],n&&Ci(t.prototype,n),i&&Ci(t,i),e}(),Ii=function(e,t,n){return new Ai(e,t,n)};!function(e){e.mouse="mouse",e.touch="touch",e.keyboard="keyboard"}(Ti||(Ti={}));var Di=1,Pi=0;function Ri(e){return void 0===e.button||e.button===Pi}function Ni(e){return!!e.targetTouches}function ji(e,t){return Ni(e)?function(e,t){return 1===e.targetTouches.length?ji(e.targetTouches[0]):t&&1===e.touches.length&&e.touches[0].target===t.target?ji(e.touches[0]):void 0}(e,t):{x:e.clientX,y:e.clientY}}var Mi=function(){var e=!1;try{addEventListener("test",(function(){}),Object.defineProperty({},"passive",{get:function(){return e=!0,!0}}))}catch(t){}return e}();function Li(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Bi,Ui=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Fi(this,"args",void 0),Fi(this,"context",void 0),this.args=t,this.context=n}var t,n,r;return t=e,(n=[{key:"delay",get:function(){var e;return null!==(e=this.args.delay)&&void 0!==e?e:0}},{key:"scrollAngleRanges",get:function(){return this.args.scrollAngleRanges}},{key:"getDropTargetElementsAtPoint",get:function(){return this.args.getDropTargetElementsAtPoint}},{key:"ignoreContextMenu",get:function(){var e;return null!==(e=this.args.ignoreContextMenu)&&void 0!==e&&e}},{key:"enableHoverOutsideTarget",get:function(){var e;return null!==(e=this.args.enableHoverOutsideTarget)&&void 0!==e&&e}},{key:"enableKeyboardEvents",get:function(){var e;return null!==(e=this.args.enableKeyboardEvents)&&void 0!==e&&e}},{key:"enableMouseEvents",get:function(){var e;return null!==(e=this.args.enableMouseEvents)&&void 0!==e&&e}},{key:"enableTouchEvents",get:function(){var e;return null===(e=this.args.enableTouchEvents)||void 0===e||e}},{key:"touchSlop",get:function(){return this.args.touchSlop||0}},{key:"delayTouchStart",get:function(){var e,t,n,r;return null!==(e=null!==(t=null===(n=this.args)||void 0===n?void 0:n.delayTouchStart)&&void 0!==t?t:null===(r=this.args)||void 0===r?void 0:r.delay)&&void 0!==e?e:0}},{key:"delayMouseStart",get:function(){var e,t,n,r;return null!==(e=null!==(t=null===(n=this.args)||void 0===n?void 0:n.delayMouseStart)&&void 0!==t?t:null===(r=this.args)||void 0===r?void 0:r.delay)&&void 0!==e?e:0}},{key:"window",get:function(){return this.context&&this.context.window?this.context.window:"undefined"!==typeof window?window:void 0}},{key:"document",get:function(){var e;return null!==(e=this.context)&&void 0!==e&&e.document?this.context.document:this.window?this.window.document:void 0}},{key:"rootElement",get:function(){var e;return(null===(e=this.args)||void 0===e?void 0:e.rootElement)||this.document}}])&&Li(t.prototype,n),r&&Li(t,r),e}();function Vi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function zi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qi=(zi(Bi={},Ti.mouse,{start:"mousedown",move:"mousemove",end:"mouseup",contextmenu:"contextmenu"}),zi(Bi,Ti.touch,{start:"touchstart",move:"touchmove",end:"touchend"}),zi(Bi,Ti.keyboard,{keydown:"keydown"}),Bi),Zi=function(){function e(t,n,r){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),zi(this,"options",void 0),zi(this,"actions",void 0),zi(this,"monitor",void 0),zi(this,"sourceNodes",void 0),zi(this,"sourcePreviewNodes",void 0),zi(this,"sourcePreviewNodeOptions",void 0),zi(this,"targetNodes",void 0),zi(this,"_mouseClientOffset",void 0),zi(this,"_isScrolling",void 0),zi(this,"listenerTypes",void 0),zi(this,"moveStartSourceIds",void 0),zi(this,"waitingForDelay",void 0),zi(this,"timeout",void 0),zi(this,"dragOverTargetIds",void 0),zi(this,"draggedSourceNode",void 0),zi(this,"draggedSourceNodeRemovalObserver",void 0),zi(this,"lastTargetTouchFallback",void 0),zi(this,"getSourceClientOffset",(function(e){var t=i.sourceNodes.get(e);return t&&function(e){var t=1===e.nodeType?e:e.parentElement;if(t){var n=t.getBoundingClientRect(),r=n.top;return{x:n.left,y:r}}}(t)})),zi(this,"handleTopMoveStartCapture",(function(e){Ri(e)&&(i.moveStartSourceIds=[])})),zi(this,"handleMoveStart",(function(e){Array.isArray(i.moveStartSourceIds)&&i.moveStartSourceIds.unshift(e)})),zi(this,"handleTopMoveStart",(function(e){if(Ri(e)){var t=ji(e);t&&(Ni(e)&&(i.lastTargetTouchFallback=e.targetTouches[0]),i._mouseClientOffset=t),i.waitingForDelay=!1}})),zi(this,"handleTopMoveStartDelay",(function(e){if(Ri(e)){var t=e.type===qi.touch.start?i.options.delayTouchStart:i.options.delayMouseStart;i.timeout=setTimeout(i.handleTopMoveStart.bind(i,e),t),i.waitingForDelay=!0}})),zi(this,"handleTopMoveCapture",(function(){i.dragOverTargetIds=[]})),zi(this,"handleMove",(function(e,t){i.dragOverTargetIds&&i.dragOverTargetIds.unshift(t)})),zi(this,"handleTopMove",(function(e){if(i.timeout&&clearTimeout(i.timeout),i.document&&!i.waitingForDelay){var t,n,r,o,a=i.moveStartSourceIds,s=i.dragOverTargetIds,u=i.options.enableHoverOutsideTarget,c=ji(e,i.lastTargetTouchFallback);if(c)if(i._isScrolling||!i.monitor.isDragging()&&function(e,t,n,r,i){if(!i)return!1;for(var o=180*Math.atan2(r-t,n-e)/Math.PI+180,a=0;a<i.length;++a)if((null==i[a].start||o>=i[a].start)&&(null==i[a].end||o<=i[a].end))return!0;return!1}(i._mouseClientOffset.x||0,i._mouseClientOffset.y||0,c.x,c.y,i.options.scrollAngleRanges))i._isScrolling=!0;else if(!i.monitor.isDragging()&&i._mouseClientOffset.hasOwnProperty("x")&&a&&(t=i._mouseClientOffset.x||0,n=i._mouseClientOffset.y||0,r=c.x,o=c.y,Math.sqrt(Math.pow(Math.abs(r-t),2)+Math.pow(Math.abs(o-n),2))>(i.options.touchSlop?i.options.touchSlop:0))&&(i.moveStartSourceIds=void 0,i.actions.beginDrag(a,{clientOffset:i._mouseClientOffset,getSourceClientOffset:i.getSourceClientOffset,publishSource:!1})),i.monitor.isDragging()){var l=i.sourceNodes.get(i.monitor.getSourceId());i.installSourceNodeRemovalObserver(l),i.actions.publishDragSource(),e.cancelable&&e.preventDefault();var f=(s||[]).map((function(e){return i.targetNodes.get(e)})).filter((function(e){return!!e})),d=i.options.getDropTargetElementsAtPoint?i.options.getDropTargetElementsAtPoint(c.x,c.y,f):i.document.elementsFromPoint(c.x,c.y),h=[];for(var p in d)if(d.hasOwnProperty(p)){var v=d[p];for(h.push(v);v;)(v=v.parentElement)&&-1===h.indexOf(v)&&h.push(v)}var m=h.filter((function(e){return f.indexOf(e)>-1})).map((function(e){return i._getDropTargetId(e)})).filter((function(e){return!!e})).filter((function(e,t,n){return n.indexOf(e)===t}));if(u)for(var g in i.targetNodes){var y=i.targetNodes.get(g);if(l&&y&&y.contains(l)&&-1===m.indexOf(g)){m.unshift(g);break}}m.reverse(),i.actions.hover(m,{clientOffset:c})}}})),zi(this,"_getDropTargetId",(function(e){for(var t=i.targetNodes.keys(),n=t.next();!1===n.done;){var r=n.value;if(e===i.targetNodes.get(r))return r;n=t.next()}})),zi(this,"handleTopMoveEndCapture",(function(e){i._isScrolling=!1,i.lastTargetTouchFallback=void 0,function(e){return void 0===e.buttons||0===(e.buttons&Di)}(e)&&(i.monitor.isDragging()&&!i.monitor.didDrop()?(e.cancelable&&e.preventDefault(),i._mouseClientOffset={},i.uninstallSourceNodeRemovalObserver(),i.actions.drop(),i.actions.endDrag()):i.moveStartSourceIds=void 0)})),zi(this,"handleCancelOnEscape",(function(e){"Escape"===e.key&&i.monitor.isDragging()&&(i._mouseClientOffset={},i.uninstallSourceNodeRemovalObserver(),i.actions.endDrag())})),this.options=new Ui(r,n),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.sourceNodes=new Map,this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.targetNodes=new Map,this.listenerTypes=[],this._mouseClientOffset={},this._isScrolling=!1,this.options.enableMouseEvents&&this.listenerTypes.push(Ti.mouse),this.options.enableTouchEvents&&this.listenerTypes.push(Ti.touch),this.options.enableKeyboardEvents&&this.listenerTypes.push(Ti.keyboard)}var t,n,r;return t=e,(n=[{key:"profile",value:function(){var e;return{sourceNodes:this.sourceNodes.size,sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,targetNodes:this.targetNodes.size,dragOverTargetIds:(null===(e=this.dragOverTargetIds)||void 0===e?void 0:e.length)||0}}},{key:"document",get:function(){return this.options.document}},{key:"setup",value:function(){var t=this.options.rootElement;t&&((0,$t.k)(!e.isSetUp,"Cannot have two Touch backends at the same time."),e.isSetUp=!0,this.addEventListener(t,"start",this.getTopMoveStartHandler()),this.addEventListener(t,"start",this.handleTopMoveStartCapture,!0),this.addEventListener(t,"move",this.handleTopMove),this.addEventListener(t,"move",this.handleTopMoveCapture,!0),this.addEventListener(t,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.addEventListener(t,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.addEventListener(t,"keydown",this.handleCancelOnEscape,!0))}},{key:"teardown",value:function(){var t=this.options.rootElement;t&&(e.isSetUp=!1,this._mouseClientOffset={},this.removeEventListener(t,"start",this.handleTopMoveStartCapture,!0),this.removeEventListener(t,"start",this.handleTopMoveStart),this.removeEventListener(t,"move",this.handleTopMoveCapture,!0),this.removeEventListener(t,"move",this.handleTopMove),this.removeEventListener(t,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.removeEventListener(t,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.removeEventListener(t,"keydown",this.handleCancelOnEscape,!0),this.uninstallSourceNodeRemovalObserver())}},{key:"addEventListener",value:function(e,t,n,r){var i=Mi?{capture:r,passive:!1}:r;this.listenerTypes.forEach((function(r){var o=qi[r][t];o&&e.addEventListener(o,n,i)}))}},{key:"removeEventListener",value:function(e,t,n,r){var i=Mi?{capture:r,passive:!1}:r;this.listenerTypes.forEach((function(r){var o=qi[r][t];o&&e.removeEventListener(o,n,i)}))}},{key:"connectDragSource",value:function(e,t){var n=this,r=this.handleMoveStart.bind(this,e);return this.sourceNodes.set(e,t),this.addEventListener(t,"start",r),function(){n.sourceNodes.delete(e),n.removeEventListener(t,"start",r)}}},{key:"connectDragPreview",value:function(e,t,n){var r=this;return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,t),function(){r.sourcePreviewNodes.delete(e),r.sourcePreviewNodeOptions.delete(e)}}},{key:"connectDropTarget",value:function(e,t){var n=this,r=this.options.rootElement;if(!this.document||!r)return function(){};var i=function(i){if(n.document&&r&&n.monitor.isDragging()){var o;switch(i.type){case qi.mouse.move:o={x:i.clientX,y:i.clientY};break;case qi.touch.move:o={x:i.touches[0].clientX,y:i.touches[0].clientY}}var a=null!=o?n.document.elementFromPoint(o.x,o.y):void 0,s=a&&t.contains(a);return a===t||s?n.handleMove(i,e):void 0}};return this.addEventListener(this.document.body,"move",i),this.targetNodes.set(e,t),function(){n.document&&(n.targetNodes.delete(e),n.removeEventListener(n.document.body,"move",i))}}},{key:"getTopMoveStartHandler",value:function(){return this.options.delayTouchStart||this.options.delayMouseStart?this.handleTopMoveStartDelay:this.handleTopMoveStart}},{key:"installSourceNodeRemovalObserver",value:function(e){var t=this;this.uninstallSourceNodeRemovalObserver(),this.draggedSourceNode=e,this.draggedSourceNodeRemovalObserver=new MutationObserver((function(){e&&!e.parentElement&&(t.resurrectSourceNode(),t.uninstallSourceNodeRemovalObserver())})),e&&e.parentElement&&this.draggedSourceNodeRemovalObserver.observe(e.parentElement,{childList:!0})}},{key:"resurrectSourceNode",value:function(){this.document&&this.draggedSourceNode&&(this.draggedSourceNode.style.display="none",this.draggedSourceNode.removeAttribute("data-reactid"),this.document.body.appendChild(this.draggedSourceNode))}},{key:"uninstallSourceNodeRemovalObserver",value:function(){this.draggedSourceNodeRemovalObserver&&this.draggedSourceNodeRemovalObserver.disconnect(),this.draggedSourceNodeRemovalObserver=void 0,this.draggedSourceNode=void 0}}])&&Vi(t.prototype,n),r&&Vi(t,r),e}();zi(Zi,"isSetUp",void 0);var Hi=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Zi(e,t,n)},Wi=n(70265),Gi=n(89393),Ki=n(55261),Ji=n(53292),Yi=n(21774),$i=n(88818),Xi=n(96299),Qi=n(82863),eo=n(17003),to=n(9605),no=n(6328),ro=n(62044),io=n(94608),oo=n(3213);function ao(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}var so,uo,co=function(){var e,t=(e=o().mark((function e(t){var n,r,i,a,s,u,c,l,f,d,h,p,v;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.teamId,r=t.userId,i=t.name,a=void 0===i?"":i,s=t.parentFolderId,c=oo.Z.teamFolders(n),l=ro.GH.serverTimestamp(),e.next=6,c.orderBy("order","desc").withConverter(io.pe).limit(1).get();case 6:return f=e.sent.docs[0],h=null!==(d=null===(u=null===f||void 0===f?void 0:f.data())||void 0===u?void 0:u.order)&&void 0!==d?d:0,p={name:a,teamId:n,createdAt:l,order:h+1,createdBy:r,updatedAt:l,parentFolderId:null!==s&&void 0!==s?s:null},e.next=12,c.add(p);case 12:return v=e.sent,e.abrupt("return",v.id);case 14:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){ao(o,r,i,a,s,"next",e)}function s(e){ao(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}(),lo=co,fo=n(10596),ho=n(50639),po=function(e){var t=e.name,n=void 0===t?"":t,r=e.parentFolderId,i=e.options,o=void 0===i?{origin:"sidebar",shouldOpen:!0}:i,a=(0,to.Z)(),u=(0,M.II)(),c=(0,ho.d)(),l=(0,j.LP)(),f=(0,no.Z)(),d=f.switchFolder,h=f.setRenamingFolder,p=(0,s.useCallback)((function(e){F.Z.trackEvent("folders","create_folder"),h({id:e,origin:c?"header":o.origin}),o.shouldOpen&&d("folder",e)}),[c,o.shouldOpen,o.origin,h,d]),v=(0,eo.Z)(lo),m=(0,fo.Z)((function(){l&&u&&!v.loading&&a.promise(v.execute({name:n,teamId:l,userId:u,parentFolderId:r}),{success:"Created folder",loading:"Creating folder",error:"Something went wrong"}).then(p).catch(re.Tb)}));return{loading:v.loading,request:m}},vo=n(843),mo=n(80966);function go(){return go=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},go.apply(this,arguments)}var yo,bo,wo=function(e){return s.createElement("svg",go({width:16,height:15,viewBox:"0 0 16 15",xmlns:"http://www.w3.org/2000/svg",fill:"none"},e),so||(so=s.createElement("path",{fill:"currentColor",d:"M9.382 2.53H8.16L6.307.676 6.16.53H1.953a1.5 1.5 0 00-1.5 1.5v9.429l1-1V2.03a.5.5 0 01.5-.5h3.793L7.6 3.384l.146.146h.637l1-1zm-2.929 10h7.5a.5.5 0 00.5-.5v-7.5l.936-.936a1.5 1.5 0 01.064.436v8a1.5 1.5 0 01-1.5 1.5h-8.5l1-1z",clipRule:"evenodd",fillRule:"evenodd"})),uo||(uo=s.createElement("path",{stroke:"currentColor",d:"M1.1 14.176l13-13"})))};function _o(){return _o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_o.apply(this,arguments)}var Eo=function(e){return s.createElement("svg",_o({width:17,height:15,viewBox:"0 0 17 15",xmlns:"http://www.w3.org/2000/svg",fill:"none"},e),yo||(yo=s.createElement("path",{fill:"currentColor",d:"M1.445 2.105a.5.5 0 01.5-.5h3.793l1.854 1.854.146.146h6.207a.5.5 0 01.5.5v1.5h1v-1.5a1.5 1.5 0 00-1.5-1.5H8.152L6.3.751 6.152.605H1.945a1.5 1.5 0 00-1.5 1.5v10a1.5 1.5 0 001.5 1.5h5.5v-1h-5.5a.5.5 0 01-.5-.5v-10z",clipRule:"evenodd",fillRule:"evenodd"})),bo||(bo=s.createElement("path",{stroke:"currentColor",d:"M12.945 7.605v7m-3.5-3.5h7"})))},So=n(63974),xo=n(28639),Oo=n.n(xo),Co=n(8975),ko=function(){var e=(0,Ji.wK)(),t=(0,s.useRef)(null),n=(0,no.Z)().getFolderPath,r=(0,vo.U)({folderId:null===e||void 0===e?void 0:e.id,onSuccess:function(){}}),i=n(null===e||void 0===e?void 0:e.id),o=po({parentFolderId:(null===e||void 0===e?void 0:e.id)||"",options:{shouldOpen:!1,origin:"header"}}),u=o.request,c=o.loading,l=function(t){var n=t.currentTarget.textContent;n!==(null===e||void 0===e?void 0:e.name)&&(t.currentTarget.blur(),r(null!==n&&void 0!==n?n:""))};if(!e)return(0,a.jsx)(G.yB,{color:"var(--grey-500)",children:(0,a.jsx)(G.ZP,{width:"100px"})});return(0,a.jsxs)("div",{className:Oo().folderTitleRoot,children:[(0,a.jsxs)(Qi.c,{children:[function(){var e="#dots#",t=[],n=i.slice(0,-1);return n.length<=3?t=n:(t.push(n[0]),t.push({id:e,name:"..."}),t.push(n[n.length-1]),t.push(n[n.length-2])),t.map((function(t){return(0,a.jsx)(Qi.c.Item,{isReadOnly:!0,value:t.name||Xi.Yp,href:"/folder/".concat(t.id),isDisabled:t.id===e,mode:t.id===e?"edit":"link"},t.id)}))}(),(0,a.jsx)(Qi.c.Item,{ref:t,isReadOnly:!1,value:null===e||void 0===e?void 0:e.name,onBlur:l,onEnter:l,placeholder:Xi.Yp})]}),(0,a.jsx)(mo.Z,{folder:e,dots:{visible:!0},onStartRenaming:function(){var e,n;t.current.focus(),null===(e=document.getSelection())||void 0===e||e.selectAllChildren(t.current),null===(n=document.getSelection())||void 0===n||n.collapseToEnd()},className:Oo().folderDropdown}),i.length<Co.p?(0,a.jsx)(So.Z,{text:"New folder",contentClassName:Oo().iconTooltip,children:(0,a.jsx)(O.J,{width:15,height:13,onClick:u,color:"grey-1000",icon:Eo,className:(0,k.Z)(Oo().newFolderIcon,c&&Oo().disabledFolderIcon)})}):(0,a.jsx)(So.Z,{text:"Max ".concat(Co.p," layers of folders"),contentClassName:Oo().iconTooltip,children:(0,a.jsx)(O.J,{width:15,height:13,onClick:u,color:"grey-1000",icon:wo,className:Oo().disabledFolderIcon})})]})},To=n(26005),Ao=n(79391),Io=n.n(Ao);function Do(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Po=[{url:"all",title:"All"},{url:"recents",title:"Recents"},{url:"created-by-me",title:"Created by Me"},{url:"folders",title:"Folders"},{url:"unsorted",title:"Unsorted"}],Ro=function(e){var t,n=e.title,r=e.isActive,i=e.index,o=e.onClick;return(0,z.Z)((Do(t={},"ctrl+".concat(i),{windows:!1,callback:o}),Do(t,"alt+".concat(i),{macOS:!1,callback:o}),t)),(0,a.jsx)(So.Z,{text:(0,a.jsx)(Je.P,{className:Io().topNavShortcut,keys:["Control|Alt",String(i)]}),tooltipPopperProps:{placement:"bottom"},children:(0,a.jsx)("button",{className:(0,k.Z)(Io().topNavTab,r&&Io().active),onClick:o,"data-testid":"dasbhoard-header-nav-".concat(n.toLowerCase()),children:(0,a.jsx)("span",{children:n})})})},No=function(){var e=(0,h.useRouter)(),t=(0,To.Q)().tabId,n=(0,Ji.wK)(),r="archived"===t,i="private"===t;return"search"===t||"github"===t||"getting-started"===t||"templates"===t?null:(0,a.jsxs)(Yi.x,{children:[(null===n||void 0===n?void 0:n.id)?(0,a.jsx)(Yi.x.Title,{children:(0,a.jsx)(ko,{})}):i?(0,a.jsxs)(Yi.x.Title,{children:[(0,a.jsx)("span",{style:{marginRight:6},children:"\ud83d\udd12"})," Private"]}):r?(0,a.jsx)(Yi.x.Title,{children:"Archive"}):(0,a.jsx)("div",{className:Io().topNav,children:Po.map((function(t,n){return(0,a.jsx)(Ro,{index:n+1,title:t.title,isActive:(r=t.url,e.asPath.indexOf("/dashboard/".concat(r))>=0),onClick:function(){return e.push(t.url)}},t.url);var r}))}),(0,a.jsx)($i.q,{showRightSide:!i&&!r,searchBarProps:{isOwner:"created-by-me"===t,folderId:"unsorted"===t?null:null===n||void 0===n?void 0:n.id}})]})},jo=(0,s.memo)(No),Mo=n(17366),Lo=function(e){var t=e.hideSplashOnLoad,n=void 0===t||t,r=e.children,i=(0,j.DJ)().currentTeamId,o=(0,j.mZ)(),s=(0,j.MV)(),u=(0,h.useRouter)(),c=o&&0===o.size;return(0,Mo.Z)((function(){s&&(c?u.push("/team/join"):n&&(0,Ee.hf)())}),[s,c,n,u]),i&&!s||s&&!c&&i?(0,a.jsx)(a.Fragment,{children:r}):null},Fo=n(27292),Bo=n(58579),Uo=n(41417),Vo=n(3559),zo=n(83e3),qo=n(61778),Zo=n(50449),Ho=n.n(Zo),Wo=n(7031),Go=function(){var e,t,n=(0,j.Rs)(),r=(0,M.fC)(),i=(0,s.useState)(!0),o=i[0],u=i[1],c=(0,Ne.Ii)(),l=c.coachmarks,f=c.markCoachmark,d=(0,Uo.Y)(),h=d.openSettingsModal,p=d.isSettingsModalOpen,v=d.openedPane,m=!0===(null===(e=l[qo.G.PricingAnnouncement])||void 0===e?void 0:e.isShown),g=!o||m;(0,s.useEffect)((function(){var e,t,i=null===r||void 0===r||null===(e=r.createdAt)||void 0===e?void 0:e.getTime();((null===n||void 0===n||null===(t=n.plan)||void 0===t?void 0:t.planType)===Ae.k9.Pro||i&&i>1693872e6||p&&"plans"===v)&&u(!1)}),[null===r||void 0===r?void 0:r.createdAt,null===n||void 0===n||null===(t=n.plan)||void 0===t?void 0:t.planType,p,v]);return g?null:(0,a.jsxs)("div",{className:(0,k.Z)(Ho().root),children:[(0,a.jsx)("h4",{className:Ho().title,children:"Introducing Professional Plan"}),(0,a.jsxs)("div",{className:Ho().contentWrapper,children:["Eraser's ",(0,a.jsx)("strong",{children:"Professional Plan"})," for teams offers:",(0,a.jsxs)("ul",{className:Ho().list,children:[(0,a.jsx)("li",{children:"Unlimited file creation"}),(0,a.jsx)("li",{children:"Unlimited AI diagram generation"}),(0,a.jsx)("li",{children:"Private files"}),(0,a.jsx)("li",{children:"Publicly editable files"})]}),"Rest assured, teams on the ",(0,a.jsx)("strong",{children:"Free Plan"})," will retain uninterrupted access to all of their existing files.\xa0",(0,a.jsx)(zo.d,{className:Ho().link,href:"https://www.eraser.io/pricing",onClick:function(){return F.Z.trackEvent("payment","announcement_modal_learn_more")},children:"Learn more."})]}),(0,a.jsxs)(Wo.Z,{style:{alignSelf:"flex-end"},children:[(0,a.jsx)(Vo.ZP,{onClick:function(){u(!1),f(qo.G.PricingAnnouncement,!0),F.Z.trackEvent("payment","announcement_modal_dismissed")},className:Ho().gotItButton,variant:Vo.ZP.Variants.OUTLINE,children:"Got it"}),(0,a.jsx)(Vo.ZP,{onClick:function(){u(!1),h({openedPane:"plans"}),f(qo.G.PricingAnnouncement,!0),F.Z.trackEvent("payment","announcement_modal_upgrade"),F.Z.trackEvent("payment","open_billing_pane",{source:"pricingAnnouncementModal"})},variant:Vo.ZP.Variants.REGULAR,children:"Upgrade"})]})]})},Ko=n(59567),Jo=n.n(Ko),Yo=n(42978),$o=n(98161),Xo=n(68056),Qo=n(99710),ea=n(45185),ta=n.n(ea);function na(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}var ra=function(e){var t=e.onClose,n=e.isOpen,r=e.onSwitchTeam,i=(0,s.useState)(),u=i[0],c=i[1],l=(0,M.aF)(),f=(0,to.Z)(),d=(0,eo.Z)(Xo.Z);(0,s.useEffect)((function(){c(void 0)}),[n]);var h=(0,s.useCallback)(function(){var e,n=(e=o().mark((function e(n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),u&&l){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,f.promise(d.execute(u,l.id,{origin:"dashboard",isAutoJoin:!0}),{loading:"Joining team",success:"Joined team",error:"Something went wrong"});case 5:r(u),t();case 7:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){na(o,r,i,a,s,"next",e)}function s(e){na(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e){return n.apply(this,arguments)}}(),[u,l,f.promise,d.execute,r,t]);return(0,a.jsxs)(U.Z,{title:"Join Team",className:ta().teamJoinModal,onClose:t,isOpen:n,hideCloseButton:!0,children:[(0,a.jsx)(Qo.D,{}),(0,a.jsxs)("form",{onSubmit:h,children:[(0,a.jsx)(Qo.Z,{className:ta().teams,onSelectionChange:c}),(0,a.jsxs)("div",{className:ta().buttons,children:[(0,a.jsx)(Vo.ZP,{variant:Vo.ZP.Variants.TRANSPARENT,size:Vo.ZP.Sizes.LARGE,onClick:t,children:"Cancel"}),(0,a.jsx)(Vo.ZP,{variant:Vo.ZP.Variants.REGULAR,size:Vo.ZP.Sizes.LARGE,type:"submit",disabled:!u,children:"Join Team"})]})]})]})},ia=ra,oa=n(72299),aa=n(54631),sa=n(67612),ua=n(19681),ca=n(456),la=n(28864),fa=n.n(la),da=n(98675);function ha(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ha(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ha(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var va,ma=function(e){var t=e.teamName;return(0,a.jsxs)("span",{className:fa().currentTeam,children:[(0,a.jsx)("span",{className:fa().currentTeamLogo,children:(0,a.jsx)($o.$q,{})}),(0,a.jsx)("span",{className:fa().currentTeamName,children:t||""})]})},ga=function(){var e=(0,ze.Z)(),t=e.onOpen,n=e.onClose,r=e.isOpen,i=(0,M.aF)(),o=(0,j.lh)(),u=(0,Bo.MO)().onSearchBarClose,c=(0,Uo.Y)().openSettingsModal,l=pa((0,j.p3)(),2),f=l[0],d=l[1],p=(0,s.useCallback)((function(e){d(e,{shouldResetFolder:!0}),u()}),[d,u]),v=(0,h.useRouter)(),m=(0,s.useCallback)((function(){v.push("/auth/logout")}),[v]);return(0,z.Z)({"shift+alt+s":function(){return c()}},{stopCallback:null}),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ia,{isOpen:r,onClose:n,onSwitchTeam:p}),(0,a.jsxs)(sa.Lt,{minWidth:210,title:(0,a.jsx)(ma,{teamName:null===f||void 0===f?void 0:f.name}),toggleClassNames:{button:fa().sidebarDropdown,caret:fa().sidebarDropdownCaret},children:[(0,a.jsx)(ua.ZP,{teams:o||[],onSwitch:p,selectedTeamId:null===f||void 0===f?void 0:f.id}),(0,a.jsx)(sa.KE,{}),(0,a.jsx)(wt.Z,{onClick:t,label:"Join or Create Team",icon:(0,a.jsx)(O.J,{icon:aa.Z})}),(0,a.jsx)(wt.Z,{label:"Settings",icon:(0,a.jsx)(O.J,{icon:da.Z}),onClick:function(){return c({openedPane:"members"})},rightElement:(0,a.jsx)(Je.P,{keys:["Shift","AltOrOption","S"]})}),(0,a.jsx)(wt.Z,{label:"Logout",onClick:m,icon:(0,a.jsx)(O.J,{icon:oa.Z})}),(0,a.jsx)(sa.KE,{}),(0,a.jsx)(ca.Z,{user:i,style:{margin:"10px 7px"}})]})]})},ya=n(63052);function ba(){return ba=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ba.apply(this,arguments)}var wa,_a,Ea=function(e){return s.createElement("svg",ba({width:15,height:9,viewBox:"0 0 15 9",xmlns:"http://www.w3.org/2000/svg"},e),va||(va=s.createElement("path",{d:"M0 .5h15m-15 8h15m-15-4h15",fill:"none",stroke:"currentColor"})))};function Sa(){return Sa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sa.apply(this,arguments)}var xa=function(e){return s.createElement("svg",Sa({width:13,height:11,viewBox:"0 0 13 11",xmlns:"http://www.w3.org/2000/svg"},e),wa||(wa=s.createElement("circle",{cx:5,cy:5,r:4.25,fill:"none",stroke:"currentColor",strokeWidth:1.5})),_a||(_a=s.createElement("path",{fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",d:"M9.061 8L11 9.939"})))},Oa=n(46450),Ca=n.n(Oa),ka=function(e){var t=e.onSidebarToggle,n=(0,s.useState)(!1),r=n[0],i=n[1];return(0,a.jsxs)("div",{className:Ca().mobileHeader,children:[(0,a.jsx)("button",{className:Ca().toggleButton,onClick:t,children:(0,a.jsx)(O.J,{icon:Ea})}),(0,a.jsx)(ga,{}),(0,a.jsx)("button",{className:Ca().toggleButton,onClick:function(){return i(!0)},children:(0,a.jsx)(O.J,{icon:xa})}),(0,a.jsxs)("div",{className:(0,k.Z)(Ca().searchContainer,r&&Ca().searchContainerActive),children:[(0,a.jsx)(Yo.Z,{}),(0,a.jsx)("button",{className:Ca().toggleButton,onClick:function(){return i(!1)},children:(0,a.jsx)(O.J,{icon:ya.Z})})]})]})},Ta=n(24706),Aa=n(80860),Ia=n.n(Aa),Da=n(12548),Pa=n(48483),Ra=n(37719),Na=n(10162),ja=n(95670),Ma=n.n(ja),La=function(e){var t=e.label,n=e.onSave,r=e.className,i=(0,s.useRef)(null),o=(0,s.useState)(t),u=o[0],c=o[1];(0,s.useEffect)((function(){setTimeout((function(){var e;null===(e=i.current)||void 0===e||e.focus()}),50)}),[]);var l=(0,s.useCallback)((function(e){"Enter"===e.key&&n(e.target.value)}),[n]),f=(0,s.useCallback)((function(){n(u)}),[n,u]),d=(0,s.useCallback)((function(e){var t=e.target.value;t.length>Xi.JR||c(t)}),[]);return(0,Na.Z)(f),(0,a.jsx)("input",{value:u,ref:i,onBlur:f,onKeyUp:l,onChange:d,placeholder:t?"":Xi.Yp,className:(0,k.Z)(Ma().input,r)})},Fa=n(73677),Ba=n.n(Fa),Ua=n(58992),Va=n(15316),za=n.n(Va),qa=n(50046),Za=n(24132);function Ha(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}var Wa=function(){var e,t=(e=o().mark((function e(t,n,r,i){var a,s,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=oo.Z.teamFolders(t).where("parentFolderId","==",r),s=oo.Z.teamFolder(t,i.id).withConverter(io.pe),u=n.reduce((function(e,t){return e.set(t.id,t)}),new Map),i.parentFolderId===r){e.next=6;break}return e.next=6,s.update({parentFolderId:r,order:u.get(i.id)});case 6:return e.next=8,(0,Za.ZP)(a,(function(e,t){var n,r=t.data().order,i=null===(n=u.get(t.id))||void 0===n?void 0:n.order;i!==r&&e.set(t.ref,{order:i},{merge:!0})}));case 8:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Ha(o,r,i,a,s,"next",e)}function s(e){Ha(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e,n,r,i){return t.apply(this,arguments)}}(),Ga=Wa;function Ka(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ja(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ya(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ja(e,t,n[t])}))}return e}function $a(e){return function(e){if(Array.isArray(e))return Ka(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Ka(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ka(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Xa=function(){var e=(0,eo.Z)(Ga),t=(0,qa.z)().subject;return(0,s.useCallback)((function(n){var r=n.parentFolderId,i=n.folder,o=n.after,a=n.teamId,s=n.foldersToReorder,u=n.foldersForOptimisticUpdate,c=function(e,t,n){var r=t.filter((function(t){return t.id!==e.id})),i=[],o=!1;if(n<=-1)i=[e].concat($a(r));else for(var a=0;a<r.length;a++)r[a].id!==e.id&&(r[a].order>=n&&!o?(i.push(r[a],e),o=!0):i.push(r[a]));var s=i.map((function(e,t){return Ya({},e,{order:t})}));return s.sort((function(e,t){return e.order-t.order}))}(Ya({},i,{parentFolderId:r}),s,o),l=za()(u,c,"id");t.next(l),e.execute(a,c,r,i).then((function(){return F.Z.trackEvent("folders","reorder_folder")})).catch((function(e){t.next(l),(0,re.Tb)(e)}))}),[e,t])},Qa=n(21043),es=function(e){var t=e.depth,n=e.folder,r=e.onClick,i=e.onRename,o=e.position,u=e.activeTab,c=e.onKeyDown,l=e.isRenaming,f=e.accordionButton,d=(0,j.LP)(),h=Xa(),p=(0,s.useRef)(null),v=(0,Pa.Q)(n),m=v.isDraggingFolder,g=v.dragRef,y=v.previewRef,b=(0,no.Z)(),w=b.folders,_=b.folderTree,E=b.getFolderPath,S=b.topLevelFolders,x=b.getFolderChildren,C=(0,vo.U)({folderId:n.id,onSuccess:i}),T=po({parentFolderId:n.id,options:{shouldOpen:!1,origin:"sidebar"}}),A=(0,s.useCallback)((function(e){var t=e.targetFolder,n=e.folderDropSide,r=e.draggingFolder;if(w)if("on"===n){if(E(t.id).length+(0,Qa.ZN)(r.id,_).reduce((function(e,t){return e>t.length?e:t.length}),0)>Co.p)return;(0,Ra.G)({teamId:d,folderId:r.id,newParentId:t.id})}else{if(!d)return;var i,o="before"===n?-1:0,a=t.order+o,s=r.parentFolderId;r.parentFolderId!==t.parentFolderId&&(s=t.parentFolderId),i=s?x(s):S,h({after:a,teamId:d,foldersToReorder:i,folder:r,foldersForOptimisticUpdate:w,parentFolderId:s})}}),[d,w,_,E,S,x,h]),I=(0,Pa.z)({targetFolder:n,rootRef:p,onFolderReorder:A}),D=I.dropRef,P=I.isDroppingWorkspace,R=I.isDroppingFolder,N=I.folderDropSide;return l?(0,a.jsx)(La,{label:n.name,onSave:C,className:(0,k.Z)(Ba().active,Ba().renamingFolder,Boolean(n.parentFolderId)&&Ba().nested)},n.id):(0,a.jsx)(Ua.M,{textSize:"medium",onClick:r,tabHeight:"medium",isActive:u,onKeyDown:c,tabPosition:o,isDragging:m,content:(0,a.jsxs)(a.Fragment,{children:[f,(0,a.jsx)("span",{className:Ba().folderName,children:n.name||Xi.Yp}),t<Co.p-1&&u&&(0,a.jsx)(So.Z,{text:"New sub folder",contentClassName:(0,k.Z)(Ba().subfolderTooltip,T.loading&&Ba().disabled),children:(0,a.jsx)(O.J,{width:15,height:13,color:"grey-1000",icon:Eo,className:Ba().newFolderIcon,onClick:T.request})})]}),dragRefs:{containerRef:p,previewRef:y,dragRef:g,dropRef:D},dropTarget:P?"on":R?N:"none"})},ts=n(61842),ns=n.n(ts),rs=function(e,t){return 0===e?"first":e===t-1?"last":"inBetween"},is=function(e){var t,n=e.index,r=e.depth,i=e.folder,o=e.currentFolderId,s=e.sameLevelFolders,u=(0,no.Z)(),c=u.openFolder,l=u.closeFolder,f=u.openFolders,d=u.switchFolder,h=u.toggleFolder,p=u.renamingFolder,v=u.setRenamingFolder,m=i.children,g=!!(null===m||void 0===m?void 0:m.length),y=!i.parentFolderId,b=f.has(i.id),w=function(e){g&&(e.stopPropagation(),h(i.id))};return(0,a.jsxs)("div",{className:ns().accordionContainer,children:[(0,a.jsx)("div",{className:ns().parentFolder,children:(0,a.jsx)(es,{depth:r,folder:i,onKeyDown:function(e){"ArrowRight"===e.key?c(i.id):"ArrowLeft"===e.key&&l(i.id)},isRenaming:(t=i.id,!!p&&t===p.id&&"sidebar"===p.origin),onRename:function(){return v(null)},activeTab:o===i.id,accordionButton:y||g?(0,a.jsx)(Da.j,{isExpanded:b,onClick:w,isIconVisible:g}):null,onClick:function(){return d("folder",i.id)},position:rs(n,s.length)},i.id)}),(0,a.jsx)("div",{className:ns().childFolders,style:{display:b?"block":"none"},children:null===m||void 0===m?void 0:m.map((function(e,t){return(0,a.jsx)(is,{index:t,folder:e,depth:r+1,sameLevelFolders:m,currentFolderId:o},e.id)}))})]})},os=n(22510),as=n(14859),ss=n.n(as);function us(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){us(e,t,n[t])}))}return e}var ls=function(e){var t=e.title,n=e.iconProps,r=void 0===n?{icon:os.Z}:n,i=e.className,o=e.onClick,s=e.iconToolTipProps;return(0,a.jsxs)("div",{className:(0,k.Z)(ss().sectionTitle,i),children:[(0,a.jsx)("span",{children:t}),function(){if(!o)return null;var e=(0,a.jsx)("button",{onClick:o,className:ss().iconButton,children:(0,a.jsx)(O.J,cs({},r,{color:"grey-1000",className:ss().icon}))});return s?(0,a.jsx)(So.Z,cs({},s,{contentClassName:ss().tooltipRoot,children:e})):e}()]})};function fs(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ds(e){return function(e){if(Array.isArray(e))return fs(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return fs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fs(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var hs=function(){var e=(0,h.useRouter)(),t=(0,Ji.MZ)(),n=(0,no.Z)(),r=n.topLevelFolders,i=n.switchFolder,o=n.closeFolder,s=po({name:"",parentFolderId:void 0,options:{origin:"sidebar",shouldOpen:!0}}).request,u=function(n){var a=["/dashboard/all","/dashboard/recents","/dashboard/created-by-me","/dashboard/folders","/dashboard/unsorted"].concat(ds(r)),s=e.asPath.split("?")[0],u=a.findIndex((function(e){return"string"===typeof e?e===s:e.id===t})),c=a[(u+("next"===n?1:-1)+a.length)%a.length];c&&("string"!==typeof c?(t&&o(t),i("folder",c.id)):e.push(c))};return(0,z.Z)({"alt+shift+f":s,"]":function(){return u("next")},"[":function(){return u("prev")}}),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ls,{title:"Team folders",onClick:s,className:Ia().noMarginTop,iconProps:{icon:Eo,width:15,height:13},iconToolTipProps:{text:"New folder",placement:"right"}}),(0,a.jsx)("div",{className:Ia().foldersList,"data-testid":"sidebar-folders-list",children:r.map((function(e,n){return(0,a.jsx)(is,{depth:0,index:n,folder:e,currentFolderId:t,sameLevelFolders:r},e.id)}))})]})},ps=n(29098),vs=n(69685),ms=n(27822),gs=n(98906),ys=n(16838),bs=n(19422),ws=n(14113),_s=n(77845),Es=n.n(_s);function Ss(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xs(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Os(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){xs(e,t,n[t])}))}return e}function Cs(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ks(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ss(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ss(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ts,As=function(e){return e.replace(/^\//,"")},Is=function(e){return e.includes("/")},Ds=function(e,t){return e&&t?e.flatMap((function(e){var n=t.get(e.id);return n?n.map((function(t){return{organization:e,repository:t}})):[]})):[]},Ps=function(e){var t=e.onClose,n=e.onCreate,r=e.initialDto,i=void 0===r?{}:r,o=Cs(e,["onClose","onCreate","initialDto"]),s=ks((0,gs.R)({fileName:i.fileName||"",filePath:i.filePath||"/",repositoryId:i.repositoryId||"",organizationId:i.organizationId||""}),2),u=s[0],c=s[1],l=(0,_.T5)({repositoryId:u.repositoryId,organizationId:u.organizationId}),f=l.organization,d=l.repository,h=(0,It.E$)(),p=h.organizations,v=h.repositoriesMap,m=f&&d?"".concat(f.name,"/").concat(d.name):void 0,g=!m||!u.filePath||!u.fileName||Is(u.fileName);return(0,a.jsxs)(U.Z,Os({},o,{title:"New GitHub file",onClose:t,children:[(0,a.jsxs)("div",{className:Es().repositoryWrapper,children:[(0,a.jsx)(ys.A,{labelClassNames:{root:Es().repositoryLabel},children:"Repository"}),(0,a.jsx)(sa.Lt,{takeWidthOfToggle:!0,title:m,selected:m,noSelectionTitle:"Select repository ...",classNames:{menu:Es().dropdownMenu},toggleClassNames:{button:Es().dropdownToggleRoot,root:Es().toggleRoot},children:Ds(p,v).map((function(e){var t=e.organization,n=e.repository;return(0,a.jsx)(bs.Wx,{label:"".concat(t.name,"/").concat(n.name),onClick:function(){return c({organizationId:t.id,repositoryId:n.id})}},n.id)}))})]}),(0,a.jsx)(ws.Z,{label:"File path",value:u.filePath,placeholder:"Enter path ...",onChange:function(e){return c({filePath:e.currentTarget.value})}}),(0,a.jsx)(ws.Z,{autoFocus:!0,label:"File name",value:u.fileName,placeholder:"Name your file ...",onChange:function(e){return c({fileName:e.currentTarget.value})}}),Is(u.fileName)&&(0,a.jsx)("small",{children:"File name cannot include slash character."}),(0,a.jsxs)(Wo.Z,{children:[(0,a.jsx)(Vo.ZP,{variant:Vo.ZP.Variants.TRANSPARENT,onClick:t,children:"Cancel"}),(0,a.jsx)(Vo.ZP,{disabled:g,onClick:function(){var e,t=As(u.filePath),r=(e=As(u.fileName)).toLocaleLowerCase().endsWith(".md")?e:"".concat(e,".md");n(Os({},u,{filePath:t,fileName:r}))},variant:Vo.ZP.Variants.REGULAR,children:"Create File"})]})]}))},Rs=n(46972),Ns=n(81095),js=n(70740);function Ms(){return Ms=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ms.apply(this,arguments)}var Ls,Fs=function(e){return s.createElement("svg",Ms({width:12,height:14,viewBox:"0 0 12 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Ts||(Ts=s.createElement("path",{d:"M3.603 6.2V3.8a2.4 2.4 0 114.8 0v2.4m-6.4 0h8a.8.8 0 01.8.8v4.8a.8.8 0 01-.8.8h-8a.8.8 0 01-.8-.8V7a.8.8 0 01.8-.8z",stroke:"currentColor"})))},Bs=n(41369),Us=n(58199),Vs=n(20879),zs=n(62473),qs=n.n(zs),Zs=n(36171),Hs=function(){var e=(0,Ji.MZ)(),t=function(){var e=(0,j.LP)(),t=(0,To.Q)().tabId,n=(0,It.E$)().repositoriesMap,r=(0,Us.Q)(Ae.AC.PrivateWorkspaces,e),i=[],o={key:"newTemplate",icon:(0,a.jsx)(Vs.Z,{}),label:"New from Template",shortcutKeys:["Control|Alt","T"]},s=Array.from((null===n||void 0===n?void 0:n.entries())||[]).some((function(e){return e[1].length>0}));return(r||s)&&i.push({key:"new",label:"New File",icon:(0,a.jsx)(Bs.Z,{}),shortcutKeys:["Control|Alt","N"]}),"templates"!==t&&i.push(o),r&&"private"!==t&&i.push({key:"private",icon:(0,a.jsx)(Fs,{}),label:"New Private File",shortcutKeys:["Control|Alt","Shift","N"]}),s&&i.push({key:"gitHub",icon:(0,a.jsx)(js.Z,{}),label:"New Github File",shortcutKeys:["Control|Alt","CtrlOrCmd","N"]}),i}(),n=(0,bs.QR)(),r=(0,To.Q)().tabId,i=(0,ze.Z)(),o=i.onOpen,u=i.isOpen,c=i.onClose,l=(0,ze.Z)(),f=l.onOpen,d=l.isOpen,h=l.onClose,p=function(e){var t,n,r,i=(0,ms.k_)(),o=(0,ms.dr)(),s="templates"===e,u=i&&o;return"private"===e?(t="New Private File",r=["Control|Alt","Shift","N"],n=(0,a.jsx)(O.J,{icon:S.Z,color:"grey-0-constant",width:12})):u?(t="New GitHub File",r=["Control|Alt","CtrlOrCmd","N"],n=(0,a.jsx)(O.J,{icon:E.Z,color:"grey-0-constant",width:12})):s?(n=null,t="New Template",r=["Control|Alt","T"]):(n=null,t="New File",r=["Control|Alt","N"]),(0,a.jsxs)("span",{className:qs().newFileText,children:[n,t,(0,a.jsx)(Je.P,{className:qs().shortcut,keys:r})]})}(r),v=(0,s.useRef)(),m=(0,ms.k_)(),g=(0,s.useRef)(null),y=(0,ms.dr)(),b=(0,s.useRef)(null),w=(0,vs.Z)(),_=w.loading,x=w.request,C=(0,Zs.X)(),T=C.request,A=C.loading,I="private"===r,D=t.length>0,P=m&&y,R=P?{repositoryId:m.id,organizationId:y.id}:void 0,N=function(t){"private"===t||"new"===t&&I?x("header_shortcut",{isPrivate:!0}):"gitHub"===t||"new"===t&&P?(o(),v.current="header_shortcut"):"newTemplate"===t?f():x("header_shortcut",{folderId:e})};return(0,z.Z)({"alt+n":{macOS:!1,callback:function(){return N("new")}},"ctrl+n":{windows:!1,callback:function(){return N("new")}},"alt+ctrl+n":{macOS:!1,callback:function(){return N("gitHub")}},"alt+t":{macOS:!1,callback:function(){return N("newTemplate")}},"alt+shift+n":{macOS:!1,callback:function(){return N("private")}},"ctrl+t":{windows:!1,callback:function(){return N("newTemplate")}},"ctrl+meta+n":{windows:!1,callback:function(){return N("gitHub")}},"ctrl+shift+n":{windows:!1,callback:function(){return N("private")}}}),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:qs().buttonsRoot,children:[(0,a.jsx)(Vo.ZP,{onClick:function(){P?(o(),v.current="header_button"):x("header_button",I?{isPrivate:!0}:{folderId:e})},size:Vo.ZP.Sizes.LARGE,"data-testid":"new-file-button",variant:Vo.ZP.Variants.REGULAR,isLoading:_||A,className:(0,k.Z)(qs().leftButton,D&&qs().leftButtonSplit),children:p}),D&&(0,a.jsxs)(bs.GI,{controller:n,children:[(0,a.jsx)(bs.GI.Toggle,{children:(0,a.jsx)(Vo.ZP,{ref:g,className:qs().rightButton,disabled:_||A,children:(0,a.jsx)(Rs.Z,{})})}),(0,a.jsx)(bs.GI.Menu,{placement:"top-start",children:t.map((function(t){var r=t.key,i=t.label,s=t.icon,u=t.shortcutKeys;return(0,a.jsx)(bs.Wx,{icon:s,label:i,onClick:function(){return function(t){n.closePopup(),"private"===t?x("header_button",{isPrivate:!0}):"gitHub"===t?(o(),v.current="header_button"):"newTemplate"===t?f():x("header_button",{folderId:e})}(r)},rightElement:(0,a.jsx)(Je.P,{keys:u})},r)}))})]})]}),d&&(0,a.jsx)(Ns.U,{isOpen:!0,mountedIn:"other",templateToPreview:null,isLoading:A,onUseTemplate:function(t){var n=t.id;I?T({isFromTemplate:!0,teamId:t.teamId,workspaceId:n,versionId:t.templateVersionId,workspaceOverrides:{isPrivate:!0}}):P?(o(),b.current=t):T({isFromTemplate:!0,teamId:t.teamId,workspaceId:n,workspaceOverrides:{folderId:e},versionId:t.templateVersionId})},onClose:h}),u&&(0,a.jsx)(Ps,{isOpen:!0,onClose:function(){c(),v.current=void 0,b.current=null},initialDto:R,onCreate:function(t){var n=t.fileName,r=t.filePath,i=t.organizationId,o=t.repositoryId,a={filePath:r.length?"".concat(r,"/").concat(n):n,repositoryId:o,organizationId:i},s=n.replace(/\.md$/,""),u={title:s,folderId:e,isPrivate:I,gitHubRepository:a};b.current?T({isFromTemplate:!0,teamId:b.current.teamId,workspaceId:b.current.id,versionId:b.current.templateVersionId,workspaceOverrides:{title:s,folderId:e,isPrivate:I,gitHubRepository:a}}):x(v.current,u),v.current=void 0,b.current=null}})]})},Ws=n(63435),Gs=n.n(Ws),Ks=n(29658);function Js(){return Js=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Js.apply(this,arguments)}var Ys=function(e){return s.createElement("svg",Js({width:14,height:13,viewBox:"0 0 14 13",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Ls||(Ls=s.createElement("path",{d:"M1.398 8.6V1.4h11.2l-1.6 3.6 1.6 3.6h-11.2zm0 0V13",stroke:"currentColor",strokeLinejoin:"round"})))},$s=n(91934),Xs=n(4729),Qs=function(e){var t,n=e.activeTab,r=e.onTabChange,i=(0,j.LP)(),o=(0,M.Fl)(),s=(0,Uo.Y)().openSettingsModal,u=(0,It.E$)().organizations,c=(0,Us.Q)(Ae.AC.PrivateWorkspaces,i),l=null===(t=null===o||void 0===o?void 0:o.isGettingStartedEnabled)||void 0===t||t;if((0,z.Z)({p:function(){return f()},g:function(){return d()},e:function(){return r("archived")},t:function(){return r("templates")},s:function(){return r("getting-started")}}),!i)return null;var f=function(){c?r("private"):(s({openedPane:"plans"}),F.Z.trackEvent("payment","open_billing_pane",{source:"privateFilesSidebar"}))},d=function(){r("github")};return(0,a.jsxs)("div",{className:Gs().root,children:[(0,a.jsxs)("div",{className:Gs().footerTabsContainer,children:[l&&(0,a.jsx)(Ua.M,{textSize:"medium",tabHeight:"small",content:"Getting Started",onClick:function(){r("getting-started"),F.Z.trackEvent("getting_started","sidebar_tab")},shortcut:(0,a.jsx)(Je.P,{keys:["S"]}),isActive:"getting-started"===n,icon:(0,a.jsx)(O.J,{icon:Ys})}),(0,a.jsx)(Ua.M,{textSize:"medium",tabHeight:"small",content:"Team Templates",onClick:function(){r("templates"),F.Z.trackEvent("templates_page","sidebar_tab")},icon:(0,a.jsx)(O.J,{icon:Vs.Z}),isActive:"templates"===n,shortcut:(0,a.jsx)(Je.P,{keys:["T"]})}),!(null===u||void 0===u?void 0:u.length)&&(0,a.jsx)(Ua.M,{textSize:"medium",tabHeight:"small",onClick:d,content:(0,a.jsxs)("div",{className:Gs().gitHubLabelContainer,children:[(0,a.jsx)("span",{children:"Github Sync"}),(0,a.jsx)(Xs.vw,{className:Gs().gitHubBadge})]}),isActive:"github"===n,icon:(0,a.jsx)(O.J,{icon:js.Z}),shortcut:(0,a.jsx)(Je.P,{keys:["G"]})}),(0,a.jsx)(Ua.M,{textSize:"medium",tabHeight:"small",onClick:f,content:c?"Private Files":(0,a.jsxs)("div",{className:Gs().pricingPlanTabContainer,children:[(0,a.jsx)("span",{children:"Private Files"}),(0,a.jsx)($s.Z,{})]}),icon:(0,a.jsx)(O.J,{icon:Fs}),isActive:"private"===n,shortcut:c?(0,a.jsx)(Je.P,{keys:["P"]}):void 0}),(0,a.jsx)(Ua.M,{textSize:"medium",tabHeight:"small",content:"Archive",icon:(0,a.jsx)(O.J,{icon:Ks.Z}),isActive:"archived"===n,onClick:function(){return r("archived")},shortcut:(0,a.jsx)(Je.P,{keys:["E"]})})]}),(0,a.jsx)(Hs,{}),(0,a.jsx)(ps.f,{showLink:!0,useColor:!0,style:{marginTop:30}})]})},eu=n(47964),tu=n(20671),nu=n.n(tu);function ru(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ru(e,t,n[t])}))}return e}var ou,au=function(){var e=(0,h.useRouter)(),t=(0,ms.dr)(),n=(0,It.E$)(),r=n.organizations,i=n.repositoriesMap,o=(0,ms.$m)(),u=o.organizationName,c=o.repositoryName,l=(0,s.useState)({}),f=l[0],d=l[1],p=(0,s.useCallback)((function(e,t){"toggle"===t?d(iu({},f,ru({},e,!f[e]))):f[e]!==t&&d(iu({},f,ru({},e,t)))}),[f]);(0,s.useEffect)((function(){t&&c&&p(t.id,!0)}),[t,c,p]);var v=function(t){return r&&i&&i.has(t)?i.get(t).map((function(n){var i=r.find((function(e){return e.id===t}));return{isActive:u===i.name&&c===n.name,isExpandable:!0,content:(0,a.jsxs)("span",{className:nu().repositoryName,children:[i.name,"/",n.name]}),accordionButtonProps:{isIconVisible:!1,isExpanded:!1},onClick:function(){return function(t,n){e.push("/github/".concat(t.name,"/").concat(n.name))}(i,n)}}})):[]};return(null===r||void 0===r?void 0:r.length)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ls,{title:(0,a.jsxs)("span",{className:nu().badgeWrapper,children:["Github Sync ",(0,a.jsx)(eu.Z,{className:nu().badge})]})}),(0,a.jsx)("div",{className:nu().integrationsList,children:null===r||void 0===r?void 0:r.flatMap((function(e){return v(e.id)})).map((function(e,t){return(0,a.jsx)(Ua.M,iu({},e),t)}))})]}):null};function su(){return su=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},su.apply(this,arguments)}var uu=function(e){return s.createElement("svg",su({width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),ou||(ou=s.createElement("path",{d:"M1.7.5A1.2 1.2 0 00.5 1.7v2.6a1.2 1.2 0 001.2 1.2h2.6a1.2 1.2 0 001.2-1.2V1.7A1.2 1.2 0 004.3.5H1.7zM7.7.5a1.2 1.2 0 00-1.2 1.2v2.6a1.2 1.2 0 001.2 1.2h2.6a1.2 1.2 0 001.2-1.2V1.7A1.2 1.2 0 0010.3.5H7.7zM1.7 6.5A1.2 1.2 0 00.5 7.7v2.6a1.2 1.2 0 001.2 1.2h2.6a1.2 1.2 0 001.2-1.2V7.7a1.2 1.2 0 00-1.2-1.2H1.7zM7.7 6.5a1.2 1.2 0 00-1.2 1.2v2.6a1.2 1.2 0 001.2 1.2h2.6a1.2 1.2 0 001.2-1.2V7.7a1.2 1.2 0 00-1.2-1.2H7.7z",fill:"currentColor"})))},cu=n(35730),lu=n.n(cu),fu=function(e){var t,n=e.activeTab,r=e.sidebarOpenMobile,i=e.onSidebarClose,o=(0,ho.d)(),u=(0,Ji.wK)(),c=(0,no.Z)().switchFolder,l=(0,j.S5)();(0,s.useEffect)((function(){i()}),[u,i]),o&&(t=(0,k.Z)(lu().mobileSidebar,r&&lu().mobileSidebarOpen));var f=(0,s.useCallback)((function(e){c(e),setTimeout((function(){return i()}),100)}),[i,c]),d=(0,s.useCallback)((function(){f("all")}),[f]),h=(0,s.useCallback)((function(){f("history")}),[f]),v=(0,s.useCallback)((function(){f("private")}),[f]),m=(0,s.useCallback)((function(){l&&p().push("/workspace/".concat(l))}),[l]);(0,z.Z)({a:d,h:h,p:v,"ctrl+alt+right":m});var g=["all","recents","created-by-me","folders","unsorted"].includes(n);return(0,a.jsxs)(a.Fragment,{children:[o&&r&&(0,a.jsx)("div",{className:lu().sidebarOverlay,onClick:i}),(0,a.jsxs)("div",{className:(0,k.Z)(lu().container,t),children:[!o&&(0,a.jsx)("div",{className:lu().sidebarMenuContainer,children:(0,a.jsx)(ga,{})}),(0,a.jsx)("div",{className:lu().topSection,children:(0,a.jsx)(Ua.M,{content:"All Files",onClick:d,isActive:g,icon:(0,a.jsx)(O.J,{icon:uu}),shortcut:(0,a.jsx)(Je.P,{keys:["A"]}),classNames:{root:lu().topSectionTab,content:lu().topSectionTabContent}})}),(0,a.jsxs)("div",{className:lu().listContainer,children:[(0,a.jsx)(hs,{}),(0,a.jsx)(au,{})]}),!o&&(0,a.jsx)(Qs,{onTabChange:f,activeTab:n}),(0,a.jsx)("div",{})]})]})};function du(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function hu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){hu(e,t,n[t])}))}return e}var vu=function(){var e=(0,j.Rs)();return e?(0,a.jsx)(d(),{children:(0,a.jsxs)("title",{children:[e.name," Workspaces \u2014 Eraser"]})}):null},mu=function(e){var t=e.children;return(0,a.jsx)(Jr,{backend:zt.b1?Hi:Ii,children:t})},gu=function(e){var t=e.children,n=(0,h.useRouter)(),r=(0,ho.d)(),i=(0,Bo.Rx)(),o=i.query,u=i.onInputChange,c=(0,To.Q)().tabId,l=o.length>0,f="search"===c,d="github"===c,p=(0,ze.Z)(),v=p.onClose,m=p.isOpen,g=p.onToggle;return(0,s.useEffect)((function(){l&&u("")}),[n.pathname]),(0,a.jsxs)("div",{className:Jo().dashboardPage,"data-is-ready":"true",children:[(0,a.jsxs)(mu,{children:[(0,a.jsx)(fu,{activeTab:c,onSidebarClose:v,sidebarOpenMobile:m}),(0,a.jsxs)("div",{className:Jo().dashboardBody,children:[r&&(0,a.jsx)(ka,{onSidebarToggle:g}),(0,a.jsx)(jo,{}),!l||f||d?t:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Ta.S,{}),(0,a.jsx)(Ta.Z,{})]})]})]}),(0,a.jsx)(Go,{})]})},yu=function(e){var t=e.children;return(0,a.jsx)(Wi.Z,{hideSplashOnLoad:!1,children:(0,a.jsx)(Lo,{children:(0,a.jsxs)(Xi.yR,{children:[(0,a.jsxs)(Fo.N,{children:[(0,a.jsx)(vu,{}),(0,a.jsx)(Ki.ZP,{children:(0,a.jsx)(gu,{children:t})})]}),(0,a.jsx)(Gi.Z,{stickTo:"right"})]})})})},bu=(function(){var e,t=(e=o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{props:{og:pu({},be,{description:"Create diagrams, wireframes, technical specs with your team. Your all-in-one technical ideation tool."})}});case 1:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){du(o,r,i,a,s,"next",e)}function s(e){du(o,r,i,a,s,"throw",e)}a(void 0)}))})}(),n(7878)),wu=n(77170),_u=n.n(wu),Eu="eraser-ph-announcement",Su=function(){var e=(0,s.useState)(!!bu.J.getItem(Eu)),t=e[0],n=e[1],r=X.g.isFeatureEnabled("product_hunt_announcement"),i=(0,qe.F)().theme,o=(0,h.useRouter)();return t||!r||!o.isReady||o.asPath.match("/image")?null:(0,a.jsxs)("div",{className:_u().announcement,children:[(0,a.jsx)("span",{className:_u().title,children:"We're on Product Hunt \ud83c\udf89\ud83d\ude80"}),(0,a.jsxs)("p",{children:["Check out the Eraser AI launch post to see all the new features across ",(0,a.jsx)("b",{children:"AI diagramming"})," ","and ",(0,a.jsx)("b",{children:"AI outline generation."})]}),(0,a.jsx)("p",{children:"We are very grateful for the support of the Eraser community!"}),(0,a.jsx)("a",{href:"https://www.producthunt.com/posts/eraser-ai?utm_source=badge-top-post-badge&utm_medium=badge&utm_souce=badge-eraser-ai",target:"_blank",rel:"noreferrer",className:"marginTopLarge",children:(0,a.jsx)("img",{src:"https://api.producthunt.com/widgets/embed-image/v1/top-post-badge.svg?post_id=453666&theme=".concat(i,"&period=weekly"),alt:"Eraser AI - The first copilot for technical design | Product Hunt",style:{width:250,height:54},width:"250",height:"54"})}),(0,a.jsxs)("div",{className:_u().footer,children:[(0,a.jsx)(Vo.ZP,{variant:Vo.ZP.Variants.OUTLINE,className:_u().button,onClick:function(){bu.J.setItem(Eu,"true"),n(!0)},children:"Got It"}),(0,a.jsx)(Vo.ZP,{variant:Vo.ZP.Variants.REGULAR,className:_u().button,onClick:function(){return window.open("https://www.producthunt.com/posts/eraser-ai","_blank")},children:"View on Product Hunt"})]}),(0,a.jsxs)("div",{className:_u().confetti,children:[(0,a.jsx)("div",{className:_u().confettiPiece}),(0,a.jsx)("div",{className:_u().confettiPiece}),(0,a.jsx)("div",{className:_u().confettiPiece}),(0,a.jsx)("div",{className:_u().confettiPiece}),(0,a.jsx)("div",{className:_u().confettiPiece}),(0,a.jsx)("div",{className:_u().confettiPiece}),(0,a.jsx)("div",{className:_u().confettiPiece}),(0,a.jsx)("div",{className:_u().confettiPiece}),(0,a.jsx)("div",{className:_u().confettiPiece}),(0,a.jsx)("div",{className:_u().confettiPiece}),(0,a.jsx)("div",{className:_u().confettiPiece}),(0,a.jsx)("div",{className:_u().confettiPiece}),(0,a.jsx)("div",{className:_u().confettiPiece})]})]})};Array.prototype.at||Object.defineProperty(Array.prototype,"at",{value:function(e){if((e=Math.trunc(e)||0)<0&&(e+=this.length),!(e<0||e>=this.length))return this[e]},writable:!0,enumerable:!1,configurable:!0});n(21903),n(21024),n(97402);var xu=n(2732),Ou=n(70289),Cu=n(65234),ku=n.n(Cu),Tu=(0,a.jsxs)("span",{children:[(0,a.jsxs)("span",{className:ku().keys,children:[(0,Z.K8)("ArrowUp",!0),(0,Z.K8)("ArrowDown",!0)]}),(0,a.jsx)("span",{children:"to navigate"})]}),Au=function(e){switch(e){case"commands":return(0,a.jsxs)(a.Fragment,{children:[Tu,(0,a.jsxs)("span",{children:[(0,a.jsx)("span",{className:ku().keys,children:(0,Z.K8)("Enter",!0)}),(0,a.jsx)("span",{children:"enter command"})]})]});case"fileSearch":case"help":return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("span",{children:[(0,a.jsx)("span",{className:ku().keys,children:(0,Z.K8)("Enter",!0)}),(0,a.jsx)("span",{children:"search"})]}),(0,a.jsxs)("span",{children:[(0,a.jsx)("span",{className:ku().keys,children:(0,Z.K8)("Esc",!0)}),(0,a.jsx)("span",{children:"cancel"})]})]});case"goToFile":return(0,a.jsxs)(a.Fragment,{children:[Tu,(0,a.jsxs)("span",{children:[(0,a.jsx)("span",{className:ku().keys,children:(0,Z.K8)("Enter",!0)}),(0,a.jsx)("span",{children:"open new tab"})]}),(0,a.jsxs)("span",{children:[(0,a.jsxs)("span",{className:ku().keys,children:[(0,Z.K8)("CtrlOrCmd",!0)," ",(0,Z.K8)("Enter",!0)]}),(0,a.jsx)("span",{children:"open here"})]})]});default:return null}},Iu=(0,a.jsxs)("span",{className:ku().toggleTitle,children:["Mode ",(0,a.jsx)(Je.P,{keys:["CtrlOrCmd","M"]})]}),Du=function(e){var t=e.screen,n=e.onScreenChange,r=(0,s.useState)(!1),i=r[0],o=r[1];return(0,a.jsxs)("div",{className:ku().shortcuts,children:[Au(t),(0,a.jsx)("span",{className:ku().modeWrapper,children:(0,a.jsxs)(sa.Lt,{showCaret:!1,selected:t,title:Iu,isOpen:i,onOpenChange:o,classNames:{menu:ku().menu},selectionVariant:wt._.Grey,toggleClassNames:{button:ku().toggle},onSelect:function(e){return n(e)},children:[(0,a.jsx)(bs.Wx,{rightElement:(0,a.jsx)(Je.P,{keys:["CtrlOrCmd","K"]}),children:"Commands"},"commands"),(0,a.jsx)(bs.Wx,{rightElement:(0,a.jsx)(Je.P,{keys:["CtrlOrCmd","P"]}),children:"Go to file ..."},"goToFile"),(0,a.jsx)(bs.Wx,{rightElement:(0,a.jsx)(Je.P,{keys:["AltOrOption","F"]}),children:"File Search"},"fileSearch"),(0,a.jsx)(bs.Wx,{rightElement:(0,a.jsx)(Je.P,{keys:["AltOrOption","H"]}),children:"Help"},"help")]})})]})},Pu=(0,xu.cn)({key:"commandKModalState",default:{isModalOpen:!1}}),Ru=function(e){return"/dashboard/all?search=".concat(encodeURIComponent(e))},Nu=n(61213),ju=n.n(Nu),Mu=n(34699),Lu=n(38447),Fu=n.n(Lu);function Bu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Bu(e,t,n[t])}))}return e}function Vu(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var zu=function(e){var t=e.classNames,n=Vu(e,["classNames"]);return(0,a.jsx)(Mu.v,Uu({},n,{classNames:Uu({},t,{root:(0,k.Z)(null===t||void 0===t?void 0:t.root,Fu().root),rootActive:(0,k.Z)(null===t||void 0===t?void 0:t.rootActive,Fu().rootActive)})}))};function qu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){qu(e,t,n[t])}))}return e}var Hu,Wu=function(e,t){return e.id!==Qu.id?"/workspace/".concat(e.id):Ru(t)},Gu=function(e){var t=e.query,n=e.isActive,r=e.item,i=e.onClick,o=e.onMouseOver,s=function(e){var t,n,r=(0,_.T5)(e.gitHubRepository||{}),i=r.organization,o=r.repository,s=Boolean(e.isPrivate),u=i&&o,c="",l=e.folderName||x.bo;return u&&(t=(0,a.jsx)(O.J,{icon:E.Z,width:10}),l="".concat(i.name,"/").concat(o.name),c=(0,C.Id)(null===(n=e.gitHubRepository)||void 0===n?void 0:n.filePath)),s&&(t=(0,a.jsx)(O.J,{icon:S.Z})),{icon:t,subTitle:l,secondaryTitle:c}}(r);return(0,a.jsx)(w(),{href:Wu(r,t),children:(0,a.jsx)("a",{onClick:function(e){return i(r,e)},children:(0,a.jsx)(zu,Zu({},s,{isActive:n,onMouseOver:o,mainTitle:r.title||x.SF,classNames:{icon:ju().icon}}))})})},Ku=n(71290),Ju=n.n(Ku),Yu=function(){return(0,a.jsx)(a.Fragment,{children:Array.from(Array(6)).map((function(e,t){return(0,a.jsx)("div",{className:(0,k.Z)(Ju().skeletonWrapper,0===t&&Ju().isActive),children:(0,a.jsxs)(G.yB,{color:"var(--grey-800)",highlightColor:"var(--grey-400)",children:[(0,a.jsx)(G.ZP,{height:15}),(0,a.jsx)(G.ZP,{className:Ju().folder,width:"30%",height:14})]})},"skeleton-".concat(t))}))})},$u=n(21907),Xu=n.n($u),Qu={id:"no-results",title:"No results found",folderName:"Hit enter to try full search"},ec=function(e){var t,n=e.query,r=(0,N.qz)().setModalStates,i=(0,s.useRef)(null),o=(0,V.Z)(n.trim(),7),u=(0,s.useMemo)((function(){if(Array.isArray(o.results))return o.results.length?o.results:[Qu]}),[o.results]),c=function(){var e,t=(null===(e=o.results)||void 0===e?void 0:e.length)||0;F.Z.trackEvent("files_search","open_full_search",{resultsCount:t})},l=function(e,t){var n=t[q.q]||t.shiftKey;F.Z.trackEvent("files_search","open_file",{method:"click",isInNewTab:n}),n||r({isFileSearchModalOpen:!1})},f=(0,B.c)({containerRef:i,items:u||[],onSelect:function(e,t){var i=Wu(e,n),o=t[q.q]||t.shiftKey;e===Qu&&c(),F.Z.trackEvent("files_search","open_file",{method:"keyboard",isInNewTab:o}),(null===t||void 0===t?void 0:t[q.q])?window.open(i,"_blank"):t.shiftKey?window.open(i,e.title):(p().push(i),r({isFileSearchModalOpen:!1}))},options:{additionalOnSelectShortcuts:["shift+enter"]}}),d=f.activeIndex,h=f.setActiveIndex;return(0,s.useEffect)((function(){var e;n.length&&(o.isLoading||(null===(e=o.results)||void 0===e?void 0:e.length)||F.Z.trackEvent("files_search","no_results"))}),[o.isLoading,o.results,n.length]),(0,a.jsxs)("div",{ref:i,className:Xu().content,children:[u?u.map((function(e,t){return(0,a.jsx)(Gu,{query:n,item:e,onClick:l,isActive:t===d,onMouseOver:h.bind(null,t)},e.id)})):(0,a.jsx)(Yu,{}),n&&1===(null===(t=o.results)||void 0===t?void 0:t.length)&&(0,a.jsxs)("div",{className:Xu().fullSearchSuggestion,children:["Not what you are looking for? Try",(0,a.jsx)(w(),{href:Ru(n),children:(0,a.jsx)("a",{onClick:function(){c(),r({isFileSearchModalOpen:!1})},children:"full search."})})]})]})};function tc(){return tc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tc.apply(this,arguments)}var nc,rc=function(e){return s.createElement("svg",tc({width:15,height:16,viewBox:"0 0 15 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Hu||(Hu=s.createElement("path",{d:"M7.5 9.5V8H8a1.5 1.5 0 001.5-1.5v-.1A1.4 1.4 0 008.1 5h-.6A1.5 1.5 0 006 6.5M7 11h1m-.5 4a7 7 0 110-14 7 7 0 010 14z",stroke:"currentColor"})))},ic=n(70812),oc=n(16428),ac=n(15888),sc=n.n(ac),uc=function(e){var t=e.activeIndex,n=e.analyticsEvent,r=e.href,i=e.index,o=e.title,s=e.onMouseOver;return(0,a.jsx)(w(),{href:r,children:(0,a.jsx)("a",{target:"_blank",onClick:function(){return F.Z.trackEvent("help_center",n)},children:(0,a.jsx)(zu,{icon:(0,a.jsx)(rc,{}),isActive:i===t,onMouseOver:function(){return null===s||void 0===s?void 0:s(i)},mainTitle:(0,a.jsxs)("span",{className:sc().externalLinkRow,children:[o,(0,a.jsx)(O.J,{icon:oc.Z})]})})})})},cc=n(30766),lc=n.n(cc),fc=function(){var e=(0,s.useRef)(null),t=(0,ic.I)().onOpen,n=(0,B.c)({containerRef:e,items:[0,1,2,3,4,5],onSelect:function(){}}),r=n.activeIndex,i=n.setActiveIndex;(0,s.useEffect)((function(){F.Z.trackEvent("help_center","help_center_click")}),[]);return(0,a.jsxs)("div",{ref:e,children:[(0,a.jsx)("p",{className:lc().helpTitle,children:"Help"}),(0,a.jsx)(uc,{index:0,href:ye.CF.docsURL,activeIndex:r,analyticsEvent:"docs_click",onMouseOver:i,title:"Eraser documentation"}),(0,a.jsx)(zu,{mainTitle:"Send feedback",icon:(0,a.jsx)(rc,{}),isActive:1===r,onMouseOver:function(){return i(1)},onClick:function(){var e;return null===(e=window.Intercom)||void 0===e?void 0:e.call(window,"show")}}),(0,a.jsx)(uc,{index:2,activeIndex:r,onMouseOver:i,title:"Submit feature request",href:ye.CF.featureRequestURL,analyticsEvent:"feature_request_click"}),(0,a.jsx)(uc,{index:3,title:"Eraser website",activeIndex:r,href:ye.CF.homepageURL,onMouseOver:i,analyticsEvent:"eraser_website_click"}),(0,a.jsx)(zu,{icon:(0,a.jsx)(rc,{}),isActive:4===r,onClick:function(){t(),F.Z.trackEvent("help_center","keyboard_shortcuts_click")},mainTitle:"Open keyboard shortcuts",onMouseOver:function(){return i(4)}}),(0,a.jsx)(uc,{index:5,href:ye.CF.slackURL,activeIndex:r,onMouseOver:i,title:"Join Slack community",analyticsEvent:"slack_click"})]})},dc=n(11049),hc=n.n(dc);function pc(){return pc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pc.apply(this,arguments)}var vc,mc=function(e){return s.createElement("svg",pc({width:15,height:13,viewBox:"0 0 15 13",xmlns:"http://www.w3.org/2000/svg"},e),nc||(nc=s.createElement("path",{d:"M.5 11.5v-10a1 1 0 011-1h4l2 2h6a1 1 0 011 1v8a1 1 0 01-1 1h-12a1 1 0 01-1-1z",fill:"none",stroke:"currentColor"})))},gc=function(e){switch(e){case"folder":return(0,a.jsx)(O.J,{icon:mc,color:"grey-1200"});case"gitHubRepo":return(0,a.jsx)(O.J,{icon:js.Z,color:"grey-1200"});default:return null}},yc=function(e){switch(e.type){case"folder":return e.folderName;case"gitHubRepo":return"".concat(e.organizationName,"/").concat(e.repositoryName);case"workspace":return e.workspaceTitle;case"dashboard":return"Dashboard";default:return""}},bc=function(e){var t=e.context;switch(e.screen){case"commands":return(0,a.jsxs)(a.Fragment,{children:[gc(t.type),yc(t)]});case"fileSearch":return"File search";case"goToFile":return"Go to file ...";case"help":return"Help";default:return""}},wc=function(e){var t=e.screen,n=e.contextDto;return n&&!n.isLoading&&n.context?(0,a.jsx)("div",{className:(0,k.Z)(hc().root,"commands"===t&&hc().light),children:bc({context:n.context,screen:t})}):null},_c=n(8869),Ec=n(12305),Sc=function(){var e=(0,h.useRouter)(),t=function(e){var t=(0,j.LP)(),n=e.query.folderId,r=(0,_c.Z)(n,t),i=r.data,o=r.isLoading;return e.pathname.startsWith("/dashboard/folder")?o||!i?{isValid:!0,context:null,isLoading:o}:{isValid:!1,isLoading:!1,context:{type:"folder",folderId:n,folderName:i.name}}:{isValid:!1,context:null,isLoading:!1}}(e),n=function(e){return{isValid:!0,isLoading:!1,context:{type:"dashboard",subPage:e.pathname.split("/")[2]}}}(e),r=function(e){var t=e.query.workspaceId,n=(0,Ec.Z)(t),r=n.data,i=n.isLoading;return e.pathname.startsWith("/workspace")?i||!r?{isValid:!0,context:null,isLoading:i}:{isValid:!0,isLoading:!1,context:{workspaceId:t,type:"workspace",workspaceTitle:r.title||x.SF}}:{isValid:!1,context:null,isLoading:!1}}(e),i=function(e){var t=e.query.repositoryName,n=e.query.organizationName;return e.pathname.startsWith("/dashboard/github")?t&&n?{isValid:!1,isLoading:!1,context:{type:"gitHubRepo",repositoryName:t,organizationName:n}}:{isValid:!0,context:null,isLoading:!0}:{isValid:!1,context:null,isLoading:!1}}(e);return[r,t,i,n].find((function(e){return e.isValid}))||null},xc=n(96758),Oc=n.n(xc),Cc=n(20816);function kc(){return kc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kc.apply(this,arguments)}var Tc,Ac=function(e){return s.createElement("svg",kc({width:14,height:10,viewBox:"0 0 14 10",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),vc||(vc=s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.854.646L13.207 5 8.854 9.354l-.708-.708L11.293 5.5H0v-1h11.293L8.146 1.354l.708-.708z",fill:"currentColor"})))},Ic=n(25996);function Dc(){return Dc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dc.apply(this,arguments)}var Pc=function(e){return s.createElement("svg",Dc({width:15,height:16,viewBox:"0 0 15 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Tc||(Tc=s.createElement("path",{d:"M.5 1l6 14 2-6 6-2-14-6z",stroke:"currentColor",strokeLinejoin:"round"})))},Rc=n(63301),Nc=n(11945),jc=n(85513),Mc=n.n(jc);function Lc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Lc(e,t,n[t])}))}return e}var Bc=function(e){switch(e.id){case"canvasActions":return(0,a.jsx)(O.J,{icon:Pc});case"display":return(0,a.jsx)(O.J,{icon:Cc.Z});case"fileActions":return(0,a.jsx)(O.J,{icon:Ic.Z});case"folderActions":return(0,a.jsx)(O.J,{icon:mc});case"general":case"gettingStarted":return null;case"gitHub":return(0,a.jsx)(O.J,{icon:js.Z});case"inviteAndShare":return(0,a.jsx)(O.J,{icon:aa.Z});case"navigation":return(0,a.jsx)(O.J,{icon:Ac});case"newFile":return(0,a.jsx)(O.J,{icon:Bs.Z});case"help":return(0,a.jsx)(O.J,{icon:rc})}},Uc=function(e){switch(e.id){case"goToFile":return(0,a.jsx)(O.J,{icon:Nc.Z});case"searchFiles":return(0,a.jsx)(O.J,{icon:xa});case"openHelp":return(0,a.jsx)(O.J,{icon:rc});default:return null}},Vc=function(e){var t=e.category,n=e.item,r=Fc({subTitle:n.description},function(e){return e.subCategory?{mainTitle:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:Mc().subCategory,children:e.subCategory}),(0,a.jsx)(O.J,{className:Mc().subCategoryChevron,icon:Rc.Z}),e.title]})}:{mainTitle:e.title}}(n),{classNames:{root:Oc().item,icon:Oc().itemIcon,subTitle:Oc().itemSubTitle,endContent:Oc().itemEndContent},icon:Uc(n)||Bc(t),endContent:n.shortcut?(0,a.jsx)(Je.P,{keys:n.shortcut}):null});switch(n.type){case"link":return(0,a.jsx)(w(),{href:"string"===typeof n.href?n.href:n.href(),children:(0,a.jsx)("a",{target:n.target,children:(0,a.jsx)(zu,Fc({},r,{endContent:(0,a.jsx)(O.J,{icon:oc.Z})}))})});case"action":return(0,a.jsx)(zu,Fc({},r,{onClick:function(){return n.execute()}}));case"checkbox":return null}},zc=function(e){var t=e.item,n=e.category;return Vc({item:t,category:n})},qc=n(81789),Zc=n.n(qc),Hc=function(e){var t=e.category,n=e.items;return 0===n.length?null:(0,a.jsxs)("div",{className:Zc().root,children:[(0,a.jsx)("p",{className:Zc().title,children:t.title}),n.map((function(e){return(0,a.jsx)(zc,{item:e,category:t},e.id)}))]})},Wc=n(55250),Gc=n.n(Wc),Kc=function(){return(0,a.jsx)(a.Fragment,{children:Array.from(Array(6)).map((function(e,t){return(0,a.jsx)("div",{className:(0,k.Z)(Gc().skeletonWrapper,0===t&&Gc().isActive),children:(0,a.jsxs)(G.yB,{color:"var(--grey-800)",highlightColor:"var(--grey-400)",children:[(0,a.jsx)(G.ZP,{width:"30%",height:14}),(0,a.jsx)(G.ZP,{className:Gc().description,height:15})]})},"skeleton-".concat(t))}))})},Jc=new Map([["gettingStarted",{id:"gettingStarted",title:"Getting started"}],["inviteAndShare",{id:"inviteAndShare",title:"Invite and share"}],["newFile",{id:"newFile",title:"New file"}],["folderActions",{id:"folderActions",title:"Folder actions"}],["general",{id:"general",title:"General"}],["navigation",{id:"navigation",title:"Navigation"}],["display",{id:"display",title:"Display"}],["help",{id:"help",title:"Help"}],["gitHub",{id:"gitHub",title:"GitHub"}],["fileActions",{id:"fileActions",title:"File actions"}],["canvasActions",{id:"canvasActions",title:"Canvas actions"}]]);function Yc(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $c(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function Xc(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){$c(o,r,i,a,s,"next",e)}function s(e){$c(o,r,i,a,s,"throw",e)}a(void 0)}))}}function Qc(e){return function(e){if(Array.isArray(e))return Yc(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Yc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yc(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var el=function(e){var t=e.context,n=(0,s.useState)(!1)[0],r=(0,s.useState)([]),i=r[0],a=r[1];return(0,s.useEffect)((function(){t&&a(function(e){var t,n=e.context,r=[],i="\xa0\xa0then\xa0\xa0",a=[{type:"action",id:"toggleDarkMode",categoryId:"display",execute:Xc(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),title:"Toggle dark mode",shortcut:["Shift","AltOrOption","D"],description:"Switch between a light and dark theme",availableContextTypes:{dashboard:!0,folder:!0,gitHubRepo:!0,workspace:!0}},{type:"action",id:"toggleComments",categoryId:"display",execute:Xc(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),title:"Toggle comments",shortcut:["AltOrOption","C"],availableContextTypes:{workspace:!0},description:"Toggle the visibility of comments"},{id:"hideUi",type:"action",title:"Hide UI",categoryId:"display",execute:Xc(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),shortcut:["CtrlOrCmd","\\"],availableContextTypes:{workspace:!0},description:"Toggle the visibility of the UI"},{type:"action",categoryId:"display",execute:Xc(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),id:"switchLayoutDocument",shortcut:["AltOrOption","1"],title:"Switch to Document layout",description:"Only see the Document",availableContextTypes:{workspace:!0}},{type:"action",categoryId:"display",id:"switchLayoutBoth",execute:Xc(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),title:"Switch to Both layout",shortcut:["AltOrOption","2"],availableContextTypes:{workspace:!0},description:"See both the Document and the Canvas"},{type:"action",categoryId:"display",execute:Xc(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),id:"switchLayoutCanvas",shortcut:["AltOrOption","3"],title:"Switch to Canvas layout",description:"Only see the Canvas",availableContextTypes:{workspace:!0}}],s=[{id:"newFile",type:"action",title:"New file",categoryId:"newFile",execute:Xc(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),description:"Create a new Eraser file",shortcut:"gitHubRepo"===n.type?["Control|Alt","Shift","N"]:["Control|Alt","N"],availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",categoryId:"newFile",execute:Xc(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),id:"newFileFromTemplate",shortcut:["Control|Alt","T"],title:"New file from template",description:"Use a template to create a new Eraser file",availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",id:"newGitHubFile",categoryId:"newFile",execute:Xc(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),title:"New Github file",shortcut:["Control|Alt","CtrlOrCmd","N"],description:"Create a new Eraser file that is synced to Github",availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",id:"newPrivateFile",categoryId:"newFile",execute:Xc(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),title:"New private file",shortcut:["Control|Alt","Shift","N"],description:"Create a new Eraser file that only you can see",availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}}],u=[{type:"action",id:"inviteToTeam",execute:Xc(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),title:"Invite to team",categoryId:"inviteAndShare",description:"Invite new team members to this team",availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",id:"copyShareLink",execute:Xc(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),title:"Copy share link",categoryId:"inviteAndShare",shortcut:["CtrlOrCmd","Shift","L"],availableContextTypes:{workspace:!0},description:"Quickly copy the link to this file"},{type:"action",id:"openShare",title:"Open share",execute:Xc(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),categoryId:"inviteAndShare",shortcut:["CtrlOrCmd","Shift","S"],availableContextTypes:{workspace:!0},description:"View the share options for this file"},{type:"action",id:"changeFileType",execute:Xc(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),title:"Change file type",categoryId:"inviteAndShare",availableContextTypes:{workspace:!0},description:"Modify the privacy of this file"},{type:"action",id:"changeLinkAccess",execute:Xc(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),title:"Change link access",categoryId:"inviteAndShare",availableContextTypes:{workspace:!0},description:"Modify the settings of the file link"},{type:"action",id:"changeToTeamFile",execute:Xc(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),subCategory:"File type",categoryId:"inviteAndShare",title:"Change to team file",availableContextTypes:{workspace:!0},description:"Any team member can find and edit this file"},{type:"action",execute:Xc(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),subCategory:"File type",id:"changeToPrivateFile",categoryId:"inviteAndShare",title:"Change to private file",availableContextTypes:{workspace:!0},description:"Only invited members and guests can edit"},{type:"action",execute:Xc(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),subCategory:"Link type",id:"changeToNoLinkAccess",categoryId:"inviteAndShare",title:"Change to no link access",availableContextTypes:{workspace:!0},description:"Only team members or invited guests can view or edit this file"},{type:"action",execute:Xc(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),subCategory:"Link type",categoryId:"inviteAndShare",id:"changeToAnyoneAccessFile",title:"Change to anyone with the link can edit",availableContextTypes:{workspace:!0},description:"Anyone with the link can View. Does not require Eraser account. Anyone with the link can Edit. Requires Eraser account."},{type:"action",execute:Xc(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),categoryId:"inviteAndShare",id:"changeToPublicViewedFile",title:"Change to publicly viewable",availableContextTypes:{workspace:!0},description:"Anyone with the link can View. Does not require Eraser account."},{type:"action",execute:Xc(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),categoryId:"inviteAndShare",id:"changeToPublicEditableFile",title:"Change to publicly editable",availableContextTypes:{workspace:!0},description:"Anyone with a link can Edit. Does not require Eraser account."}],c=[{type:"action",id:"newFolder",title:"New folder",execute:Xc(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),categoryId:"folderActions",description:"Create a new folder",availableContextTypes:{folder:!0,dashboard:!0}},{type:"action",id:"moveFolder",title:"Move folder",execute:Xc(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),categoryId:"folderActions",availableContextTypes:{folder:!0},description:"Modify the location of this folder"},{type:"action",id:"renameFolder",title:"Rename folder",execute:Xc(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),categoryId:"folderActions",availableContextTypes:{folder:!0},description:"Modify the name of this folder"},{type:"action",id:"newFolder",title:"Delete folder",execute:Xc(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),categoryId:"folderActions",availableContextTypes:{folder:!0},description:"Permanently delete this folder"}],l=[{type:"action",id:"exportFile",title:"Export file",execute:Xc(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),categoryId:"fileActions",shortcut:["CtrlOrCmd","E"],availableContextTypes:{workspace:!0},description:"Export to pdf, markdown, svg or image formats"},{type:"action",id:"renameFile",title:"Rename file",execute:Xc(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),categoryId:"fileActions",availableContextTypes:{workspace:!0},description:"Modify the name of this file"},{type:"action",id:"duplicateFile",title:"Duplicate file",execute:Xc(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),categoryId:"fileActions",shortcut:["CtrlOrCmd","Shift","D"],availableContextTypes:{workspace:!0},description:"Make a copy of this file and navigate to it"},{type:"action",id:"archiveFile",title:"Archive file",execute:Xc(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),categoryId:"fileActions",shortcut:["CtrlOrCmd","Shift","E"],availableContextTypes:{workspace:!0},description:"Hide this file and move it to Archive"},{type:"action",execute:Xc(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),id:"openVersionHistory",categoryId:"fileActions",title:"Open version history",availableContextTypes:{workspace:!0},description:"View the version history for this file"},{type:"action",id:"openFileInfo",execute:Xc(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),categoryId:"fileActions",title:"Open file information",shortcut:["AltOrOption","I"],availableContextTypes:{workspace:!0},description:"View the meta data for this file"},{type:"action",id:"moveFile",title:"Move file",execute:Xc(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),categoryId:"fileActions",shortcut:["Control|Alt","M"],availableContextTypes:{workspace:!0},description:"Modify the location of this file"}],f=[{type:"action",shortcut:["/"],id:"openInsertMenu",execute:Xc(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),title:"Open insert menu",categoryId:"canvasActions",description:"View the Canvas insert menu",availableContextTypes:{workspace:!0}},{type:"action",id:"openZoomControls",execute:Xc(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),title:"Open zoom controls",categoryId:"canvasActions",availableContextTypes:{workspace:!0},description:"View the canvas zoom level options"},{type:"action",id:"zoomToFit",subCategory:"Zoom",title:"Zoom to fit",execute:Xc(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),categoryId:"canvasActions",availableContextTypes:{workspace:!0},description:"Fit the entire canvas in view"},{type:"action",id:"zoomTo100",subCategory:"Zoom",title:"Zoom to 100%",execute:Xc(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),categoryId:"canvasActions",availableContextTypes:{workspace:!0},description:"Fit the canvas too 100% scale"}],d=[{type:"action",id:"goToFile",categoryId:"general",execute:Xc(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),title:"Go to file (Cmd+P)",shortcut:["CtrlOrCmd","P"],description:"Quickly navigate to any of your files",availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",id:"searchFiles",title:"Search files",categoryId:"general",execute:Xc(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),shortcut:["AltOrOption","F"],description:"Search the content of all of your files",availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",id:"openHelp",title:"Open help",categoryId:"general",execute:Xc(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),shortcut:["AltOrOption","H"],description:"Useful links and support articles",availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}}],h=[{type:"action",id:"pushFile",title:"Push file",categoryId:"gitHub",execute:Xc(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),description:"Push this file to Github",availableContextTypes:{workspace:!0}},{type:"action",id:"pullFile",title:"Pull file",categoryId:"gitHub",execute:Xc(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),availableContextTypes:{workspace:!0},description:"Pull the latest changes of this file from Github"},{type:"action",id:"pushRepo",categoryId:"gitHub",execute:Xc(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),title:"Push entire repo",availableContextTypes:{workspace:!0,gitHubRepo:!0},description:"Push all of the files in this repo to Github"},{type:"action",id:"pullRepo",categoryId:"gitHub",execute:Xc(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),title:"Pull entire repo",availableContextTypes:{workspace:!0,gitHubRepo:!0},description:"Pull all of the latest changes of this repo from Github"}],p=[{type:"link",id:"eraserDocs",target:"_blank",categoryId:"help",href:ye.CF.docsURL,title:"Eraser documentation",availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",id:"sendFeedback",categoryId:"help",title:"Send feedback",execute:Xc(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"link",target:"_blank",categoryId:"help",id:"submitRequest",title:"Submit feature request",href:ye.CF.featureRequestURL,availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"link",target:"_blank",categoryId:"help",id:"eraserWebsite",title:"Eraser website",href:ye.CF.homepageURL,availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",categoryId:"help",execute:Xc(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),id:"openKeyboardShortcuts",title:"Open keyboard shortcuts",availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"link",id:"joinSlack",target:"_blank",categoryId:"help",href:ye.CF.slackURL,title:"Join Slack community",availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}}],v=[{type:"action",id:"goToDashboard",execute:Xc(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),title:"Go to dashboard",categoryId:"navigation",description:"Navigate to the Dashboard",shortcut:["Control","AltOrOption","ArrowLeft"],availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",execute:Xc(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),id:"goToGettingStarted",categoryId:"navigation",title:"Go to Getting Started",description:"Navigate to Getting Started on the Dashboard",shortcut:["Control","AltOrOption","ArrowLeft",i,"S"],availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",id:"goToTemplates",execute:Xc(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),categoryId:"navigation",title:"Go to Templates",description:"Navigate to Templates on the Dashboard",shortcut:["Control","AltOrOption","ArrowLeft",i,"T"],availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",id:"goToPrivateFiles",execute:Xc(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),categoryId:"navigation",title:"Go to Private files",description:"Navigate to Private files on the Dashboard",shortcut:["Control","AltOrOption","ArrowLeft",i,"P"],availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",id:"goToArchive",title:"Go to Archive",execute:Xc(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),categoryId:"navigation",description:"Navigate to Archive on the Dashboard",shortcut:["Control","AltOrOption","ArrowLeft",i,"E"],availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}},{type:"action",id:"openSettings",title:"Open Settings",execute:Xc(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),categoryId:"navigation",description:"View the Settings modal",shortcut:["Shift","AltOrOption","S"],availableContextTypes:{workspace:!0,dashboard:!0,folder:!0,gitHubRepo:!0}}];return(t=r).push.apply(t,Qc(p).concat(Qc(h),Qc(a),Qc(s),Qc(v),Qc(l),Qc(c),Qc(f),Qc(u),Qc(d))),r.filter((function(e){return e.availableContextTypes[n.type]}))}({context:t}))}),[t]),{commandKItems:i,areItemsLoading:n}},tl=function(e){var t=e.context,n=e.query,r=null===t||void 0===t?void 0:t.type,i=el({context:t}),o=i.commandKItems,u=i.areItemsLoading,c=function(e,t){if(!t)return e;var n=new Map;return e.forEach((function(e,r){var i=e.filter((function(e){var n;return e.title.toLowerCase().includes(t.toLowerCase())||(null===(n=e.description)||void 0===n?void 0:n.toLowerCase().includes(t.toLowerCase()))}));i.length>0&&n.set(r,i)})),n}({commandKItems:o}.commandKItems.reduce((function(e,t){return e.has(t.categoryId)?e.get(t.categoryId).push(t):e.set(t.categoryId,[t]),e}),new Map),n),l=function(e){var t=e.contextType,n=(0,s.useState)(!1)[0],r=(0,s.useState)([]),i=r[0],o=r[1];return(0,s.useEffect)((function(){if(t){var e=function(e){switch(e){case"dashboard":return["gettingStarted","inviteAndShare","newFile","folderActions","general","navigation","display","help","gitHub","fileActions","canvasActions"];case"workspace":return["gettingStarted","gitHub","inviteAndShare","canvasActions","fileActions","general","newFile","navigation","display","help","folderActions"];case"folder":case"gitHubRepo":return["gettingStarted","gitHub","folderActions","inviteAndShare","newFile","general","navigation","display","help","fileActions","canvasActions"]}}(t).map((function(e){return Jc.get(e)}));o(e)}}),[t]),{commandKCategories:i,areCategoriesLoading:n}}({contextType:r}),f=l.commandKCategories,d=l.areCategoriesLoading;return(0,a.jsx)("div",{children:d||u?(0,a.jsx)(Kc,{}):c.size?f.map((function(e){return(0,a.jsx)(Hc,{category:e,items:c.get(e.id)||[]},e.id)})):(0,a.jsx)("div",{className:Oc().notFoundWrapper,children:(0,a.jsx)(zu,{mainTitle:"No results found",icon:(0,a.jsx)(O.J,{icon:xa}),subTitle:"Hit enter to try File Search",classNames:{root:Oc().item,icon:Oc().itemIcon,subTitle:Oc().itemSubTitle}})})})},nl=n(48472),rl=n.n(nl);n(90010);function il(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ol(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return il(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return il(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var al,sl=function(e){switch(e){case"commands":return"Search commands ...";case"fileSearch":return"Search files for ...";case"goToFile":return"Search file name ...";case"help":return"Search help ...";default:return""}},ul=function(){var e=(0,j.LP)(),t=Sc(),n=(0,s.useRef)(null),r=(0,s.useState)(""),i=r[0],o=r[1],u=(0,L.S$)(),c=ol((0,xu.FV)(Pu),2),l=c[0],f=c[1],d=(0,s.useState)("commands"),h=d[0],v=d[1],m=(0,s.useMemo)((function(){return"/team/create"!==p().pathname&&(!u&&!!e)}),[u,e]),g=function(e,t){var r;m&&(v(e),null===t||void 0===t||t.preventDefault(),null===t||void 0===t||t.stopPropagation(),null===(r=n.current)||void 0===r||r.focus(),l.isModalOpen||(o(""),f({isModalOpen:!0}),F.Z.trackEvent("command_k","open",{method:"shortcut",screen:e})))};return(0,z.Z)({"alt+f":{callback:function(e){return g("fileSearch",e)}},"alt+h":{windows:!1,callback:function(e){return g("help",e)}},"ctrl+k":{macOS:!1,callback:function(e){return g("commands",e)}},"ctrl+p":{macOS:!1,callback:function(e){return g("goToFile",e)}},"command+k":{windows:!1,callback:function(e){return g("commands",e)}},"command+p":{windows:!1,callback:function(e){return g("goToFile",e)}}}),(0,a.jsxs)(U.Z,{hideCloseButton:!0,className:rl().modalRoot,isOpen:l.isModalOpen,contentWrapperClassName:rl().modalWrapper,onClose:function(){return f({isModalOpen:!1})},children:[(0,a.jsx)(wc,{screen:h,contextDto:t}),(0,a.jsx)("input",{autoFocus:!0,type:"text",ref:n,value:i,onKeyDown:function(e){if(e.altKey&&"f"===e.key)g("fileSearch",e);else if((e.metaKey||e.ctrlKey)&&"k"===e.key)g("commands",e);else if((e.metaKey||e.ctrlKey)&&"p"===e.key)g("goToFile",e);else if(e.altKey&&"h"===e.key)g("help",e);else if("Enter"===e.key&&"fileSearch"===h){var t=i.trim();t.length>0&&p().push(Ru(t))}},className:rl().searchInput,placeholder:sl(h),onChange:function(e){return o(e.target.value)}}),"fileSearch"!==h&&(0,a.jsx)(Ou.Z,{className:rl().content,children:function(){switch(h){case"goToFile":return(0,a.jsx)(ec,{query:i});case"commands":return(0,a.jsx)(tl,{query:i,context:null===t||void 0===t?void 0:t.context});case"fileSearch":return null;case"help":return(0,a.jsx)(fc,{})}}()}),(0,a.jsx)(Du,{screen:h,onScreenChange:g})]})},cl=function(){return X.g.isFeatureEnabled("commandKModal")?(0,a.jsx)(ul,{}):null},ll=n(32293);function fl(){return fl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fl.apply(this,arguments)}var dl,hl=function(e){return s.createElement("svg",fl({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",className:"key_svg__feather key_svg__feather-key"},e),al||(al=s.createElement("path",{d:"M21 2l-2 2m-7.61 7.61a5.5 5.5 0 11-7.778 7.778 5.5 5.5 0 017.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4"})))};function pl(){return pl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pl.apply(this,arguments)}var vl,ml=function(e){return s.createElement("svg",pl({width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),dl||(dl=s.createElement("path",{d:"M3.8 11.4V11a2.4 2.4 0 012.4-2.4h1.6a2.4 2.4 0 012.4 2.4v.4M7 3.8A1.6 1.6 0 107 7a1.6 1.6 0 000-3.2zm0 8.8A5.6 5.6 0 117 1.4a5.6 5.6 0 010 11.2z",stroke:"currentColor",strokeLinecap:"square"})))};function gl(){return gl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gl.apply(this,arguments)}var yl,bl=function(e){return s.createElement("svg",gl({width:12,height:14,viewBox:"0 0 12 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),vl||(vl=s.createElement("path",{d:"M3.2 4.6h1.6m1.6 0h2.4M3.2 7h1.6m1.6 0h2.4M6.4 9.4h2.4m-7.6-8h9.6v11.2l-1.6-.8-1.6.8-1.6-.8-1.6.8-1.6-.8-1.6.8V1.4z",stroke:"currentColor",strokeLinejoin:"round"})))};function wl(){return wl=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wl.apply(this,arguments)}var _l=function(e){return s.createElement("svg",wl({width:12,height:12,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),yl||(yl=s.createElement("path",{d:"M6 1.2l2.6 2.4M6 1.2L3.6 3.6M6 1.2v7.6m4.8-3.2v5.2H1.2V5.6",stroke:"currentColor"})))},El=function(){var e=(0,j.Rs)(),t=(0,Uo.Y)(),n=t.openedPane,r=t.setOpenedPane,i=(0,Us.Q)(Ae.AC.ApiAccess,null===e||void 0===e?void 0:e.id),o=X.g.isFeatureEnabled("customIcons");return(0,a.jsxs)("div",{className:(0,k.Z)(bt().sideBarRoot),children:[(0,a.jsx)("p",{className:(0,k.Z)(bt().sideBarHeader,$e().smallSemiBold),children:"Team"}),(0,a.jsx)(wt.Z,{label:"Team Members",focusOnMouseEnter:!1,icon:(0,a.jsx)(O.J,{icon:aa.Z}),isSelected:"members"===n,onClick:function(){return r("members")}}),(0,a.jsx)(wt.Z,{onClick:function(){r("plans"),F.Z.trackEvent("payment","open_billing_pane",{source:"settingsModalSidebar"})},label:"Plans & Billing",focusOnMouseEnter:!1,icon:(0,a.jsx)(O.J,{icon:bl}),isSelected:"plans"===n}),o&&(0,a.jsx)(wt.Z,{onClick:function(){return r("custom-icons")},label:"Custom Icons",focusOnMouseEnter:!1,icon:(0,a.jsx)(O.J,{icon:_l}),isSelected:"custom-icons"===n}),(0,a.jsx)(wt.Z,{label:"GitHub Sync",focusOnMouseEnter:!1,icon:(0,a.jsx)(O.J,{icon:js.Z}),isSelected:"gitHub"===n,onClick:function(){return r("gitHub")}}),(0,a.jsx)(wt.Z,{label:"API Tokens",focusOnMouseEnter:!1,icon:(0,a.jsx)(O.J,{icon:hl}),isSelected:"api-tokens"===n,onClick:function(){return r("api-tokens")},rightElement:i?void 0:(0,a.jsx)(Xs.y6,{})}),(0,a.jsx)(wt.Z,{label:"Team Settings",focusOnMouseEnter:!1,icon:(0,a.jsx)(O.J,{icon:da.Z}),isSelected:"team-settings"===n,onClick:function(){return r("team-settings")}}),(0,a.jsx)("p",{className:(0,k.Z)(bt().sideBarHeader,$e().smallSemiBold),children:"Personal"}),(0,a.jsx)(wt.Z,{label:"Profile",focusOnMouseEnter:!1,icon:(0,a.jsx)(O.J,{icon:ml}),isSelected:"profile"===n,onClick:function(){return r("profile")}}),(0,a.jsx)(wt.Z,{label:"Appearance",focusOnMouseEnter:!1,icon:(0,a.jsx)(O.J,{icon:ll.Z}),isSelected:"appearance"===n,onClick:function(){return r("appearance")}})]})};function Sl(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function xl(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Sl(o,r,i,a,s,"next",e)}function s(e){Sl(o,r,i,a,s,"throw",e)}a(void 0)}))}}function Ol(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Cl={getRef:function(){return Mt.RZ.collection("api-tokens")},create:function(e){var t=e.name,n=e.teamId;return xl(o().mark((function e(){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.getRef(),e.next=3,r.add({name:t,teamId:n,createdAt:Date.now(),isDisabled:!1,scopes:["render","autoDiagram:create"]});case 3:return i=e.sent,e.abrupt("return",i.id);case 5:case"end":return e.stop()}}),e,this)}))).apply(this)},updateById:function(e,t){return xl(o().mark((function n(){var r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=this.getRef().doc(e),n.next=3,r.set(t,{merge:!0});case 3:case"end":return n.stop()}}),n,this)}))).apply(this)},subscribe:function(e,t){var n=e.teamId,r=this.getRef().where("teamId","==",n).onSnapshot((function(e){var n=e.docs.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ol(e,t,n[t])}))}return e}({id:e.id},e.data())}));t(n)}));return r}},kl=n(36658);function Tl(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}var Al=function(e){var t=e.isAdmin,n=(0,to.Z)(),r=(0,j.LP)(),i=(0,s.useState)(!1),u=i[0],c=i[1],l=function(){var e,t=(e=o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=2;break}return e.abrupt("return");case 2:return c(!0),e.next=5,Cl.create({teamId:r,name:"Eraser API Token"}).catch((function(e){n.error("API token create failed: ".concat(e.message))}));case 5:c(!1);case 6:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Tl(o,r,i,a,s,"next",e)}function s(e){Tl(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();return(0,a.jsx)(Vo.ZP,{disabled:!r||!t,isLoading:u,onClick:t?l:void 0,size:Vo.ZP.Sizes.SMALL,variant:Vo.ZP.Variants.REGULAR,title:t?null:"Only team admins can create a token",children:"Generate Token"})},Il=n(17559),Dl=n(33512),Pl=n(99479),Rl=n.n(Pl),Nl=function(e){var t=e.apiToken,n=e.isAdmin,r=(0,Il.Z)(),i=(0,ze.Z)(),o=i.isOpen,s=i.onClose,u=i.onOpen;return(0,a.jsxs)("div",{className:Rl().root,children:[(0,a.jsx)("div",{className:Rl().label,children:t.name}),(0,a.jsx)("div",{className:Rl().token,children:(0,a.jsx)(ws.Z,{readOnly:!0,value:t.id,className:Rl().inputField,button:(0,a.jsx)(Vo.ZP,{onClick:function(){return r(t.id,"Copied token")},className:Rl().copyButton,variant:Vo.ZP.Variants.REVERSED,children:"Copy Token"})})}),(0,a.jsx)(Vo.ZP,{onClick:n?u:void 0,variant:Vo.ZP.Variants.OUTLINE,disabled:!n,title:n?null:"Only team admins can delete tokens",children:"Delete"}),(0,a.jsx)(Dl.Z,{isOpen:o,onCancel:s,title:"Delete API Token?",onConfirm:function(){s(),Cl.updateById(t.id,{isDisabled:!0})},description:'Are you sure you want to delete the token "'.concat(t.name,'" ?')})]})},jl=n(18149),Ml=n.n(jl),Ll=n(44801),Fl=n(69617),Bl=n.n(Fl);function Ul(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vl(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function zl(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ul(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ul(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ql=100,Zl=function(){return(0,a.jsx)(G.yB,{color:"var(--grey-500)",highlightColor:"var(--grey-400)",children:(0,a.jsx)("div",{children:(0,a.jsx)(G.ZP,{width:200,height:20})})})},Hl=function(e){var t=e.organization,n=e.addedRepositories,r=(0,s.useState)(""),i=r[0],u=r[1],c=(0,to.Z)(),l=(0,It.E$)(),f=l.addRepository,d=l.removeRepository,h=l.configureOrganization,p=l.listRepositoriesForOrganization,v=(0,s.useState)(!1),m=v[0],g=v[1],y=(0,s.useState)(null),b=y[0],w=y[1],_=zl((0,gs.R)(null),2),E=_[0],S=_[1],x=(0,s.useMemo)((function(){return function(e,t){if(!e)return{};var n=new Set(t.map((function(e){return e.name})));return e.reduce((function(e,t){return e[t]=n.has(t),e}),{})}(b,n)}),[n,b]);(0,s.useEffect)((function(){t.id&&!t.isSuspended&&p(t.id).then(w).catch((function(e){(0,re.Tb)(e),w([]),c.error("Could not fetch GitHub repositories.")}))}),[p,t.id,t.isSuspended,c]),(0,s.useEffect)((function(){S(Object.assign({},x))}),[x,S]);var O=null===b&&!t.isSuspended,C=E&&!Ml()(E,x),k=function(){h({organizationId:t.id,organizationName:t.name})},T=function(){var e,r=(e=o().mark((function e(){var r,i,a,s,u,l,h,p,v,m;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(!0),r=0,i=0,a=c.loading("Applying changes ..."),e.t0=regeneratorRuntime.keys(E);case 5:if((e.t1=e.t0()).done){e.next=22;break}if(s=e.t1.value,u=null===x||void 0===x?void 0:x[s],!(l=E[s])||u){e.next=15;break}return e.next=12,f({repositoryName:s,organizationId:t.id,organizationName:t.name});case 12:r++,e.next=20;break;case 15:if(l||!u){e.next=20;break}return h=n.find((function(e){return e.name===s})),e.next=19,d({repositoryId:h.id,organizationId:t.id,repositoryName:h.name,organizationName:t.name});case 19:i++;case 20:e.next=5;break;case 22:p=function(e){return e>1?"repositories":"repository"},v=r>0?"".concat(r," ").concat(p(r)," added. Downloading MD files."):"",m=i>0?"".concat(i," ").concat(p(i)," removed."):"",c.dismiss(a),c.success("".concat(m," ").concat(v)),g(!1);case 28:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Vl(o,r,i,a,s,"next",e)}function s(e){Vl(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(){return r.apply(this,arguments)}}();return(0,a.jsxs)(a.Fragment,{children:[O&&(0,a.jsx)(Zl,{}),function(){return t.isSuspended?(0,a.jsxs)("p",{className:Bl().suspension,children:["The GitHub app is suspended.\xa0",(0,a.jsx)("a",{role:"button",className:Bl().link,onClick:k,children:"Click here to unsuspend it."})]}):(0,a.jsxs)(a.Fragment,{children:[b&&b.length>ql&&(0,a.jsx)(We.Z,{searchTerm:i,className:Bl().searchBar,setSearchTerm:u}),null===b||void 0===b?void 0:b.filter((function(e){return e.toLocaleLowerCase().includes(i.toLocaleLowerCase())})).slice(0,ql).map((function(t){return(0,a.jsx)(Ll.X,{label:t,isChecked:null!==(e=null===E||void 0===E?void 0:E[t])&&void 0!==e&&e,onChange:function(e){return S(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},t,e))}},t)})),b&&b.length>ql&&(0,a.jsxs)("p",{className:Bl().note,children:["Showing first ",ql," repositories only. Search to see more."]})]});var e}(),C&&(0,a.jsxs)(Wo.Z,{className:Bl().repositoryListButtons,children:[(0,a.jsx)(Vo.ZP,{variant:Vo.ZP.Variants.TRANSPARENT,disabled:m,onClick:function(){return S(Object.assign({},x))},children:"Cancel"}),(0,a.jsx)(Vo.ZP,{onClick:T,disabled:m,children:"Save Changes"})]})]})},Wl=n(50040),Gl=n(2738),Kl=n(71611),Jl=n.n(Kl),Yl=function(){var e=(0,j.LP)(),t=function(e){var t=(0,s.useState)(void 0),n=t[0],r=t[1];return(0,s.useEffect)((function(){if(e)return Cl.subscribe({teamId:e},r)}),[e]),n}(e),n=(0,Us.Q)(Ae.AC.ApiAccess,e),r=(0,Uo.Y)().setOpenedPane,i=(0,M.II)(),o=(0,kl.ZP)(e,void 0,{internalOnly:!0}),u=(0,Gl.GX)(o,i,Gl.H0),c=!t,l=t?t.filter((function(e){return!e.isDisabled})):[],f=l.length>0;return(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:Jl().subtitle,children:["Eraser's API allows generating diagrams programmatically, using the same engine that drives\xa0",(0,a.jsx)(Wl.d,{className:Jl().link,href:"https://eraser.io/diagramgpt",children:"DiagramGPT"}),"\xa0and Eraser's\xa0",(0,a.jsx)(Wl.d,{className:Jl().link,href:"https://docs.eraser.io/docs/diagram-as-code",children:"diagram-as-code"}),"\xa0and AI Diagramming features. API calls require a valid API token which is shared by all team members.\xa0",(0,a.jsx)(Wl.d,{className:Jl().link,href:"https://docs.eraser.io/reference/api-token",children:"See documentation"}),"."]}),n?(0,a.jsxs)("div",{className:Jl().tokensContainer,children:[c&&(0,a.jsx)(Zl,{}),!f&&!c&&(0,a.jsxs)("div",{className:Jl().emptyTokenContainer,children:[(0,a.jsx)("span",{className:Jl().label,children:"API Token"}),(0,a.jsx)(ws.Z,{className:Jl().inputField,placeholder:"No Token",readOnly:!0}),(0,a.jsx)(Al,{isAdmin:u})]}),f&&!c&&l.filter((function(e){return!e.isDisabled})).map((function(e){return(0,a.jsx)(Nl,{apiToken:e,isAdmin:u},e.id)}))]}):(0,a.jsxs)("p",{className:Jl().subtitle,children:["API access is only available on the ",(0,a.jsx)(Wl.c,{onClick:function(){return r("plans")},className:Jl().link,children:"Professional Plan"}),"."]})]})},$l=n(14500),Xl=n.n($l),Ql=function(){var e=(0,qe.F)(),t=e.themeSetting,n=e.theme,r=e.setThemeSetting,i="dark"===t,o="light"===t,s="system"===t;return(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:Xl().subTitle,children:["Toggle between Light & Dark mode at any time with\xa0",(0,a.jsx)(Je.P,{shortcutStyle:"pills",className:Xl().keyboardShortcuts,keys:["Shift","AltOrOption","D"]}),". Your personal settings do not affect what others see."]}),(0,a.jsxs)("div",{className:(0,k.Z)(Xl().radioCardsWrapper,"dark"===n&&Xl().dark),children:[(0,a.jsxs)("label",{className:(0,k.Z)(Xl().radioCard,o&&Xl().checked),children:[(0,a.jsx)("input",{type:"radio",checked:o,onChange:function(){return r("light")}}),(0,a.jsxs)("div",{className:Xl().labelWrapper,children:[(0,a.jsx)("span",{className:Xl().labelTitle,children:"Light"}),(0,a.jsx)("span",{className:Xl().labelDescription,children:"A traditional \u201cwhite\u201d board look"})]})]}),(0,a.jsxs)("label",{className:(0,k.Z)(Xl().radioCard,i&&Xl().checked),children:[(0,a.jsx)("input",{type:"radio",checked:i,onChange:function(){return r("dark")}}),(0,a.jsxs)("div",{className:Xl().labelWrapper,children:[(0,a.jsx)("span",{className:Xl().labelTitle,children:"Dark"}),(0,a.jsx)("span",{className:Xl().labelDescription,children:"A modern \u201cnight-time\u201d aesthetic"})]})]}),(0,a.jsxs)("label",{className:(0,k.Z)(Xl().radioCard,s&&Xl().checked),children:[(0,a.jsx)("input",{type:"radio",checked:s,onChange:function(){return r("system")}}),(0,a.jsxs)("div",{className:Xl().labelWrapper,children:[(0,a.jsx)("span",{className:Xl().labelTitle,children:"Auto"}),(0,a.jsx)("span",{className:Xl().labelDescription,children:"Use system preferences"})]})]})]}),(0,a.jsxs)("div",{className:Xl().imageWrapper,children:[(0,a.jsx)("img",{alt:"Light mode screenshot",src:"/static/images/settingsModal/lightBg.svg",className:(0,k.Z)(Xl().image,"dark"===n&&Xl().hidden)}),(0,a.jsx)("img",{alt:"Dark mode screenshot",src:"/static/images/settingsModal/darkBg.svg",className:(0,k.Z)(Xl().image,"dark"!==n&&Xl().hidden)})]})]})},ef=n(80516),tf=n.n(ef),nf=n(2545),rf=function(){var e,t,n=(0,j.Rs)(),r=(0,kl.ZP)(null===n||void 0===n?void 0:n.id,void 0,{internalOnly:!0}).length;if(!n)return null;var i=(null!==(t=null===n||void 0===n||null===(e=n.plan)||void 0===e?void 0:e.planType)&&void 0!==t?t:Ae.k9.Free)===Ae.k9.Free?"Free":"Professional";return(0,a.jsx)("div",{className:tf().billingPlanArea,children:(0,a.jsxs)("div",{className:tf().billingPlanContents,children:[(0,a.jsxs)("div",{className:tf().billingPlanPreambleText,children:["You are currently on the ",i," plan. Your team has ",r," ",1===r?"member":"members","."]}),(0,a.jsx)("div",{className:tf().billingPlanBodyContainer,children:(0,a.jsx)("div",{className:tf().billingPlanBody,children:(0,a.jsx)(nf.m,{mountedIn:"billingPlanPane"})})})]})})},of=n(79070),af=n.n(of),sf=function(e){var t=e.organization,n=e.onRemoveOrganization,r=e.onConfigureOrganization;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:af().organizationHeaderRoot,children:[(0,a.jsx)("div",{className:af().organizationLogo,children:(0,a.jsx)("img",{alt:t.name,src:t.avatarUrl})}),(0,a.jsxs)("div",{className:af().organzationInfo,children:[(0,a.jsx)("span",{className:af().organizationName,children:t.name}),(0,a.jsx)(zo.d,{className:af().organizationLink,href:(0,C.u8)({organizationName:t.name}),children:(0,C.u8)({organizationName:t.name})})]}),(0,a.jsxs)(Vo.ZP,{onClick:n,variant:Vo.ZP.Variants.OUTLINE,className:af().removeOrganizationButton,children:["Remove ",t.name]})]}),(0,a.jsxs)("p",{className:af().organizationSubtitle,children:["Select from below list of authorized repos to add to Eraser. Once added, all .md files in the repo will be pulled to Eraser. You will be able to edit them and push your updates directly from Eraser to GitHub.\xa0",(0,a.jsx)(zo.d,{className:af().organizationLink,href:"https://docs.eraser.io/docs/github-getting-started",children:"Learn more"})]}),(0,a.jsx)("p",{className:af().organizationSubtitle,children:(0,a.jsx)(zo.d,{role:"button",onClick:r,className:af().organizationLink,children:"Can't find your repo?"})})]})},uf=n(39231),cf=n.n(uf),lf=n(35404),ff=n(83492),df=function(){var e=(0,It.E$)(),t=e.installApp,n=e.organizations,r=e.repositoriesMap,i=e.configureOrganization,o=n&&n.length>0;return(0,a.jsxs)("div",{className:cf().root,children:[!o&&(0,a.jsx)(ff.v,{onConnectClick:t}),o&&n.map((function(e){var t=null===r||void 0===r?void 0:r.get(e.id),n=function(){i({organizationId:e.id,organizationName:e.name})};return(0,a.jsxs)("div",{className:cf().organizationWrapper,children:[(0,a.jsx)(sf,{organization:e,onRemoveOrganization:n,onConfigureOrganization:n}),e&&t&&(0,a.jsx)(Hl,{organization:e,addedRepositories:t}),(0,a.jsx)("hr",{className:cf().divider})]},e.id)})),o&&(0,a.jsx)(lf.g,{onClick:t})]})},hf=n(54599),pf=n(6717),vf=n(27370),mf=n.n(vf),gf=n(7305);function yf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function bf(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function wf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return yf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yf(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _f=function(e){var t=e.toLocaleLowerCase().replace(".com",""),n="".concat(t.toLocaleUpperCase()[0]).concat(t.slice(1));return"Managed by ".concat(n)},Ef=function(){var e=(0,to.Z)(),t=(0,pf.j)(),n=(0,hf.ZP)().updateUserPassword,r=(0,s.useState)(!1),i=r[0],u=r[1],c=wf((0,gs.R)({newPassword:"",confirmNewPassword:"",confirmCurrentPassword:""}),2),l=c[0],f=c[1];if(!t)return null;var d=function(){var t,r=(t=o().mark((function t(r){var i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),l.newPassword===l.confirmNewPassword){t.next=4;break}return e.error("Passwords do not match"),t.abrupt("return");case 4:if(!(i=(0,gf.ym)(l.newPassword))){t.next=8;break}return e.error(i),t.abrupt("return");case 8:return t.prev=8,t.next=11,n(l.newPassword,l.confirmCurrentPassword);case 11:u(!1),e.success("Password updated successfully"),f({newPassword:"",confirmNewPassword:"",confirmCurrentPassword:""}),t.next=20;break;case 16:return t.prev=16,t.t0=t.catch(8),e.error(t.t0.message),t.abrupt("return");case 20:case"end":return t.stop()}}),t,null,[[8,16]])})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(e){bf(o,r,i,a,s,"next",e)}function s(e){bf(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e){return r.apply(this,arguments)}}();return i?(0,a.jsxs)("form",{className:mf().form,onSubmit:d,children:[(0,a.jsxs)("div",{className:mf().row,children:[(0,a.jsx)("span",{className:mf().label,children:"Current password"}),(0,a.jsx)(ws.Z,{required:!0,type:"password",labelClassNames:{root:mf().input},value:l.confirmCurrentPassword,onChange:function(e){return f({confirmCurrentPassword:e.currentTarget.value})}})]}),(0,a.jsxs)("div",{className:mf().row,children:[(0,a.jsx)("span",{className:mf().label,children:"New password"}),(0,a.jsx)(ws.Z,{required:!0,type:"password",value:l.newPassword,labelClassNames:{root:mf().input},onChange:function(e){return f({newPassword:e.currentTarget.value})}})]}),(0,a.jsxs)("div",{className:mf().row,children:[(0,a.jsx)("span",{className:mf().label,children:"Confirm new password"}),(0,a.jsx)(ws.Z,{required:!0,type:"password",labelClassNames:{root:mf().input},value:l.confirmNewPassword,onChange:function(e){return f({confirmNewPassword:e.currentTarget.value})}})]}),(0,a.jsxs)(Wo.Z,{className:mf().buttonGroup,children:[(0,a.jsx)(Vo.ZP,{size:Vo.ZP.Sizes.X_LARGE,variant:Vo.ZP.Variants.OUTLINE,onClick:function(e){e.preventDefault(),u(!1)},children:"Cancel"}),(0,a.jsx)(Vo.ZP,{type:"submit",size:Vo.ZP.Sizes.X_LARGE,className:mf().submitButton,variant:Vo.ZP.Variants.REGULAR,children:"Update password"})]})]}):(0,a.jsxs)("div",{className:mf().row,children:[(0,a.jsx)("span",{className:mf().label,children:"Password"}),"password"!==t?(0,a.jsx)("span",{className:mf().readonlyValue,children:_f(t)}):(0,a.jsx)("a",{role:"button",className:mf().link,onClick:function(){return u(!0)},children:"Change Password"})]})},Sf=n(73938),xf=n(35221),Of=n(53494),Cf=n.n(Of);function kf(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Tf(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return kf(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kf(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Af=function(){var e,t,n=(0,M.aF)(),r=(0,to.Z)(),i=(0,j.LP)(),o=(0,pf.j)(),u=null!=o&&hf.yZ.includes(o),c=(0,hf.ZP)(),l=c.updateUserEmail,f=c.updateUserProfile,d=c.resetProviderEmail,h=Tf((0,gs.R)({email:null!==(e=null===n||void 0===n?void 0:n.email)&&void 0!==e?e:"",displayName:null!==(t=null===n||void 0===n?void 0:n.displayName)&&void 0!==t?t:"",confirmPassword:""}),2),p=h[0],v=h[1],m=(0,s.useState)(),g=m[0],y=m[1];(0,s.useEffect)((function(){var e,t;p.displayName!==(null===n||void 0===n?void 0:n.displayName)&&v({displayName:null!==(e=null===n||void 0===n?void 0:n.displayName)&&void 0!==e?e:""});p.email!==(null===n||void 0===n?void 0:n.email)&&v({email:null!==(t=null===n||void 0===n?void 0:n.email)&&void 0!==t?t:""})}),[v,null===n||void 0===n?void 0:n.displayName,null===n||void 0===n?void 0:n.email]);var b,w=function(e){var t=p.displayName,o=p.email;if(i&&p[e]!==(null===n||void 0===n?void 0:n[e]))switch(e){case"displayName":if(!(null===t||void 0===t?void 0:t.trim().length)){r.error("Name cannot be an empty string"),_(e);break}r.promise(f(i,{displayName:t}),{loading:"Updating name ...",error:"Something went wrong",success:"Updated name successfully"}).catch((function(){return _("displayName")}));break;case"email":if(!(null===o||void 0===o?void 0:o.trim().length)){r.error("Email cannot be an empty string"),_(e);break}var a,s=(0,Sf.R)(o);if(!(0,Sf.J)(s)){r.error("Email is invalid"),_(e);break}F.Z.trackEvent("account","change_email"),r.promise(l(i,s,null!==(a=p.confirmPassword)&&void 0!==a?a:""),{loading:"Updating email ...",error:function(e){return e.message},success:"Updated email successfully"}).catch((function(){_("email"),v({confirmPassword:""})}))}},_=function(e){return v(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,null!==(b=null===n||void 0===n?void 0:n[e])&&void 0!==b?b:""))},E=function(e){return function(t){"Enter"===t.key?w(e):"Escape"===t.key&&(_(e),t.stopPropagation())}},S=function(){u&&d(o,i).catch((function(e){y(e)}))};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:Cf().row,children:[(0,a.jsx)("span",{className:Cf().label,children:"Full Name"}),(0,a.jsx)(ws.Z,{value:p.displayName,labelClassNames:{root:Cf().input},onBlur:function(){return w("displayName")},onKeyDown:E("displayName"),onChange:function(e){return v({displayName:e.currentTarget.value})}})]}),(0,a.jsxs)("div",{className:Cf().row,children:[(0,a.jsx)("span",{className:Cf().label,children:"Email"}),u?(0,a.jsxs)("div",{className:Cf().providerEmail,children:[(0,a.jsx)("span",{className:Cf().readonlyValue,children:p.email}),(0,a.jsx)(Vo.ZP,{variant:Vo.ZP.Variants.REVERSED,size:Vo.ZP.Sizes.TINY,onClick:S,title:"Authenticate with a different ".concat(If[o]," account."),className:Cf().changeButton,children:"Change"})]}):(0,a.jsx)(ws.Z,{type:"email",value:p.email,labelClassNames:{root:Cf().input},onKeyDown:E("email"),onChange:function(e){return v({email:e.currentTarget.value})}})]}),p.email!==(null===n||void 0===n?void 0:n.email)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:Cf().row,children:[(0,a.jsx)("span",{className:Cf().label,children:"Confirm Password"}),(0,a.jsx)(ws.Z,{type:"password",value:p.confirmPassword,labelClassNames:{root:Cf().input},onChange:function(e){return v({confirmPassword:e.currentTarget.value})}})]}),(0,a.jsx)(Wo.Z,{className:Cf().buttonGroup,children:(0,a.jsx)(Vo.ZP,{onClick:function(){return w("email")},children:"Update E-mail"})})]}),!!g&&(0,a.jsxs)(xf.U,{children:[(0,a.jsx)("span",{className:$e().error,children:(0,a.jsx)("b",{children:g.message})}),(0,a.jsx)("br",{}),"You must log in again to ensure your eraser account has a valid e-mail associated with it.",(0,a.jsx)(Vo.ZP,{variant:Vo.ZP.Variants.REVERSED,size:Vo.ZP.Sizes.TINY,onClick:S,title:"Re-auth with your ".concat(If[o]," account, or try again with a valid account that is not already in use."),children:(0,a.jsx)("b",{children:"Sign In"})})]})]})},If={"google.com":"Google","microsoft.com":"Microsoft"},Df=n(94764),Pf=n(798),Rf=n(23763),Nf=n(76117),jf=n(352),Mf=n.n(jf);function Lf(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function Ff(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ff(e,t,n[t])}))}return e}var Uf=function(){var e=(0,M.aF)(),t=(0,to.Z)(),n=(0,j.LP)(),r=(0,hf.ZP)().updateUserProfile,i=(0,ke.Z)(null===e||void 0===e?void 0:e.id),u=(0,s.useRef)(null),c=function(){var i,a=(i=o().mark((function i(){var a,s,c,l,f,d;return o().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(e&&n&&u.current&&u.current.files&&u.current.files.length){i.next=2;break}return i.abrupt("return");case 2:return a=(0,Df.x0)(),s=(0,Df.x0)(),(c=u.current.files[0]).size/1048576>3&&t.error("File exceeds maximum size of 3MB",{id:a}),l=new Pf.Z({maxSizeMB:3,compress:!0,finalBaseURL:"users/".concat(e.id,"/"),uploadBasePath:"images/users/".concat(e.id,"/")}),i.prev=8,t.loading("Updating profile image ...",{id:a}),i.next=12,l.upload(c,{fileName:"profilePicture_".concat(s)});case 12:return f=i.sent.url,d=(0,Nf.V)(f),i.next=16,r(n,{photoURL:d});case 16:t.success("Updated profile image successfully",{id:a}),i.next=22;break;case 19:i.prev=19,i.t0=i.catch(8),t.error("Something went wrong",{id:a});case 22:case"end":return i.stop()}}),i,null,[[8,19]])})),function(){var e=this,t=arguments;return new Promise((function(n,r){var o=i.apply(e,t);function a(e){Lf(o,n,r,a,s,"next",e)}function s(e){Lf(o,n,r,a,s,"throw",e)}a(void 0)}))});return function(){return a.apply(this,arguments)}}();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Rf.Z,Bf({size:208,className:Mf().avatar},i)),(0,a.jsxs)("label",{className:Mf().uploadButton,children:[(0,a.jsx)("input",{type:"file",ref:u,accept:"image/jpg, image/png, image/gif, image/webp",onChange:c}),"Upload Photo"]})]})},Vf=n(30380),zf=n(31374),qf=n.n(zf),Zf=function(){var e,t=(0,to.Z)(),n=(0,M.Fl)(),r=(0,M.pC)(),i=null===(e=null===n||void 0===n?void 0:n.isGettingStartedEnabled)||void 0===e||e;return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:(0,k.Z)(qf().gettingStartedRow),children:[(0,a.jsx)("span",{className:(0,k.Z)(qf().label,qf().gettingStartedLabel),children:"Getting Started"}),(0,a.jsx)(Vf.Z,{onChange:function(){var e=!i;t.promise(r({isGettingStartedEnabled:e}),{loading:"Updating setting",error:"Something went wrong",success:"Getting Started ".concat(e?"shown on":"hidden from"," dashboard")})},checked:i})]}),(0,a.jsx)("span",{className:qf().gettingStartedDescription,children:"Show or hide the Getting Started page from your view of the dashboard"})]})},Hf=function(){return(0,a.jsxs)("div",{className:qf().root,children:[(0,a.jsxs)("div",{className:qf().profileInfoSide,children:[(0,a.jsx)(Af,{}),(0,a.jsx)(Ef,{}),(0,a.jsx)("hr",{className:qf().separator}),(0,a.jsx)(Zf,{})]}),(0,a.jsx)("div",{className:qf().profilePictureSide,children:(0,a.jsx)(Uf,{})})]})},Wf=n(27331),Gf=n(63502),Kf=n(59065),Jf=n(99931),Yf=n.n(Jf);function $f(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}var Xf=function(e){var t=e.team,n=(0,to.Z)(),r=(0,s.useState)(t.isAutoJoinEnabled),i=r[0],u=r[1];(0,s.useEffect)((function(){u(t.isAutoJoinEnabled)}),[t.isAutoJoinEnabled]);var c,l=(0,eo.Z)((c=o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.promise((0,Gf.Z)(t.id,{isAutoJoinEnabled:!i}),{success:"Updated team",loading:"Updating team",error:"Something went wrong"});case 2:case"end":return e.stop()}}),e)})),function(){var e=this,t=arguments;return new Promise((function(n,r){var i=c.apply(e,t);function o(e){$f(i,n,r,o,a,"next",e)}function a(e){$f(i,n,r,o,a,"throw",e)}o(void 0)}))}));return t.domain?(0,a.jsxs)("div",{className:Yf().settingRow,children:[(0,a.jsxs)("div",{className:Yf().settingTitleContainer,children:[(0,a.jsx)("span",{className:Yf().settingTitle,children:"Allowed Email Domain"}),(0,a.jsx)(Vf.Z,{checked:i,disabled:l.loading,onChange:function(){return l.execute()}})]}),(0,a.jsxs)("span",{className:Yf().description,children:["Allow ",(0,a.jsxs)("span",{className:Yf().domain,children:["@",t.domain]})," emails to automatically join this team."]})]}):null},Qf=function(e){e.team;var t=e.isAdmin,n=e.shareController,r=(0,Il.Z)();return(0,a.jsxs)("div",{className:Yf().settingRow,children:[(0,a.jsxs)("div",{className:Yf().settingTitleContainer,children:[(0,a.jsx)("span",{className:Yf().settingTitle,children:"Invite Link"}),t&&(0,a.jsx)(Vf.Z,{onChange:function(){t&&(n.isEnabled?n.onTurnOff():n.onTurnOn())},checked:n.isEnabled,disabled:!t||n.isCreating||n.isDeleting})]}),n.isCreating&&(0,a.jsx)("span",{className:Yf().linkLoading,children:"Loading ..."}),n.inviteLink&&(0,a.jsxs)("div",{className:Yf().inviteLinkContainer,children:[(0,a.jsx)("span",{className:Yf().link,children:n.inviteLink}),(0,a.jsx)(Vo.ZP,{className:Yf().copyButton,variant:Vo.ZP.Variants.REVERSED,onClick:function(){r(n.inviteLink),F.Z.trackEvent("team_share_dialog","copy_link_click")},children:"Copy link"})]})]})},ed=function(e){var t=e.team,n=(0,M.aF)(),r=(0,kl.ZP)(t.id,void 0,{internalOnly:!0}),i=(0,Wf._)({entityType:Kf.FU.Team,entityId:t.id}),o=(0,Gl.GX)(r,null===n||void 0===n?void 0:n.id,Gl.H0);return o||i.inviteLink?(0,a.jsxs)("div",{className:Yf().root,children:[(0,a.jsx)("h4",{className:Yf().title,children:"Settings"}),(0,a.jsxs)("div",{className:Yf().settingRows,children:[o&&(null===n||void 0===n?void 0:n.emailVerified)&&(0,a.jsx)(Xf,{team:t}),(0,a.jsx)(Qf,{shareController:i,team:t,isAdmin:o})]})]}):null},td=n(20810),nd=n(39739),rd=n(99054),id=n(12335),od=n(7867),ad=function(e){return(0,od.BS)(oo.Z.invites.withConverter(io.xI).where("teamId","==",e).where("type","==",Kf.PA.Email).where("inviteTo","==",Kf.FU.Team).where("status","==",Kf.aj.Pending).orderBy("inviteeEmail","asc"))};function sd(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ud(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return sd(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sd(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var cd=n(20407),ld=n(85753),fd=n(80142),dd=n(90612),hd=n(98143),pd=n(44387),vd=n(64704),md=n(48215),gd=function(e){return(0,md.Z)("team-removeMember",e)},yd=n(74665),bd=n(38873),wd=n.n(bd);function _d(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function Ed(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){_d(o,r,i,a,s,"next",e)}function s(e){_d(o,r,i,a,s,"throw",e)}a(void 0)}))}}function Sd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Sd(e,t,n[t])}))}return e}function Od(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Cd=function(e){var t=e.combinedMembers,n=e.onInvite,r=e.isLoading,i=Od(e,["combinedMembers","onInvite","isLoading"]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:wd().inviteInputContainer,children:(0,a.jsx)(hd.b,{onInvite:n,placeholder:"Invite via email address"})}),(0,a.jsx)("div",{className:wd().membersListContainer,children:(0,a.jsx)("div",{className:(0,k.Z)(wd().userList,"column gapMedium"),children:r?null:(null!==t&&void 0!==t?t:[]).map((function(e,t){return e.role===yd.i.Guest?null:(0,a.jsx)(kd,xd({},e,i),"".concat(null!==(n=e.email)&&void 0!==n?n:e.userId,"-").concat(t));var n}))})})]})},kd=function(e){var t=e.userId,n=e.email,r=e.displayName,i=e.profile,o=e.isCurrentUser;return(0,a.jsxs)("div",{className:(0,k.Z)(wd().userRow,"rowCentered"),children:[(0,a.jsx)(ca.a,{userId:t,email:null!==n&&void 0!==n?n:void 0,displayName:null!==r&&void 0!==r?r:void 0,profile:null!==i&&void 0!==i?i:void 0,displayNameSuffix:o?" (You)":void 0}),(0,a.jsx)("div",{children:(0,a.jsx)(Td,xd({},e))})]})},Td=function(e){var t=e.role,n=String(null!==t&&void 0!==t?t:"pending"),r=function(e){var t=e.role,n=e.isCurrentUser,r=e.currentUserRole,i=e.teamInviteId,a=e.userId,s=e.isCurrentUserSoleAdmin,u=e.currentTeamId,c=null!==t&&void 0!==t?t:"pending";if(!r||!u||r===yd.i.Guest)return[];if(r===yd.i.Member)return n&&a?[{label:"Leave team",asyncOnClick:Ed(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gd({teamId:u,memberId:a});case 2:case"end":return e.stop()}}),e)})))}]:"guest"===c&&a?[{label:"Add to team as member",asyncOnClick:Ed(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,vd.M)({teamId:u,userId:a,role:yd.i.Member,updateRoleIfExists:!0});case 2:case"end":return e.stop()}}),e)})))}]:"pending"===c&&i?[{label:"Cancel Invitation",asyncOnClick:Ed(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,fd.Z)(300);case 2:return e.next=4,(0,pd.Z)(i);case 4:case"end":return e.stop()}}),e)})))}]:[];if(r===yd.i.Admin)return n&&a?s?[]:[{label:"Downgrade self to member",asyncOnClick:Ed(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,vd.M)({teamId:u,userId:a,role:yd.i.Member,updateRoleIfExists:!0});case 2:case"end":return e.stop()}}),e)})))},{label:"Leave team",asyncOnClick:Ed(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gd({teamId:u,memberId:a});case 2:case"end":return e.stop()}}),e)})))}]:"member"===c&&a?[{label:"Change role to admin",asyncOnClick:Ed(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,vd.M)({teamId:u,userId:a,role:yd.i.Admin,updateRoleIfExists:!0});case 2:case"end":return e.stop()}}),e)})))},{label:"Remove from team",asyncOnClick:Ed(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gd({teamId:u,memberId:a});case 2:case"end":return e.stop()}}),e)})))}]:"admin"===c&&a?[{label:"Change role to member",asyncOnClick:Ed(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,vd.M)({teamId:u,userId:a,role:yd.i.Member,updateRoleIfExists:!0});case 2:case"end":return e.stop()}}),e)})))},{label:"Remove from team",asyncOnClick:Ed(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,gd({teamId:u,memberId:a});case 2:case"end":return e.stop()}}),e)})))}]:"guest"===c&&a?[{label:"Add to team as member",asyncOnClick:Ed(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,vd.M)({teamId:u,userId:a,role:yd.i.Member,updateRoleIfExists:!0});case 2:case"end":return e.stop()}}),e)})))}]:"pending"===c&&i?[{label:"Cancel Invitation",asyncOnClick:Ed(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,fd.Z)(300);case 2:return e.next=4,(0,pd.Z)(i);case 4:case"end":return e.stop()}}),e)})))}]:[];return[]}(e);return(0,a.jsx)(dd.nV,{unopenedText:n.charAt(0).toUpperCase()+n.slice(1),dropdownOptions:r})};function Ad(e){var t,n=(e.email?"a":"b")+((null===(t=e.profile)||void 0===t?void 0:t.photoURL)?"a":"b");return e.isCurrentUser?"1":e.isDeletedUser?"7":e.role===yd.i.Admin?"2"+n:e.role===yd.i.Member?"3"+n:e.role===yd.i.Guest?"4"+n:e.role?"8":"5"+n+(e.displayName?"a":"b")}function Id(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}var Dd=function(){var e,t=(0,j.LP)(),n=(0,M.II)(),r=(0,kl.LO)(t,void 0,{internalOnly:!1}),i=(0,kl.Sh)(t,void 0,{internalOnly:!1}),u=(0,kl.q8)(t,void 0,{internalOnly:!1}),c=function(e){var t=(0,s.useState)(),n=t[0],r=t[1],i=(0,td.m)((function(e){return e.pipe((0,rd.h)((function(e){return null!=ud(e,1)[0]})),(0,id.w)((function(e){var t=ud(e,1)[0];return ad(t)})))}),[e]);return(0,nd.m)(i,r,re.Tb),n}(t),l=function(e){var t,n,r,i=e.allMembersByRole,o=e.membersWithKnownInfo,a=e.membersWithProfiles,s=e.invitedUsers,u=e.currentUserId,c=[],l=Array.from(new Set([null!==(t=null===i||void 0===i?void 0:i.map((function(e){return e.id})))&&void 0!==t?t:[],null!==(n=null===o||void 0===o?void 0:o.map((function(e){return e.memberId})))&&void 0!==n?n:[],null!==(r=null===a||void 0===a?void 0:a.map((function(e){return e.id})))&&void 0!==r?r:[]].flat())),f=!0,d=!1,h=void 0;try{for(var p,v=function(e,t){var n,r,s,l=t.value,f=null===o||void 0===o?void 0:o.find((function(e){return e.memberId===l})),d=null===a||void 0===a?void 0:a.find((function(e){return e.id===l})),h=null===i||void 0===i?void 0:i.find((function(e){return e.id===l})),p=!(null!==(n=null===f||void 0===f?void 0:f.displayName)&&void 0!==n?n:null===d||void 0===d?void 0:d.displayName),v=Boolean(u)&&l===u;c.push({userId:l,email:null===f||void 0===f?void 0:f.email,role:null===h||void 0===h?void 0:h.role,displayName:null!==(s=null!==(r=null===f||void 0===f?void 0:f.displayName)&&void 0!==r?r:null===d||void 0===d?void 0:d.displayName)&&void 0!==s?s:"Deleted User",knownPerson:f,isDeletedUser:p,profile:d,isCurrentUser:v})},m=l[Symbol.iterator]();!(f=(p=m.next()).done);f=!0)v(0,p)}catch(S){d=!0,h=S}finally{try{f||null==m.return||m.return()}finally{if(d)throw h}}var g=!0,y=!1,b=void 0;try{for(var w,_=(null!==s&&void 0!==s?s:[])[Symbol.iterator]();!(g=(w=_.next()).done);g=!0){var E=w.value;c.push({userId:null,email:E.inviteeEmail,role:null,displayName:null,knownPerson:void 0,isDeletedUser:!1,profile:void 0,isCurrentUser:!1,teamInviteId:E.id})}}catch(S){y=!0,b=S}finally{try{g||null==_.return||_.return()}finally{if(y)throw b}}return c.sort((function(e,t){var n=Ad(e),r=Ad(t);return n<r?-1:n>r?1:e.displayName<t.displayName?-1:e.displayName>t.displayName?1:e.email<t.email?-1:e.email>t.email?1:e.userId<t.userId?-1:e.userId>t.userId?1:0})),c}({allMembersByRole:r,membersWithKnownInfo:i,membersWithProfiles:u,invitedUsers:c,currentUserId:n}),f=null===(e=null===r||void 0===r?void 0:r.find((function(e){return e.id===n})))||void 0===e?void 0:e.role,d=function(e,t){return!(!e||!t)&&e===ld.i4.Admin&&(null!==(r=null===(n=null===t||void 0===t?void 0:t.filter((function(e){return e.role===ld.i4.Admin})))||void 0===n?void 0:n.length)&&void 0!==r?r:0)<=1;var n,r}(f,r),h=(0,s.useCallback)(function(){var e,r=(e=o().mark((function e(r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,cd.Z)({type:Kf.PA.Email,inviterId:n,inviteeEmail:r,status:Kf.aj.Pending,inviteTo:Kf.FU.Team,teamId:t},"team_members_modal");case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Id(o,r,i,a,s,"next",e)}function s(e){Id(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e){return r.apply(this,arguments)}}(),[n,t]),p=!t||!n||!r||!i||!u||!c;return(0,a.jsx)(Cd,{combinedMembers:l,onInvite:h,currentUserRole:f,isCurrentUserSoleAdmin:d,currentTeamId:t,isLoading:p})},Pd=function(e){switch(e){case Ae.k9.Pro:return"Pro";case Ae.k9.Free:default:return"Free"}},Rd=function(e){var t=e.planType,n=e.teamMembersLength,r=(0,Uo.Y)().setOpenedPane;return(0,a.jsxs)("div",{className:wd().settingsSubtext,children:["You are currently on the ",Pd(t)," plan. Your team has\xa0",n," member",n>1?"s":"","\xa0\u2014\xa0",(0,a.jsx)("a",{role:"button",className:wd().manageLink,onClick:function(){r("plans"),F.Z.trackEvent("payment","open_billing_pane",{source:"teamMembersPane"})},children:"Manage plan"})]})},Nd=function(){var e,t=(0,j.Rs)(),n=(0,kl.ZP)(null===t||void 0===t?void 0:t.id,void 0,{internalOnly:!0});return(0,a.jsx)("div",{className:wd().container,children:(0,a.jsxs)("div",{className:wd().centered,children:[(0,a.jsx)("div",{className:wd().preamble,children:"Eraser is made for team collaboration. All team members see the same folders and files on their dashboard. Guests only have access to specific files."}),(0,a.jsxs)("div",{className:wd().body,children:[(0,a.jsx)("div",{className:wd().leftHalf,children:(0,a.jsx)(Dd,{})}),(0,a.jsxs)("div",{className:wd().rightHalf,children:[t&&(0,a.jsx)(ed,{team:t}),(0,a.jsx)(Rd,{planType:null===t||void 0===t||null===(e=t.plan)||void 0===e?void 0:e.planType,teamMembersLength:n.length})]})]})]})})},jd=function(e){return(0,md.Z)("team-delete",e)},Md=function(e){return(0,md.Z)("team-updateConfig",e)},Ld=n(63053),Fd=n.n(Ld),Bd=n(33767),Ud=n(23732),Vd=n(44623),zd=n(11678),qd=n(5233);function Zd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Zd(e,t,n[t])}))}return e}var Wd=Hd({},zd.vQ,{popperPlacement:"bottom-start",popperModifiers:[{name:"offset",options:{offset:[0,10]}}]}),Gd=function(e){var t=e.selected,n=e.isDisabled,r=e.buttonClassname,i=e.onChange;return(0,a.jsxs)(sa.Lt,Hd({isMountedInPopper:!0,onSelect:i,selected:t,isDisabled:n,hint:n?{label:"Upgrade your team plan to change this setting"}:void 0,toggleClassNames:{root:r}},Wd,{children:[(0,a.jsx)(wt.Z,{label:"No link access",icon:(0,a.jsx)(Bd.Z,{}),explanation:zd.Xh.none},qd.bR.NONE),(0,a.jsx)(sa.KE,{}),(0,a.jsx)(wt.Z,{icon:(0,a.jsx)(Ud.Z,{}),label:"Anyone with the link can Edit",explanation:zd.Xh.write},qd.bR.WRITE),(0,a.jsx)(wt.Z,{icon:(0,a.jsx)(ll.Z,{}),label:"Publicly viewable",explanation:zd.Xh.read},qd.bR.READ),(0,a.jsx)(wt.Z,{icon:(0,a.jsx)(Vd.Z,{}),label:"Publicly editable",explanation:zd.Xh["anonymous-write"]},qd.bR.ANONYMOUS_WRITE)]}))};function Kd(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}var Jd=function(){var e,t,n,r=(0,to.Z)(),i=(0,M.II)(),u=(0,j.Zj)(),c=(0,j.Rs)(),l=(0,j.DJ)().updateTeam,f=(0,s.useRef)(null),d=(0,s.useRef)(!1),h=(0,ze.Z)(),p=h.isOpen,v=h.onClose,m=h.onOpen,g=(0,eo.Z)(jd),y=(0,eo.Z)(Md),b=(0,s.useState)(null!==(n=null===c||void 0===c?void 0:c.name)&&void 0!==n?n:""),w=b[0],_=b[1],E=(0,kl.ZP)(null===c||void 0===c?void 0:c.id,void 0,{internalOnly:!0}),S=(0,s.useCallback)((function(){var e;_(null!==(e=null===c||void 0===c?void 0:c.name)&&void 0!==e?e:"")}),[c]);(0,s.useEffect)((function(){c&&_(c.name)}),[c,null===c||void 0===c?void 0:c.name]);var x,O=null===c||void 0===c||null===(e=c.plan)||void 0===e?void 0:e.planType,C=O&&O!==Ae.k9.Free,k=(0,Gl.GX)(E,i,Gl.H0),T=E.filter((function(e){return e.id!==i})),A=function(){l&&c&&(d.current?d.current=!1:w!==c.name&&r.promise(l(c.id,{name:w}),{success:"Updated team name",loading:"Updating team name",error:function(e){return S(),(0,re.Tb)(e),t=e,(null!=(n=Le.cf)&&"undefined"!==typeof Symbol&&n[Symbol.hasInstance]?n[Symbol.hasInstance](t):t instanceof n)?e.message:"Something went wrong";var t,n}}))},I=function(){var e,t=(e=o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c&&!C){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,r.promise(g.execute(c.id),{loading:"Deleting team",success:"Deleted team",error:function(e){return(0,re.Tb)(e),"Something went wrong"}});case 4:null===u||void 0===u||u();case 5:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Kd(o,r,i,a,s,"next",e)}function s(e){Kd(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}(),D=(0,s.useCallback)((function(e){c&&C&&r.promise(y.execute({teamId:c.id,config:{defaultWorkspaceAccess:e}}),{success:"Updated default file link settings",loading:"Updating default file link settings",error:function(e){return(0,re.Tb)(e),"Something went wrong"}})}),[y,c,C,r.promise]);return(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:Fd().subHeader,children:"Basic information"}),(0,a.jsxs)("div",{className:Fd().teamRow,children:[(0,a.jsx)("span",{className:Fd().teamRowName,children:"Team Name"}),(0,a.jsx)("div",{className:Fd().teamRowField,children:(0,a.jsx)(ws.Z,{ref:f,value:w,disabled:!k,readOnly:!k,onKeyDown:function(e){if("Enter"===e.key)A();else if("Escape"===e.key){var t;e.stopPropagation(),d.current=!0,null===(t=f.current)||void 0===t||t.blur(),S()}},onBlur:function(){return A()},className:Fd().teamRowInput,placeholder:"Enter team name ...",onChange:function(e){return _(e.currentTarget.value)}})}),(0,a.jsx)("span",{className:Fd().description,children:"Can be changed at any time."})]}),(0,a.jsxs)("div",{className:Fd().teamRow,children:[(0,a.jsxs)("span",{className:Fd().teamRowName,children:["Default File Link Access",!C&&(0,a.jsx)(Xs.y6,{className:Fd().teamRowBadge})]}),(0,a.jsx)("div",{className:Fd().teamRowField,children:(0,a.jsx)(Gd,{selected:null!==(x=null===c||void 0===c||null===(t=c.config)||void 0===t?void 0:t.defaultWorkspaceAccess)&&void 0!==x?x:qd.bR.WRITE,isDisabled:y.loading||!C,buttonClassname:Fd().teamRowDropdown,onChange:D})}),(0,a.jsx)("span",{className:Fd().description,children:"Applied to all new team files"})]}),k&&!T.length&&(0,a.jsxs)("div",{className:Fd().dangerZone,children:[(0,a.jsx)("span",{className:Fd().dangerTitle,children:"Danger Zone"}),(0,a.jsx)("p",{className:Fd().dangerMessage,children:"Proceed with caution, once completed, these actions cannot be undone."}),(0,a.jsxs)("div",{children:[(0,a.jsx)(Vo.ZP,{onClick:m,disabled:C,variant:Vo.ZP.Variants.TRANSPARENT,children:"Delete Team"}),C&&(0,a.jsx)("span",{className:Fd().deletionWarning,children:"The team has an active paid plan and cannot be deleted."})]}),(0,a.jsx)(Dl.Z,{isDeletion:!0,isOpen:p,onClose:v,onCancel:v,title:"Delete team?",onConfirm:I,description:"By selecting confirm you will delete all files that belong to this team. This cannot be undone."})]})]})},Yd=n(14360),$d=n(55877),Xd=n.n($d),Qd=function(){return(0,a.jsxs)("div",{className:Xd().icon,children:[(0,a.jsx)(G.ZP,{width:"64px",height:64}),(0,a.jsx)("div",{className:(0,k.Z)(Xd().iconInfo,Xd().skeleton),children:(0,a.jsx)(G.ZP,{width:"100%",height:35,className:Xd().skeleton})})]})},eh=n(44812),th=n.n(eh),nh=function(){return(0,a.jsx)(G.yB,{color:"var(--grey-800)",highlightColor:"var(--grey-400)",children:(0,a.jsxs)("div",{className:th().wrapper,children:[(0,a.jsxs)("div",{className:th().sidebar,children:[(0,a.jsx)(G.ZP,{width:"100%",height:30}),(0,a.jsx)(G.ZP,{width:"100%",height:150,className:th().description}),(0,a.jsx)(G.ZP,{width:"100%",height:75,className:th().notes})]}),(0,a.jsxs)("div",{className:th().list,children:[(0,a.jsx)("div",{className:th().search,children:(0,a.jsx)(G.ZP,{width:"220px",height:30})}),(0,a.jsxs)("div",{className:th().listContainer,children:[(0,a.jsx)(Qd,{}),(0,a.jsx)(Qd,{}),(0,a.jsx)(Qd,{})]})]})]})})};function rh(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}var ih,oh=function(){var e=(0,to.Z)(),t=(0,s.useRef)(null),n=(0,s.useRef)({loaded:0,total:0}),r=function(r){t.current?(n.current.loaded+=1,null===e||void 0===e||e.loading("Uploaded ".concat(n.current.loaded,"/").concat(n.current.total," icons"),t.current?{id:t.current}:{})):null===e||void 0===e||e.success("Icon ".concat(r," uploaded successfully"))},i=function(t,n){null===e||void 0===e||e.error("Error uploading icon ".concat(t))};return function(){var a,s=(a=o().mark((function a(s,u,c){var l,f,d,h,p,v,m;return o().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(1!==s.length){o.next=2;break}return o.abrupt("return",Yd.Z.uploadCustomIcon({file:s[0],teamId:u,userId:c,onSuccess:r,onError:i}));case 2:for(l=[],n.current={loaded:0,total:s.length},t.current=null===e||void 0===e?void 0:e.loading("Preparing icons"),f=!0,d=!1,h=void 0,o.prev=6,p=Array.from(s)[Symbol.iterator]();!(f=(v=p.next()).done);f=!0)m=v.value,l.push(Yd.Z.uploadCustomIcon({file:m,teamId:u,userId:c,onSuccess:r,onError:i}));o.next=14;break;case 10:o.prev=10,o.t0=o.catch(6),d=!0,h=o.t0;case 14:o.prev=14,o.prev=15,f||null==p.return||p.return();case 17:if(o.prev=17,!d){o.next=20;break}throw h;case 20:return o.finish(17);case 21:return o.finish(14);case 22:return o.next=24,Promise.allSettled(l);case 24:null===e||void 0===e||e.success("".concat(n.current.loaded,"/").concat(n.current.total," icons uploaded successfully"),t.current?{id:t.current}:{}),t.current=null;case 26:case"end":return o.stop()}}),a,null,[[6,10,14,22],[15,,17,21]])})),function(){var e=this,t=arguments;return new Promise((function(n,r){var i=a.apply(e,t);function o(e){rh(i,n,r,o,s,"next",e)}function s(e){rh(i,n,r,o,s,"throw",e)}o(void 0)}))});return function(e,t,n){return s.apply(this,arguments)}}()},ah=n(16528),sh=n(25860),uh=n(34273),ch=n.n(uh),lh=function(e){var t=e.label,n=e.hideIcon,r=e.buttonVariant,i=void 0===r?"REGULAR":r,o=e.className,u=e.onSelectFiles,c=(0,s.useRef)(null);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(Vo.ZP,{className:(0,k.Z)(ch().uploadBtn,o),variant:Vo.ZP.Variants[i],onClick:function(){var e;null===(e=c.current)||void 0===e||e.click()},children:[!n&&(0,a.jsx)(O.J,{icon:_l,height:12,width:12}),(0,a.jsx)("span",{children:t})]}),(0,a.jsx)("input",{type:"file",ref:c,multiple:!0,accept:"image/svg+xml",className:ch().fileInput,onChange:function(e){e.target.files&&(u(e.target.files),c.current.value="")}})]})},fh=n(29932);function dh(){return dh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dh.apply(this,arguments)}var hh=function(e){return s.createElement("svg",dh({width:12,height:12,fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),ih||(ih=s.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 .8A5.2 5.2 0 00.8 6H0a6 6 0 0110.4-4.08V0h.8v3.2H8v-.8h1.752A5.184 5.184 0 006 .8zm0 10.4A5.2 5.2 0 0011.2 6h.8a6 6 0 01-10.4 4.08V12H.8V8.8H4v.8H2.248A5.184 5.184 0 006 11.2z",fill:"currentColor"})))},ph=n(41164);function vh(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}var mh=function(e){var t,n=e.icon,r=e.onUpdateIcon,i=e.onUpdateName,u=e.onDelete,c=(0,to.Z)(),l=(0,Il.Z)(),f=(0,s.useRef)(null),d=(0,s.useState)(!1),h=d[0],p=d[1],v=(0,s.useState)(n.label||""),m=v[0],g=v[1],y=(0,ke.Z)(n.createdBy),b=(0,s.useCallback)((function(e){var t=e.currentTarget.value;if(0!==t.length){if(n.label!==t){var r=(0,ah.i)(t);i(n.id,r)}}else g(n.label)}),[n.id,n.label,i]),w=(0,s.useCallback)((t=o().mark((function e(){var t,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(n.url);case 3:return t=e.sent,e.next=6,t.text();case 6:r=e.sent,l(r,"Icon copied to clipboard"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Copy SVG failure",e.t0),c.error("Failed to copy icon to clipboard");case 14:case"end":return e.stop()}}),e,null,[[0,10]])})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(e){vh(o,r,i,a,s,"next",e)}function s(e){vh(o,r,i,a,s,"throw",e)}a(void 0)}))}),[n.url,c,l]),_=(0,s.useCallback)((function(){var e;null===(e=f.current)||void 0===e||e.click()}),[]),E=(0,s.useCallback)((function(e){var t=e.target.files;0!==(null===t||void 0===t?void 0:t.length)&&r(n.id,t[0])}),[n.id,r]);return(0,s.useEffect)((function(){g(n.label)}),[n.label]),(0,a.jsxs)("div",{className:Xd().icon,children:[(0,a.jsxs)("div",{className:Xd().iconImg,children:[(0,a.jsx)("img",{src:n.url,alt:n.label,className:h?void 0:Xd().hidden,onLoad:function(){return p(!0)}}),!h&&(0,a.jsx)(G.ZP,{width:"64px",height:64,className:Xd().iconImgSkeleton})]}),(0,a.jsxs)("div",{className:Xd().iconInfo,children:[(0,a.jsx)(ws.Z,{value:m,className:Xd().iconName,size:ws.Z.Sizes.SMALL,onChange:function(e){return g((0,ah.i)(e.currentTarget.value))},onBlur:b}),(0,a.jsx)("span",{className:Xd().iconAuthor,children:y?"Added by ".concat(y.displayName):""}),(0,a.jsx)("input",{type:"file",ref:f,multiple:!1,accept:"image/svg+xml",className:Xd().fileInput,onChange:E}),(0,a.jsxs)(sa.Ng,{minWidth:176,hint:{label:"File Options"},toggleClassNames:{button:Xd().iconDropdown},children:[(0,a.jsx)(wt.Z,{label:"Replace Icon",icon:(0,a.jsx)(O.J,{icon:hh}),onClick:_}),(0,a.jsx)(wt.Z,{label:"Copy Icon",icon:(0,a.jsx)(O.J,{icon:fh.Z}),onClick:w}),(0,a.jsx)(sa.KE,{}),(0,a.jsx)(wt.Z,{label:"Delete",className:Xd().deleteOption,icon:(0,a.jsx)(O.J,{icon:ph.Z,color:"red"}),onClick:function(){return u(n.id)}})]})]})]},n.id)};function gh(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function yh(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){gh(o,r,i,a,s,"next",e)}function s(e){gh(o,r,i,a,s,"throw",e)}a(void 0)}))}}var bh=function(e){var t=e.userId,n=e.teamId,r=e.icons,i=(0,to.Z)(),u=(0,s.useRef)(null),c=(0,s.useState)(""),l=c[0],f=c[1],d=oh(),h=r.filter((function(e){var t=(0,ah.i)(l.toLowerCase());return e.label.toLowerCase().includes(t)})),p=function(){var e=yh(o().mark((function e(r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(r,n,t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=yh(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Yd.Z.deleteIcon(t);case 3:null===i||void 0===i||i.success("Icon deleted successfully"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),null===i||void 0===i||i.error("Error deleting icon");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=yh(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Yd.Z.updateIconName(t,n);case 3:null===i||void 0===i||i.success("Icon name updated successfully"),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),null===i||void 0===i||i.error("Error updating icon name");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),g=function(){var e=yh(o().mark((function e(r,a){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u.current=null===i||void 0===i?void 0:i.loading("Updating icon..."),e.prev=1,e.next=4,Yd.Z.updateIconFile(r,t,n,a);case 4:null===i||void 0===i||i.success("Icon updated successfully",{id:u.current}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),null===i||void 0===i||i.error("Error updating icon",{id:u.current});case 10:u.current=null;case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}();return(0,a.jsxs)("div",{className:th().wrapper,children:[(0,a.jsxs)("div",{className:th().sidebar,children:[(0,a.jsx)(lh,{label:"Upload SVG Icons",className:th().browseBtn,onSelectFiles:p}),(0,a.jsx)("p",{className:th().description,children:"Upload custom SVG icons that you and your team can use within any Eraser file. Custom icons can be added to the Canvas via the Insert menu or used in Diagram as Code & AI Diagrams."}),(0,a.jsxs)("p",{className:th().notes,children:["Note: Names must be lower case letters, numbers, or hyphens (no spaces). Maximum length"," ",ah.v," characters."]})]}),(0,a.jsxs)("div",{className:th().list,children:[(0,a.jsxs)("div",{className:th().search,children:[(0,a.jsx)("span",{className:th().searchIcon,children:(0,a.jsx)(O.J,{icon:sh.Z,color:"grey-1100"})}),(0,a.jsx)(ws.Z,{autoFocus:!0,value:l,className:th().searchInput,placeholder:"Search custom icon",onChange:function(e){return f(e.currentTarget.value)}}),(0,a.jsx)("span",{className:th().searchHotkey,children:"/"})]}),(0,a.jsx)("div",{className:th().listContainer,children:0===h.length?(0,a.jsxs)("p",{className:th().noIcons,children:['No icons found with "',l,'" in the name']}):h.map((function(e){return(0,a.jsx)(mh,{icon:e,onUpdateName:m,onDelete:v,onUpdateIcon:g},e.id)}))})]})]})},wh=n(35919),_h=n.n(wh);function Eh(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}var Sh=function(e){var t=e.userId,n=e.teamId,r=(0,s.useState)(!1),i=r[0],u=r[1],c=oh(),l=function(){var e,r=(e=o().mark((function e(r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(r,n,t);case 2:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Eh(o,r,i,a,s,"next",e)}function s(e){Eh(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e){return r.apply(this,arguments)}}();return(0,a.jsxs)("div",{className:(0,k.Z)(_h().dragArea,i&&_h().highlightOutline),onDragOver:function(){return u(!0)},onDragLeave:function(){return u(!1)},onDrop:function(e){e.preventDefault(),l(e.dataTransfer.files).then((function(){u(!1)}))},children:[(0,a.jsx)("span",{className:_h().title,children:"Drag & drop to upload or"}),(0,a.jsx)(lh,{label:"Browse Files",className:_h().browseBtn,onSelectFiles:l}),(0,a.jsx)("p",{className:_h().description,children:"Upload custom icons that you and your team can use within any Eraser file. Custom icons can be added to the Canvas via the Insert menu or used in Diagram as Code & AI Diagrams."}),(0,a.jsxs)("p",{className:_h().notes,children:[(0,a.jsx)("b",{children:"Note:"})," Names must be lower case letters, numbers, or hyphens (no spaces). Maximum length ",ah.v," characters."]})]})},xh=function(){var e=(0,M.II)(),t=(0,j.LP)(),n=(0,s.useState)(void 0),r=n[0],i=n[1];return(0,s.useEffect)((function(){if(t)return Yd.Z.subscribeByTeamId(t,i)}),[t]),e&&t?(0,a.jsx)("div",{className:_h().wrapper,children:r?r.length>0?(0,a.jsx)(bh,{userId:e,teamId:t,icons:r}):(0,a.jsx)(Sh,{userId:e,teamId:t}):(0,a.jsx)(nh,{})}):null},Oh=n(55579);var Ch=n(19605),kh=function(){var e=(0,Uo.Y)().openedPane;return(0,a.jsxs)("div",{className:He().container,children:[(0,a.jsx)(El,{}),(0,a.jsx)("div",{className:He().paneContainer,children:function(){if(null==e)return null;var t=null;switch(e){case"gitHub":t=(0,a.jsx)(df,{});break;case"api-tokens":t=(0,a.jsx)(Yl,{});break;case"members":t=(0,a.jsx)(Nd,{});break;case"team-settings":t=(0,a.jsx)(Jd,{});break;case"appearance":t=(0,a.jsx)(Ql,{});break;case"plans":t=(0,a.jsx)(rf,{});break;case"profile":t=(0,a.jsx)(Hf,{});break;case"custom-icons":t=(0,a.jsx)(xh,{})}return(0,a.jsx)("div",{className:He().pane,children:t})}()})]})},Th=function(){!function(){var e=(0,Uo.Y)().openSettingsModal,t=(0,s.useCallback)((function(){Ft.Z.get(Oh.qf)&&(e({openedPane:"gitHub"}),Ft.Z.remove(Oh.qf))}),[e]);(0,It.DZ)("onInstallWindowClosed",t)}(),function(){var e=(0,Ch.K)(),t=(0,Uo.Y)().openSettingsModal;(0,s.useLayoutEffect)((function(){e.settings&&t({openedPane:e.settings})}),[e.settings,t])}();var e=(0,Uo.Y)(),t=e.isSettingsModalOpen,n=e.closeSettingsModal;return(0,a.jsx)(U.Z,{title:"Settings",showTitleSeparator:!0,size:U.Z.Sizes.XL,closeButtonVariant:"text",className:He().modalRoot,isOpen:t,onClose:n,children:(0,a.jsx)(kh,{})})},Ah=n(2253),Ih=n(47520);function Dh(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function Ph(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ph(e,t,n[t])}))}return e}zt.jU&&(window.addEventListener("error",(function(e){e.stopImmediatePropagation(),Jt(e.error.message)?console.warn(e.error):(0,qt.T)("Uncaught error: ".concat(e.message),{extra:{event:e}})})),window.addEventListener("unhandledrejection",(function(e){e.stopImmediatePropagation(),Jt(e.reason.message)?console.warn(e.reason):(0,qt.T)("Unhandled rejection: ".concat(e.reason),{extra:{event:e}})})));var Nh=(0,a.jsx)(g.Z,{statusCode:500,title:"Something went wrong"}),jh=["pdf-view","render"],Mh=function(e){var t=e.Component,n=e.pageProps;!function(){var e=(0,h.useRouter)();(0,s.useEffect)((function(){Mt.I8.onAuthStateChanged((function(t){t&&Gt(t,e.asPath)})),Gt(void 0,e.asPath)}),[e.isReady])}();var r=(0,h.useRouter)();!function(e){var t=(0,s.useRef)(!0),n=(0,s.useCallback)((function(){t.current?t.current=!1:e()}),[e]);(0,s.useEffect)((function(){return Mt.Fs.ref("force-client-version").on("value",n),function(){Mt.Fs.ref("force-client-version").off("value",n)}}),[n])}((0,s.useCallback)((function(){return window.location.reload()}),[]));var i,o=r.pathname.startsWith("/dashboard")?(0,a.jsx)(yu,{children:(0,a.jsx)(t,Rh({},n))}):(0,a.jsx)(t,Rh({},n));return i=jh.some((function(e){return r.asPath.includes(e)}))?(0,a.jsx)(xu.Wh,{children:o}):(0,a.jsxs)(a.Fragment,{children:[ye.D_.publicKey&&(0,a.jsx)(m(),{src:"https://js.sentry-cdn.com/".concat(ye.D_.publicKey,".min.js"),crossOrigin:"anonymous","data-lazy":"no"}),(0,a.jsx)(_e,{og:(null===n||void 0===n?void 0:n.og)?Rh({},be,n.og):be}),(0,a.jsx)(Ee.ch,{initialTheme:null===n||void 0===n?void 0:n.theme}),(0,a.jsx)(y.Z,{showDialog:!0,fallback:Nh,children:(0,a.jsx)(xu.Wh,{children:(0,a.jsx)(jt.Yl,{children:(0,a.jsx)(Ah.Z,{value:Ih.Z,children:(0,a.jsx)(Nt,{children:(0,a.jsx)(Yt.dq,{children:(0,a.jsxs)(N.ZP,{children:[(0,a.jsx)(Vt,{}),(0,a.jsx)(se,{}),(0,a.jsx)(Se,{}),(0,a.jsx)(ne,{}),(0,a.jsx)(Th,{}),(0,a.jsx)(cl,{}),(0,a.jsx)(Su,{}),o]})})})})})})})]}),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(d(),{children:[(0,a.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1, maximum-scale=1"}),(0,a.jsx)("title",{children:"Eraser"})]}),i]})},Lh=function(e){if(!e)return null;try{var t=e.url,n=e.headers.host;return t&&n?new URL(t,"http://".concat(n)).searchParams.get("theme"):null}catch(r){return null}},Fh=function(){var e,t=(e=o().mark((function e(t){var n,r,i,a,s,u,f,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/playground"===t.router.pathname?"dark":"light",e.next=3,l.default.getInitialProps(t);case 3:return r=e.sent,e.prev=5,s=t.ctx,u=s.req,f=s.res,"string"===typeof(null===(a=t.ctx.query)||void 0===a?void 0:a.theme)?i=t.ctx.query.theme:t.router.asPath.match(/theme=(dark|light)/)?i=t.router.asPath.match(/theme=(dark|light)/)[1]:Lh(u)?i=Lh(u):f&&u?(d=new(c())(u,f),i=Lt.J.getItem(Bt,d)||n):i=n,e.abrupt("return",{pageProps:Rh({theme:i},r.pageProps)});case 12:return e.prev=12,e.t0=e.catch(5),(0,re.Tb)(e.t0),e.abrupt("return",r);case 16:case"end":return e.stop()}}),e,null,[[5,12]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Dh(o,r,i,a,s,"next",e)}function s(e){Dh(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();Mh.getInitialProps=Fh;var Bh=Mh},83295:function(e,t,n){"use strict";n.d(t,{q:function(){return l},b:function(){return f}});var r=n(2784),i=n(14898),o=n(94776),a=n.n(o),s=n(57066);function u(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}var c={getRef:function(e){return s.RZ.collection("users/".concat(e,"/activations"))},subscribeByUserId:function(e,t){var n=this;return this.getRef(e).onSnapshot((function(e){var r=n.fromCollectionSnap(e);t(r)}))},markActivated:function(e){var t,n=e.userId,r=e.action;return(t=a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getRef(n).doc(r).set({didPerform:!0});case 2:case"end":return e.stop()}}),e,this)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(e){u(o,r,i,a,s,"next",e)}function s(e){u(o,r,i,a,s,"throw",e)}a(void 0)}))}).apply(this)},fromCollectionSnap:function(e){return e.docs.reduce((function(e,t){return e[t.id]=t.data().didPerform,e}),{})}},l=c;function f(){var e,t=null!==(e=(0,i.aF)())&&void 0!==e?e:{},n=t.id,o=t.isAnonymous,a=(0,r.useState)({}),s=a[0],u=a[1],c=(0,r.useState)(!0),f=c[0],d=c[1],h=(0,r.useCallback)((function(e){u(e),d(!1)}),[]);return(0,r.useEffect)((function(){if(n&&!1===o)return d(!0),l.subscribeByUserId(n,h);u({}),d(!1)}),[n,o,h]),{loading:f,activations:s}}},52251:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var r,i=n(49892),o=n(94776),a=n.n(o),s=n(55632),u=n(44883),c=n(83295);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=(l(r={},"workspace_create",u.c.CreateFile),l(r,"insert_menu_icon_create",u.c.AddIcon),l(r,"insert_menu_figure_create",u.c.AddFigure),l(r,"canvas_figure_create",u.c.AddFigure),l(r,"figure_create_from_selection",u.c.AddFigure),l(r,"notepad_wikilink_create",(function(e){return"figureLink"===(null===e||void 0===e?void 0:e.type)?u.c.AddFigureEmbed:void 0})),l(r,"notepad_add_content",u.c.AddNoteContent),l(r,"comment_create",u.c.AddComment),r),d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t=e.prototype;return t.trackEvent=function(e,t){var n;if(this._userId){var r=f[e],i="function"===typeof r?r(t):r;i&&!(null===(n=this._activations)||void 0===n?void 0:n[i])&&c.q.markActivated({userId:this._userId,action:i})}},t.identify=function(e){var t=e.id,n=e.isAnonymous,r=this;t!==this._userId&&(n?this.cleanup():(this.cleanup(),this._userId=t,this._unsubscribe=c.q.subscribeByUserId(t,(function(e){r._activations=e}))))},t.cleanup=function(){var e;null===(e=this._unsubscribe)||void 0===e||e.call(this),this._unsubscribe=void 0,this._userId=void 0,this._activations=void 0},t.dispose=function(){this.cleanup()},e}();function h(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}var p=function(){var e,t=(e=a().mark((function e(t){var r,i,o,u,c,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,n.e(1402).then(n.bind(n,91402));case 3:r=e.sent.default,t.registerIntegration(new r);case 5:if(!s.bO.apiKey){e.next=13;break}return e.next=8,n.e(9382).then(n.bind(n,99382));case 8:return i=e.sent.default,e.next=11,i(s.bO.apiKey);case 11:o=e.sent,t.registerIntegration(o);case 13:if(!s.HE.appId){e.next=18;break}return e.next=16,n.e(4550).then(n.bind(n,64550));case 16:u=e.sent.default,t.registerIntegration(new u(s.HE.appId));case 18:if(!s.nS.appId){e.next=26;break}return e.next=21,n.e(7950).then(n.bind(n,17950));case 21:return c=e.sent.default,e.next=24,c();case 24:(l=e.sent)&&t.registerIntegration(l);case 26:t.registerIntegration(new d);case 27:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){h(o,r,i,a,s,"next",e)}function s(e){h(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}(),v=n(34406);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){m(e,t,n[t])}))}return e}var y=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._integrations=new Set,this._sessionProperties={},this._cachedEvents=[]}var t=e.prototype;return t.registerIntegration=function(e){this._integrations.add(e),this._cachedEvents&&this._cachedEvents.forEach((function(t){e.trackEvent(t.event,t.payload)}))},t.trackEvent=function(e,t,n){var r=null!=e?"".concat(e,"_").concat(t):t,o=g({appVersion:i.Ji},this._sessionProperties,n,{isTouchDevice:!!(null===window||void 0===window?void 0:window.ontouchstart)||!!(null===navigator||void 0===navigator?void 0:navigator.maxTouchPoints)});this._integrations.forEach((function(e){e.trackEvent(r,o)})),this._addToCache({event:r,payload:o})},t._addToCache=function(e){this._cachedEvents.push(e),this._cachedEvents.length>100&&this._cachedEvents.unshift()},t.identify=function(e){this._integrations.forEach((function(t){t.identify(e)}))},t.updateSessionProperties=function(e){this._sessionProperties=g({},this._sessionProperties,e)},t.dispose=function(){this._sessionProperties={},this._cachedEvents=[],this._integrations.forEach((function(e){e.dispose()}))},e}()),b="live"===i.Wi,w=v.env.TEST_ANALYTICS_ENABLED;(b||w)&&p(y);var _=y},45500:function(e,t,n){"use strict";n.d(t,{n:function(){return c}});var r=n(7867),i=n(3213),o=n(90396),a=n(97442),s=a.Z,u=a.Z,c={observeCanvasCatalogs:function(e){return(0,r.BS)(i.Z.canvasCatalogs.where("teamId","==",e).withConverter(s)).pipe((0,o.pA)([]),(0,o.Fb)([]))},observeCanvasCatalogItems:function(e){return(0,r.BS)(i.Z.canvasCatalogItems(e).withConverter(u)).pipe((0,o.pA)([]),(0,o.Fb)([]))}}},13358:function(e,t,n){"use strict";n.d(t,{b:function(){return o}});var r=n(55632);var i=r.CF.url.replace(/https?:\/\/(?:www.)?/,"."),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.getByName=function(e){var t={};if(document.cookie===this.cookieString)t=this.cookieObject;else{for(var n=document.cookie.split(";"),r=0;r<n.length;r++){var i=n[r].trim().split("=");t[i[0]]=i[1]}this.cookieObject=t}return t[e]||null},e.add=function(e){var t=new Date,n=e.name,r=e.value,o=e.expire,a=e.domain;t.setTime(t.getTime()+(o||2592e6)),document.cookie="".concat(n,"=").concat(r,";expires=").concat(t.toUTCString(),";domain=").concat(a||i,";path=/"),this.cookieString=document.cookie,this.cookieObject[n]=r},e}();o.cookieString="",o.cookieObject={}},48215:function(e,t,n){"use strict";var r=n(94776),i=n.n(r),o=n(57066),a=n(50949);function s(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){s(o,r,i,a,u,"next",e)}function u(e){s(o,r,i,a,u,"throw",e)}a(void 0)}))}}function c(){return(c=u(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.VS)((function(){return o.wk.httpsCallable(t)(n)}));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.Z=function(e,t){return c.apply(this,arguments)}},62044:function(e,t,n){"use strict";n.d(t,{GH:function(){return i}});var r=n(57066).ZP.firestore,i=r.FieldValue;r.FieldPath,r.Timestamp},37719:function(e,t,n){"use strict";n.d(t,{G:function(){return l}});var r=n(94776),i=n.n(r),o=n(30984),a=n(57066),s=n(3213);function u(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){u(o,r,i,a,s,"next",e)}function s(e){u(o,r,i,a,s,"throw",e)}a(void 0)}))}}var l=function(){var e=c(i().mark((function e(t){var n,r,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.teamId,r=t.folderId,u=t.newParentId,l=s.Z.teamFolder(n,r).withConverter(o.Z),e.next=4,a.RZ.runTransaction(function(){var e=c(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u){e.next=2;break}return e.abrupt("return",!1);case 2:return r=s.Z.teamFolder(n,u).withConverter(o.Z),e.next=5,t.get(r);case 5:if(e.sent.data()){e.next=8;break}return e.abrupt("return",!1);case 8:return t.update(l,{parentFolderId:u}),e.abrupt("return",!0);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},50046:function(e,t,n){"use strict";n.d(t,{z:function(){return f}});var r=n(25291),i=n.n(r),o=n(7867),a=n(17407),s=n(94953),u=n(30984),c=n(3213),l=n(90396),f=i()((function(){var e=new a.x;return{observable:e.asObservable(),subject:e}}));t.Z=function(e,t){var n=c.Z.teamFolders(e).withConverter(u.Z);void 0!==t&&(n=n.where("parentFolderId","==",t)),n=n.orderBy("order","asc");var r=(0,o.BS)(n).pipe((0,l.pA)([]),(0,l.VK)(),(0,l.Fb)([])),i=f().observable;return(0,s.T)(r,i)}},843:function(e,t,n){"use strict";n.d(t,{U:function(){return h}});var r=n(94776),i=n.n(r),o=n(2784),a=n(68732),s=n(62044),u=n(3213),c=n(66924);function l(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){l(o,r,i,a,s,"next",e)}function s(e){l(o,r,i,a,s,"throw",e)}a(void 0)}))}}var d=function(){var e=f(i().mark((function e(t,n,r){var o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o={name:r,updatedAt:s.GH.serverTimestamp()},e.next=3,u.Z.teamFolder(t,n).update(o);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),h=function(e){var t=e.onSuccess,n=e.folderId,r=(0,a.LP)(),s=(0,o.useCallback)(function(){var e=f(i().mark((function e(o){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!n||!r){e.next=4;break}return e.next=4,d(r,n,o||"");case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),(0,c.Tb)(e.t0);case 9:t();case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),[t,n,r]);return s};t.Z=d},798:function(e,t,n){"use strict";var r=n(94776),i=n.n(r),o=n(56899),a=n(57066),s=n(66924),u=n(34406);function c(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){c(o,r,i,a,s,"next",e)}function s(e){c(o,r,i,a,s,"throw",e)}a(void 0)}))}}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){f(e,t,n[t])}))}return e}var h="image/svg+xml";function p(e,t){return v.apply(this,arguments)}function v(){return(v=l(i().mark((function e(t,r){var o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.e(8203).then(n.bind(n,78321));case 2:return o=e.sent.default,e.next=5,o(t,d({},r,{useWebWorker:!0}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var m=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._options=t}var t=e.prototype;return t.upload=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this;return l(i().mark((function r(){var c,l,f,d,v,m,g,y,b,w,_,E,S,x,O,C;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(c=t.fileName,l=t.cache,f=void 0===l||l,d=t.useFirebaseUrl,v=void 0!==d&&d,m=n._options,g=m.uploadBasePath,y=m.finalBaseURL,b=m.compress,w=m.maxSizeMB,_=m.maxWidthOrHeight,E=(0,o.Vg)({blobType:e.type,fileName:c,uploadBasePath:g}),S=a.tO.ref(E),!b||e.type===h){r.next=8;break}return r.next=7,p(e,{maxSizeMB:w,maxWidthOrHeight:_});case 7:e=r.sent;case 8:return x=E.replace(new RegExp("^".concat(g)),y),r.prev=9,O=f?{}:{cacheControl:"Cache-Control: no-cache, max-age=0"},r.next=13,S.put(e,O);case 13:if(C=r.sent,!u.env.FIREBASE_EMULATOR_ENABLED&&!v){r.next=18;break}return r.next=17,C.ref.getDownloadURL();case 17:x=r.sent;case 18:r.next=23;break;case 20:r.prev=20,r.t0=r.catch(9),(0,s.Tb)(r.t0);case 23:return r.abrupt("return",{url:x,mimeType:e.type,size:e.size});case 24:case"end":return r.stop()}}),r,null,[[9,20]])})))()},t.dispose=function(){},e}();t.Z=m},44387:function(e,t,n){"use strict";var r=n(3213);t.Z=function(e){return r.Z.invite(e).delete()}},20407:function(e,t,n){"use strict";var r=n(94776),i=n.n(r),o=n(52251),a=n(48215),s=n(59065);function u(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}var c=function(e,t){var n;e.inviteTo===s.FU.Team?n=e.teamId:e.inviteTo===s.FU.Workspace&&(n=e.workspaceId),n&&e.type===s.PA.Email&&o.Z.trackEvent("invite","create",{inviteTo:e.inviteTo,inviteId:n,inviteType:e.type,origin:t})},l=function(){var e,t=(e=i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.Z)("invite-create",t);case 2:return(r=e.sent)&&c(t,n),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){u(o,r,i,a,s,"next",e)}function s(e){u(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e,n){return t.apply(this,arguments)}}();t.Z=l},54282:function(e,t,n){"use strict";n.d(t,{AK:function(){return r.A},S1:function(){return _}});var r=n(72983),i=n(94776),o=n.n(i),a=n(55632),s=n(49892),u=n(3213),c=n(77407);function l(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}var f,d="webapp",h={},p={load:(f=o().mark((function e(){var t,n,r,i=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.length>0&&void 0!==i[0]?i[0]:d,!h[t]){e.next=3;break}return e.abrupt("return",h[t]);case 3:return e.next=6,u.Z.config(t).get();case 6:if(e.t1=n=e.sent.data(),e.t0=null!==e.t1,!e.t0){e.next=10;break}e.t0=void 0!==n;case 10:if(!e.t0){e.next=14;break}e.t2=n,e.next=15;break;case 14:e.t2={};case 15:return r=e.t2,h[t]=new c.v(r),e.abrupt("return",h[t]);case 18:case"end":return e.stop()}}),e)})),function(){var e=this,t=arguments;return new Promise((function(n,r){var i=f.apply(e,t);function o(e){l(i,n,r,o,a,"next",e)}function a(e){l(i,n,r,o,a,"throw",e)}o(void 0)}))})},v=n(17267),m=n(80142);function g(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){g(o,r,i,a,s,"next",e)}function s(e){g(o,r,i,a,s,"throw",e)}a(void 0)}))}}var b="logrocket_init_delay_seconds",w=!1;function _(e){return E.apply(this,arguments)}function E(){return(E=y(o().mark((function e(t){var i,u,c,l,f,d,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.firebaseUser,u=t.isIntegration,!w){e.next=3;break}return e.abrupt("return");case 3:if(!0,a.nS.appId&&!1===window.location.pathname.includes("/image")&&!1===window.location.pathname.includes("/embed")&&!u){e.next=7;break}return e.abrupt("return");case 7:if(!(i.isAnonymous&&Math.random()>.05)){e.next=9;break}return e.abrupt("return");case 9:return w=!0,e.next=12,p.load();case 12:return c=e.sent,f=null!==(l=c.getNumber(b))&&void 0!==l?l:s.Nk,e.next=17,(0,m.Z)(1e3*f);case 17:return e.next=19,(0,r.A)();case 19:return d=e.sent,e.next=22,n.e(5074).then(n.t.bind(n,65074,23));case 22:h=e.sent.default,d.init(a.nS.appId,{release:"2.5.490",serverURL:window.location.origin+"/lgrkt"}),h(),d.getSessionURL((function(e){null===v.T||void 0===v.T||v.T.configureScope((function(t){t.setContext("LogRocket",{"Session URL":e})}))}));case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},72983:function(e,t,n){"use strict";n.d(t,{A:function(){return c}});var r,i,o=n(94776),a=n.n(o);function s(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){s(o,r,i,a,u,"next",e)}function u(e){s(o,r,i,a,u,"throw",e)}a(void 0)}))}}function c(){return l.apply(this,arguments)}function l(){return(l=u(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==i&&(i=n.e(6954).then(n.t.bind(n,76954,23)).then((function(e){return e.default}))),null!=r){e.next=5;break}return e.next=4,i;case 4:r=e.sent;case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},73254:function(e,t,n){"use strict";n.d(t,{c:function(){return d}});var r=n(94776),i=n.n(r),o=n(34406);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function l(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var f=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.originRequest=t}return e.prototype.call=function(e,t){var n="true"===o.env.FIREBASE_EMULATOR_ENABLED?"http://localhost:5002/".concat("second-petal-295822","/").concat("us-central1","/"):"https://".concat("us-central1","-").concat("second-petal-295822",".cloudfunctions.net/"),r="".concat(n).concat(e);if(t){var i=new URLSearchParams(t);r+="?".concat(i.toString())}var a,s=this.originRequest.method,l=this.originRequest.body,f=this.originRequest.headers,d=f.host,h=c(f,["host"]);return h["x-forwarded-host"]||(h["x-forwarded-host"]=d),a=l&&"GET"!==s&&"HEAD"!==s&&"DELETE"!==s?"object"===typeof l?{body:JSON.stringify(l)}:{body:l}:{},fetch(r,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){u(e,t,n[t])}))}return e}({headers:h,method:s},a))},e}();function d(e){return function(){var t,n=(t=i().mark((function t(n,r){var o,a,s,u,c,d,h,p,v;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=new f(n),t.next=3,o.call(e,n.query);case 3:for(a=t.sent,r.status(a.status),s=!0,u=!1,c=void 0,t.prev=6,d=a.headers[Symbol.iterator]();!(s=(h=d.next()).done);s=!0)"content-encoding"!==(p=h.value)[0]&&(v=r).setHeader.apply(v,l(p));t.next=14;break;case 10:t.prev=10,t.t0=t.catch(6),u=!0,c=t.t0;case 14:t.prev=14,t.prev=15,s||null==d.return||d.return();case 17:if(t.prev=17,!u){t.next=20;break}throw c;case 20:return t.finish(17);case 21:return t.finish(14);case 22:return t.next=24,a.blob();case 24:t.sent.stream().pipe(r);case 27:case"end":return t.stop()}}),t,null,[[6,10,14,22],[15,,17,21]])})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(e){s(o,r,i,a,u,"next",e)}function u(e){s(o,r,i,a,u,"throw",e)}a(void 0)}))});return function(e,t){return n.apply(this,arguments)}}()}},2468:function(e,t,n){"use strict";n.d(t,{K:function(){return v}});var r=n(11929),i=n(48215),o=n(52251),a=n(9605),s=n(14898),u=n(24165),c=n(68732),l=n(57251),f=n(66924),d=n(2738),h=n(47985),p=function(e){return(0,i.Z)("team-create",e)};function v(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).onSuccess,t=(0,a.Z)(),n=(0,s.aF)(),i=(0,u.Z)(),d=(0,c.DJ)(),v=d.userTeamNames,g=(0,h.u6)(n),y=m(i,v?Array.from(v.values()):void 0,g),b=y.canCreateTeam,w=y.isLoadingCreateTeamCheck,_=(0,s.ZE)(),E=_?"".concat(_.split(" ")[0],"'s Team"):"",S=(0,r.UK)((function(r){b?t.promise(p({name:r.name,isAutoJoinEnabled:null===n||void 0===n?void 0:n.emailVerified}),{loading:"Creating team",success:"Created team",error:function(e){return 409===(0,l.Lr)(e).statusCode?"You already have a team with that name. Try another name.":((0,f.Tb)(e),"Error creating team.")}}).then((function(t){o.Z.trackEvent("team","create",{teamId:t.id}),null===e||void 0===e||e(t)})):t.error("".concat(g," already has a team with a free plan"))})),x=S.execute,O=S.error,C=S.loading;return{isLoadingCreateTeamCheck:w,canCreateTeam:b,workDomain:g,handleCreateTeam:x,error:O,loading:C,defaultTeamName:E}}function m(e,t,n){var r=null==e||null==t;if(r)return{isLoadingCreateTeamCheck:r,canCreateTeam:!1};if(!n)return{isLoadingCreateTeamCheck:r,canCreateTeam:!0};var i=e.some((function(e){return e.domain===n&&(0,d.aX)(e)})),o=t.some((function(e){return e.domain===n&&(0,d.aX)(e)}));return{isLoadingCreateTeamCheck:r,canCreateTeam:!i&&!o}}},68056:function(e,t,n){"use strict";var r=n(94776),i=n.n(r),o=n(52251),a=n(48215),s=n(92678);function u(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){c(e,t,n[t])}))}return e}var f=function(){var e,t=(e=i().mark((function e(t,n,r){var u;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}throw new Error("Cannot join a team without a userId");case 2:return e.next=4,(0,a.Z)("team-join",t);case 4:return u=e.sent,e.next=7,(0,s.pW)(n);case 7:return o.Z.trackEvent("team","join",l({},r,{teamId:t})),e.abrupt("return",u);case 9:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){u(o,r,i,a,s,"next",e)}function s(e){u(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e,n,r){return t.apply(this,arguments)}}();t.Z=f},64704:function(e,t,n){"use strict";n.d(t,{M:function(){return i}});var r=n(95879),i=((0,n(73254).c)("team-memberships"),function(e){return r.Z.post("team/memberships",e)})},64208:function(e,t,n){"use strict";var r=n(7867),i=n(94608),o=n(3213),a=n(90396);t.Z=function(e){return(0,r._1)(o.Z.team(e).withConverter(i.ML)).pipe((0,a.pA)(null),(0,a.VK)(),(0,a.Fb)(null))}},70213:function(e,t,n){"use strict";n.d(t,{nm:function(){return c}});n(61938);var r=n(94608),i=n(3213),o=n(90396),a=n(7867),s="updatedAt",u="desc",c={orderBy:s,orderDir:u};t.ZP=function(e){var t=e.teamId,n=e.ownerId,c=e.folderId,l=e.isPrivate,f=void 0!==l&&l,d=e.isArchived,h=void 0!==d&&d,p=e.isTemplate,v=void 0!==p&&p,m=e.orderBy,g=void 0===m?s:m,y=e.orderDir,b=void 0===y?u:y,w=i.Z.workspaces.withConverter(r.BV).where("teamId","==",t).where("isArchived","==",h).where("isTemplate","==",v);n&&(w=w.where("ownerId","==",n)),void 0!==c&&(w=w.where("folderId","==",c)),f&&(w=w.where("isPrivate","==",!0)),w=w.orderBy(g,b);var _=(0,a.BS)(w);return _.pipe((0,o.pA)([]),(0,o.VK)(),(0,o.Fb)([]))}},63502:function(e,t,n){"use strict";var r=n(94776),i=n.n(r),o=n(3213);function a(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function s(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){a(o,r,i,s,u,"next",e)}function u(e){a(o,r,i,s,u,"throw",e)}s(void 0)}))}}function u(){return(u=s(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.team(t).update(n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.Z=function(e,t){return u.apply(this,arguments)}},72625:function(e,t,n){"use strict";n.d(t,{X:function(){return o}});var r=n(95879),i=n(52251),o=function(e){return i.Z.trackEvent("template","publish",{templateId:e.templateWorkspaceId,teamId:e.teamId}),r.Z.post("template/save",e)}},37637:function(e,t,n){"use strict";n.d(t,{GF:function(){return f},QZ:function(){return v},ES:function(){return p},do:function(){return h}});var r=n(94776),i=n.n(r),o=n(48215),a=function(e){return(0,o.Z)("user-createAnonymousToken",e)},s=n(7878);function u(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}var c="anonymous-user-token",l="anonymous-user-id",f=function(){var e,t=(e=i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a({prevToken:d()});case 2:t=e.sent,s.J.setItem(c,t);case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){u(o,r,i,a,s,"next",e)}function s(e){u(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}(),d=function(){return s.J.getItem(c)||void 0},h=function(e){s.J.setItem(l,e)},p=function(){return s.J.getItem(l)},v=function(){s.J.removeItem(l)}},1380:function(e,t,n){"use strict";n.d(t,{AJ:function(){return o},Q0:function(){return s},jj:function(){return a}});var r=n(7878),i="cached-profile-args",o=function(){var e;return null!==(e=r.J.getItem(i))&&void 0!==e?e:{}},a=function(e){var t,n=null!==(t=o())&&void 0!==t?t:{},a=Object.assign({},n,e);n.signUpOrigin&&"other"===e.signUpOrigin&&(a.signUpOrigin=n.signUpOrigin),r.J.setItem(i,a)},s=function(){r.J.removeItem(i)}},32331:function(e,t,n){"use strict";n.d(t,{m:function(){return S},H:function(){return y}});var r=n(94776),i=n.n(r),o=n(17620),a=n.n(o),s=n(94608),u=n(3213);function c(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){c(o,r,i,a,s,"next",e)}function s(e){c(o,r,i,a,s,"throw",e)}a(void 0)}))}}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){f(e,t,n[t])}))}return e}var h=function(){var e=l(i().mark((function e(t,n){var r,o,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.Z.profile(t),e.next=3,r.get();case 3:return o=e.sent.data(),c=a()(n,"analyticsId","signUpOrigin","signUpCampaign"),(null===o||void 0===o?void 0:o.analyticsId)||(c.analyticsId=n.analyticsId),(null===o||void 0===o?void 0:o.signUpOrigin)||(c.signUpOrigin=n.signUpOrigin,c.signUpCampaign=n.signUpCampaign),e.abrupt("return",u.Z.profile(t).withConverter(s.Zd).set(c,{merge:!0}));case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),p=function(){var e=l(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",u.Z.profile(t).withConverter(s.Zd).set(n,{merge:!0}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),v=function(){var e=l(i().mark((function e(t,n,r){var o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Z.knownPeople.withConverter(s.UK).where("userId","==",t).where("teamId","==",n).get();case 2:return o=e.sent,a=o.docs[0].id,e.next=6,u.Z.knownPerson(a).withConverter(s.UK).set(r,{merge:!0});case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),m=function(){var e=l(i().mark((function e(t,n){var r,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return r=u.Z.user(t).withConverter(s.yN),e.next=5,r.get();case 5:if((o=e.sent).exists){e.next=11;break}return e.next=9,r.set({id:t,userSettings:n});case 9:e.next=13;break;case 11:return a=o.data(),e.abrupt("return",r.set({userSettings:d({},null===a||void 0===a?void 0:a.userSettings,n)},{merge:!0}));case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),g=function(){var e=l(i().mark((function e(t,n){var r,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return r=u.Z.user(t).withConverter(s.yN),e.next=5,r.get();case 5:if((o=e.sent).exists){e.next=11;break}return e.next=9,r.set({id:t,surveyData:n});case 9:e.next=13;break;case 11:return a=o.data(),e.abrupt("return",r.update({surveyData:d({},null===a||void 0===a?void 0:a.surveyData,n)}));case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),y={updateUserProfile:p,updateUserSettings:m,updateUserKnownPerson:v,createOrUpdateUserProfile:h,updateUserSurvey:g},b=n(77984),w=n(7867);function _(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}var E=function(){var e,t=(e=i().mark((function e(t,n){var r,o=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=!(o.length>2&&void 0!==o[2])||o[2],e.next=3,u.Z.userCoachmarks(t).doc(n).set({isShown:r,lastShownAt:Date.now()});case 3:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){_(o,r,i,a,s,"next",e)}function s(e){_(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e,n){return t.apply(this,arguments)}}(),S={markCoachmark:E,observerUserCoachmarks:function(e){return(0,w.BS)(u.Z.userCoachmarks(e).withConverter(s.BG),"id").pipe((0,b.U)((function(e){return e.reduce((function(e,t){return e[t.id]=t,e}),{})})))}}},35621:function(e,t,n){"use strict";n.d(t,{M:function(){return h}});var r=n(94776),i=n.n(r),o=((0,n(73254).c)("workspace-create"),n(52251)),a=n(95879),s=n(24721),u=n(29487);function c(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){l(e,t,n[t])}))}return e}var d=function(e,t,n){o.Z.trackEvent("workspace","create",{workspaceId:e,eventSource:t,isTemplate:n.isTemplate}),n.isTemplate&&o.Z.trackEvent("template","create",{templateId:e,teamId:n.teamId})},h=function(){var e,t=(e=i().mark((function e(t,n,r){var o,c,l,h,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isPrivate){e.next=4;break}return e.next=4,u.j.validateGatedFeature(s.AC.PrivateWorkspaces,null!==(o=t.teamId)&&void 0!==o?o:"");case 4:if(!t.teamId||t.isTemplate){e.next=7;break}return e.next=7,u.j.validateLimitedFeature(s.M$.Workspaces,t.teamId);case 7:return e.next=9,a.Z.post("workspace/create",f({},t,{creationType:r}));case 9:return c=e.sent,l=c.workspace,h=c.didCreate,p=c.id,h&&d(p,n,t),e.abrupt("return",l);case 15:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){c(o,r,i,a,s,"next",e)}function s(e){c(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e,n,r){return t.apply(this,arguments)}}()},36710:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(94776),i=n.n(r),o=n(94608),a=n(95879),s=((0,n(73254).c)("workspace-copy"),n(24721)),u=n(3213),c=n(29487);function l(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}var f=function(e,t){var n=e.isFromTemplate,r=e.isCreatingTemplate;return!!n||!r&&Boolean(null===t||void 0===t?void 0:t.isTemplate)},d=function(){var e,t=(e=i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.teamId){e.next=11;break}return n=u.Z.workspace(t.workspaceId).withConverter(o.BV),e.next=4,n.get();case 4:if(!(null===(r=e.sent.data())||void 0===r?void 0:r.isPrivate)){e.next=8;break}return e.next=8,c.j.validateGatedFeature(s.AC.PrivateWorkspaces,t.teamId);case 8:if(!f(t,r)){e.next=11;break}return e.next=11,c.j.validateLimitedFeature(s.M$.Workspaces,t.teamId);case 11:return e.next=13,a.Z.post("workspace/copy",t);case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){l(o,r,i,a,s,"next",e)}function s(e){l(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}(),h=d},44323:function(e,t,n){"use strict";var r=n(7867),i=n(94608),o=n(3213),a=n(90396);t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.mapPermissionDeniedErrorToNull,s=void 0===n||n,u=(0,r._1)(o.Z.workspace(e).withConverter(i.BV)).pipe((0,a.pA)(null));return s&&(u=u.pipe((0,a.Fb)(null))),u}},79057:function(e,t,n){"use strict";n.d(t,{e:function(){return s}});var r=n(62044),i=n(3213);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}var s=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{shouldUpdateEditedTime:!0};return i.Z.workspace(e).update(a({},t,{updatedAt:n.shouldUpdateEditedTime?r.GH.serverTimestamp():void 0}))}},71975:function(e,t,n){"use strict";n.d(t,{V:function(){return f},a:function(){return h}});var r=n(94776),i=n.n(r),o=n(2784),a=n(14898),s=n(95879),u=n(57066);function c(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){c(o,r,i,a,s,"next",e)}function s(e){c(o,r,i,a,s,"throw",e)}a(void 0)}))}}function f(e){return d.apply(this,arguments)}function d(){return(d=l(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.Z.post("workspace/validateAccess",{workspaceId:t}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){var t=(0,o.useState)({result:null,loading:!0,error:null}),n=t[0],r=t[1],i=(0,o.useRef)(n);i.current=n;var s=(0,a.II)(),c=(0,o.useCallback)((function(e,t,n){e&&t&&(i.current.loading=!0,r((function(e){return{result:n?null:e.result,loading:!0,error:null}})),f(t).then((function(e){r({result:e,loading:!1})})).catch((function(e){r({error:e,loading:!1,result:null})})))}),[]);return(0,o.useEffect)((function(){c(s,e,!0)}),[s,e,c]),(0,o.useEffect)((function(){if(e&&s){var t=u.Fs.ref("workspaces/".concat(e,"/userAccess/").concat(s)),n=u.Fs.ref("workspaces/".concat(e,"/publicAccess")),r=function(t){var n,r,o=null===t||void 0===t?void 0:t.val(),a=i.current;o||a.loading||((null===(n=i.current.result)||void 0===n?void 0:n.read)||(null===(r=i.current.result)||void 0===r?void 0:r.write))&&c(s,e,!1)};return t.on("value",r),n.on("value",r),function(){t.off("value",r),n.on("value",r)}}}),[c,e,s]),n}},65545:function(e,t,n){"use strict";n.d(t,{$d:function(){return i},NY:function(){return o}});n(64846);var r=n(10559),i=function(e){return Object.values(r.X).includes(e)},o=function(e){var t=e.workspaceId,n=e.params,r="".concat(location.origin,"/workspace/").concat(t);return n&&(r+="?".concat(new URLSearchParams(n).toString())),r}},80966:function(e,t,n){"use strict";n.d(t,{Z:function(){return z}});var r=n(52322),i=n(2784),o=n(96299),a=n(68732),s=n(6328),u=n(52251),c=n(94776),l=n.n(c),f=n(57066),d=n(3213),h=n(24132);function p(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){p(o,r,i,a,s,"next",e)}function s(e){p(o,r,i,a,s,"throw",e)}a(void 0)}))}}var m=function(){var e=v(l().mark((function e(t,n){var r,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.Z.teamFolder(t,n),i=d.Z.teamFolders(t).where("parentFolderId","==",n),e.abrupt("return",f.RZ.runTransaction(function(){var e=v(l().mark((function e(t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r&&t.delete(r),e.next=3,(0,h.ZP)(i,(function(e,t){e.delete(t.ref)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),g=m,y=n(27193),b=n(17003),w=n(37719),_=n(66924),E=function(){var e=(0,a.LP)(),t=(0,b.Z)(w.G);return(0,i.useCallback)((function(n){var r=n.folderId,i=n.newParentId;e&&y.ZP.promise(t.execute({teamId:e,folderId:r,newParentId:i}),{loading:"Moving folder",success:"Moved folder",error:"Something went wrong"}).catch(_.Tb)}),[t,e])},S=n(3559),x=n(72342),O=n(83227),C=n.n(O),k=n(35537),T=n(8975);function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var D=function(e){var t=e.folder,n=e.isOpen,a=e.onClose,u=I(e,["folder","isOpen","onClose"]),c=E(),l=(0,s.Z)().getAllFolderPaths,f=(0,i.useState)(void 0),d=f[0],h=f[1],p=(0,i.useCallback)((function(){void 0!==d&&c({newParentId:d,folderId:t.id}),null===a||void 0===a||a()}),[t.id,c,a,d]),v=(0,i.useCallback)((function(){h(null),null===a||void 0===a||a()}),[a]),m=!!t.parentFolderId;return(0,r.jsxs)(x.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){A(e,t,n[t])}))}return e}({isOpen:n,title:"Move Folder",onClose:v},u,{className:C().container,children:[(0,r.jsxs)("div",{className:C().folderList,children:[m&&(0,r.jsx)(k.i,{name:"/",selected:null===d,onClick:function(){return h(null)}}),l().filter((function(e){return e.length<T.p})).map((function(e){var n=e[e.length-1],i=e.reduce((function(e,t){return"".concat(e,"/").concat(t.name||o.Yp)}),""),a=n.id===t.id,s=n.id===t.parentFolderId;return a||s?null:(0,r.jsx)(k.i,{name:i,selected:n.id===d,onClick:function(){return h(n.id)}},n.id)}))]}),(0,r.jsxs)("div",{className:C().buttonGroup,children:[(0,r.jsx)(S.ZP,{variant:S.ZP.Variants.REVERSED,onClick:v,className:C().button,children:"Cancel"}),(0,r.jsx)(S.ZP,{onClick:p,className:C().button,disabled:void 0===d,children:"Confirm"})]})]}))},P=n(41164),R=n(6637),N=n(67159),j=n(33512),M=n(67612),L=n(53822),F=n(99627),B=n(83445),U=n(15248),V=n.n(U),z=function(e){var t=e.children,n=e.folder,c=e.onStartRenaming,l=e.dots,f=e.className,d=e.dropdownShortcut,h=(0,s.Z)(),p=h.switchFolder,v=!!(0,h.getFolderChildren)(n.id).length,m=(0,B.Z)(),y=m.isOpen,b=m.onClose,w=m.onOpen,_=(0,B.Z)(),E=_.isOpen,S=_.onClose,x=_.onOpen,O=(0,i.useCallback)((function(){w()}),[w]),C=(0,a.LP)(),k=(0,i.useCallback)((function(){if(C){if(u.Z.trackEvent("folders","delete_folder"),g(C,n.id),b(),!p)return;n.parentFolderId?p("folder",n.parentFolderId):p("all")}}),[n.id,n.parentFolderId,b,p,C]),T=l?M.Ng:M.Lt;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(j.Z,{title:"Delete folder and archive workspaces?",description:"Selecting confirm will delete the folder \u201c".concat(n.name||o.Yp,"\u201d and move all of the workspaces to the team\u2019s \u201cAchived\u201d folder"),isOpen:y,onConfirm:k,onCancel:b}),E&&(0,r.jsx)(D,{isOpen:!0,folder:n,onClose:S}),(0,r.jsxs)(T,{title:t,keyboardShortcut:d,isHidden:!!l&&!l.visible,toggleClassNames:{root:V().folderSelect,button:f},children:[(0,r.jsx)(F.Z,{label:"Move Folder",onClick:x,isDisabled:v,icon:(0,r.jsx)(L.J,{icon:R.Z})}),(0,r.jsx)(F.Z,{label:"Rename",onClick:c,icon:(0,r.jsx)(L.J,{icon:N.Z})}),(0,r.jsx)(F.Z,{label:"Delete Folder",onClick:O,icon:(0,r.jsx)(L.J,{icon:P.Z})})]})]})}},21774:function(e,t,n){"use strict";n.d(t,{x:function(){return s}});var r=n(52322),i=n(28058),o=n(74842),a=n.n(o),s=function(e){var t=e.children,n=e.className;return(0,r.jsx)("div",{className:(0,i.Z)(a().dashboardHeader,n),"data-testid":"dashboard-header",children:t})};s.Title=function(e){var t=e.children;return(0,r.jsx)("div",{className:a().dashboardHeaderTitle,children:t})},s.Tools=function(e){var t=e.children,n=e.className;return(0,r.jsx)("div",{className:(0,i.Z)(a().dashboardHeaderTools,n),children:t})}},88818:function(e,t,n){"use strict";n.d(t,{q:function(){return y}});var r=n(52322),i=n(68732),o=n(36658),a=n(10890),s=n(42978),u=n(41417),c=n(36288),l=n(3559),f=n(50639),d=n(28058),h=n(21774),p=n(61676),v=n.n(p);function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){m(e,t,n[t])}))}return e}var y=function(e){var t=e.className,n=e.showSearchBar,p=void 0===n||n,m=e.showRightSide,y=void 0!==m&&m,b=e.searchBarProps,w=(0,f.d)(),_=(0,i.LP)(),E=(0,u.Y)().openSettingsModal,S=(0,o.ZP)(_,void 0,{internalOnly:!0});return w?null:(0,r.jsxs)(h.x.Tools,{className:t,children:[p&&(0,r.jsx)(s.Z,g({},b,{className:(0,d.Z)(null===b||void 0===b?void 0:b.className,v().searchBar)})),y?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.Z,{isStaticSize:!0,avatarSize:24,showDummyAvatars:!0,avatarDummyThreshold:3,className:v().rightMargin10,userIds:S.map((function(e){return e.id}))}),(0,r.jsx)(l.ZP,{leftIcon:(0,r.jsx)(c.Z,{}),className:v().noMargin,onClick:function(){return E({openedPane:"members"})},children:"Invite"})]}):null]})}},9779:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r=n(2784),i=n(39739),o=n(68732),a=n(14898),s=n(70213),u=n(66924),c=12e4;var l=function(e){var t=e.orderBy,n=e.ownerId,l=e.orderDir,f=e.folderId,d=e.isPrivate,h=e.isTemplate,p=e.isArchived,v=(0,o.LP)()||"",m=(0,a.II)(),g=(0,r.useState)(void 0),y=g[0],b=g[1],w=(0,r.useMemo)((function(){return(0,s.ZP)({teamId:v,orderBy:t,ownerId:n,folderId:f,orderDir:l,isPrivate:d,isTemplate:h,isArchived:p})}),[v,f,t,l,n,p,d,h]);!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;(0,r.useEffect)((function(){var n=e.subscribe((function(){}));return function(){setTimeout((function(){n.unsubscribe()}),t)}}),[e])}(w);var _=(0,r.useRef)();return(0,r.useEffect)((function(){var e=setTimeout((function(){b(void 0)}),200);return _.current=e,function(){clearTimeout(e)}}),[v,f,d,p,n]),(0,r.useEffect)((function(){_.current&&clearTimeout(_.current)}),[y]),(0,i.m)(w,b,u.Tb),(0,r.useMemo)((function(){return null===y||void 0===y?void 0:y.filter((function(e){return!e.isPrivate||e.ownerId===m}))}),[m,y])}},76619:function(e,t,n){"use strict";n.d(t,{T:function(){return s}});var r=n(58579),i=n(46995),o=n(5632),a=n(2784),s=function(e){var t=(0,o.useRouter)(),n=(0,r.Rx)().onInputChange;(0,a.useEffect)((function(){var r,o;if(e.current){var a=(null===(r=t.query)||void 0===r?void 0:r[i.KU])||"";a&&(null===(o=e.current)||void 0===o||o.focus(),n(a))}}),[e,n,t.query])}},42978:function(e,t,n){"use strict";var r=n(52322),i=n(76619),o=n(2784),a=n(58579),s=n(25860),u=n(53822),c=n(24965),l=n(29633),f=n(28058),d=n(12522),h=n.n(d);t.Z=function(e){var t=e.className,n=e.tabTitle,d=void 0===n?"":n,p=e.folderId,v=e.isArchived,m=e.isOwner,g=e.isPrivate,y=(0,a.Rx)(),b=y.onInputChange,w=y.query,_=y.saveRouteToHistory,E=(0,a.Sr)().setPassedFilters,S=(0,o.useRef)(null),x=(0,o.useState)(!1),O=x[0],C=x[1];(0,i.T)(S),(0,o.useEffect)((function(){E({isArchived:v,isOwner:m,isPrivate:g,folderId:p})}),[p,v,m,g,E]);var k=(0,o.useCallback)((function(e){var t;["Escape","ArrowUp","ArrowDown"].includes(e.key)&&O&&(null===(t=S.current)||void 0===t||t.blur())}),[O]),T=(0,o.useCallback)((function(e){var t;O||(e.preventDefault(),null===(t=S.current)||void 0===t||t.focus())}),[O]);return(0,c.Z)({"/":T}),(0,r.jsxs)("div",{className:(0,f.Z)(h().searchContainer,O&&h().focused,t),children:[(0,r.jsx)("span",{className:h().searchIcon,children:(0,r.jsx)(u.J,{icon:s.Z,color:"grey-1100"})}),(0,r.jsx)("input",{type:"text",value:w,ref:S,className:h().input,onKeyDown:k,onBlur:function(){C(!1),_()},onFocus:function(){return C(!0)},placeholder:"Search ".concat(d),onChange:function(e){var t=e.target;return b(t.value)},"data-testid":O?"compact-search-bar-input-extended":"compact-search-bar-input"}),!w&&(0,r.jsx)("div",{className:h().shortcut,children:(0,r.jsx)(l.P,{keys:["/"]})})]})}},24706:function(e,t,n){"use strict";n.d(t,{S:function(){return q},Z:function(){return Z}});var r,i=n(52322),o=n(2784),a=n(5632),s=n(94659),u=n(58579),c=n(14898),l=n(89568),f=n.n(l),d=function(){return(0,i.jsxs)("div",{className:f().container,children:[(0,i.jsx)("div",{className:f().title,children:"No results found"}),(0,i.jsx)("div",{className:f().text,children:"We didn\u2019t seem to find anything based off of your search"})]})},h=n(16684),p=n.n(h),v=n(25825),m=n(39097),g=n.n(m),y=n(94776),b=n.n(y),w=n(79421),_=n.n(w),E=n(12982),S=n.n(E);function x(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){x(o,r,i,a,s,"next",e)}function s(e){x(o,r,i,a,s,"throw",e)}a(void 0)}))}}!function(e){e.Snippet="_snippetResult",e.Highlight="_highlightResult"}(r||(r={}));var C,k=function(){var e=O(b().mark((function e(t,r,o){var a,s;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r&&(null===t||void 0===t?void 0:t.value)){e.next=2;break}return e.abrupt("return",void 0);case 2:if("full"===t.matchLevel||"partial"===t.matchLevel){e.next=4;break}return e.abrupt("return",void 0);case 4:return e.next=6,n.e(5368).then(n.t.bind(n,35368,23));case 6:return a=e.sent.default,s=a.sanitize(t.value),e.abrupt("return",{attribute:r,value:o,component:(0,i.jsx)("span",{className:p().highlight,dangerouslySetInnerHTML:{__html:s}})});case 9:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),T=function(){var e=O(b().mark((function e(t){var n,i;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={},i=[],_()(t[r.Snippet],function(){var e=O(b().mark((function e(r,o){var a,s,u,c,l,f,d,h;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=r){e.next=2;break}return e.abrupt("return");case 2:return a=o,Array.isArray(r)?(-1===(c=S()(r,{matchLevel:"full"}))&&(c=0),s=t[a][c],u=r[c]):(s=null!==(l=t[a])&&void 0!==l?l:"",u=r),f="guestNames"===a||"ownerName"===a?"user":a,d=k(u,a,s),i.push(d),e.next=11,d;case 11:if(null!=(h=e.sent)){e.next=14;break}return e.abrupt("return");case 14:n[f]=h;case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),e.next=5,Promise.all(i);case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function A(){return A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},A.apply(this,arguments)}var I,D=function(e){return o.createElement("svg",A({width:18,height:13,viewBox:"0 0 18 13",xmlns:"http://www.w3.org/2000/svg"},e),C||(C=o.createElement("path",{d:"M1.785 8.7a1 1 0 00-1.14 1.643l1.14-1.644zm7.087 1.586l-.83-.557.83.557zM17 2a1 1 0 100-2v2zM.645 10.343c.993.688 2.609 1.57 4.246 1.949 1.604.37 3.623.322 4.812-1.45L8.042 9.729c-.477.71-1.357.925-2.7.615-1.31-.303-2.692-1.044-3.557-1.644l-1.14 1.644zm9.058.5c.758-1.13 1.12-2.34 1.378-3.43.273-1.15.415-2.05.729-2.888.29-.772.686-1.352 1.377-1.768C13.907 2.323 15.063 2 17 2V0c-2.127 0-3.691.349-4.845 1.043-1.185.714-1.82 1.72-2.218 2.78-.373.994-.575 2.17-.802 3.128C8.893 7.97 8.598 8.9 8.042 9.73l1.66 1.114z",fill:"currentColor"})))};function P(){return P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},P.apply(this,arguments)}var R=function(e){return o.createElement("svg",P({width:14,height:14,viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg"},e),I||(I=o.createElement("path",{stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",d:"M1 1h12M1 5h7M1 9h10M1 13h12"})))},N=n(72297),j=n(49892),M=n(23763),L=n(53822),F=n(81478),B=n(28058),U=function(e){var t=e.title,n=e.updatedAt,r=e.isPrivate;return(0,i.jsxs)("span",{className:p().fileRowMinimal,children:[(0,i.jsxs)("h4",{children:[r&&(0,i.jsx)(L.J,{icon:N.Z,style:{marginRight:10}}),t||j.SF]}),(0,i.jsx)("h6",{children:n&&(0,i.jsx)(F.Z,{time:n})})]})},V=function(e){var t,n,r=e.match;switch(r.attribute){case"whiteboardTexts":t=(0,i.jsx)(L.J,{icon:D}),n="Found in Canvas";break;case"noteText":t=(0,i.jsx)(L.J,{icon:R}),n="Found in Notes";break;case"ownerName":case"guestNames":t=(0,i.jsx)(M.Z,{displayName:r.value}),n="User Match"}return(0,i.jsxs)("span",{className:p().matchBlock,children:[(0,i.jsx)("span",{className:p().matchIcon,children:t}),(0,i.jsxs)("span",{className:p().matchBody,children:[(0,i.jsx)("span",{className:p().matchFoundIn,children:n}),(0,i.jsxs)("span",{className:p().matchContent,children:["\u201c",r.component,"\u201d"]})]})]})},z=function(e){var t,n=e.hit,r=e.isFocused,a=e.setFocusOnHover,s=(0,o.useState)(),u=s[0],c=s[1];return(0,o.useEffect)((function(){T(n).then(c)}),[n]),u?(0,i.jsx)(g(),{href:"/workspace/".concat(n.objectID),passHref:!0,children:(0,i.jsxs)("a",{"data-testid":"dasbhoard-search-result-highlighted-link",onMouseMove:a,rel:"noopener noreferrer",className:(0,B.Z)(p().searchRow,r&&p().isFocused),tabIndex:-1,children:[(0,i.jsx)(U,{title:(null===u||void 0===u||null===(t=u.title)||void 0===t?void 0:t.component)||n.title,updatedAt:n.updatedAt||Date.now(),isPrivate:n.isPrivate},n.objectID),(0,i.jsxs)("span",{className:p().matches,children:[u.noteText&&(0,i.jsx)(V,{match:u.noteText}),u.whiteboardTexts&&(0,i.jsx)(V,{match:u.whiteboardTexts}),u.user&&(0,i.jsx)(V,{match:u.user})]}),(0,i.jsx)("span",{className:p().divider})]})}):null},q=function(){var e={title:{id:"title",title:"Title",flex:1},edited:{id:"edited",title:"Edited",flex:1,className:p().alignRight}};return(0,i.jsx)(s.Z,{className:p().headerPadding,columns:e,orderBy:"",orderDir:"asc",updateOrder:function(){}})},Z=function(){var e=(0,o.useRef)(null),t=(0,u.O6)(),n=(0,u.nR)(),r=(0,c.II)(),s=(0,a.useRouter)(),l=t.filter((function(e){return!(e.isPrivate&&e.ownerId!==r)})),f=!l.length,h=(0,o.useCallback)((function(e){var t=e.objectID;s.push("/workspace/".concat(t))}),[s]),m=(0,v.c)({containerRef:e,items:l,onSelect:h,options:{shouldTabKeySelect:!1},scrollOptions:{behavior:"auto",block:"nearest"}}),g=m.activeIndex,y=m.setActiveIndex;return!n&&f?(0,i.jsx)(d,{}):(0,i.jsx)("div",{ref:e,className:p().searchPadding,children:l.map((function(e,t){return(0,i.jsx)(z,{hit:e,isFocused:g===t,setFocusOnHover:function(){return y(t)}},t)}))})}},12548:function(e,t,n){"use strict";n.d(t,{j:function(){return d}});var r,i=n(52322),o=n(70774),a=n.n(o),s=n(2784);function u(){return u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u.apply(this,arguments)}var c=function(e){return s.createElement("svg",u({width:9,height:6,viewBox:"0 0 9 6",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=s.createElement("path",{d:"M1 1l3.5 4L8 1",stroke:"currentColor",strokeWidth:1.067,fill:"none",strokeLinecap:"square"})))},l=n(53822),f=n(28058),d=function(e){var t=e.isExpanded,n=void 0!==t&&t,r=e.isIconVisible,o=void 0!==r&&r,s=e.onClick;return(0,i.jsx)("div",{onClick:s,className:(0,f.Z)(a().root,n&&a().expanded),children:o&&(0,i.jsx)(l.J,{icon:c})})}},58992:function(e,t,n){"use strict";n.d(t,{M:function(){return d}});var r=n(52322),i=n(56665),o=n.n(i),a=n(12548),s=n(28058),u=n(52635),c=n.n(u);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){l(e,t,n[t])}))}return e}var d=function(e){var t=e.icon,n=e.onClick,i=e.content,u=e.isActive,l=e.shortcut,d=e.dragRefs,h=e.onKeyDown,p=e.isDragging,v=e.dropTarget,m=e.tabPosition,g=e.isExpandable,y=e.classNames,b=void 0===y?{}:y,w=e.textSize,_=void 0===w?"large":w,E=e.tabHeight,S=void 0===E?"large":E,x=e.accordionButtonProps;return(0,r.jsx)("div",{ref:null===d||void 0===d?void 0:d.containerRef,className:c().fullWidth,children:(0,r.jsx)("div",{ref:null===d||void 0===d?void 0:d.previewRef,className:(0,s.Z)(c().fullWidth,p&&o().isDragging),children:(0,r.jsx)("div",{ref:null===d||void 0===d?void 0:d.dropRef,className:c().fullWidth,children:(0,r.jsxs)("div",{tabIndex:0,role:"button",onClick:n,onKeyDown:h,ref:null===d||void 0===d?void 0:d.dragRef,className:(0,s.Z)(c().root,b.root,c()[S],u&&c().active,"last"===m&&o().isLast,"first"===m&&o().isFirst,"on"===v&&o().folderTarget,"after"===v&&o().droppingBorderAfter,"before"===v&&o().droppingBorderBefore),children:[t&&(0,r.jsx)("div",{className:c().icon,children:t}),(0,r.jsxs)("span",{className:(0,s.Z)(c().content,c().fullWidth,c()[_],b.content),children:[g&&(0,r.jsx)(a.j,f({},x)),i]}),l&&(0,r.jsx)("div",{className:c().shortcut,children:l})]})})})})}},2545:function(e,t,n){"use strict";n.d(t,{m:function(){return Q}});var r=n(94776),i=n.n(r),o=n(52322),a=n(2784),s=n(68732),u=n(19605),c=n(9605),l=n(24507),f=n(73254),d=((0,f.c)("payment-createManagementUrl"),(0,f.c)("payment-createUrl"),n(24721)),h=n(95879),p=n(58199),v=n(66924),m=n(2738),g=n(36658),y=n(14898),b=n(52251),w=n(3559),_=n(28058),E=n(17019),S=n.n(E),x=function(e){var t=e.children,n=e.isDarkMode,r=e.isCurrent;return(0,o.jsx)("div",{className:(0,_.Z)(S().card,n&&S().isDarkMode,r&&S().isCurrent),children:(0,o.jsxs)("div",{className:S().cardContents,children:[r?(0,o.jsx)("div",{className:S().currentness,children:"CURRENT PLAN"}):null,t]})})},O=n(36066),C=n.n(O);function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){k(e,t,n[t])}))}return e}var A,I=function(e){var t=e.children;return(0,o.jsxs)("div",{className:C().root,children:[(0,o.jsx)(w.ZP,T({},e,{className:(0,_.Z)(e.className,C().mainButton),children:t})),(0,o.jsx)(w.ZP,T({},e,{isLoading:!1,className:(0,_.Z)(e.className,C().hiddenButton),children:t}))]})},D=n(43176),P=n(52799),R=n.n(P),N=function(e){var t=e.access;if(!t||t.limit===1/0)return null;var n=t.limit,r=t.current,i=r>n?"".concat(n+1,"+"):r;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("span",{className:R().progressBar,children:(0,o.jsx)(D.k,{useColor:!0,limit:t.limit,current:t.current})}),(0,o.jsxs)("span",{className:(0,_.Z)(R().progressBarLabel,!t.allowed&&R().notAllowed),children:[i," of ",n]}),(0,o.jsx)("span",{className:R().progressBarRightPadding})]})};function j(){return j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},j.apply(this,arguments)}var M=function(e){return a.createElement("svg",j({width:13,height:12,viewBox:"0 0 13 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),A||(A=a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.828 2.4L4.463 9.766.297 5.6l.566-.566 3.6 3.6 6.8-6.8.565.566z",fill:"#2866DF"})))},L=n(86394),F=n.n(L),B=n(34341),U=n.n(B),V=function(e){var t=e.contents;return(0,o.jsx)(o.Fragment,{children:t.map((function(e,t){var n;return(0,o.jsxs)("div",{className:U().bulletListItem,children:[(0,o.jsx)("span",{className:F().bulletListItemIcon,children:(0,o.jsx)(M,{})}),(0,o.jsx)("div",{className:F().bulletListItemContent,children:e})]},"object"===typeof e&&(null===(n=e)||void 0===n?void 0:n.key)||t)}))})},z=n(25450),q=n(55632),Z=n(51581),H=n.n(Z),W=q.CF.pricingURL,G=z.Z.free.features.featureLimits.workspaces,K=z.Z.free.features.featureLimits["ai-diagrams"],J=function(e){var t=e.mountedIn,n=e.isDarkMode,r=e.currentPlan,i=e.canChangePlan,s=e.aiDiagramAccess,u=e.workspaceAccess,c=e.awaitClickUpgrade,l=e.awaitClickManagement,f=e.isSubscriptionPaused,h=e.hasInactiveSubscription,p=(0,a.useState)(!1),v=p[0],m=p[1],g=(0,a.useState)(!1),y=g[0],E=g[1],S=(0,a.useState)(!1),O=S[0],C=S[1],k=(0,a.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{hasPromoCode:!1},n=e.hasPromoCode,r=void 0!==n&&n;m(!0),b.Z.trackEvent("payment","billing_plan_upgrade",{source:t,hasPromoCode:r}),c({hasPromoCode:r}).finally((function(){return m(!1)}))}),[c,t]),T=(0,a.useCallback)((function(){C(!0),b.Z.trackEvent("payment","billing_plan_manage",{source:t}),l().finally((function(){return C(!1)}))}),[l,t]),A=(0,a.useCallback)((function(){E(!0),b.Z.trackEvent("payment","billing_plan_downgrade",{source:t}),l().finally((function(){return E(!1)}))}),[l,t]),D=(0,a.useCallback)((function(){b.Z.trackEvent("payment","billing_plan_learn_more",{source:t})}),[t]),P=(0,a.useCallback)((function(e,t){return r===d.k9.Free&&(null===e||void 0===e?void 0:e.limit)||t}),[r]),R=f&&r===d.k9.Free,j=i&&r===d.k9.Pro,M=r===d.k9.Free&&h,L=i&&(r===d.k9.Pro||R),F=i&&r===d.k9.Free&&!f;return(0,o.jsxs)("div",{className:U().container,children:[(0,o.jsxs)(x,{isDarkMode:n,isCurrent:r===d.k9.Free,children:[(0,o.jsx)("div",{className:U().title,children:"Free"}),(0,o.jsx)("div",{className:U().benefitsContainer,children:(0,o.jsx)(V,{contents:[(0,o.jsxs)(a.Fragment,{children:[(0,o.jsxs)("span",{className:U().bulletListItemText,children:[P(u,G)," Team Files"]}),(0,o.jsx)(N,{access:u})]},0),(0,o.jsxs)(a.Fragment,{children:[(0,o.jsxs)("span",{className:U().bulletListItemText,children:[P(s,K)," AI Credits"]}),(0,o.jsx)(N,{access:s})]},1),"Github Sync","Unlimited Team Members","Unlimited Guests","Diagram-as-Code","Realtime Collaboration","Commenting"]})}),(0,o.jsxs)("div",{className:U().buttonContainer,children:[j?(0,o.jsx)(I,{isLoading:y,onClick:A,variant:w.tr.TRANSPARENT,"data-testid":"billing-plan-downgrade-button",children:"Downgrade"}):null,M?(0,o.jsx)(I,{onClick:T,variant:w.tr.TRANSPARENT,isLoading:O,"data-testid":"billing-plan-management-button",children:"View past invoices"}):null]})]}),(0,o.jsxs)(x,{isDarkMode:n,isCurrent:r===d.k9.Pro,children:[(0,o.jsx)("div",{className:U().title,children:"Professional"}),(0,o.jsxs)("div",{className:U().benefitsContainer,children:[(0,o.jsx)(V,{contents:["Everything included in Free, plus:","Unlimited Team Files","Unlimited AI Credits","Security Controls","Eraser API Access","PDF Export","Private Files"]}),(0,o.jsx)("a",{href:W,onClick:D,className:(0,_.Z)(U().bulletListItem,U().link),children:"Learn More"})]}),(0,o.jsxs)("div",{className:U().priceTag,children:[(0,o.jsxs)("p",{children:[(0,o.jsx)("span",{className:U().priceTagNumber,children:"$10"}),(0,o.jsx)("span",{className:U().priceTagText,children:"per member / month"})]}),(0,o.jsx)("p",{className:H().smallSemiBold,children:"billed annually, or $12 billed monthly"})]}),(0,o.jsxs)("div",{className:U().buttonContainer,children:[L?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(I,{onClick:T,isLoading:O,"data-testid":"billing-plan-management-button",children:"Manage Billing"}),R&&(0,o.jsx)("small",{className:U().failedPayment,children:"Payment failed. Check payment method."})]}):null,F?(0,o.jsx)(I,{isLoading:v,onClick:function(){return k({hasPromoCode:!0})},"data-testid":"billing-plan-upgrade-button",children:"Upgrade to Professional"}):null]})]})]})};function Y(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function $(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Y(o,r,i,a,s,"next",e)}function s(e){Y(o,r,i,a,s,"throw",e)}a(void 0)}))}}var X=function(e){try{if(e){var t=new URL(e);if(null===t||void 0===t?void 0:t.host.endsWith("stripe.com"))return t.toString()}}catch(n){(0,v.Tb)(n)}return null},Q=function(e){var t,n,r,f,b,w,_,E,S=e.mountedIn,x=(0,c.Z)(),O=(0,l.F)().isDarkMode,C=(0,s.LP)(),k=(0,s.Rs)(),T=(0,u.K)(),A=function(){var e=new URL(window.location.href);return e.search="?settings=plans",e.toString()}(),I=function(e){var t,n,r,i,o=e.team,a=(0,y.II)(),s=(0,g.ZP)(null===o||void 0===o?void 0:o.id,void 0,{internalOnly:!0}),u=(0,m.GX)(s,a,m.H0),c=(0,m.GX)(s,a),l=null!==(i=null===o||void 0===o||null===(t=o.plan)||void 0===t?void 0:t.planType)&&void 0!==i?i:d.k9.Free;return!!o&&!!c&&(l===d.k9.Free||(null===(n=o.plan)||void 0===n||null===(r=n.stripe)||void 0===r?void 0:r.status)===d.yh.active&&u)}({team:k}),D=(0,p.B)(d.M$.Workspaces,C),P=(0,p.B)(d.M$.AiDiagrams,C),R="true"===T.showPromoCodeOption,N=null!==(E=null===k||void 0===k||null===(t=k.plan)||void 0===t?void 0:t.planType)&&void 0!==E?E:d.k9.Free,j=(0,a.useCallback)(function(){var e=$(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.hasPromoCode,e.next=3,h.Z.post("payment/createUrl",{teamId:C,currentUrl:A,allowPromoCode:n}).catch((function(e){var t,n;return(0,v.Tb)(e),x.error(null!==(n=null===(t=e)||void 0===t?void 0:t.message)&&void 0!==n?n:"Could not access billing page."),{redirectUrl:null}})).then((function(e){var t=e.redirectUrl,n=X(t);n&&(window.location.href=n)}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[C,x,A]),M=(0,a.useCallback)($(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.Z.post("payment/createManagementUrl",{teamId:C,currentUrl:A}).catch((function(e){var t,n;return(0,v.Tb)(e),x.error(null!==(n=null===(t=e)||void 0===t?void 0:t.message)&&void 0!==n?n:"Could not load subscription."),{redirectUrl:null}})).then((function(e){var t=e.redirectUrl,n=X(t);n&&(window.location.href=n)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),[C,x,A]),L=(null===k||void 0===k||null===(n=k.plan)||void 0===n||null===(r=n.stripe)||void 0===r?void 0:r.status)===d.yh.canceled||(null===k||void 0===k||null===(f=k.plan)||void 0===f||null===(b=f.stripe)||void 0===b?void 0:b.status)===d.yh.paused;return(0,o.jsx)(J,{mountedIn:S,isDarkMode:O,currentPlan:N,canChangePlan:I,workspaceAccess:D,aiDiagramAccess:P,awaitClickUpgrade:j,showPromoCodeOption:R,awaitClickManagement:M,hasInactiveSubscription:L,isSubscriptionPaused:(null===k||void 0===k||null===(w=k.plan)||void 0===w||null===(_=w.stripe)||void 0===_?void 0:_.status)===d.yh.paused})}},81095:function(e,t,n){"use strict";n.d(t,{U:function(){return U}});var r,i=n(52322),o=n(2784),a=n(90161),s=n(3559),u=n(29633),c=n(63525),l=n(53351),f=n(69685),d=n(49892),h=n(28900),p=n(44082),v=n.n(p),m=function(e){var t=e.isLoading,n=e.templates,r=e.onUseTemplate,p=e.onClose,m=e.onTemplatePreview,g=(0,o.useState)(""),y=g[0],b=g[1],w=(0,f.Z)(),_=w.loading,E=w.request;return(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:v().titleWrapper,children:[(0,i.jsx)("h3",{className:v().title,children:"Team Templates"}),(0,i.jsxs)("div",{className:v().titleTools,children:[(0,i.jsx)(a.Z,{showShortcut:!0,searchTerm:y,className:v().searchBar,setSearchTerm:b}),(0,i.jsxs)(s.ZP,{onClick:p,size:s.ZP.Sizes.SMALL,className:v().closeButton,variant:s.ZP.Variants.TRANSPARENT,children:["Close",(0,i.jsx)(u.P,{keys:["Esc"]})]})]})]}),(0,i.jsxs)("div",{className:v().contentWrapper,children:[n.filter((function(e){var t,n;return null===(n=null===(t=e.title)||void 0===t?void 0:t.toLocaleLowerCase())||void 0===n?void 0:n.includes(y.toLocaleLowerCase())})).map((function(e,n){return(0,i.jsx)(c.w,{template:e,isLoading:t,onUseTemplate:r,classNames:{root:v().templateCard},onPreviewClick:function(){return m(n)}},e.id)})),(0,i.jsx)(l.x,{disabled:_,onClick:function(){_||E("templates_page",{title:d.k1,isTemplate:!0},{toastOptions:{success:{duration:5e3}},toastMessages:{loading:"Creating template",error:"Something went wrong. Failed to create template.",success:(0,i.jsx)(h.S,{successMessage:"Template created"})}})},classNames:{root:v().templateCard}})]})]})},g=n(5632),y=n(25237),b=n.n(y),w=n(53822);function _(){return _=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_.apply(this,arguments)}var E=function(e){return o.createElement("svg",_({width:8,height:12,viewBox:"0 0 8 12",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=o.createElement("path",{d:"M1 11.2L6.6 6 1 .8",stroke:"currentColor",fill:"none",strokeLinecap:"square"})))},S=n(12405),x=n(68732),O=n(16866),C=n(46637),k=n(24507),T=n(76117),A=n(9318),I=n(37425),D=n.n(I),P=b()((function(){return Promise.all([n.e(1273),n.e(3484),n.e(4155),n.e(4165),n.e(5392),n.e(7219),n.e(5860),n.e(2656),n.e(1219),n.e(6763),n.e(5110),n.e(9489),n.e(2116),n.e(1746),n.e(2199),n.e(8191),n.e(6243),n.e(9689),n.e(8353)]).then(n.bind(n,49861)).then((function(e){return e.default}))}),{loadableGenerated:{webpack:function(){return[49861]}},ssr:!1,loading:function(){return(0,i.jsx)(A.Z,{})}}),R=function(e){var t=e.onNext,n=e.onCancel,r=e.template,a=e.isLoading,u=e.onPrevious,c=e.onUseTemplate,l=e.onSeeAllTemplates,f=(0,g.useRouter)(),d=(0,k.F)().theme,h=(0,x.LP)(),p=(0,o.useState)(!1),v=p[0],m=p[1],y=(0,S.o)({currentTeamId:h,workspaceId:r.id,workspaceTeamId:r.teamId,isArchived:!!r.isArchived}),b=function(){m(!0),f.push("/workspace/".concat(r.id))},_=function(e,t){var n=e.id,r=e.templateVersionId,i=e.templatePreviewImages;if(!r||!i||!i[t])return{};if(i[t]!==r)return{};var o=(0,C.j)({theme:t,templateVersionId:r,templateWorkspaceId:n}).imgixPath;return{backgroundImage:"url(".concat((0,T.V)(o),")")}}(r,d);return(0,i.jsxs)("div",{className:D().root,children:[(0,i.jsxs)("div",{className:D().headerWrapper,children:[(0,i.jsxs)("div",{className:D().navigationWrapper,children:[(0,i.jsx)(s.ZP,{variant:s.ZP.Variants.TRANSPARENT,onClick:l,children:"See all"}),(0,i.jsx)(s.ZP,{onClick:u,variant:s.ZP.Variants.TRANSPARENT,children:(0,i.jsx)(w.J,{icon:E,className:D().previousIcon})}),(0,i.jsx)(s.ZP,{onClick:t,variant:s.ZP.Variants.TRANSPARENT,children:(0,i.jsx)(w.J,{icon:E})})]}),(0,i.jsx)("div",{className:D().metadataWrapper,children:(0,i.jsx)(O.E,{template:r})}),(0,i.jsx)("div",{className:D().controlsWrapper,children:r.isArchived?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.ZP,{onClick:n,variant:s.ZP.Variants.TRANSPARENT,children:"Cancel"}),(0,i.jsx)(s.ZP,{onClick:y,children:"Restore Template"})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.ZP,{isLoading:v,onClick:b,variant:s.ZP.Variants.TRANSPARENT,children:"Edit Template"}),(0,i.jsx)(s.ZP,{isLoading:a,onClick:function(){return c(r)},children:"Use Template"})]})})]}),(0,i.jsx)("div",{className:D().previewWrapper,children:_.backgroundImage?(0,i.jsx)("div",{className:D().previewImage,style:_}):(0,i.jsx)(P,{template:r},r.id)})]})},N=n(72342),j=n(73471),M=n(84960),L=n.n(M);function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var U=function(e){var t,n,r=e.isOpen,a=e.onClose,s=e.isLoading,u=e.mountedIn,c=e.onUseTemplate,l=e.templateToPreview,f=B(e,["isOpen","onClose","isLoading","mountedIn","onUseTemplate","templateToPreview"]),d=(0,o.useState)(-1),h=d[0],p=d[1],v=l?"templatePreview":"allTemplates",g=(0,o.useState)(v),y=g[0],b=g[1],w=null!==(n=(0,j.z)({isArchived:null!==(t=null===l||void 0===l?void 0:l.isArchived)&&void 0!==t&&t}))&&void 0!==n?n:[],_=(0,o.useMemo)((function(){var e=w.findIndex((function(e){return e.id===(null===l||void 0===l?void 0:l.id)}));return-1===h?e:h}),[h,l,w]),E=function(){p(-1),"templatesPage"===u?null===a||void 0===a||a():b("allTemplates")};return(0,i.jsxs)(N.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){F(e,t,n[t])}))}return e}({isOpen:r,hideCloseButton:!0,className:L().root,onClose:a},f,{children:["allTemplates"===y&&(0,i.jsx)(m,{onClose:a,isLoading:s,templates:w,onUseTemplate:c,onTemplatePreview:function(e){p(e),b("templatePreview")}}),"templatePreview"===y&&w[_]&&(0,i.jsx)(R,{onUseTemplate:c,onCancel:E,template:w[_],onSeeAllTemplates:E,onNext:function(){return p((_+1)%w.length)},onPrevious:function(){return p((_-1)%w.length)}})]}))}},23656:function(e,t,n){"use strict";n.d(t,{$C:function(){return S},$e:function(){return d},AU:function(){return H},Af:function(){return C},D8:function(){return l},E1:function(){return _e},EX:function(){return G},F9:function(){return J},Fg:function(){return $},Gj:function(){return ne},H:function(){return ye},Hg:function(){return M},I:function(){return te},IM:function(){return P},Iw:function(){return f},J$:function(){return Q},KE:function(){return O},Ks:function(){return s},LO:function(){return ee},LP:function(){return ue},Mj:function(){return ce},OO:function(){return Y},O_:function(){return V},Oh:function(){return v},Pp:function(){return B},S$:function(){return xe},UL:function(){return we},Vh:function(){return I},Vi:function(){return E},W4:function(){return R},_D:function(){return N},_P:function(){return ae},av:function(){return fe},ay:function(){return h},az:function(){return se},cH:function(){return X},dJ:function(){return Z},dt:function(){return U},eA:function(){return be},f:function(){return u},fK:function(){return pe},fn:function(){return Se},g8:function(){return le},hU:function(){return F},hs:function(){return L},i5:function(){return W},j9:function(){return D},jo:function(){return ie},ks:function(){return oe},lS:function(){return K},mp:function(){return A},n5:function(){return j},nB:function(){return z},nM:function(){return re},oc:function(){return p},qj:function(){return Ee},qx:function(){return c},sc:function(){return x},tn:function(){return k},uB:function(){return q},ut:function(){return T},vM:function(){return de},vu:function(){return he},wK:function(){return me},xX:function(){return ge},yK:function(){return ve}});var r=n(92602),i=n(65233),o=n(98628);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s,u=10,c=8,l=1,f=5,d=1,h=Math.PI/12,p={TEXT:"text",CROSSHAIR:"crosshair",NESW_RESIZE:"nesw-resize",NWSE_RESIZE:"nwse-resize",NS_RESIZE:"ns-resize",EW_RESIZE:"ew-resize",GRAB:"grab",GRABBING:"grabbing",POINTER:"pointer",MOVE:"move",NOT_ALLOWED:"not-allowed",SPLINE_CONTROL_MOVE:"spline-control-move",PEN:"pen",DUPLICATE:"duplicate",ROTATION_NW:"rotation-nw",ROTATION_NE:"rotation-ne",ROTATION_SW:"rotation-sw",ROTATION_SE:"rotation-se",AUTO:""},v={MAIN:0,WHEEL:1,SECONDARY:2,TOUCH:-1};!function(e){e.COPY="copy",e.PASTE="paste",e.CUT="cut",e.KEYDOWN="keydown",e.KEYUP="keyup",e.MOUSE_MOVE="mousemove",e.RESIZE="resize",e.UNLOAD="unload",e.BLUR="blur",e.DRAG_OVER="dragover",e.DROP="drop",e.GESTURE_END="gestureend",e.BEFORE_UNLOAD="beforeunload",e.GESTURE_START="gesturestart",e.GESTURE_CHANGE="gesturechange",e.POINTER_MOVE="pointermove",e.POINTER_UP="pointerup",e.STATE_CHANGE="statechange",e.WHEEL="wheel",e.TOUCH_START="touchstart",e.TOUCH_END="touchend",e.SCROLL="scroll",e.CONTEXT_MENU="contextmenu"}(s||(s={}));var m,g,y,b,w,_,E={TEST:"test",DEVELOPMENT:"development"},S={SHAPE_ACTIONS_MENU:"shape-actions-menu",CANVAS_BUTTON:"canvas-button"},x={S:20,M:30,L:40,XL:50},O={S:.2,M:.33,L:.6,XL:1.2},C="data-textfield-blur-exception",k="data-copy-paste-exception",T={1:"Virgil",2:"EraserNimbusSans",3:"Cascadia",4:"FerruleSans",5:"JetBrainsMono",6:"Inter"},A={ROUGH:2,CLEAN:6,MONO:5},I=(a(m={},A.ROUGH,1),a(m,A.CLEAN,.87),a(m,A.MONO,.85),m),D=(a(g={},A.ROUGH,i.ED?-3.5:-.5),a(g,A.CLEAN,i.ED?1.1:.4),a(g,A.MONO,i.ED?1.4:1),g),P=(a(y={},A.MONO,i.ED?-.5:0*n.g.devicePixelRatio),a(y,A.ROUGH,i.ED?-1:-.45*n.g.devicePixelRatio),a(y,A.CLEAN,i.ED?-.8:-.35*n.g.devicePixelRatio),y),R=Object.values(A),N="Segoe UI Emoji",j=20,M="left",L="middle",F=i.Um?1.25:1,B=r.ck.Normal,U=10,V=12,z=.3,q="excalidraw",Z="excalidraw-cursor-element",H="text-editor-root",W="canvasTextEditor",G="diagram-sidebar-wrapper",K=.22,J=function(e){return e?.525:.5},Y=5,$=function(e){return e?.15:.25},X=12,Q=70,ee={excalidraw:"application/vnd.excalidraw+json",excalidrawlib:"application/vnd.excalidrawlib+json"},te={LOCAL_STORAGE_LIBRARY:"excalidraw-library"},ne=300,re=500,ie=["image/png","image/jpg","image/jpeg","image/svg+xml","image/gif"],oe="-apple-system, BlinkMacSystemFont, Segoe UI, Helvetica Neue, Helvetica, Nimbus Sans, Ubuntu, Roboto, Noto, Arial, sans-serif",ae="arrow",se=[430,600],ue=(a(b={},r.Nm.LEFT,"\u2190"),a(b,r.Nm.RIGHT,"\u2192"),a(b,r.Nm.UP,"\u2191"),a(b,r.Nm.DOWN,"\u2193"),b),ce=(a(w={},r.Nm.UP,r.Nm.DOWN),a(w,r.Nm.DOWN,r.Nm.UP),a(w,r.Nm.LEFT,r.Nm.RIGHT),a(w,r.Nm.RIGHT,r.Nm.LEFT),a(_={},o.tW.ARROW_UP,r.Nm.UP),a(_,o.tW.ARROW_DOWN,r.Nm.DOWN),a(_,o.tW.ARROW_LEFT,r.Nm.LEFT),a(_,o.tW.ARROW_RIGHT,r.Nm.RIGHT),_),le=6,fe=2,de=6.5,he=.8,pe=1.5,ve=4*de/Math.PI,me=50,ge=10,ye=12,be=6,we=4,_e=12,Ee=8,Se=12,xe=10},43616:function(e,t,n){"use strict";n.d(t,{Vy:function(){return yn},Jx:function(){return wn},cv:function(){return bn},Ne:function(){return gn}});var r=n(94776),i=n.n(r);function o(e){let t=e.length;for(;--t>=0;)e[t]=0}const a=256,s=286,u=30,c=15,l=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),f=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),d=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),h=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),p=new Array(576);o(p);const v=new Array(60);o(v);const m=new Array(512);o(m);const g=new Array(256);o(g);const y=new Array(29);o(y);const b=new Array(u);function w(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}let _,E,S;function x(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}o(b);const O=e=>e<256?m[e]:m[256+(e>>>7)],C=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},k=(e,t,n)=>{e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,C(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},T=(e,t,n)=>{k(e,n[2*t],n[2*t+1])},A=(e,t)=>{let n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},I=(e,t,n)=>{const r=new Array(16);let i,o,a=0;for(i=1;i<=c;i++)r[i]=a=a+n[i-1]<<1;for(o=0;o<=t;o++){let t=e[2*o+1];0!==t&&(e[2*o]=A(r[t]++,t))}},D=e=>{let t;for(t=0;t<s;t++)e.dyn_ltree[2*t]=0;for(t=0;t<u;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0},P=e=>{e.bi_valid>8?C(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},R=(e,t,n,r)=>{const i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]},N=(e,t,n)=>{const r=e.heap[n];let i=n<<1;for(;i<=e.heap_len&&(i<e.heap_len&&R(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!R(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r},j=(e,t,n)=>{let r,i,o,s,u=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*u]<<8|e.pending_buf[e.d_buf+2*u+1],i=e.pending_buf[e.l_buf+u],u++,0===r?T(e,i,t):(o=g[i],T(e,o+a+1,t),s=l[o],0!==s&&(i-=y[o],k(e,i,s)),r--,o=O(r),T(e,o,n),s=f[o],0!==s&&(r-=b[o],k(e,r,s)))}while(u<e.last_lit);T(e,256,t)},M=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,i=t.stat_desc.has_stree,o=t.stat_desc.elems;let a,s,u,l=-1;for(e.heap_len=0,e.heap_max=573,a=0;a<o;a++)0!==n[2*a]?(e.heap[++e.heap_len]=l=a,e.depth[a]=0):n[2*a+1]=0;for(;e.heap_len<2;)u=e.heap[++e.heap_len]=l<2?++l:0,n[2*u]=1,e.depth[u]=0,e.opt_len--,i&&(e.static_len-=r[2*u+1]);for(t.max_code=l,a=e.heap_len>>1;a>=1;a--)N(e,n,a);u=o;do{a=e.heap[1],e.heap[1]=e.heap[e.heap_len--],N(e,n,1),s=e.heap[1],e.heap[--e.heap_max]=a,e.heap[--e.heap_max]=s,n[2*u]=n[2*a]+n[2*s],e.depth[u]=(e.depth[a]>=e.depth[s]?e.depth[a]:e.depth[s])+1,n[2*a+1]=n[2*s+1]=u,e.heap[1]=u++,N(e,n,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const n=t.dyn_tree,r=t.max_code,i=t.stat_desc.static_tree,o=t.stat_desc.has_stree,a=t.stat_desc.extra_bits,s=t.stat_desc.extra_base,u=t.stat_desc.max_length;let l,f,d,h,p,v,m=0;for(h=0;h<=c;h++)e.bl_count[h]=0;for(n[2*e.heap[e.heap_max]+1]=0,l=e.heap_max+1;l<573;l++)f=e.heap[l],h=n[2*n[2*f+1]+1]+1,h>u&&(h=u,m++),n[2*f+1]=h,f>r||(e.bl_count[h]++,p=0,f>=s&&(p=a[f-s]),v=n[2*f],e.opt_len+=v*(h+p),o&&(e.static_len+=v*(i[2*f+1]+p)));if(0!==m){do{for(h=u-1;0===e.bl_count[h];)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[u]--,m-=2}while(m>0);for(h=u;0!==h;h--)for(f=e.bl_count[h];0!==f;)d=e.heap[--l],d>r||(n[2*d+1]!==h&&(e.opt_len+=(h-n[2*d+1])*n[2*d],n[2*d+1]=h),f--)}})(e,t),I(n,l,e.bl_count)},L=(e,t,n)=>{let r,i,o=-1,a=t[1],s=0,u=7,c=4;for(0===a&&(u=138,c=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=t[2*(r+1)+1],++s<u&&i===a||(s<c?e.bl_tree[2*i]+=s:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,s=0,o=i,0===a?(u=138,c=3):i===a?(u=6,c=3):(u=7,c=4))},F=(e,t,n)=>{let r,i,o=-1,a=t[1],s=0,u=7,c=4;for(0===a&&(u=138,c=3),r=0;r<=n;r++)if(i=a,a=t[2*(r+1)+1],!(++s<u&&i===a)){if(s<c)do{T(e,i,e.bl_tree)}while(0!==--s);else 0!==i?(i!==o&&(T(e,i,e.bl_tree),s--),T(e,16,e.bl_tree),k(e,s-3,2)):s<=10?(T(e,17,e.bl_tree),k(e,s-3,3)):(T(e,18,e.bl_tree),k(e,s-11,7));s=0,o=i,0===a?(u=138,c=3):i===a?(u=6,c=3):(u=7,c=4)}};let B=!1;const U=(e,t,n,r)=>{k(e,0+(r?1:0),3),((e,t,n,r)=>{P(e),r&&(C(e,n),C(e,~n)),e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n})(e,t,n,!0)};var V=(e,t,n,r)=>{let i,o,s=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<a;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),M(e,e.l_desc),M(e,e.d_desc),s=(e=>{let t;for(L(e,e.dyn_ltree,e.l_desc.max_code),L(e,e.dyn_dtree,e.d_desc.max_code),M(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*h[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),i=e.opt_len+3+7>>>3,o=e.static_len+3+7>>>3,o<=i&&(i=o)):i=o=n+5,n+4<=i&&-1!==t?U(e,t,n,r):4===e.strategy||o===i?(k(e,2+(r?1:0),3),j(e,p,v)):(k(e,4+(r?1:0),3),((e,t,n,r)=>{let i;for(k(e,t-257,5),k(e,n-1,5),k(e,r-4,4),i=0;i<r;i++)k(e,e.bl_tree[2*h[i]+1],3);F(e,e.dyn_ltree,t-1),F(e,e.dyn_dtree,n-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),j(e,e.dyn_ltree,e.dyn_dtree)),D(e),r&&P(e)},z={_tr_init:e=>{B||((()=>{let e,t,n,r,i;const o=new Array(16);for(n=0,r=0;r<28;r++)for(y[r]=n,e=0;e<1<<l[r];e++)g[n++]=r;for(g[n-1]=r,i=0,r=0;r<16;r++)for(b[r]=i,e=0;e<1<<f[r];e++)m[i++]=r;for(i>>=7;r<u;r++)for(b[r]=i<<7,e=0;e<1<<f[r]-7;e++)m[256+i++]=r;for(t=0;t<=c;t++)o[t]=0;for(e=0;e<=143;)p[2*e+1]=8,e++,o[8]++;for(;e<=255;)p[2*e+1]=9,e++,o[9]++;for(;e<=279;)p[2*e+1]=7,e++,o[7]++;for(;e<=287;)p[2*e+1]=8,e++,o[8]++;for(I(p,287,o),e=0;e<u;e++)v[2*e+1]=5,v[2*e]=A(e,5);_=new w(p,l,257,s,c),E=new w(v,f,0,u,c),S=new w(new Array(0),d,0,19,7)})(),B=!0),e.l_desc=new x(e.dyn_ltree,_),e.d_desc=new x(e.dyn_dtree,E),e.bl_desc=new x(e.bl_tree,S),e.bi_buf=0,e.bi_valid=0,D(e)},_tr_stored_block:U,_tr_flush_block:V,_tr_tally:(e,t,n)=>(e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(g[n]+a+1)]++,e.dyn_dtree[2*O(t)]++),e.last_lit===e.lit_bufsize-1),_tr_align:e=>{k(e,2,3),T(e,256,p),(e=>{16===e.bi_valid?(C(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)}};var q=(e,t,n,r)=>{let i=65535&e|0,o=e>>>16&65535|0,a=0;for(;0!==n;){a=n>2e3?2e3:n,n-=a;do{i=i+t[r++]|0,o=o+i|0}while(--a);i%=65521,o%=65521}return i|o<<16|0};const Z=new Uint32Array((()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t})());var H=(e,t,n,r)=>{const i=Z,o=r+n;e^=-1;for(let a=r;a<o;a++)e=e>>>8^i[255&(e^t[a])];return-1^e},W={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},G={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:K,_tr_stored_block:J,_tr_flush_block:Y,_tr_tally:$,_tr_align:X}=z,{Z_NO_FLUSH:Q,Z_PARTIAL_FLUSH:ee,Z_FULL_FLUSH:te,Z_FINISH:ne,Z_BLOCK:re,Z_OK:ie,Z_STREAM_END:oe,Z_STREAM_ERROR:ae,Z_DATA_ERROR:se,Z_BUF_ERROR:ue,Z_DEFAULT_COMPRESSION:ce,Z_FILTERED:le,Z_HUFFMAN_ONLY:fe,Z_RLE:de,Z_FIXED:he,Z_DEFAULT_STRATEGY:pe,Z_UNKNOWN:ve,Z_DEFLATED:me}=G,ge=258,ye=262,be=103,we=113,_e=666,Ee=(e,t)=>(e.msg=W[t],t),Se=e=>(e<<1)-(e>4?9:0),xe=e=>{let t=e.length;for(;--t>=0;)e[t]=0};let Oe=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask;const Ce=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},ke=(e,t)=>{Y(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Ce(e.strm)},Te=(e,t)=>{e.pending_buf[e.pending++]=t},Ae=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},Ie=(e,t,n,r)=>{let i=e.avail_in;return i>r&&(i=r),0===i?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),n),1===e.state.wrap?e.adler=q(e.adler,t,i,n):2===e.state.wrap&&(e.adler=H(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)},De=(e,t)=>{let n,r,i=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match;const u=e.strstart>e.w_size-ye?e.strstart-(e.w_size-ye):0,c=e.window,l=e.w_mask,f=e.prev,d=e.strstart+ge;let h=c[o+a-1],p=c[o+a];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(n=t,c[n+a]===p&&c[n+a-1]===h&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do{}while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<d);if(r=ge-(d-o),o=d-ge,r>a){if(e.match_start=t,a=r,r>=s)break;h=c[o+a-1],p=c[o+a]}}}while((t=f[t&l])>u&&0!==--i);return a<=e.lookahead?a:e.lookahead},Pe=e=>{const t=e.w_size;let n,r,i,o,a;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-ye)){e.window.set(e.window.subarray(t,t+t),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,r=e.hash_size,n=r;do{i=e.head[--n],e.head[n]=i>=t?i-t:0}while(--r);r=t,n=r;do{i=e.prev[--n],e.prev[n]=i>=t?i-t:0}while(--r);o+=t}if(0===e.strm.avail_in)break;if(r=Ie(e.strm,e.window,e.strstart+e.lookahead,o),e.lookahead+=r,e.lookahead+e.insert>=3)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=Oe(e,e.ins_h,e.window[a+1]);e.insert&&(e.ins_h=Oe(e,e.ins_h,e.window[a+3-1]),e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<ye&&0!==e.strm.avail_in)},Re=(e,t)=>{let n,r;for(;;){if(e.lookahead<ye){if(Pe(e),e.lookahead<ye&&t===Q)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=Oe(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-ye&&(e.match_length=De(e,n)),e.match_length>=3)if(r=$(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=Oe(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!==--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Oe(e,e.ins_h,e.window[e.strstart+1]);else r=$(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(ke(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===ne?(ke(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(ke(e,!1),0===e.strm.avail_out)?1:2},Ne=(e,t)=>{let n,r,i;for(;;){if(e.lookahead<ye){if(Pe(e),e.lookahead<ye&&t===Q)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=Oe(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-ye&&(e.match_length=De(e,n),e.match_length<=5&&(e.strategy===le||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,r=$(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=Oe(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!==--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(ke(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(r=$(e,0,e.window[e.strstart-1]),r&&ke(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=$(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===ne?(ke(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(ke(e,!1),0===e.strm.avail_out)?1:2};function je(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}const Me=[new je(0,0,0,0,((e,t)=>{let n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Pe(e),0===e.lookahead&&t===Q)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;const r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,ke(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-ye&&(ke(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===ne?(ke(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(ke(e,!1),e.strm.avail_out),1)})),new je(4,4,8,4,Re),new je(4,5,16,8,Re),new je(4,6,32,32,Re),new je(4,4,16,16,Ne),new je(8,16,32,32,Ne),new je(8,16,128,128,Ne),new je(8,32,128,256,Ne),new je(32,128,258,1024,Ne),new je(32,258,258,4096,Ne)];function Le(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=me,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),xe(this.dyn_ltree),xe(this.dyn_dtree),xe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),xe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),xe(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Fe=e=>{if(!e||!e.state)return Ee(e,ae);e.total_in=e.total_out=0,e.data_type=ve;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:we,e.adler=2===t.wrap?0:1,t.last_flush=Q,K(t),ie},Be=e=>{const t=Fe(e);var n;return t===ie&&((n=e.state).window_size=2*n.w_size,xe(n.head),n.max_lazy_match=Me[n.level].max_lazy,n.good_match=Me[n.level].good_length,n.nice_match=Me[n.level].nice_length,n.max_chain_length=Me[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=2,n.match_available=0,n.ins_h=0),t},Ue=(e,t,n,r,i,o)=>{if(!e)return ae;let a=1;if(t===ce&&(t=6),r<0?(a=0,r=-r):r>15&&(a=2,r-=16),i<1||i>9||n!==me||r<8||r>15||t<0||t>9||o<0||o>he)return Ee(e,ae);8===r&&(r=9);const s=new Le;return e.state=s,s.strm=e,s.wrap=a,s.gzhead=null,s.w_bits=r,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new Uint8Array(2*s.w_size),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new Uint8Array(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=t,s.strategy=o,s.method=n,Be(e)};var Ve={deflateInit:(e,t)=>Ue(e,t,me,15,8,pe),deflateInit2:Ue,deflateReset:Be,deflateResetKeep:Fe,deflateSetHeader:(e,t)=>e&&e.state?2!==e.state.wrap?ae:(e.state.gzhead=t,ie):ae,deflate:(e,t)=>{let n,r;if(!e||!e.state||t>re||t<0)return e?Ee(e,ae):ae;const i=e.state;if(!e.output||!e.input&&0!==e.avail_in||i.status===_e&&t!==ne)return Ee(e,0===e.avail_out?ue:ae);i.strm=e;const o=i.last_flush;if(i.last_flush=t,42===i.status)if(2===i.wrap)e.adler=0,Te(i,31),Te(i,139),Te(i,8),i.gzhead?(Te(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),Te(i,255&i.gzhead.time),Te(i,i.gzhead.time>>8&255),Te(i,i.gzhead.time>>16&255),Te(i,i.gzhead.time>>24&255),Te(i,9===i.level?2:i.strategy>=fe||i.level<2?4:0),Te(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(Te(i,255&i.gzhead.extra.length),Te(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=H(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(Te(i,0),Te(i,0),Te(i,0),Te(i,0),Te(i,0),Te(i,9===i.level?2:i.strategy>=fe||i.level<2?4:0),Te(i,3),i.status=we);else{let t=me+(i.w_bits-8<<4)<<8,n=-1;n=i.strategy>=fe||i.level<2?0:i.level<6?1:6===i.level?2:3,t|=n<<6,0!==i.strstart&&(t|=32),t+=31-t%31,i.status=we,Ae(i,t),0!==i.strstart&&(Ae(i,e.adler>>>16),Ae(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(n=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>n&&(e.adler=H(e.adler,i.pending_buf,i.pending-n,n)),Ce(e),n=i.pending,i.pending!==i.pending_buf_size));)Te(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>n&&(e.adler=H(e.adler,i.pending_buf,i.pending-n,n)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(e.adler=H(e.adler,i.pending_buf,i.pending-n,n)),Ce(e),n=i.pending,i.pending===i.pending_buf_size)){r=1;break}r=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,Te(i,r)}while(0!==r);i.gzhead.hcrc&&i.pending>n&&(e.adler=H(e.adler,i.pending_buf,i.pending-n,n)),0===r&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){n=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>n&&(e.adler=H(e.adler,i.pending_buf,i.pending-n,n)),Ce(e),n=i.pending,i.pending===i.pending_buf_size)){r=1;break}r=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,Te(i,r)}while(0!==r);i.gzhead.hcrc&&i.pending>n&&(e.adler=H(e.adler,i.pending_buf,i.pending-n,n)),0===r&&(i.status=be)}else i.status=be;if(i.status===be&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&Ce(e),i.pending+2<=i.pending_buf_size&&(Te(i,255&e.adler),Te(i,e.adler>>8&255),e.adler=0,i.status=we)):i.status=we),0!==i.pending){if(Ce(e),0===e.avail_out)return i.last_flush=-1,ie}else if(0===e.avail_in&&Se(t)<=Se(o)&&t!==ne)return Ee(e,ue);if(i.status===_e&&0!==e.avail_in)return Ee(e,ue);if(0!==e.avail_in||0!==i.lookahead||t!==Q&&i.status!==_e){let n=i.strategy===fe?((e,t)=>{let n;for(;;){if(0===e.lookahead&&(Pe(e),0===e.lookahead)){if(t===Q)return 1;break}if(e.match_length=0,n=$(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(ke(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===ne?(ke(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(ke(e,!1),0===e.strm.avail_out)?1:2})(i,t):i.strategy===de?((e,t)=>{let n,r,i,o;const a=e.window;for(;;){if(e.lookahead<=ge){if(Pe(e),e.lookahead<=ge&&t===Q)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(i=e.strstart-1,r=a[i],r===a[++i]&&r===a[++i]&&r===a[++i])){o=e.strstart+ge;do{}while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<o);e.match_length=ge-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=$(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=$(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(ke(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===ne?(ke(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(ke(e,!1),0===e.strm.avail_out)?1:2})(i,t):Me[i.level].func(i,t);if(3!==n&&4!==n||(i.status=_e),1===n||3===n)return 0===e.avail_out&&(i.last_flush=-1),ie;if(2===n&&(t===ee?X(i):t!==re&&(J(i,0,0,!1),t===te&&(xe(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),Ce(e),0===e.avail_out))return i.last_flush=-1,ie}return t!==ne?ie:i.wrap<=0?oe:(2===i.wrap?(Te(i,255&e.adler),Te(i,e.adler>>8&255),Te(i,e.adler>>16&255),Te(i,e.adler>>24&255),Te(i,255&e.total_in),Te(i,e.total_in>>8&255),Te(i,e.total_in>>16&255),Te(i,e.total_in>>24&255)):(Ae(i,e.adler>>>16),Ae(i,65535&e.adler)),Ce(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?ie:oe)},deflateEnd:e=>{if(!e||!e.state)return ae;const t=e.state.status;return 42!==t&&69!==t&&73!==t&&91!==t&&t!==be&&t!==we&&t!==_e?Ee(e,ae):(e.state=null,t===we?Ee(e,se):ie)},deflateSetDictionary:(e,t)=>{let n=t.length;if(!e||!e.state)return ae;const r=e.state,i=r.wrap;if(2===i||1===i&&42!==r.status||r.lookahead)return ae;if(1===i&&(e.adler=q(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){0===i&&(xe(r.head),r.strstart=0,r.block_start=0,r.insert=0);let e=new Uint8Array(r.w_size);e.set(t.subarray(n-r.w_size,n),0),t=e,n=r.w_size}const o=e.avail_in,a=e.next_in,s=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,Pe(r);r.lookahead>=3;){let e=r.strstart,t=r.lookahead-2;do{r.ins_h=Oe(r,r.ins_h,r.window[e+3-1]),r.prev[e&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=e,e++}while(--t);r.strstart=e,r.lookahead=2,Pe(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=a,e.input=s,e.avail_in=o,r.wrap=i,ie},deflateInfo:"pako deflate (from Nodeca project)"};const ze=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var qe=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if("object"!==typeof n)throw new TypeError(n+"must be non-object");for(const t in n)ze(n,t)&&(e[t]=n[t])}}return e},Ze=e=>{let t=0;for(let r=0,i=e.length;r<i;r++)t+=e[r].length;const n=new Uint8Array(t);for(let r=0,i=0,o=e.length;r<o;r++){let t=e[r];n.set(t,i),i+=t.length}return n};let He=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(_n){He=!1}const We=new Uint8Array(256);for(let En=0;En<256;En++)We[En]=En>=252?6:En>=248?5:En>=240?4:En>=224?3:En>=192?2:1;We[254]=We[254]=1;var Ge=e=>{let t,n,r,i,o,a=e.length,s=0;for(i=0;i<a;i++)n=e.charCodeAt(i),55296===(64512&n)&&i+1<a&&(r=e.charCodeAt(i+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(s),o=0,i=0;o<s;i++)n=e.charCodeAt(i),55296===(64512&n)&&i+1<a&&(r=e.charCodeAt(i+1),56320===(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|63&n):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t},Ke=(e,t)=>{let n,r;const i=t||e.length,o=new Array(2*i);for(r=0,n=0;n<i;){let t=e[n++];if(t<128){o[r++]=t;continue}let a=We[t];if(a>4)o[r++]=65533,n+=a-1;else{for(t&=2===a?31:3===a?15:7;a>1&&n<i;)t=t<<6|63&e[n++],a--;a>1?o[r++]=65533:t<65536?o[r++]=t:(t-=65536,o[r++]=55296|t>>10&1023,o[r++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&He)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n})(o,r)},Je=(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let n=t-1;for(;n>=0&&128===(192&e[n]);)n--;return n<0||0===n?t:n+We[e[n]]>t?n:t};var Ye=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const $e=Object.prototype.toString,{Z_NO_FLUSH:Xe,Z_SYNC_FLUSH:Qe,Z_FULL_FLUSH:et,Z_FINISH:tt,Z_OK:nt,Z_STREAM_END:rt,Z_DEFAULT_COMPRESSION:it,Z_DEFAULT_STRATEGY:ot,Z_DEFLATED:at}=G;function st(e){this.options=qe({level:it,method:at,chunkSize:16384,windowBits:15,memLevel:8,strategy:ot},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ye,this.strm.avail_out=0;let n=Ve.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==nt)throw new Error(W[n]);if(t.header&&Ve.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"===typeof t.dictionary?Ge(t.dictionary):"[object ArrayBuffer]"===$e.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,n=Ve.deflateSetDictionary(this.strm,e),n!==nt)throw new Error(W[n]);this._dict_set=!0}}function ut(e,t){const n=new st(t);if(n.push(e,!0),n.err)throw n.msg||W[n.err];return n.result}st.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let i,o;if(this.ended)return!1;for(o=t===~~t?t:!0===t?tt:Xe,"string"===typeof e?n.input=Ge(e):"[object ArrayBuffer]"===$e.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(o===Qe||o===et)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(i=Ve.deflate(n,o),i===rt)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=Ve.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===nt;if(0!==n.avail_out){if(o>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},st.prototype.onData=function(e){this.chunks.push(e)},st.prototype.onEnd=function(e){e===nt&&(this.result=Ze(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var ct={Deflate:st,deflate:ut,deflateRaw:function(e,t){return(t=t||{}).raw=!0,ut(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,ut(e,t)},constants:G};var lt=function(e,t){let n,r,i,o,a,s,u,c,l,f,d,h,p,v,m,g,y,b,w,_,E,S,x,O;const C=e.state;n=e.next_in,x=e.input,r=n+(e.avail_in-5),i=e.next_out,O=e.output,o=i-(t-e.avail_out),a=i+(e.avail_out-257),s=C.dmax,u=C.wsize,c=C.whave,l=C.wnext,f=C.window,d=C.hold,h=C.bits,p=C.lencode,v=C.distcode,m=(1<<C.lenbits)-1,g=(1<<C.distbits)-1;e:do{h<15&&(d+=x[n++]<<h,h+=8,d+=x[n++]<<h,h+=8),y=p[d&m];t:for(;;){if(b=y>>>24,d>>>=b,h-=b,b=y>>>16&255,0===b)O[i++]=65535&y;else{if(!(16&b)){if(0===(64&b)){y=p[(65535&y)+(d&(1<<b)-1)];continue t}if(32&b){C.mode=12;break e}e.msg="invalid literal/length code",C.mode=30;break e}w=65535&y,b&=15,b&&(h<b&&(d+=x[n++]<<h,h+=8),w+=d&(1<<b)-1,d>>>=b,h-=b),h<15&&(d+=x[n++]<<h,h+=8,d+=x[n++]<<h,h+=8),y=v[d&g];n:for(;;){if(b=y>>>24,d>>>=b,h-=b,b=y>>>16&255,!(16&b)){if(0===(64&b)){y=v[(65535&y)+(d&(1<<b)-1)];continue n}e.msg="invalid distance code",C.mode=30;break e}if(_=65535&y,b&=15,h<b&&(d+=x[n++]<<h,h+=8,h<b&&(d+=x[n++]<<h,h+=8)),_+=d&(1<<b)-1,_>s){e.msg="invalid distance too far back",C.mode=30;break e}if(d>>>=b,h-=b,b=i-o,_>b){if(b=_-b,b>c&&C.sane){e.msg="invalid distance too far back",C.mode=30;break e}if(E=0,S=f,0===l){if(E+=u-b,b<w){w-=b;do{O[i++]=f[E++]}while(--b);E=i-_,S=O}}else if(l<b){if(E+=u+l-b,b-=l,b<w){w-=b;do{O[i++]=f[E++]}while(--b);if(E=0,l<w){b=l,w-=b;do{O[i++]=f[E++]}while(--b);E=i-_,S=O}}}else if(E+=l-b,b<w){w-=b;do{O[i++]=f[E++]}while(--b);E=i-_,S=O}for(;w>2;)O[i++]=S[E++],O[i++]=S[E++],O[i++]=S[E++],w-=3;w&&(O[i++]=S[E++],w>1&&(O[i++]=S[E++]))}else{E=i-_;do{O[i++]=O[E++],O[i++]=O[E++],O[i++]=O[E++],w-=3}while(w>2);w&&(O[i++]=O[E++],w>1&&(O[i++]=O[E++]))}break}}break}}while(n<r&&i<a);w=h>>3,n-=w,h-=w<<3,d&=(1<<h)-1,e.next_in=n,e.next_out=i,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=i<a?a-i+257:257-(i-a),C.hold=d,C.bits=h};const ft=15,dt=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ht=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),pt=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),vt=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var mt=(e,t,n,r,i,o,a,s)=>{const u=s.bits;let c,l,f,d,h,p,v=0,m=0,g=0,y=0,b=0,w=0,_=0,E=0,S=0,x=0,O=null,C=0;const k=new Uint16Array(16),T=new Uint16Array(16);let A,I,D,P=null,R=0;for(v=0;v<=ft;v++)k[v]=0;for(m=0;m<r;m++)k[t[n+m]]++;for(b=u,y=ft;y>=1&&0===k[y];y--);if(b>y&&(b=y),0===y)return i[o++]=20971520,i[o++]=20971520,s.bits=1,0;for(g=1;g<y&&0===k[g];g++);for(b<g&&(b=g),E=1,v=1;v<=ft;v++)if(E<<=1,E-=k[v],E<0)return-1;if(E>0&&(0===e||1!==y))return-1;for(T[1]=0,v=1;v<ft;v++)T[v+1]=T[v]+k[v];for(m=0;m<r;m++)0!==t[n+m]&&(a[T[t[n+m]]++]=m);if(0===e?(O=P=a,p=19):1===e?(O=dt,C-=257,P=ht,R-=257,p=256):(O=pt,P=vt,p=-1),x=0,m=0,v=g,h=o,w=b,_=0,f=-1,S=1<<b,d=S-1,1===e&&S>852||2===e&&S>592)return 1;for(;;){A=v-_,a[m]<p?(I=0,D=a[m]):a[m]>p?(I=P[R+a[m]],D=O[C+a[m]]):(I=96,D=0),c=1<<v-_,l=1<<w,g=l;do{l-=c,i[h+(x>>_)+l]=A<<24|I<<16|D|0}while(0!==l);for(c=1<<v-1;x&c;)c>>=1;if(0!==c?(x&=c-1,x+=c):x=0,m++,0===--k[v]){if(v===y)break;v=t[n+a[m]]}if(v>b&&(x&d)!==f){for(0===_&&(_=b),h+=g,w=v-_,E=1<<w;w+_<y&&(E-=k[w+_],!(E<=0));)w++,E<<=1;if(S+=1<<w,1===e&&S>852||2===e&&S>592)return 1;f=x&d,i[f]=b<<24|w<<16|h-o|0}}return 0!==x&&(i[h+x]=v-_<<24|64<<16|0),s.bits=b,0};const{Z_FINISH:gt,Z_BLOCK:yt,Z_TREES:bt,Z_OK:wt,Z_STREAM_END:_t,Z_NEED_DICT:Et,Z_STREAM_ERROR:St,Z_DATA_ERROR:xt,Z_MEM_ERROR:Ot,Z_BUF_ERROR:Ct,Z_DEFLATED:kt}=G,Tt=12,At=30,It=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function Dt(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Pt=e=>{if(!e||!e.state)return St;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,wt},Rt=e=>{if(!e||!e.state)return St;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Pt(e)},Nt=(e,t)=>{let n;if(!e||!e.state)return St;const r=e.state;return t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?St:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,Rt(e))},jt=(e,t)=>{if(!e)return St;const n=new Dt;e.state=n,n.window=null;const r=Nt(e,t);return r!==wt&&(e.state=null),r};let Mt,Lt,Ft=!0;const Bt=e=>{if(Ft){Mt=new Int32Array(512),Lt=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(mt(1,e.lens,0,288,Mt,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;mt(2,e.lens,0,32,Lt,0,e.work,{bits:5}),Ft=!1}e.lencode=Mt,e.lenbits=9,e.distcode=Lt,e.distbits=5},Ut=(e,t,n,r)=>{let i;const o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(t.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),o.window.set(t.subarray(n-r,n-r+i),o.wnext),(r-=i)?(o.window.set(t.subarray(n-r,n),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0};var Vt={inflateReset:Rt,inflateReset2:Nt,inflateResetKeep:Pt,inflateInit:e=>jt(e,15),inflateInit2:jt,inflate:(e,t)=>{let n,r,i,o,a,s,u,c,l,f,d,h,p,v,m,g,y,b,w,_,E,S,x=0;const O=new Uint8Array(4);let C,k;const T=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return St;n=e.state,n.mode===Tt&&(n.mode=13),a=e.next_out,i=e.output,u=e.avail_out,o=e.next_in,r=e.input,s=e.avail_in,c=n.hold,l=n.bits,f=s,d=u,S=wt;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;l<16;){if(0===s)break e;s--,c+=r[o++]<<l,l+=8}if(2&n.wrap&&35615===c){n.check=0,O[0]=255&c,O[1]=c>>>8&255,n.check=H(n.check,O,2,0),c=0,l=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&c)<<8)+(c>>8))%31){e.msg="incorrect header check",n.mode=At;break}if((15&c)!==kt){e.msg="unknown compression method",n.mode=At;break}if(c>>>=4,l-=4,E=8+(15&c),0===n.wbits)n.wbits=E;else if(E>n.wbits){e.msg="invalid window size",n.mode=At;break}n.dmax=1<<n.wbits,e.adler=n.check=1,n.mode=512&c?10:Tt,c=0,l=0;break;case 2:for(;l<16;){if(0===s)break e;s--,c+=r[o++]<<l,l+=8}if(n.flags=c,(255&n.flags)!==kt){e.msg="unknown compression method",n.mode=At;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=At;break}n.head&&(n.head.text=c>>8&1),512&n.flags&&(O[0]=255&c,O[1]=c>>>8&255,n.check=H(n.check,O,2,0)),c=0,l=0,n.mode=3;case 3:for(;l<32;){if(0===s)break e;s--,c+=r[o++]<<l,l+=8}n.head&&(n.head.time=c),512&n.flags&&(O[0]=255&c,O[1]=c>>>8&255,O[2]=c>>>16&255,O[3]=c>>>24&255,n.check=H(n.check,O,4,0)),c=0,l=0,n.mode=4;case 4:for(;l<16;){if(0===s)break e;s--,c+=r[o++]<<l,l+=8}n.head&&(n.head.xflags=255&c,n.head.os=c>>8),512&n.flags&&(O[0]=255&c,O[1]=c>>>8&255,n.check=H(n.check,O,2,0)),c=0,l=0,n.mode=5;case 5:if(1024&n.flags){for(;l<16;){if(0===s)break e;s--,c+=r[o++]<<l,l+=8}n.length=c,n.head&&(n.head.extra_len=c),512&n.flags&&(O[0]=255&c,O[1]=c>>>8&255,n.check=H(n.check,O,2,0)),c=0,l=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(h=n.length,h>s&&(h=s),h&&(n.head&&(E=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(o,o+h),E)),512&n.flags&&(n.check=H(n.check,r,h,o)),s-=h,o+=h,n.length-=h),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===s)break e;h=0;do{E=r[o+h++],n.head&&E&&n.length<65536&&(n.head.name+=String.fromCharCode(E))}while(E&&h<s);if(512&n.flags&&(n.check=H(n.check,r,h,o)),s-=h,o+=h,E)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===s)break e;h=0;do{E=r[o+h++],n.head&&E&&n.length<65536&&(n.head.comment+=String.fromCharCode(E))}while(E&&h<s);if(512&n.flags&&(n.check=H(n.check,r,h,o)),s-=h,o+=h,E)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;l<16;){if(0===s)break e;s--,c+=r[o++]<<l,l+=8}if(c!==(65535&n.check)){e.msg="header crc mismatch",n.mode=At;break}c=0,l=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=Tt;break;case 10:for(;l<32;){if(0===s)break e;s--,c+=r[o++]<<l,l+=8}e.adler=n.check=It(c),c=0,l=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=a,e.avail_out=u,e.next_in=o,e.avail_in=s,n.hold=c,n.bits=l,Et;e.adler=n.check=1,n.mode=Tt;case Tt:if(t===yt||t===bt)break e;case 13:if(n.last){c>>>=7&l,l-=7&l,n.mode=27;break}for(;l<3;){if(0===s)break e;s--,c+=r[o++]<<l,l+=8}switch(n.last=1&c,c>>>=1,l-=1,3&c){case 0:n.mode=14;break;case 1:if(Bt(n),n.mode=20,t===bt){c>>>=2,l-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=At}c>>>=2,l-=2;break;case 14:for(c>>>=7&l,l-=7&l;l<32;){if(0===s)break e;s--,c+=r[o++]<<l,l+=8}if((65535&c)!==(c>>>16^65535)){e.msg="invalid stored block lengths",n.mode=At;break}if(n.length=65535&c,c=0,l=0,n.mode=15,t===bt)break e;case 15:n.mode=16;case 16:if(h=n.length,h){if(h>s&&(h=s),h>u&&(h=u),0===h)break e;i.set(r.subarray(o,o+h),a),s-=h,o+=h,u-=h,a+=h,n.length-=h;break}n.mode=Tt;break;case 17:for(;l<14;){if(0===s)break e;s--,c+=r[o++]<<l,l+=8}if(n.nlen=257+(31&c),c>>>=5,l-=5,n.ndist=1+(31&c),c>>>=5,l-=5,n.ncode=4+(15&c),c>>>=4,l-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=At;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;l<3;){if(0===s)break e;s--,c+=r[o++]<<l,l+=8}n.lens[T[n.have++]]=7&c,c>>>=3,l-=3}for(;n.have<19;)n.lens[T[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,C={bits:n.lenbits},S=mt(0,n.lens,0,19,n.lencode,0,n.work,C),n.lenbits=C.bits,S){e.msg="invalid code lengths set",n.mode=At;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;x=n.lencode[c&(1<<n.lenbits)-1],m=x>>>24,g=x>>>16&255,y=65535&x,!(m<=l);){if(0===s)break e;s--,c+=r[o++]<<l,l+=8}if(y<16)c>>>=m,l-=m,n.lens[n.have++]=y;else{if(16===y){for(k=m+2;l<k;){if(0===s)break e;s--,c+=r[o++]<<l,l+=8}if(c>>>=m,l-=m,0===n.have){e.msg="invalid bit length repeat",n.mode=At;break}E=n.lens[n.have-1],h=3+(3&c),c>>>=2,l-=2}else if(17===y){for(k=m+3;l<k;){if(0===s)break e;s--,c+=r[o++]<<l,l+=8}c>>>=m,l-=m,E=0,h=3+(7&c),c>>>=3,l-=3}else{for(k=m+7;l<k;){if(0===s)break e;s--,c+=r[o++]<<l,l+=8}c>>>=m,l-=m,E=0,h=11+(127&c),c>>>=7,l-=7}if(n.have+h>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=At;break}for(;h--;)n.lens[n.have++]=E}}if(n.mode===At)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=At;break}if(n.lenbits=9,C={bits:n.lenbits},S=mt(1,n.lens,0,n.nlen,n.lencode,0,n.work,C),n.lenbits=C.bits,S){e.msg="invalid literal/lengths set",n.mode=At;break}if(n.distbits=6,n.distcode=n.distdyn,C={bits:n.distbits},S=mt(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,C),n.distbits=C.bits,S){e.msg="invalid distances set",n.mode=At;break}if(n.mode=20,t===bt)break e;case 20:n.mode=21;case 21:if(s>=6&&u>=258){e.next_out=a,e.avail_out=u,e.next_in=o,e.avail_in=s,n.hold=c,n.bits=l,lt(e,d),a=e.next_out,i=e.output,u=e.avail_out,o=e.next_in,r=e.input,s=e.avail_in,c=n.hold,l=n.bits,n.mode===Tt&&(n.back=-1);break}for(n.back=0;x=n.lencode[c&(1<<n.lenbits)-1],m=x>>>24,g=x>>>16&255,y=65535&x,!(m<=l);){if(0===s)break e;s--,c+=r[o++]<<l,l+=8}if(g&&0===(240&g)){for(b=m,w=g,_=y;x=n.lencode[_+((c&(1<<b+w)-1)>>b)],m=x>>>24,g=x>>>16&255,y=65535&x,!(b+m<=l);){if(0===s)break e;s--,c+=r[o++]<<l,l+=8}c>>>=b,l-=b,n.back+=b}if(c>>>=m,l-=m,n.back+=m,n.length=y,0===g){n.mode=26;break}if(32&g){n.back=-1,n.mode=Tt;break}if(64&g){e.msg="invalid literal/length code",n.mode=At;break}n.extra=15&g,n.mode=22;case 22:if(n.extra){for(k=n.extra;l<k;){if(0===s)break e;s--,c+=r[o++]<<l,l+=8}n.length+=c&(1<<n.extra)-1,c>>>=n.extra,l-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;x=n.distcode[c&(1<<n.distbits)-1],m=x>>>24,g=x>>>16&255,y=65535&x,!(m<=l);){if(0===s)break e;s--,c+=r[o++]<<l,l+=8}if(0===(240&g)){for(b=m,w=g,_=y;x=n.distcode[_+((c&(1<<b+w)-1)>>b)],m=x>>>24,g=x>>>16&255,y=65535&x,!(b+m<=l);){if(0===s)break e;s--,c+=r[o++]<<l,l+=8}c>>>=b,l-=b,n.back+=b}if(c>>>=m,l-=m,n.back+=m,64&g){e.msg="invalid distance code",n.mode=At;break}n.offset=y,n.extra=15&g,n.mode=24;case 24:if(n.extra){for(k=n.extra;l<k;){if(0===s)break e;s--,c+=r[o++]<<l,l+=8}n.offset+=c&(1<<n.extra)-1,c>>>=n.extra,l-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=At;break}n.mode=25;case 25:if(0===u)break e;if(h=d-u,n.offset>h){if(h=n.offset-h,h>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=At;break}h>n.wnext?(h-=n.wnext,p=n.wsize-h):p=n.wnext-h,h>n.length&&(h=n.length),v=n.window}else v=i,p=a-n.offset,h=n.length;h>u&&(h=u),u-=h,n.length-=h;do{i[a++]=v[p++]}while(--h);0===n.length&&(n.mode=21);break;case 26:if(0===u)break e;i[a++]=n.length,u--,n.mode=21;break;case 27:if(n.wrap){for(;l<32;){if(0===s)break e;s--,c|=r[o++]<<l,l+=8}if(d-=u,e.total_out+=d,n.total+=d,d&&(e.adler=n.check=n.flags?H(n.check,i,d,a-d):q(n.check,i,d,a-d)),d=u,(n.flags?c:It(c))!==n.check){e.msg="incorrect data check",n.mode=At;break}c=0,l=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;l<32;){if(0===s)break e;s--,c+=r[o++]<<l,l+=8}if(c!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=At;break}c=0,l=0}n.mode=29;case 29:S=_t;break e;case At:S=xt;break e;case 31:return Ot;default:return St}return e.next_out=a,e.avail_out=u,e.next_in=o,e.avail_in=s,n.hold=c,n.bits=l,(n.wsize||d!==e.avail_out&&n.mode<At&&(n.mode<27||t!==gt))&&Ut(e,e.output,e.next_out,d-e.avail_out),f-=e.avail_in,d-=e.avail_out,e.total_in+=f,e.total_out+=d,n.total+=d,n.wrap&&d&&(e.adler=n.check=n.flags?H(n.check,i,d,e.next_out-d):q(n.check,i,d,e.next_out-d)),e.data_type=n.bits+(n.last?64:0)+(n.mode===Tt?128:0)+(20===n.mode||15===n.mode?256:0),(0===f&&0===d||t===gt)&&S===wt&&(S=Ct),S},inflateEnd:e=>{if(!e||!e.state)return St;let t=e.state;return t.window&&(t.window=null),e.state=null,wt},inflateGetHeader:(e,t)=>{if(!e||!e.state)return St;const n=e.state;return 0===(2&n.wrap)?St:(n.head=t,t.done=!1,wt)},inflateSetDictionary:(e,t)=>{const n=t.length;let r,i,o;return e&&e.state?(r=e.state,0!==r.wrap&&11!==r.mode?St:11===r.mode&&(i=1,i=q(i,t,n,0),i!==r.check)?xt:(o=Ut(e,t,n,n),o?(r.mode=31,Ot):(r.havedict=1,wt))):St},inflateInfo:"pako inflate (from Nodeca project)"};var zt=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const qt=Object.prototype.toString,{Z_NO_FLUSH:Zt,Z_FINISH:Ht,Z_OK:Wt,Z_STREAM_END:Gt,Z_NEED_DICT:Kt,Z_STREAM_ERROR:Jt,Z_DATA_ERROR:Yt,Z_MEM_ERROR:$t}=G;function Xt(e){this.options=qe({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0===(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ye,this.strm.avail_out=0;let n=Vt.inflateInit2(this.strm,t.windowBits);if(n!==Wt)throw new Error(W[n]);if(this.header=new zt,Vt.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"===typeof t.dictionary?t.dictionary=Ge(t.dictionary):"[object ArrayBuffer]"===qt.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=Vt.inflateSetDictionary(this.strm,t.dictionary),n!==Wt)))throw new Error(W[n])}function Qt(e,t){const n=new Xt(t);if(n.push(e),n.err)throw n.msg||W[n.err];return n.result}Xt.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let o,a,s;if(this.ended)return!1;for(a=t===~~t?t:!0===t?Ht:Zt,"[object ArrayBuffer]"===qt.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),o=Vt.inflate(n,a),o===Kt&&i&&(o=Vt.inflateSetDictionary(n,i),o===Wt?o=Vt.inflate(n,a):o===Yt&&(o=Kt));n.avail_in>0&&o===Gt&&n.state.wrap>0&&0!==e[n.next_in];)Vt.inflateReset(n),o=Vt.inflate(n,a);switch(o){case Jt:case Yt:case Kt:case $t:return this.onEnd(o),this.ended=!0,!1}if(s=n.avail_out,n.next_out&&(0===n.avail_out||o===Gt))if("string"===this.options.to){let e=Je(n.output,n.next_out),t=n.next_out-e,i=Ke(n.output,e);n.next_out=t,n.avail_out=r-t,t&&n.output.set(n.output.subarray(e,e+t),0),this.onData(i)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(o!==Wt||0!==s){if(o===Gt)return o=Vt.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},Xt.prototype.onData=function(e){this.chunks.push(e)},Xt.prototype.onEnd=function(e){e===Wt&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Ze(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var en={Inflate:Xt,inflate:Qt,inflateRaw:function(e,t){return(t=t||{}).raw=!0,Qt(e,t)},ungzip:Qt,constants:G};const{Deflate:tn,deflate:nn,deflateRaw:rn,gzip:on}=ct,{Inflate:an,inflate:sn,inflateRaw:un,ungzip:cn}=en;var ln=nn,fn=sn;function dn(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function hn(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){dn(o,r,i,a,s,"next",e)}function s(e){dn(o,r,i,a,s,"throw",e)}a(void 0)}))}}var pn=function(e){return new Promise((function(t,n){var r="string"===typeof e?new Blob([(new TextEncoder).encode(e)]):new Blob([e]),i=new FileReader;i.onload=function(e){if(!e.target||"string"!==typeof e.target.result)return n(new Error("couldn't convert to byte string"));t(e.target.result)},i.readAsBinaryString(r)}))},vn=function(e){for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0,i=e.length;r<i;r++)n[r]=e.charCodeAt(r);return t},mn=function(e){return new TextDecoder("utf-8").decode(vn(e))},gn=function(){var e=hn(i().mark((function e(t){var n=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.length>1&&void 0!==n[1]&&n[1])){e.next=5;break}e.t0=btoa(t),e.next=10;break;case 5:return e.t1=btoa,e.next=8,pn(t);case 8:e.t2=e.sent,e.t0=(0,e.t1)(e.t2);case 10:return e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),yn=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?atob(e):mn(atob(e))},bn=function(){var e=hn(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.text,!1===t.compress){e.next=12;break}return e.prev=3,e.next=6,pn(ln(n));case 6:r=e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),console.error("encode: cannot deflate",e.t0);case 12:if(e.t1=!!r,e.t2=r,e.t2){e.next=18;break}return e.next=17,pn(n);case 17:e.t2=e.sent;case 18:return e.t3=e.t2,e.abrupt("return",{version:"1",encoding:"bstring",compressed:e.t1,encoded:e.t3});case 20:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t){return e.apply(this,arguments)}}(),wn=function(){var e=hn(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t.encoding,e.next="bstring"===e.t0?4:6;break;case 4:return n=t.compressed?t.encoded:mn(t.encoded),e.abrupt("break",7);case 6:throw new Error('decode: unknown encoding "'.concat(t.encoding,'"'));case 7:if(!t.compressed){e.next=9;break}return e.abrupt("return",fn(new Uint8Array(vn(n)),{to:"string"}));case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},98628:function(e,t,n){"use strict";n.d(t,{Ac:function(){return u},Wl:function(){return a},aU:function(){return i},tW:function(){return o},zJ:function(){return s}});var r=n(65233),i={EQUAL:"Equal",MINUS:"Minus",NUM_ADD:"NumpadAdd",NUM_SUBTRACT:"NumpadSubtract",NUM_ZERO:"Numpad0",BRACKET_RIGHT:"BracketRight",BRACKET_LEFT:"BracketLeft",ONE:"Digit1",TWO:"Digit2",NINE:"Digit9",QUOTE:"Quote",ZERO:"Digit0",C:"KeyC",G:"KeyG",K:"KeyK",F:"KeyF",H:"KeyH",M:"KeyM",V:"KeyV",Z:"KeyZ"},o={ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",BACKSPACE:"Backspace",ALT:"Alt",CTRL_OR_CMD:r.Um?"metaKey":"ctrlKey",CTRL:"ctrlKey",SHIFT:"shiftKey",DELETE:"Delete",ENTER:"Enter",ESCAPE:"Escape",QUESTION_MARK:"?",SPACE:" ",TAB:"Tab",FORWARD_SLASH:"/",DOT:".",COMMA:",",LEFT_CARET:"<",RIGHT_CARET:">",A:"a",C:"c",D:"d",E:"e",F:"f",I:"i",J:"j",L:"l",O:"o",P:"p",Q:"q",R:"r",S:"s",T:"t",V:"v",X:"x",Z:"z"},a=function(e){return e===o.ARROW_LEFT||e===o.ARROW_RIGHT||e===o.ARROW_DOWN||e===o.ARROW_UP},s=function(e){return e.altKey},u=function(e){return e.shiftKey}},60991:function(e,t,n){"use strict";var r=n(2784);t.Z=function(e,t){(0,r.useEffect)((function(){var n=function(n){var r,i;e.current&&(r=n.target,(!(null!=(i=Element)&&"undefined"!==typeof Symbol&&i[Symbol.hasInstance]?i[Symbol.hasInstance](r):r instanceof i)||!e.current.contains(n.target)&&document.body.contains(n.target))&&t(n))};return document.addEventListener("pointerdown",n,!1),function(){document.removeEventListener("pointerdown",n)}}),[e,t])}},55632:function(e,t,n){"use strict";n.d(t,{CF:function(){return d},D_:function(){return c},HE:function(){return s},O9:function(){return p},Wc:function(){return a},Wr:function(){return r},bO:function(){return u},l2:function(){return f},nS:function(){return l},wC:function(){return o},y2:function(){return h}});var r,i=n(34406),o={apiKey:"AIzaSyCX5UYWp-3ZAVEuQ3Ospj9Xg9e6ji16roI",authDomain:"app.eraser.io",databaseURL:"https://second-petal-295822-default-rtdb.firebaseio.com",projectId:"second-petal-295822",storageBucket:"second-petal-295822.appspot.com",appId:"1:941057276634:web:f12eed496a39ecb38283e3",measurementId:"G-1MXHYK3MDX",logLevel:"error",performanceEnabled:!0,emulatorEnabled:"true"===i.env.FIREBASE_EMULATOR_ENABLED,region:"us-central1"},a={version:1,name:"eraser",storeName:"database"},s={appId:"fqp3uy63"},u={apiKey:"f168e1e5bad215237a52eb94f5eb4a84"},c={dsn:"https://e4a28cebc4e047b29b1d6915413b3509@o496592.ingest.sentry.io/5597290",publicKey:"e4a28cebc4e047b29b1d6915413b3509",tracesSampleRate:.25},l={appId:"kp5xbh/eraser-live"},f={url:"https://app.eraser.io"},d={url:i.env.WEBSITE_URL||"https://www.eraser.io",homepageURL:i.env.WEBSITE_HOMEPAGE_URL||"https://www.eraser.io/?r=0",docsURL:i.env.WEBSITE_DOCS_URL||"https://docs.eraser.io",helpURL:i.env.WEBSITE_HELP_URL||"https://help.eraser.io",pricingURL:i.env.WEBSITE_PRICING_URL||"https://www.eraser.io/pricing",slackURL:i.env.SLACK_URL||"https://join.slack.com/t/eraser-community/shared_invite/zt-2id0agcg5-WXiO6ha9C9AiJ6A47Gc4pQ",featureRequestURL:i.env.WEBSITE_FEATURE_REQUEST_URL||"https://feedback.eraser.io/feature-requests"},h={baseUrl:"https://eraser.imgix.net"};!function(e){e.Workspaces="workspaces",e.KnownPeople="known-people"}(r||(r={}));var p={appId:"LZ6W44X7AN",workspacesIndex:"workspaces",knownPeopleIndex:"known-people"}},49892:function(e,t,n){"use strict";n.d(t,{IF:function(){return d},Ji:function(){return a},Nk:function(){return l},SF:function(){return u},Wi:function(){return o},bo:function(){return s},iL:function(){return f},k1:function(){return c}});var r,i,o=null!==(r="live")?r:"development",a=null!==(i="2.5.490")?i:"development",s="Unsorted",u="Untitled File",c="Untitled Template",l=600,f="isUserAuthenticated",d="analyticsId"},46995:function(e,t,n){"use strict";n.d(t,{DO:function(){return a},Gd:function(){return i},KU:function(){return o},kz:function(){return s},qo:function(){return r}});var r="ctid",i="cid",o="search",a="data-skip-discard-comment",s=function(e){var t;return!!(null===(t=document.querySelector("[".concat(a,"]")))||void 0===t?void 0:t.contains(e))}},85459:function(e,t,n){"use strict";n.d(t,{fk:function(){return o}});var r=n(2784),i=n(17160);function o(){var e=(0,r.useState)(!1),t=e[0],n=e[1];return(0,r.useEffect)((function(){var e;if("maxTouchPoints"in navigator)e=navigator.maxTouchPoints>0;else if("msMaxTouchPoints"in navigator)e=navigator.msMaxTouchPoints>0;else{var t="matchMedia"in window&&matchMedia("(pointer:coarse)");if(t&&"(pointer:coarse)"===t.media)e=!!t.matches;else if("orientation"in window)e=!0;else{var r=navigator.userAgent;e=/\b(BlackBerry|webOS|iPhone|IEMobile)\b/i.test(r)||/\b(Android|Windows Phone|iPad|iPod)\b/i.test(r)}}n(e)}),[]),t}t.ZP={OnlyDesktop:function(e){var t=e.children;return(0,i.useMediaQuery)({minWidth:1366})?t:null},OnlyTablet:function(e){var t=e.children;return function(){var e=o(),t=(0,i.useMediaQuery)({minDeviceWidth:768,maxDeviceWidth:1366});return e&&t}()?t:null},OnlyMobile:function(e){var t=e.children;return(0,i.useMediaQuery)({maxDeviceWidth:767})?t:null}}},23763:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(52322),i=n(2784),o=n(51992),a=n(17366),s=function(e){var t=(0,i.useState)(!0),n=t[0],r=t[1],o=(0,i.useState)(void 0),s=o[0],u=o[1],c=(0,i.useRef)(),l=(0,i.useCallback)((function(){if(e){var t=(r(!0),c.current=new Image,c.current);t.src=e,t.onload=function(){r(!1),u(e)}}else r(!1)}),[e]);return(0,a.Z)((function(){return l()}),[l]),{isLoading:n,result:s}},u=n(63974),c=n(28058);var l=function(e){return e.split(" ").slice(0,2).map((function(e){return e.charAt(0)})).join("").toUpperCase()},f=n(47661),d=n.n(f);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){h(e,t,n[t])}))}return e}var v=function(e){var t=e.size,n=void 0===t?28:t;return(0,r.jsx)(o.yB,{color:"var(--grey-500)",highlightColor:"var(--grey-400)",children:(0,r.jsx)(o.ZP,{className:d().skeleton,count:1,width:n,height:n,style:{lineHeight:"".concat(n,"px")},circle:!0})})},m=function(e,t){var n=e.size,i=e.style,o=e.color,a=e.photoURL,f=e.fallback,h=e.isLoading,m=e.className,g=e.displayName,y=e.isNoTooltip,b=e.isTransparent,w=e.tooltipSubText,_=s(a),E=_.isLoading,S=_.result;return h||E?(0,r.jsx)(v,{size:n}):g||f?(0,r.jsx)(u.Z,{disabled:y,subText:w,text:g||"No Eraser account found",contentClassName:(0,c.Z)(m,d().avatar,!!S&&d().hasImage,b&&d().isTransparent),contentStyle:p({width:n,height:n,backgroundColor:o,backgroundImage:S?"url(".concat(S,")"):""},i),children:(0,r.jsx)("span",{className:d().fallback,ref:t,children:g?l(g):f})}):null},g=(0,i.memo)((0,i.forwardRef)(m))},93401:function(e,t,n){"use strict";var r=n(52322),i=n(28058),o=n(78205),a=n.n(o);t.Z=function(e){var t=e.variant,n=void 0===t?"primary":t,o=e.className,s=e.onClick,u=e.children;return(0,r.jsx)("span",{onClick:s,className:(0,i.Z)(a().badge,o,a()["variant--".concat(n)]),children:u})}},47964:function(e,t,n){"use strict";var r=n(52322),i=n(93401);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.Z=function(e){return(0,r.jsx)(i.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}({},e,{children:"beta"}))}},91934:function(e,t,n){"use strict";var r=n(52322),i=n(93401);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.Z=function(e){return(0,r.jsx)(i.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}({variant:"secondary"},e,{children:"upgrade"}))}},4729:function(e,t,n){"use strict";n.d(t,{vw:function(){return r.Z},y6:function(){return i.Z}});n(93401);var r=n(47964),i=n(91934)},82863:function(e,t,n){"use strict";n.d(t,{c:function(){return d}});var r=n(52322),i=n(2784),o=n(28058),a=n(78509),s=n.n(a);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){u(e,t,n[t])}))}return e}function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var f=(0,i.forwardRef)((function(e,t){var n=e.value,a=e.onBlur,u=e.onEnter,f=(e.onClick,e.classNames),d=e.placeholder,h=e.onLinkClick,p=e.mode,v=void 0===p?"edit":p,m=e.autoFocus,g=void 0!==m&&m,y=e.isReadOnly,b=void 0===y||y,w=e.isDisabled,_=void 0!==w&&w,E=e.href,S=void 0===E?"/dashboard/all":E,x=l(e,["value","onBlur","onEnter","onClick","classNames","placeholder","onLinkClick","mode","autoFocus","isReadOnly","isDisabled","href"]),O=(0,i.useRef)(!0),C=(0,i.useRef)(null);(0,i.useImperativeHandle)(t,(function(){return C.current})),(0,i.useEffect)((function(){C.current&&(C.current.textContent=n||"")}),[n]);return(0,i.useEffect)((function(){if(O.current&&g&&C.current){C.current.focus();var e=C.current.childNodes[0],t=window.getSelection(),r=document.createRange();n&&e&&(r.setStart(e,(null===n||void 0===n?void 0:n.length)||0),r.collapse(!0),null===t||void 0===t||t.removeAllRanges(),null===t||void 0===t||t.addRange(r)),O.current=!1}}),[g,n]),(0,r.jsx)("div",{className:(0,o.Z)(s().breadCrumbRoot,null===f||void 0===f?void 0:f.root),children:"link"===v?(0,r.jsx)("a",{href:S,onClick:h,className:(0,o.Z)(s().clickable,null===f||void 0===f?void 0:f.link,_&&s().disabled),children:n}):(0,r.jsx)("div",c({ref:C,onBlur:function(e){null===a||void 0===a||a(e),e.currentTarget.scrollLeft=0},onPaste:function(e){e.preventDefault();var t=e.clipboardData.getData("text/plain"),n=document.getSelection().getRangeAt(0);n.deleteContents();var r=document.createTextNode(t);n.insertNode(r),n.selectNodeContents(r),n.collapse(!1);var i=window.getSelection();i.removeAllRanges(),i.addRange(n)},onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),null===u||void 0===u||u(e))},"data-placeholder":d,contentEditable:!b&&!_,className:(0,o.Z)(s().breadCrumb,_&&s().disabled)},x))})})),d=function(e){var t=e.children,n=e.className;return(0,r.jsx)("div",{className:(0,o.Z)(s().breadCrumbsRoot,n),children:t})};d.Item=f,f.displayName="BreadCrumb.Item"},3559:function(e,t,n){"use strict";n.d(t,{tr:function(){return r},zx:function(){return v}});var r,i,o=n(52322),a=n(2784),s=n(87553),u=n(63974),c=n(9251),l=n(28058),f=n(82664),d=n.n(f);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}!function(e){e.REGULAR="regular",e.TRANSPARENT="transparent",e.TRANSPARENT_SUCCESS="transparent-success",e.TRANSPARENT_REGULAR="transparent-regular",e.RELIEF_GREY="relief-grey",e.REVERSED="reversed",e.DANGER="danger",e.REVERSED_DANGER="reversed-danger",e.DARK="dark",e.LIGHT="light",e.OUTLINE="outline",e.OUTLINE_REGULAR="outline-regular"}(r||(r={})),function(e){e.TINY="tiny",e.X_SMALL="x-small",e.SMALL="small",e.MEDIUM="medium",e.LARGE="large",e.X_LARGE="x-large"}(i||(i={}));var v=function(e,t){var n=e.className,s=e.variant,f=void 0===s?r.REGULAR:s,v=e.size,m=void 0===v?i.MEDIUM:v,y=e.children,b=e.leftIcon,w=e.title,_=e.titlePlacement,E=e.titleShortcutKeys,S=e.isLoading,x=e.disabled,O=e.tooltipDisabled,C=e.tooltipClassName,k=e.isSelected,T=e.onMouseEnter,A=e.onMouseLeave,I=e.LoadingSpinner,D=p(e,["className","variant","size","children","leftIcon","title","titlePlacement","titleShortcutKeys","isLoading","disabled","tooltipDisabled","tooltipClassName","isSelected","onMouseEnter","onMouseLeave","LoadingSpinner"]),P=(0,a.useRef)(null),R=(0,c.Z)(t,P),N=(0,o.jsx)("button",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){h(e,t,n[t])}))}return e}({},D,{onMouseEnter:T,onMouseLeave:A,ref:R,className:(0,l.Z)(d().button,d()[f],d()[m],S&&d().isLoading,k&&d().selected,n),disabled:x||S,children:(0,o.jsx)(g,{leftIcon:b,isLoading:S,variant:f,LoadingSpinner:I,children:y})}));return w?(0,o.jsx)(u.Z,{contentClassName:(0,l.Z)(d().tooltipWrapper,C),text:w,shortcutKeys:E,tooltipPopperProps:{placement:_||"bottom"},disabled:O,children:N}):N},m=function(){return(0,o.jsx)(s.Z,{})},g=function(e){var t=e.leftIcon,n=e.variant,r=e.isLoading,i=e.children,s=e.LoadingSpinner,u=void 0===s?m:s,c=t&&(0,a.cloneElement)(t,{className:(0,l.Z)(t.props.className,!i&&d().iconOnly,d().leftIcon)});return(0,o.jsxs)(o.Fragment,{children:[c,i,r&&(0,o.jsx)("span",{className:(0,l.Z)(d().spinnerWrapper,n&&d()["variant--".concat(n)]),children:(0,o.jsx)(u,{})})]})},y=(0,a.memo)((0,a.forwardRef)(v));Object.assign(y,{Variants:r,Sizes:i}),t.ZP=y},7031:function(e,t,n){"use strict";var r=n(52322),i=n(2784),o=n(28058),a=n(41191),s=n.n(a);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=function(e){var t=e.className,n=e.children,i=c(e,["className","children"]);return(0,r.jsx)("div",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){u(e,t,n[t])}))}return e}({className:(0,o.Z)(s().buttonGroup,t)},i,{children:n}))};t.Z=(0,i.memo)(l)},44801:function(e,t,n){"use strict";n.d(t,{X:function(){return c}});var r=n(52322),i=n(2784),o=n(94764),a=n(28058),s=n(44723),u=n.n(s),c=function(e){var t=e.label,n=e.onChange,s=e.isChecked,c=e.disabled,l=e.className,f=(0,i.useRef)((0,o.x0)());return(0,r.jsxs)("div",{className:(0,a.Z)(u().checkboxWrapper,l),children:[(0,r.jsx)("input",{type:"checkbox",id:f.current,disabled:c,checked:s,className:u().checkbox,onChange:function(){return n(!s)}}),(0,r.jsx)("label",{className:u().label,htmlFor:f.current,children:t})]})}},33512:function(e,t,n){"use strict";n.d(t,{Z:function(){return h}});var r=n(52322),i=n(2784),o=n(3559),a=n(72342),s=n(28058),u=n(46137),c=n.n(u);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var d=function(e,t){var n=e.title,i=e.isOpen,u=e.onCancel,d=e.onConfirm,h=e.description,p=e.onMouseDown,v=e.rootClassName,m=e.isDeletion,g=void 0!==m&&m,y=e.isLoading,b=e.confirmBtnText,w=void 0===b?"Confirm":b,_=f(e,["title","isOpen","onCancel","onConfirm","description","onMouseDown","rootClassName","isDeletion","isLoading","confirmBtnText"]);return(0,r.jsxs)(a.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){l(e,t,n[t])}))}return e}({},_,{ref:t,title:n,isOpen:!!i,onClose:u,onMouseDown:p,rootClassName:v,className:(0,s.Z)(c().confirmationModal),children:[(0,r.jsx)("div",{className:c().description,children:h}),(0,r.jsxs)("div",{className:c().actions,children:[(0,r.jsx)(o.ZP,{onClick:u,autoFocus:g,size:o.ZP.Sizes.LARGE,className:c().actionBtn,variant:o.ZP.Variants.OUTLINE,"data-testid":"confirmation-modal-cancel",children:"Cancel"}),(0,r.jsx)(o.ZP,{onClick:d,autoFocus:!g,size:o.ZP.Sizes.LARGE,className:c().actionBtn,"data-testid":"confirmation-modal-confirm",variant:g?o.ZP.Variants.DANGER:void 0,isLoading:y,children:w})]})]}))},h=(0,i.memo)((0,i.forwardRef)(d))},67612:function(e,t,n){"use strict";n.d(t,{Lt:function(){return Z},sV:function(){return M},KE:function(){return O},Ng:function(){return q}});var r,i=n(52322),o=n(2784),a=n(48570),s=n(46972),u=n(63301),c=n(53822),l=n(19422),f=n(99627),d=n(29633),h=n(28058),p=n(91614),v=n(83445),m=n(53589),g=n(63974);function y(){return y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y.apply(this,arguments)}var b=function(e){return o.createElement("svg",y({width:14,height:4,viewBox:"0 0 14 4",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=o.createElement("path",{d:"M2 .333C1.083.333.333 1.083.333 2S1.083 3.667 2 3.667 3.667 2.917 3.667 2 2.917.333 2 .333zm10 0c-.917 0-1.667.75-1.667 1.667s.75 1.667 1.667 1.667 1.667-.75 1.667-1.667S12.917.333 12 .333zm-5 0c-.917 0-1.667.75-1.667 1.667S6.083 3.667 7 3.667 8.667 2.917 8.667 2 7.917.333 7 .333z",fill:"currentColor"})))},w=n(51098),_=n.n(w),E=function(e){var t=e.isVisible,n=e.onClick,r=e.className,a=(0,o.useContext)(m.c).controller;return(null===a||void 0===a?void 0:a.isOpen)||t?(0,i.jsx)("span",{className:(0,h.Z)(_().dots,r),onClick:n,children:(0,i.jsx)(c.J,{icon:b})}):null},S=n(28051),x=n.n(S),O=function(e){var t=e.space,n=void 0===t?"medium":t,r=e.isInvisible;return(0,i.jsx)("hr",{className:(0,h.Z)(x().divider,x()["size--".concat(n)],r&&x().transparent)})},C=n(14113),k=function(e){var t=e.value,n=e.placeholder,r=void 0===n?"Search":n,a=e.notFoundText,s=void 0===a?"No matches":a,u=e.isEnabled,c=e.isSearchEmpty,l=e.onChange,f=(0,o.useCallback)((function(e){l(e.currentTarget.value.trim())}),[l]);return u?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:x().search,children:(0,i.jsx)(C.Z,{autoFocus:!0,value:t,className:x().searchField,placeholder:r,onChange:f})}),(0,i.jsx)(O,{}),!!t&&c&&s&&(0,i.jsx)("span",{className:x().searchNotFound,children:s})]}):null},T=(0,o.memo)(k);var A=function(e){return null==e.getAttribute("disabled")&&e.matches("a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  [tabindex],\n  [contentEditable=true]")},I=function(e){var t=null;if(!e)return t;var n,r,i=!0,o=!1,a=void 0;try{for(var s,u=Array.from(e.children)[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;null==t&&(A(c)&&(n=c,null!=(r=HTMLElement)&&"undefined"!==typeof Symbol&&r[Symbol.hasInstance]?r[Symbol.hasInstance](n):n instanceof r)?t=c:c.children.length>0&&(t=I(c)))}}catch(l){o=!0,a=l}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}return t},D=function(e,t,n){var r="prev"===n?null===e||void 0===e?void 0:e.previousElementSibling:null===e||void 0===e?void 0:e.nextElementSibling;return r?A(r)?r:D(r,t,n):I(t)};function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){P(e,t,n[t])}))}return e}function N(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var j,M=function(e){var t=e.spacing,n=void 0===t?"small":t,r=e.maxHeight,a=void 0===r?400:r,s=e.children,u=e.className,c=e.search,l=e.disableKeyboardNavigation,f=void 0!==l&&l,d=N(e,["spacing","maxHeight","children","className","search","disableKeyboardNavigation"]),p=(0,o.useRef)(null),v=(0,o.useState)(""),g=v[0],y=v[1];!function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,o.useContext)(m.c),r=n.isTopLevel,i=n.target,a=n.parentMenu,s=(0,o.useContext)(m.c).getDescendantPopups;(0,o.useEffect)((function(){var n;if(!t&&!r&&!(null===(n=e.current)||void 0===n?void 0:n.contains(document.activeElement))){var i=I(e.current);null===i||void 0===i||i.focus()}}),[e,t,r]),(0,o.useEffect)((function(){if(!t){var n=function(t){if(!(s().length>0))switch(t.key){case"ArrowUp":var n=D(document.activeElement,e.current,"prev");n&&(t.preventDefault(),n.focus());break;case"ArrowDown":var o=D(document.activeElement,e.current,"next");o&&(t.preventDefault(),o.focus());break;case"ArrowLeft":if(r)return;null===i||void 0===i||i.focus(),null===a||void 0===a||a.closeDescendentPopups()}};return document.addEventListener("keydown",n),function(){document.removeEventListener("keydown",n)}}}),[r,a,i,s,t,e])}(p,f);var b=g?o.Children.toArray(s).filter((function(e){if(!(0,o.isValidElement)(e)||e.type===O)return!1;var t=e.props,n=t.label,r=t.children;return!n&&!r||!!n&&n.toLowerCase().includes(g.toLowerCase())})):s;return(0,i.jsxs)("div",R({ref:p,className:(0,h.Z)(x().wrapper,u),style:{maxHeight:a||"initial"}},d,{children:[(null===c||void 0===c?void 0:c.isEnabled)&&(0,i.jsx)(T,R({},c,{value:g,isSearchEmpty:!s,onChange:y})),(0,i.jsx)("div",{className:(0,h.Z)(x().list,x()["spacing--".concat(n)]),children:b})]}))};function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){L(e,t,n[t])}))}return e}!function(e){e.Grey="grey",e.LightGrey="lightGrey",e.LightGreyContrast="lightGreyContrast",e.Transparent="transparent"}(j||(j={}));var B={modifiers:[{name:"offset",options:{offset:function(e){switch(e.placement){case"right-end":return[8,18];case"bottom-end":case"bottom-start":return[0,18];default:return[-8,18]}}}}]},U=function(e){var t=e.hint,n=e.icon,r=e.title,a=e.isOpen,l=e.testId,f=e.variant,p=e.showCaret,v=e.isFocused,y=e.isDisabled,b=e.popupToggleRef,w=e.toggleClassNames,_=(0,o.useContext)(m.c).isTopLevel;!function(e,t){var n=(0,o.useContext)(m.c),r=n.isTopLevel,i=n.target,a=n.parentMenu,s=n.controller,u=n.setTarget;(0,o.useEffect)((function(){if(!r&&e&&t){var n=function(e){if("ArrowRight"===e.key||"Enter"===e.key){if(e.preventDefault(),e.stopPropagation(),i||!t)return;u(t),null===a||void 0===a||a.closeDescendentPopups(s)}};return document.addEventListener("keydown",n),function(){document.removeEventListener("keydown",n)}}}),[s,e,r,a,t,u,i])}(v,null===b||void 0===b?void 0:b.current);var E=(0,o.useCallback)((function(){var e;_||(null===b||void 0===b||null===(e=b.current)||void 0===e||e.focus())}),[_,b]),S=(0,o.useCallback)((function(){var e;null===b||void 0===b||null===(e=b.current)||void 0===e||e.blur()}),[b]),O=(0,i.jsxs)("span",{className:(0,h.Z)(x().toggle,v&&x().isFocused,y&&x().isDisabled,!_&&x().isSubMenu,a&&(null===w||void 0===w?void 0:w.open),null===w||void 0===w?void 0:w.root,f&&x()["variant--".concat(f)]),onMouseEnter:E,onMouseLeave:S,"data-is-dropdown-active":a,"data-testid":l,children:[!!n&&(0,i.jsx)("span",{className:(0,h.Z)(x().icon,null===w||void 0===w?void 0:w.icon),children:n}),(0,i.jsx)("span",{className:(0,h.Z)(x().content,null===w||void 0===w?void 0:w.content,p&&x().hasCaret,!_&&!p&&x().noMargin),children:r}),_?p&&(0,i.jsx)(s.Z,{className:(0,h.Z)(x().caretIcon,null===w||void 0===w?void 0:w.caret,a&&x().isOpen)}):(0,i.jsx)("span",{className:x().rightElement,children:(0,i.jsx)(c.J,{icon:u.Z})})]});return t?(0,i.jsx)(g.Z,{text:(0,i.jsxs)("span",{className:x().hint,children:[(0,i.jsx)("span",{children:t.label}),!!t.shortcutKeys&&(0,i.jsx)(d.P,{className:x().shortcut,keys:t.shortcutKeys})]}),popperProps:t.popperProps,tooltipPopperProps:{placement:t.placement||"top"},disabled:a,children:O}):O},V=function(e){var t,n=e.icon,r=e.hint,s=e.width,u=e.search,c=e.testId,d=e.spacing,m=e.minWidth,g=e.isHidden,y=e.asNested,b=e.maxHeight,w=e.isDisabled,_=e.classNames,E=e.onOpenChange,S=e.toggleClassNames,O=e.showCaret,C=void 0===O||O,k=e.keyboardShortcut,T=e.isMountedInPopper,A=e.takeWidthOfToggle,I=e.renderPopupInPortal,D=e.variant,P=e.toggleRef,R=e.stayOpenOnOutsideClick,N=(0,v.Z)({defaultIsOpen:!1}),j=N.isOpen,L=N.onClose,B=N.onOpen,V=(0,o.useRef)(null),q=null!==P&&void 0!==P?P:V,Z=(0,l.QR)(),H=function(e){var t=e.title,n=e.noSelectionTitle,r=e.selected,s=e.children,u=e.selectionVariant,c=e.onSelect,l=null!==t&&void 0!==t?t:null,d=function(e,t){return e.isSelected||t&&t===r||e.label&&e.label===r||!1},h=o.Children.map(s,(function(e,t){if((0,a.isElement)(e)){if(e.type===f.Z){var n,r=e.props,i=d(r,e.key),s={key:null!==(n=e.key)&&void 0!==n?n:t,isSelected:i,selectionVariant:u};return!l&&i&&(l=r.label),i&&(s.isSelected=!0),c&&(s.onClick=function(t){var n,i,o,a="".concat(null!==(o=null!==(i=e.key)&&void 0!==i?i:r.label)&&void 0!==o?o:"");a||console.warn("Passed onSelect but no key or label found!"),c(a),null===(n=r.onClick)||void 0===n||n.call(r,t)}),(0,o.cloneElement)(e,s)}return e}}));return null!==l&&void 0!==l||(l=n),{title:(0,i.jsx)("span",{className:x().title,children:l}),children:h}}(e),W=H.title,G=H.children;(0,o.useEffect)((function(){var e=function(e){(0,p.cK)(document.activeElement)||w||g||!k||e.metaKey||e.shiftKey||e.ctrlKey||e.altKey||e.key===k&&(e.preventDefault(),e.stopPropagation(),Z.openPopup())};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[k,g,w,Z]);var K=A?null===(t=q.current)||void 0===t?void 0:t.clientWidth:s,J=(0,o.useCallback)((function(){w||null===E||void 0===E||E(!0)}),[w,E]);return(0,i.jsxs)(l.GI,{asNested:y,controller:Z,onShow:J,onHide:function(){return null===E||void 0===E?void 0:E(!1)},children:[(0,i.jsx)(l.GI.Toggle,{ref:q,onBlur:L,onFocus:B,isDisabled:w,className:(0,h.Z)(null===S||void 0===S?void 0:S.button,x().popupToggle),children:(0,i.jsx)(U,{hint:r,icon:n,title:W,testId:c,variant:D,showCaret:C,isFocused:j,isDisabled:w,isOpen:Z.isOpen,popupToggleRef:q,toggleClassNames:S})}),(0,i.jsx)(l.GI.Menu,F({disableArrow:!0,ignoreClicksOnTargetNode:!0,className:(0,h.Z)(x().popper,null===_||void 0===_?void 0:_.popupMenu),renderInPortal:I,style:{minWidth:m,width:K}},T?{closeOnOtherPopperClick:!0}:{},{popperProps:z(e),stayOpenOnOutsideClick:R,children:(0,i.jsx)(M,{search:u,spacing:d,maxHeight:b,className:null===_||void 0===_?void 0:_.menu,children:G})}))]})};function z(e){var t=e.popperModifiers,n=e.popperPlacement;return t||n?{modifiers:t,placement:n}:B}V.Variants=j;var q=function(e){var t=e.isOpen,n=e.isHidden,r=e.toggleClassNames;return(0,i.jsx)(V,F({},e,{showCaret:!1,toggleClassNames:F({},r,{button:(0,h.Z)(x().threeDotsDropdown,null===r||void 0===r?void 0:r.button),root:(0,h.Z)(x().threeDotsDropdownToggle,null===r||void 0===r?void 0:r.root)}),title:(0,i.jsx)(E,{isVisible:t||!n,onClick:function(e){return e.preventDefault()}})}))};var Z=V},53822:function(e,t,n){"use strict";n.d(t,{J:function(){return a}});var r=n(28058);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var a=function(e){var t=e.icon,n=e.color,a=e.className,s=o(e,["icon","color","className"]);return"function"!==typeof t?null:t(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}({},s,{className:(0,r.Z)(a)},n?{color:"var(--".concat(n,")")}:{}))}},35221:function(e,t,n){"use strict";n.d(t,{U:function(){return u}});var r,i=n(52322),o=n(28058),a=n(26647),s=n.n(a);!function(e){e.LightGrey="lightGrey",e.Error="error"}(r||(r={}));var u=Object.assign((function(e){var t=e.variant,n=void 0===t?r.LightGrey:t,a=e.className,u=e.children;return(0,i.jsx)("span",{className:(0,o.Z)(s().infoBlock,s()["variant--".concat(n)],a),children:u})}),{Variants:r})},16838:function(e,t,n){"use strict";n.d(t,{A:function(){return f}});var r=n(52322),i=n(2784),o=n(63974),a=n(88020),s=n.n(a),u=n(28058);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var f=(0,i.forwardRef)((function(e,t){var n=e.className,i=e.labelClassNames,a=void 0===i?{}:i,f=e.label,d=e.required,h=e.children,p=e.optional,v=e.tooltip,m=e.errorText,g=e.explanation,y=l(e,["className","labelClassNames","label","required","children","optional","tooltip","errorText","explanation"]),b=a.labelText,w=a.root,_=!(!m&&!g),E=!!m;return(0,r.jsxs)("label",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){c(e,t,n[t])}))}return e}({className:(0,u.Z)(s().inputLabel,n,w)},y,{ref:t,children:[f&&(0,r.jsxs)("div",{className:(0,u.Z)(s().label,b),children:[f,d?(0,r.jsx)("span",{className:s().required,children:"Required"}):p?(0,r.jsx)("span",{className:s().required,children:"Optional"}):null]}),(0,r.jsx)("div",{className:s().field,children:v?(0,r.jsx)(o.Z,{text:v,children:h}):h}),_&&(0,r.jsx)("div",{className:(0,u.Z)(s().explanation,E&&s().error),children:E?m:g})]}))}));f.displayName="InputLabel"},87115:function(e,t,n){"use strict";n.d(t,{Z:function(){return M}});var r=n(52322),i=n(2784),o=n(68732),a=n(14898),s=n(94776),u=n.n(s),c=n(43931),l=n.n(c),f=n(55632),d=n(92678);function h(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function p(e){var t=e.index,n=e.search,r=e.searchOnEmptyString,o=e.filterString,a=e.resultCount,s=void 0===a?5:a,c=e.disabled,p=e.onSearchFinished,v=(0,i.useRef)(n);v.current=n;var m=(0,i.useState)({items:[],loading:!1,error:null}),g=m[0],y=m[1],b=(0,d.ZP)(),w=(0,i.useMemo)((function(){if(b)return l()(f.O9.appId,b).initIndex(t)}),[b,t]),_=(0,i.useCallback)(function(){var e,t=(e=u().mark((function e(t,n,i){var o,a,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t&&(""!==t||r)&&w&&!i){e.next=4;break}return y({items:[],loading:!1,error:null}),null===p||void 0===p||p(0),e.abrupt("return");case 4:return y((function(e){return{items:e.items,loading:!0,error:null}})),o={hitsPerPage:s},n&&(o.filters=n),e.prev=7,e.next=11,w.search(null!==t&&void 0!==t?t:"",o);case 11:if(c=e.sent,v.current===t){e.next=14;break}return e.abrupt("return");case 14:y({items:(null===c||void 0===c?void 0:c.hits)||[],loading:!1,error:null}),null===p||void 0===p||p((null===c||void 0===c||null===(a=c.hits)||void 0===a?void 0:a.length)||0),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(7),y({items:[],loading:!1,error:e.t0});case 21:case"end":return e.stop()}}),e,null,[[7,18]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){h(o,r,i,a,s,"next",e)}function s(e){h(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e,n,r){return t.apply(this,arguments)}}(),[w,s,r,p]);return(0,i.useEffect)((function(){_(n,o,c)}),[_,n,o,c]),g}var v=n(25825),m=n(32667),g=n(46995),y=n(49797),b=n(23763),w=n(28058),_=n(84540),E=n.n(_);function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){S(e,t,n[t])}))}return e}function O(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var C=function(e){var t=e.data,n=O(e,["data"]),o=(0,y.Z)(t.userId),a=(0,i.useCallback)((function(e){e.stopPropagation()}),[]);return t.userId&&!o?null:(0,r.jsx)(k,x({data:t,profile:o},n,{onMouseUp:a}))},k=function(e){var t=e.profile,n=e.data,i=e.shouldIncludeEmails,o=e.isActive,a=e.onMouseUp,s=e.onClick,u=e.onActivate;return(0,r.jsx)("div",{className:(0,w.Z)(E().knownPersonInfo,o&&E().isActive,i?E().knownPersonInfoMedium:E().knownPersonInfoSmall),onMouseUp:a,onClick:s,onMouseEnter:u,children:t?(0,r.jsxs)("div",{className:(0,w.Z)(E().member,i?E().memberMedium:E().memberSmall),children:[(0,r.jsx)(b.Z,x({},t,{className:(0,w.Z)(i?E().avatarMedium:E().avatarSmall)})),(0,r.jsxs)("div",{className:(0,w.Z)(E().label,i?E().labelMedium:E().labelSmall),children:[t.displayName,i?(0,r.jsx)("div",{className:E().email,children:n.email}):null]})]}):(0,r.jsx)("div",{className:E().guest,children:n.email})})},T=(0,i.memo)(C);function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=function(e){var t,n=e.className,o=e.matchingPeople,a=e.onSelect,s=e.onCancel,u=e.shouldIncludeEmails,c=e.width,l=(0,i.useRef)(null),f=(0,v.c)({containerRef:l,items:o,onSelect:a,onCancel:s}),d=f.activeIndex,h=f.setActiveIndex,p=f.handleContainerMouseDown;return o.length?(0,r.jsx)(m.Z,(A(t={ref:l,style:c?{width:c}:{},className:n,onMouseDown:p,onClick:p},g.DO,!0),A(t,"children",o.map((function(e,t){return(0,r.jsx)(T,{data:e,isActive:d===t,onActivate:h.bind(null,t),onClick:a.bind(null,e),shouldIncludeEmails:u},e.email)}))),t)):null},D=n(46710),P=n(886),R=n.n(P),N=function(e){var t=e.targetNode,n=e.className,o=e.matchingPeople,a=e.onSelect,s=e.onCancel,u=e.shouldIncludeEmails,c=e.isPopperVisible,l=(0,i.useMemo)((function(){return null===t||void 0===t?void 0:t.getBoundingClientRect().width}),[t]);return o.length?(0,r.jsx)(D.Z,{className:R().dropdownPopper,arrowClassName:R().hidden,targetNode:t,placement:"bottom-start",popperProps:{modifiers:[{name:"flip"}]},visible:c,shouldUseDomObserver:!0,children:(0,r.jsx)(I,{width:l,className:(0,w.Z)(n,R().popperListBox),onSelect:a,matchingPeople:o,onCancel:s,shouldIncludeEmails:u})}):null},j=function(e){var t=e.targetNode,n=e.className,i=e.search,s=e.withProfileOnly,u=e.includeSelf,c=e.onSelect,l=e.searchOnEmptyString,d=e.onCancel,h=e.onSearchFinished,v=e.shouldIncludeEmails,m=e.isPopperVisible,g=void 0===m||m,y=e.filterPredicate,b=(0,a.fC)(),w=(0,o.Rs)(),_=function(e,t){var n=[];return e&&Object.keys(e).forEach((function(t){var r=e[t];void 0!==r&&n.push("".concat(t,":").concat(r))})),t&&Object.keys(t).forEach((function(e){var r=t[e];void 0!==r&&n.push("NOT ".concat(e,":").concat(r))})),n.join(" AND ")}({teamId:w?w.id:void 0,hasProfile:!!s||void 0},{memberId:u||null===b||void 0===b?void 0:b.id}),E=p({index:f.Wr.KnownPeople,searchOnEmptyString:l,search:i,filterString:_,disabled:!w,onSearchFinished:h}).items;return y&&(E=E.filter(y)),(0,r.jsx)(N,{isPopperVisible:g,targetNode:t,className:n,onSelect:c,matchingPeople:E,onCancel:d,shouldIncludeEmails:v})},M=(0,i.memo)(j)},83e3:function(e,t,n){"use strict";n.d(t,{d:function(){return c}});var r=n(52322),i=n(28058),o=n(60006),a=n.n(o);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var c=function(e){var t=e.className,n=e.children,o=u(e,["className","children"]);return(0,r.jsx)("a",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}({target:"_blank",rel:"noreferrer"},o,{className:(0,i.Z)(a().link,t),children:n}))}},50040:function(e,t,n){"use strict";n.d(t,{d:function(){return r.d},c:function(){return l}});var r=n(83e3),i=n(52322),o=n(28058),a=n(59107),s=n.n(a);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=function(e){var t=e.className,n=e.children,r=c(e,["className","children"]);return(0,i.jsx)("a",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){u(e,t,n[t])}))}return e}({},r,{className:(0,o.Z)(s().link,t),children:n}))}},32667:function(e,t,n){"use strict";var r=n(52322),i=n(2784),o=n(28058),a=n(61637),s=n.n(a);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){u(e,t,n[t])}))}return e}function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var f=function(e,t){var n=e.className,a=e.children,u=l(e,["className","children"]),f=(0,i.useState)(!0),d=f[0],h=f[1];(0,i.useEffect)((function(){var e=function(e){"ArrowDown"!==e.code&&"ArrowUp"!==e.code||h(!1)},t=function(){h(!0)};return window.addEventListener("keydown",e),window.addEventListener("mousemove",t),function(){window.removeEventListener("keydown",e),window.removeEventListener("mousemove",t)}}),[]);var p=Array.isArray(a)?i.Children.map(a,(function(e){return(0,i.isValidElement)(e)&&e.props.onActivate?(0,i.cloneElement)(e,c({},e.props,{onActivate:d?e.props.onActivate:function(){return null}})):e})):a;return(0,r.jsx)("div",c({ref:t,className:(0,o.Z)(s().listBox,n)},u,{children:p}))};t.Z=(0,i.memo)((0,i.forwardRef)(f))},25825:function(e,t,n){"use strict";n.d(t,{c:function(){return u}});n(32667);var r=n(2784),i=n(60991),o=n(24965),a=n(91614);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){var t=e.containerRef,n=e.items,u=e.customScrollIntoView,c=e.scrollOptions,l=void 0===c?{block:"center"}:c,f=e.allowJumpToFirstOnLast,d=void 0===f||f,h=e.onSelect,p=e.onCancel,v=e.isListOpen,m=void 0===v||v,g=e.options,y=void 0===g?{shouldTabKeySelect:!0,additionalOnSelectShortcuts:[],whenShouldHookBeActive:"always"}:g,b=y.shouldTabKeySelect,w=y.whenShouldHookBeActive,_=y.additionalOnSelectShortcuts,E=(0,r.useState)(0),S=E[0],x=E[1],O=(0,r.useCallback)((function(e){e.stopPropagation(),e.preventDefault()}),[]),C=(0,r.useMemo)((function(){return!1===m?function(){return!0}:"always"===w?function(){return!1}:"whenNoInputIsFocused"===w?function(e,t){return"INPUT"===(null===t||void 0===t?void 0:t.tagName)||(null===t||void 0===t||t.tagName,!1)}:null}),[w,m]),k=(0,r.useCallback)((function(e){x((function(r){var i=r+e;if(i<0?i=d?n.length-1:0:i>=n.length&&(i=d?0:n.length-1),u)u(i,n);else{var o,s=null===t||void 0===t||null===(o=t.current)||void 0===o?void 0:o.children[i];s&&(0,a.zT)(s,l)}return i}))}),[d,t,u,n,l]),T=(0,r.useCallback)((function(e){return(null===C||void 0===C?void 0:C(e,document.activeElement))||!!document.querySelector('[data-is-dropdown-active="true"]')}),[C]),A=(0,r.useCallback)((function(e){!T(e)&&n.length&&(e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault(),k(-1))}),[n.length,k,T]),I=(0,r.useCallback)((function(e){!T(e)&&n.length&&(e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault(),k(1))}),[n.length,k,T]),D=(0,r.useCallback)((function(e){!T(e)&&n.length&&-1!==S&&(e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault(),h(n[S],e))}),[S,n,h,T]),P=null===_||void 0===_?void 0:_.reduce((function(e,t){return e[t]=function(e){return D(e)},e}),{});(0,o.Z)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}({up:A,down:I,enter:D,esc:p||function(){},"ctrl+enter":D,"command+enter":D,"shift+tab":b?void 0:A},P),{stopCallback:C}),(0,i.Z)(t||{current:null},(function(){return null===p||void 0===p?void 0:p()}));var R=(0,r.useCallback)((function(e){"Tab"!==e.key||e.shiftKey||(b?D(e):I(e))}),[I,D,b]);return(0,r.useEffect)((function(){return window.addEventListener("keydown",R,!0),function(){window.removeEventListener("keydown",R,!0)}}),[R]),(0,r.useEffect)((function(){x(0)}),[n.length]),{activeIndex:S,setActiveIndex:x,handleContainerMouseDown:O}}},34699:function(e,t,n){"use strict";n.d(t,{v:function(){return f}});var r=n(52322),i=(n(2784),n(28058)),o=n(53822),a=n(63301),s=n(14942),u=n.n(s);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var f=function(e){var t=e.icon,n=e.isActive,s=e.subTitle,f=e.className,d=e.mainTitle,h=e.isBackable,p=e.endContent,v=e.mainContent,m=e.isExpandable,g=e.secondaryTitle,y=e.classNames,b=void 0===y?{}:y,w=l(e,["icon","isActive","subTitle","className","mainTitle","isBackable","endContent","mainContent","isExpandable","secondaryTitle","classNames"]);return(0,r.jsxs)("div",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){c(e,t,n[t])}))}return e}({},w,{className:(0,i.Z)(f,u().root,b.root,n&&u().isActive,n&&b.rootActive),children:[t&&(0,r.jsx)("div",{className:(0,i.Z)(u().icon,b.icon),children:t}),h&&(0,r.jsx)("div",{className:u().backIcon,children:(0,r.jsx)(o.J,{icon:a.Z,width:12,height:12})}),(0,r.jsx)("div",{className:u().content,children:v||(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:u().title,children:[(0,r.jsx)("span",{className:(0,i.Z)(u().mainTitle,Boolean(g)&&u().fitWidth),children:d}),g&&(0,r.jsx)("span",{className:u().secondaryTitle,children:g})]}),s&&(0,r.jsx)("div",{className:(0,i.Z)(b.subTitle,u().subTitle),children:s})]})}),m&&(0,r.jsx)("div",{className:u().forwardIcon,children:(0,r.jsx)(o.J,{icon:a.Z,width:12,height:12})}),p&&(0,r.jsx)("div",{className:b.endContent,children:p})]}))}},51980:function(e,t,n){"use strict";n.d(t,{s:function(){return d}});var r=n(52322),i=n(2784),o=n(49797),a=n(23763),s=n(28058),u=n(70941),c=n.n(u);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var d=function(e){var t=e.userId,n=e.onClick,u=e.className,d=f(e,["userId","onClick","className"]),h=(0,o.Z)(t),p=(0,i.useCallback)((function(){return null===n||void 0===n?void 0:n(t)}),[t,n]);return(0,r.jsx)(a.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){l(e,t,n[t])}))}return e}({},d,h,{isLoading:!h,onClick:p,className:(0,s.Z)(c().avatar,u)}))};t.Z=(0,i.memo)(d)},72342:function(e,t,n){"use strict";n.d(t,{Z:function(){return k},i:function(){return x}});var r,i=n(52322),o=n(2784),a=n(5632),s=n(39449),u=n(3559),c=n(53822),l=n(28316),f=function(e){var t=e.children;return(0,l.createPortal)(t,document.body)},d=(0,o.memo)(f),h=n(29633),p=n(28058),v=n(59503),m=n.n(v);function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){y(e,t,n[t])}))}return e}function w(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return g(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}!function(e){e.Large="large",e.XL="xl"}(r||(r={}));var E="eraser-modal-dialog",S="eraser-modal-container",x=function(){return null!=document.getElementById(E)},O=function(e,t){var n=e.size,r=e.title,l=e.isOpen,f=e.onClose,v=e.children,g=e.className,y=e.rootClassName,x=e.headerClassName,O=e.bottomGradient,C=e.theme,k=void 0===C?"light":C,T=e.hideCloseButton,A=e.fireCloseOnKeys,I=void 0===A?[]:A,D=e.contentWrapperClassName,P=e.showTitleSeparator,R=void 0!==P&&P,N=e.closeButtonVariant,j=void 0===N?"cross":N,M=w(e,["size","title","isOpen","onClose","children","className","rootClassName","headerClassName","bottomGradient","theme","hideCloseButton","fireCloseOnKeys","contentWrapperClassName","showTitleSeparator","closeButtonVariant"]),L=(0,a.useRouter)(),F=(0,o.useRef)(null),B=(0,o.useCallback)((function(e){e.stopPropagation()}),[]);(0,o.useEffect)((function(){if(f)return null===L||void 0===L||L.events.on("routeChangeStart",f),function(){null===L||void 0===L||L.events.off("routeChangeStart",f)}}),[f,L]);var U=(0,o.useCallback)((function(e){var t=["Escape"].concat(_(I));f&&t.includes(e.key)&&(e.preventDefault(),e.stopPropagation(),f())}),[f,I]);(0,o.useEffect)((function(){return window.addEventListener("keydown",U),function(){window.removeEventListener("keydown",U)}}),[U]);var V=(0,o.useCallback)((function(e){e.stopPropagation(),F.current=e.target.id||null}),[]),z=(0,o.useCallback)((function(e){e.stopPropagation(),F.current===S&&f&&f(),F.current=null}),[f]);return l?(0,i.jsx)(d,{children:(0,i.jsx)("div",{ref:t,id:S,onMouseUp:z,onMouseDown:V,className:(0,p.Z)(m().modal,y,"dark"===k&&m().isDarkMode,"modal"),children:(0,i.jsxs)("div",b({},M,{id:E,onClick:B,className:(0,p.Z)(m().dialog,g,!!n&&m()[n],O&&m().hasBottomGradient),children:[!f||T?null:"cross"===j?(0,i.jsx)("button",{type:"button",onClick:f,className:(0,p.Z)(m().closeBtn,m().closeBtnCross),children:(0,i.jsx)(c.J,{icon:s.Z})}):(0,i.jsxs)(u.ZP,{onClick:f,size:u.ZP.Sizes.SMALL,variant:u.ZP.Variants.TRANSPARENT,className:(0,p.Z)(m().closeBtn,m().closeBtnText),children:["Close",(0,i.jsx)(h.P,{keys:["Esc"]})]}),!!r&&(0,i.jsx)("header",{className:(0,p.Z)(m().header,x),children:r}),R&&(0,i.jsx)("hr",{className:m().titleSeparator}),(0,i.jsx)("div",{className:(0,p.Z)(m().content,D),children:v}),!!O&&(0,i.jsx)("div",{className:(0,p.Z)(m().bottomGradient,"dark"===k&&m().isDarkMode)})]}))})}):null};O.Sizes=r,O.displayName="Modal";var C=(0,o.memo)((0,o.forwardRef)(O));Object.assign(C,{Sizes:r});var k=C},55211:function(e,t,n){"use strict";n.d(t,{ZP:function(){return bu},KL:function(){return mu},uw:function(){return yu}});var r=n(52322),i=n(2784),o="top",a="bottom",s="right",u="left",c="auto",l=[o,a,s,u],f="start",d="end",h="viewport",p="popper",v=l.reduce((function(e,t){return e.concat([t+"-"+f,t+"-"+d])}),[]),m=[].concat(l,[c]).reduce((function(e,t){return e.concat([t,t+"-"+f,t+"-"+d])}),[]),g=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function y(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function b(e){return e instanceof y(e).Element||e instanceof Element}function w(e){return e instanceof y(e).HTMLElement||e instanceof HTMLElement}function _(e){return"undefined"!==typeof ShadowRoot&&(e instanceof y(e).ShadowRoot||e instanceof ShadowRoot)}function E(e){return((b(e)?e.ownerDocument:e.document)||window.document).documentElement}function S(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect();return{width:n.width/1,height:n.height/1,top:n.top/1,right:n.right/1,bottom:n.bottom/1,left:n.left/1,x:n.left/1,y:n.top/1}}function x(e){var t=y(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function O(e){return S(E(e)).left+x(e).scrollLeft}function C(e){return y(e).getComputedStyle(e)}var k=Math.max,T=Math.min,A=Math.round;function I(e){return e?(e.nodeName||"").toLowerCase():null}function D(e){return"html"===I(e)?e:e.assignedSlot||e.parentNode||(_(e)?e.host:null)||E(e)}function P(e){var t=C(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function R(e){return["html","body","#document"].indexOf(I(e))>=0?e.ownerDocument.body:w(e)&&P(e)?e:R(D(e))}function N(e,t){var n;void 0===t&&(t=[]);var r=R(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=y(r),a=i?[o].concat(o.visualViewport||[],P(r)?r:[]):r,s=t.concat(a);return i?s:s.concat(N(D(a)))}function j(e){return["table","td","th"].indexOf(I(e))>=0}function M(e){return w(e)&&"fixed"!==C(e).position?e.offsetParent:null}function L(e){for(var t=y(e),n=M(e);n&&j(n)&&"static"===C(n).position;)n=M(n);return n&&("html"===I(n)||"body"===I(n)&&"static"===C(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&w(e)&&"fixed"===C(e).position)return null;for(var n=D(e);w(n)&&["html","body"].indexOf(I(n))<0;){var r=C(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function F(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&_(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function B(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function U(e,t){return t===h?B(function(e){var t=y(e),n=E(e),r=t.visualViewport,i=n.clientWidth,o=n.clientHeight,a=0,s=0;return r&&(i=r.width,o=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=r.offsetLeft,s=r.offsetTop)),{width:i,height:o,x:a+O(e),y:s}}(e)):w(t)?function(e){var t=S(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):B(function(e){var t,n=E(e),r=x(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=k(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=k(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-r.scrollLeft+O(e),u=-r.scrollTop;return"rtl"===C(i||n).direction&&(s+=k(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:u}}(E(e)))}function V(e,t,n){var r="clippingParents"===t?function(e){var t=N(D(e)),n=["absolute","fixed"].indexOf(C(e).position)>=0&&w(e)?L(e):e;return b(n)?t.filter((function(e){return b(e)&&F(e,n)&&"body"!==I(e)})):[]}(e):[].concat(t),i=[].concat(r,[n]),o=i[0],a=i.reduce((function(t,n){var r=U(e,n);return t.top=k(r.top,t.top),t.right=T(r.right,t.right),t.bottom=T(r.bottom,t.bottom),t.left=k(r.left,t.left),t}),U(e,o));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function z(e){return e.split("-")[0]}function q(e){return e.split("-")[1]}function Z(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function H(e){var t,n=e.reference,r=e.element,i=e.placement,c=i?z(i):null,l=i?q(i):null,h=n.x+n.width/2-r.width/2,p=n.y+n.height/2-r.height/2;switch(c){case o:t={x:h,y:n.y-r.height};break;case a:t={x:h,y:n.y+n.height};break;case s:t={x:n.x+n.width,y:p};break;case u:t={x:n.x-r.width,y:p};break;default:t={x:n.x,y:n.y}}var v=c?Z(c):null;if(null!=v){var m="y"===v?"height":"width";switch(l){case f:t[v]=t[v]-(n[m]/2-r[m]/2);break;case d:t[v]=t[v]+(n[m]/2-r[m]/2)}}return t}function W(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function G(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function K(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,u=n.boundary,c=void 0===u?"clippingParents":u,f=n.rootBoundary,d=void 0===f?h:f,v=n.elementContext,m=void 0===v?p:v,g=n.altBoundary,y=void 0!==g&&g,w=n.padding,_=void 0===w?0:w,x=W("number"!==typeof _?_:G(_,l)),O=m===p?"reference":p,C=e.rects.popper,k=e.elements[y?O:m],T=V(b(k)?k:k.contextElement||E(e.elements.popper),c,d),A=S(e.elements.reference),I=H({reference:A,element:C,strategy:"absolute",placement:i}),D=B(Object.assign({},C,I)),P=m===p?D:A,R={top:T.top-P.top+x.top,bottom:P.bottom-T.bottom+x.bottom,left:T.left-P.left+x.left,right:P.right-T.right+x.right},N=e.modifiersData.offset;if(m===p&&N){var j=N[i];Object.keys(R).forEach((function(e){var t=[s,a].indexOf(e)>=0?1:-1,n=[o,a].indexOf(e)>=0?"y":"x";R[e]+=j[n]*t}))}return R}function J(e,t,n){void 0===n&&(n=!1);var r=w(t),i=w(t)&&function(e){var t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,r=t.height/e.offsetHeight||1;return 1!==n||1!==r}(t),o=E(t),a=S(e,i),s={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&(("body"!==I(t)||P(o))&&(s=function(e){return e!==y(e)&&w(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:x(e);var t}(t)),w(t)?((u=S(t,!0)).x+=t.clientLeft,u.y+=t.clientTop):o&&(u.x=O(o))),{x:a.left+s.scrollLeft-u.x,y:a.top+s.scrollTop-u.y,width:a.width,height:a.height}}function Y(e){var t=S(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function $(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function X(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var Q={placement:"bottom",modifiers:[],strategy:"absolute"};function ee(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function te(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?Q:i;return function(e,t,n){void 0===n&&(n=o);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},Q,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},a=[],s=!1,u={state:i,setOptions:function(n){var s="function"===typeof n?n(i.options):n;c(),i.options=Object.assign({},o,i.options,s),i.scrollParents={reference:b(e)?N(e):e.contextElement?N(e.contextElement):[],popper:N(t)};var l=function(e){var t=$(e);return g.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=l.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"===typeof o){var s=o({state:i,name:t,instance:u,options:r}),c=function(){};a.push(s||c)}})),u.update()},forceUpdate:function(){if(!s){var e=i.elements,t=e.reference,n=e.popper;if(ee(t,n)){i.rects={reference:J(t,L(n),"fixed"===i.options.strategy),popper:Y(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var o=i.orderedModifiers[r],a=o.fn,c=o.options,l=void 0===c?{}:c,f=o.name;"function"===typeof a&&(i=a({state:i,options:l,name:f,instance:u})||i)}else i.reset=!1,r=-1}}},update:X((function(){return new Promise((function(e){u.forceUpdate(),e(i)}))})),destroy:function(){c(),s=!0}};if(!ee(e,t))return u;function c(){a.forEach((function(e){return e()})),a=[]}return u.setOptions(n).then((function(e){!s&&n.onFirstUpdate&&n.onFirstUpdate(e)})),u}}var ne={passive:!0};var re={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ie(e){var t,n=e.popper,r=e.popperRect,i=e.placement,c=e.variation,l=e.offsets,f=e.position,h=e.gpuAcceleration,p=e.adaptive,v=e.roundOffsets,m=!0===v?function(e){var t=e.x,n=e.y,r=window.devicePixelRatio||1;return{x:A(A(t*r)/r)||0,y:A(A(n*r)/r)||0}}(l):"function"===typeof v?v(l):l,g=m.x,b=void 0===g?0:g,w=m.y,_=void 0===w?0:w,S=l.hasOwnProperty("x"),x=l.hasOwnProperty("y"),O=u,k=o,T=window;if(p){var I=L(n),D="clientHeight",P="clientWidth";I===y(n)&&"static"!==C(I=E(n)).position&&"absolute"===f&&(D="scrollHeight",P="scrollWidth"),I=I,i!==o&&(i!==u&&i!==s||c!==d)||(k=a,_-=I[D]-r.height,_*=h?1:-1),i!==u&&(i!==o&&i!==a||c!==d)||(O=s,b-=I[P]-r.width,b*=h?1:-1)}var R,N=Object.assign({position:f},p&&re);return h?Object.assign({},N,((R={})[k]=x?"0":"",R[O]=S?"0":"",R.transform=(T.devicePixelRatio||1)<=1?"translate("+b+"px, "+_+"px)":"translate3d("+b+"px, "+_+"px, 0)",R)):Object.assign({},N,((t={})[k]=x?_+"px":"",t[O]=S?b+"px":"",t.transform="",t))}var oe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,a=void 0===i?[0,0]:i,c=m.reduce((function(e,n){return e[n]=function(e,t,n){var r=z(e),i=[u,o].indexOf(r)>=0?-1:1,a="function"===typeof n?n(Object.assign({},t,{placement:e})):n,c=a[0],l=a[1];return c=c||0,l=(l||0)*i,[u,s].indexOf(r)>=0?{x:l,y:c}:{x:c,y:l}}(n,t.rects,a),e}),{}),l=c[t.placement],f=l.x,d=l.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=f,t.modifiersData.popperOffsets.y+=d),t.modifiersData[r]=c}},ae={left:"right",right:"left",bottom:"top",top:"bottom"};function se(e){return e.replace(/left|right|bottom|top/g,(function(e){return ae[e]}))}var ue={start:"end",end:"start"};function ce(e){return e.replace(/start|end/g,(function(e){return ue[e]}))}var le={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,d=void 0===i||i,h=n.altAxis,p=void 0===h||h,g=n.fallbackPlacements,y=n.padding,b=n.boundary,w=n.rootBoundary,_=n.altBoundary,E=n.flipVariations,S=void 0===E||E,x=n.allowedAutoPlacements,O=t.options.placement,C=z(O),k=g||(C===O||!S?[se(O)]:function(e){if(z(e)===c)return[];var t=se(e);return[ce(e),t,ce(t)]}(O)),T=[O].concat(k).reduce((function(e,n){return e.concat(z(n)===c?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,u=n.allowedAutoPlacements,c=void 0===u?m:u,f=q(r),d=f?s?v:v.filter((function(e){return q(e)===f})):l,h=d.filter((function(e){return c.indexOf(e)>=0}));0===h.length&&(h=d);var p=h.reduce((function(t,n){return t[n]=K(e,{placement:n,boundary:i,rootBoundary:o,padding:a})[z(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:n,boundary:b,rootBoundary:w,padding:y,flipVariations:S,allowedAutoPlacements:x}):n)}),[]),A=t.rects.reference,I=t.rects.popper,D=new Map,P=!0,R=T[0],N=0;N<T.length;N++){var j=T[N],M=z(j),L=q(j)===f,F=[o,a].indexOf(M)>=0,B=F?"width":"height",U=K(t,{placement:j,boundary:b,rootBoundary:w,altBoundary:_,padding:y}),V=F?L?s:u:L?a:o;A[B]>I[B]&&(V=se(V));var Z=se(V),H=[];if(d&&H.push(U[M]<=0),p&&H.push(U[V]<=0,U[Z]<=0),H.every((function(e){return e}))){R=j,P=!1;break}D.set(j,H)}if(P)for(var W=function(e){var t=T.find((function(t){var n=D.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return R=t,"break"},G=S?3:1;G>0;G--){if("break"===W(G))break}t.placement!==R&&(t.modifiersData[r]._skip=!0,t.placement=R,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function fe(e,t,n){return k(e,T(t,n))}var de={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,c=void 0===i||i,l=n.altAxis,d=void 0!==l&&l,h=n.boundary,p=n.rootBoundary,v=n.altBoundary,m=n.padding,g=n.tether,y=void 0===g||g,b=n.tetherOffset,w=void 0===b?0:b,_=K(t,{boundary:h,rootBoundary:p,padding:m,altBoundary:v}),E=z(t.placement),S=q(t.placement),x=!S,O=Z(E),C="x"===O?"y":"x",A=t.modifiersData.popperOffsets,I=t.rects.reference,D=t.rects.popper,P="function"===typeof w?w(Object.assign({},t.rects,{placement:t.placement})):w,R={x:0,y:0};if(A){if(c||d){var N="y"===O?o:u,j="y"===O?a:s,M="y"===O?"height":"width",F=A[O],B=A[O]+_[N],U=A[O]-_[j],V=y?-D[M]/2:0,H=S===f?I[M]:D[M],W=S===f?-D[M]:-I[M],G=t.elements.arrow,J=y&&G?Y(G):{width:0,height:0},$=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},X=$[N],Q=$[j],ee=fe(0,I[M],J[M]),te=x?I[M]/2-V-ee-X-P:H-ee-X-P,ne=x?-I[M]/2+V+ee+Q+P:W+ee+Q+P,re=t.elements.arrow&&L(t.elements.arrow),ie=re?"y"===O?re.clientTop||0:re.clientLeft||0:0,oe=t.modifiersData.offset?t.modifiersData.offset[t.placement][O]:0,ae=A[O]+te-oe-ie,se=A[O]+ne-oe;if(c){var ue=fe(y?T(B,ae):B,F,y?k(U,se):U);A[O]=ue,R[O]=ue-F}if(d){var ce="x"===O?o:u,le="x"===O?a:s,de=A[C],he=de+_[ce],pe=de-_[le],ve=fe(y?T(he,ae):he,de,y?k(pe,se):pe);A[C]=ve,R[C]=ve-de}}t.modifiersData[r]=R}},requiresIfExists:["offset"]};var he={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,c=n.elements.arrow,f=n.modifiersData.popperOffsets,d=z(n.placement),h=Z(d),p=[u,s].indexOf(d)>=0?"height":"width";if(c&&f){var v=function(e,t){return W("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:G(e,l))}(i.padding,n),m=Y(c),g="y"===h?o:u,y="y"===h?a:s,b=n.rects.reference[p]+n.rects.reference[h]-f[h]-n.rects.popper[p],w=f[h]-n.rects.reference[h],_=L(c),E=_?"y"===h?_.clientHeight||0:_.clientWidth||0:0,S=b/2-w/2,x=v[g],O=E-m[p]-v[y],C=E/2-m[p]/2+S,k=fe(x,C,O),T=h;n.modifiersData[r]=((t={})[T]=k,t.centerOffset=k-C,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&F(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function pe(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function ve(e){return[o,s,a,u].some((function(t){return e[t]>=0}))}var me=te({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,a=r.resize,s=void 0===a||a,u=y(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach((function(e){e.addEventListener("scroll",n.update,ne)})),s&&u.addEventListener("resize",n.update,ne),function(){o&&c.forEach((function(e){e.removeEventListener("scroll",n.update,ne)})),s&&u.removeEventListener("resize",n.update,ne)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=H({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,a=void 0===o||o,s=n.roundOffsets,u=void 0===s||s,c={placement:z(t.placement),variation:q(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,ie(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:u})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,ie(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},r=t.attributes[e]||{},i=t.elements[e];w(i)&&I(i)&&(Object.assign(i.style,n),Object.keys(r).forEach((function(e){var t=r[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var r=t.elements[e],i=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});w(r)&&I(r)&&(Object.assign(r.style,o),Object.keys(i).forEach((function(e){r.removeAttribute(e)})))}))}},requires:["computeStyles"]},oe,le,de,he,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=K(t,{elementContext:"reference"}),s=K(t,{altBoundary:!0}),u=pe(a,r),c=pe(s,i,o),l=ve(u),f=ve(c);t.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":f})}}]}),ge=n(78435),ye=n.n(ge),be=function(e){return e.reduce((function(e,t){var n=t[0],r=t[1];return e[n]=r,e}),{})},we="undefined"!==typeof window&&window.document&&window.document.createElement?i.useLayoutEffect:i.useEffect,_e=[],Ee=n(5163),Se=n(34406),xe=("undefined"===typeof Se||Se.env,"production");const Oe=1/60*1e3,Ce="undefined"!==typeof performance?()=>performance.now():()=>Date.now(),ke="undefined"!==typeof window?e=>window.requestAnimationFrame(e):e=>setTimeout((()=>e(Ce())),Oe);let Te=!0,Ae=!1,Ie=!1;const De={delta:0,timestamp:0},Pe=["read","update","preRender","render","postRender"],Re=Pe.reduce(((e,t)=>(e[t]=function(e){let t=[],n=[],r=0,i=!1,o=!1;const a=new WeakSet,s={schedule:(e,o=!1,s=!1)=>{const u=s&&i,c=u?t:n;return o&&a.add(e),-1===c.indexOf(e)&&(c.push(e),u&&i&&(r=t.length)),e},cancel:e=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1),a.delete(e)},process:u=>{if(i)o=!0;else{if(i=!0,[t,n]=[n,t],n.length=0,r=t.length,r)for(let n=0;n<r;n++){const r=t[n];r(u),a.has(r)&&(s.schedule(r),e())}i=!1,o&&(o=!1,s.process(u))}}};return s}((()=>Ae=!0)),e)),{}),Ne=Pe.reduce(((e,t)=>{const n=Re[t];return e[t]=(e,t=!1,r=!1)=>(Ae||Be(),n.schedule(e,t,r)),e}),{}),je=Pe.reduce(((e,t)=>(e[t]=Re[t].cancel,e)),{}),Me=Pe.reduce(((e,t)=>(e[t]=()=>Re[t].process(De),e)),{}),Le=e=>Re[e].process(De),Fe=e=>{Ae=!1,De.delta=Te?Oe:Math.max(Math.min(e-De.timestamp,40),1),De.timestamp=e,Ie=!0,Pe.forEach(Le),Ie=!1,Ae&&(Te=!1,ke(Fe))},Be=()=>{Ae=!0,Te=!0,Ie||ke(Fe)},Ue=()=>De;var Ve=Ne,ze="undefined"!==typeof document,qe=ze?i.useLayoutEffect:i.useEffect;function Ze(){var e=(0,i.useRef)(!1);return qe((function(){return e.current=!0,function(){e.current=!1}}),[]),e}var He=(0,i.createContext)(null);function We(e){var t=(0,i.useRef)(null);return null===t.current&&(t.current=e()),t.current}var Ge=0,Ke=function(){return Ge++},Je=function(){return We(Ke)},Ye=function(e){var t=e.children,n=e.initial,r=e.isPresent,o=e.onExitComplete,a=e.custom,s=e.presenceAffectsLayout,u=We($e),c=Je(),l=(0,i.useMemo)((function(){return{id:c,initial:n,isPresent:r,custom:a,onExitComplete:function(e){var t,n;u.set(e,!0);try{for(var r=(0,Ee.XA)(u.values()),i=r.next();!i.done;i=r.next()){if(!i.value)return}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}null===o||void 0===o||o()},register:function(e){return u.set(e,!1),function(){return u.delete(e)}}}}),s?void 0:[r]);return(0,i.useMemo)((function(){u.forEach((function(e,t){return u.set(t,!1)}))}),[r]),i.useEffect((function(){!r&&!u.size&&(null===o||void 0===o||o())}),[r]),i.createElement(He.Provider,{value:l},t)};function $e(){return new Map}var Xe=(0,i.createContext)({});function Qe(e){return(0,i.useEffect)((function(){return function(){return e()}}),[])}var et=function(e){return e.key||""};var tt=function(e){var t=e.children,n=e.custom,r=e.initial,o=void 0===r||r,a=e.onExitComplete,s=e.exitBeforeEnter,u=e.presenceAffectsLayout,c=void 0===u||u,l=(0,Ee.CR)(function(){var e=Ze(),t=(0,Ee.CR)((0,i.useState)(0),2),n=t[0],r=t[1],o=(0,i.useCallback)((function(){e.current&&r(n+1)}),[n]);return[(0,i.useCallback)((function(){return Ve.postRender(o)}),[o]),n]}(),1),f=l[0],d=(0,i.useContext)(Xe).forceRender;d&&(f=d);var h=Ze(),p=function(e){var t=[];return i.Children.forEach(e,(function(e){(0,i.isValidElement)(e)&&t.push(e)})),t}(t),v=p,m=new Set,g=(0,i.useRef)(v),y=(0,i.useRef)(new Map).current,b=(0,i.useRef)(!0);if(qe((function(){b.current=!1,function(e,t){e.forEach((function(e){var n=et(e);t.set(n,e)}))}(p,y),g.current=v})),Qe((function(){b.current=!0,y.clear(),m.clear()})),b.current)return i.createElement(i.Fragment,null,v.map((function(e){return i.createElement(Ye,{key:et(e),isPresent:!0,initial:!!o&&void 0,presenceAffectsLayout:c},e)})));v=(0,Ee.ev)([],(0,Ee.CR)(v),!1);for(var w=g.current.map(et),_=p.map(et),E=w.length,S=0;S<E;S++){var x=w[S];-1===_.indexOf(x)&&m.add(x)}return s&&m.size&&(v=[]),m.forEach((function(e){if(-1===_.indexOf(e)){var t=y.get(e);if(t){var r=w.indexOf(e);v.splice(r,0,i.createElement(Ye,{key:et(t),isPresent:!1,onExitComplete:function(){y.delete(e),m.delete(e);var t=g.current.findIndex((function(t){return t.key===e}));if(g.current.splice(t,1),!m.size){if(g.current=p,!1===h.current)return;f(),a&&a()}},custom:n,presenceAffectsLayout:c},t))}}})),v=v.map((function(e){var t=e.key;return m.has(t)?e:i.createElement(Ye,{key:et(e),isPresent:!0,presenceAffectsLayout:c},e)})),"production"!==xe&&s&&v.length>1&&console.warn("You're attempting to animate multiple children within AnimatePresence, but its exitBeforeEnter prop is set to true. This will lead to odd visual behaviour."),i.createElement(i.Fragment,null,m.size?v:v.map((function(e){return(0,i.cloneElement)(e)})))},nt=function(e){return{isEnabled:function(t){return e.some((function(e){return!!t[e]}))}}},rt={measureLayout:nt(["layout","layoutId","drag"]),animation:nt(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:nt(["exit"]),drag:nt(["drag","dragControls"]),focus:nt(["whileFocus"]),hover:nt(["whileHover","onHoverStart","onHoverEnd"]),tap:nt(["whileTap","onTap","onTapStart","onTapCancel"]),pan:nt(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:nt(["whileInView","onViewportEnter","onViewportLeave"])};var it=(0,i.createContext)({strict:!1}),ot=Object.keys(rt),at=ot.length;var st=(0,i.createContext)({transformPagePoint:function(e){return e},isStatic:!1,reducedMotion:"never"}),ut=(0,i.createContext)({});var ct={current:null},lt=!1;function ft(){return!lt&&function(){if(lt=!0,ze)if(window.matchMedia){var e=window.matchMedia("(prefers-reduced-motion)"),t=function(){return ct.current=e.matches};e.addListener(t),t()}else ct.current=!1}(),(0,Ee.CR)((0,i.useState)(ct.current),1)[0]}function dt(e,t,n,r){var o=(0,i.useContext)(it),a=(0,i.useContext)(ut).visualElement,s=(0,i.useContext)(He),u=function(){var e=ft(),t=(0,i.useContext)(st).reducedMotion;return"never"!==t&&("always"===t||e)}(),c=(0,i.useRef)(void 0);r||(r=o.renderer),!c.current&&r&&(c.current=r(e,{visualState:t,parent:a,props:n,presenceId:null===s||void 0===s?void 0:s.id,blockInitialAnimation:!1===(null===s||void 0===s?void 0:s.initial),shouldReduceMotion:u}));var l=c.current;return qe((function(){null===l||void 0===l||l.syncRender()})),(0,i.useEffect)((function(){var e;null===(e=null===l||void 0===l?void 0:l.animationState)||void 0===e||e.animateChanges()})),qe((function(){return function(){return null===l||void 0===l?void 0:l.notifyUnmount()}}),[]),l}function ht(e){return"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"current")}function pt(e){return Array.isArray(e)}function vt(e){return"string"===typeof e||pt(e)}function mt(e,t,n,r,i){var o;return void 0===r&&(r={}),void 0===i&&(i={}),"function"===typeof t&&(t=t(null!==n&&void 0!==n?n:e.custom,r,i)),"string"===typeof t&&(t=null===(o=e.variants)||void 0===o?void 0:o[t]),"function"===typeof t&&(t=t(null!==n&&void 0!==n?n:e.custom,r,i)),t}function gt(e,t,n){var r=e.getProps();return mt(r,t,null!==n&&void 0!==n?n:r.custom,function(e){var t={};return e.forEachValue((function(e,n){return t[n]=e.get()})),t}(e),function(e){var t={};return e.forEachValue((function(e,n){return t[n]=e.getVelocity()})),t}(e))}function yt(e){var t;return"function"===typeof(null===(t=e.animate)||void 0===t?void 0:t.start)||vt(e.initial)||vt(e.animate)||vt(e.whileHover)||vt(e.whileDrag)||vt(e.whileTap)||vt(e.whileFocus)||vt(e.exit)}function bt(e){return Boolean(yt(e)||e.variants)}function wt(e){var t=function(e,t){if(yt(e)){var n=e.initial,r=e.animate;return{initial:!1===n||vt(n)?n:void 0,animate:vt(r)?r:void 0}}return!1!==e.inherit?t:{}}(e,(0,i.useContext)(ut)),n=t.initial,r=t.animate;return(0,i.useMemo)((function(){return{initial:n,animate:r}}),[_t(n),_t(r)])}function _t(e){return Array.isArray(e)?e.join(" "):e}var Et={hasAnimatedSinceResize:!0,hasEverUpdated:!1},St=1;var xt=(0,i.createContext)({});var Ot=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Ee.ZT)(t,e),t.prototype.getSnapshotBeforeUpdate=function(){return this.updateProps(),null},t.prototype.componentDidUpdate=function(){},t.prototype.updateProps=function(){var e=this.props,t=e.visualElement,n=e.props;t&&t.setProps(n)},t.prototype.render=function(){return this.props.children},t}(i.Component);function Ct(e){var t=e.preloadedFeatures,n=e.createVisualElement,r=e.projectionNodeConstructor,o=e.useRender,a=e.useVisualState,s=e.Component;return t&&function(e){for(var t in e)null!==e[t]&&("projectionNodeConstructor"===t?rt.projectionNodeConstructor=e[t]:rt[t].Component=e[t])}(t),(0,i.forwardRef)((function(e,u){var c=function(e){var t,n=e.layoutId,r=null===(t=(0,i.useContext)(Xe))||void 0===t?void 0:t.id;return r&&void 0!==n?r+"-"+n:n}(e);e=(0,Ee.pi)((0,Ee.pi)({},e),{layoutId:c});var l=(0,i.useContext)(st),f=null,d=wt(e),h=l.isStatic?void 0:We((function(){if(Et.hasEverUpdated)return St++})),p=a(e,l.isStatic);return!l.isStatic&&ze&&(d.visualElement=dt(s,p,(0,Ee.pi)((0,Ee.pi)({},l),e),n),function(e,t,n,r){var o,a=t.layoutId,s=t.layout,u=t.drag,c=t.dragConstraints,l=t.layoutScroll,f=(0,i.useContext)(xt);r&&n&&!(null===n||void 0===n?void 0:n.projection)&&(n.projection=new r(e,n.getLatestValues(),null===(o=n.parent)||void 0===o?void 0:o.projection),n.projection.setOptions({layoutId:a,layout:s,alwaysMeasureLayout:Boolean(u)||c&&ht(c),visualElement:n,scheduleRender:function(){return n.scheduleRender()},animationType:"string"===typeof s?s:"both",initialPromotionConfig:f,layoutScroll:l}))}(h,e,d.visualElement,r||rt.projectionNodeConstructor),f=function(e,t,n){var r=[],o=(0,i.useContext)(it);if(!t)return null;"production"!==xe&&n&&o.strict;for(var a=0;a<at;a++){var s=ot[a],u=rt[s],c=u.isEnabled,l=u.Component;c(e)&&l&&r.push(i.createElement(l,(0,Ee.pi)({key:s},e,{visualElement:t})))}return r}(e,d.visualElement,t)),i.createElement(Ot,{visualElement:d.visualElement,props:(0,Ee.pi)((0,Ee.pi)({},l),e)},f,i.createElement(ut.Provider,{value:d},o(s,e,h,function(e,t,n){return(0,i.useCallback)((function(r){var i;r&&(null===(i=e.mount)||void 0===i||i.call(e,r)),t&&(r?t.mount(r):t.unmount()),n&&("function"===typeof n?n(r):ht(n)&&(n.current=r))}),[t])}(p,d.visualElement,u),p,l.isStatic,d.visualElement)))}))}function kt(e){function t(t,n){return void 0===n&&(n={}),Ct(e(t,n))}if("undefined"===typeof Proxy)return t;var n=new Map;return new Proxy(t,{get:function(e,r){return n.has(r)||n.set(r,t(r)),n.get(r)}})}var Tt=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function At(e){return"string"===typeof e&&!e.includes("-")&&!!(Tt.indexOf(e)>-1||/[A-Z]/.test(e))}var It={};var Dt=["","X","Y","Z"],Pt=["transformPerspective","x","y","z"];function Rt(e,t){return Pt.indexOf(e)-Pt.indexOf(t)}["translate","scale","rotate","skew"].forEach((function(e){return Dt.forEach((function(t){return Pt.push(e+t)}))}));var Nt=new Set(Pt);function jt(e){return Nt.has(e)}var Mt=new Set(["originX","originY","originZ"]);function Lt(e){return Mt.has(e)}function Ft(e,t){var n=t.layout,r=t.layoutId;return jt(e)||Lt(e)||(n||void 0!==r)&&(!!It[e]||"opacity"===e)}var Bt=function(e){return Boolean(null!==e&&"object"===typeof e&&e.getVelocity)},Ut={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"};function Vt(e){return e.startsWith("--")}var zt=function(e,t){return t&&"number"===typeof e?t.transform(e):e};const qt=(e,t)=>n=>Math.max(Math.min(n,t),e),Zt=e=>e%1?Number(e.toFixed(5)):e,Ht=/(-)?([\d]*\.?[\d])+/g,Wt=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))/gi,Gt=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2,3}\s*\/*\s*[\d\.]+%?\))$/i;function Kt(e){return"string"===typeof e}const Jt=e=>({test:t=>Kt(t)&&t.endsWith(e)&&1===t.split(" ").length,parse:parseFloat,transform:t=>`${t}${e}`}),Yt=Jt("deg"),$t=Jt("%"),Xt=Jt("px"),Qt=Jt("vh"),en=Jt("vw"),tn=Object.assign(Object.assign({},$t),{parse:e=>$t.parse(e)/100,transform:e=>$t.transform(100*e)}),nn={test:e=>"number"===typeof e,parse:parseFloat,transform:e=>e},rn=Object.assign(Object.assign({},nn),{transform:qt(0,1)}),on=Object.assign(Object.assign({},nn),{default:1});var an=(0,Ee.pi)((0,Ee.pi)({},nn),{transform:Math.round}),sn={borderWidth:Xt,borderTopWidth:Xt,borderRightWidth:Xt,borderBottomWidth:Xt,borderLeftWidth:Xt,borderRadius:Xt,radius:Xt,borderTopLeftRadius:Xt,borderTopRightRadius:Xt,borderBottomRightRadius:Xt,borderBottomLeftRadius:Xt,width:Xt,maxWidth:Xt,height:Xt,maxHeight:Xt,size:Xt,top:Xt,right:Xt,bottom:Xt,left:Xt,padding:Xt,paddingTop:Xt,paddingRight:Xt,paddingBottom:Xt,paddingLeft:Xt,margin:Xt,marginTop:Xt,marginRight:Xt,marginBottom:Xt,marginLeft:Xt,rotate:Yt,rotateX:Yt,rotateY:Yt,rotateZ:Yt,scale:on,scaleX:on,scaleY:on,scaleZ:on,skew:Yt,skewX:Yt,skewY:Yt,distance:Xt,translateX:Xt,translateY:Xt,translateZ:Xt,x:Xt,y:Xt,z:Xt,perspective:Xt,transformPerspective:Xt,opacity:rn,originX:tn,originY:tn,originZ:Xt,zIndex:an,fillOpacity:rn,strokeOpacity:rn,numOctaves:an};function un(e,t,n,r){var i,o=e.style,a=e.vars,s=e.transform,u=e.transformKeys,c=e.transformOrigin;u.length=0;var l=!1,f=!1,d=!0;for(var h in t){var p=t[h];if(Vt(h))a[h]=p;else{var v=sn[h],m=zt(p,v);if(jt(h)){if(l=!0,s[h]=m,u.push(h),!d)continue;p!==(null!==(i=v.default)&&void 0!==i?i:0)&&(d=!1)}else Lt(h)?(c[h]=m,f=!0):o[h]=m}}l?o.transform=function(e,t,n,r){var i=e.transform,o=e.transformKeys,a=t.enableHardwareAcceleration,s=void 0===a||a,u=t.allowTransformNone,c=void 0===u||u,l="";o.sort(Rt);for(var f=!1,d=o.length,h=0;h<d;h++){var p=o[h];l+="".concat(Ut[p]||p,"(").concat(i[p],") "),"z"===p&&(f=!0)}return!f&&s?l+="translateZ(0)":l=l.trim(),r?l=r(i,n?"":l):c&&n&&(l="none"),l}(e,n,d,r):r?o.transform=r({},""):!t.transform&&o.transform&&(o.transform="none"),f&&(o.transformOrigin=function(e){var t=e.originX,n=void 0===t?"50%":t,r=e.originY,i=void 0===r?"50%":r,o=e.originZ,a=void 0===o?0:o;return"".concat(n," ").concat(i," ").concat(a)}(c))}var cn=function(){return{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}};function ln(e,t,n){for(var r in t)Bt(t[r])||Ft(r,n)||(e[r]=t[r])}function fn(e,t,n){var r={};return ln(r,e.style||{},e),Object.assign(r,function(e,t,n){var r=e.transformTemplate;return(0,i.useMemo)((function(){var e={style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}};un(e,t,{enableHardwareAcceleration:!n},r);var i=e.vars,o=e.style;return(0,Ee.pi)((0,Ee.pi)({},i),o)}),[t])}(e,t,n)),e.transformValues&&(r=e.transformValues(r)),r}function dn(e,t,n){var r={},i=fn(e,t,n);return Boolean(e.drag)&&!1!==e.dragListener&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=!0===e.drag?"none":"pan-".concat("x"===e.drag?"y":"x")),r.style=i,r}var hn=new Set(["initial","animate","exit","style","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","whileDrag","onPan","onPanStart","onPanEnd","onPanSessionStart","onTap","onTapStart","onTapCancel","onHoverStart","onHoverEnd","whileFocus","whileTap","whileHover","whileInView","onViewportEnter","onViewportLeave","viewport","layoutScroll"]);function pn(e){return hn.has(e)}var vn,mn=function(e){return!pn(e)};try{(vn=require("@emotion/is-prop-valid").default)&&(mn=function(e){return e.startsWith("on")?!pn(e):vn(e)})}catch(wu){}function gn(e,t,n){return"string"===typeof e?e:Xt.transform(t+n*e)}var yn={offset:"stroke-dashoffset",array:"stroke-dasharray"},bn={offset:"strokeDashoffset",array:"strokeDasharray"};function wn(e,t,n,r){var i=t.attrX,o=t.attrY,a=t.originX,s=t.originY,u=t.pathLength,c=t.pathSpacing,l=void 0===c?1:c,f=t.pathOffset,d=void 0===f?0:f;un(e,(0,Ee._T)(t,["attrX","attrY","originX","originY","pathLength","pathSpacing","pathOffset"]),n,r),e.attrs=e.style,e.style={};var h=e.attrs,p=e.style,v=e.dimensions;h.transform&&(v&&(p.transform=h.transform),delete h.transform),v&&(void 0!==a||void 0!==s||p.transform)&&(p.transformOrigin=function(e,t,n){var r=gn(t,e.x,e.width),i=gn(n,e.y,e.height);return"".concat(r," ").concat(i)}(v,void 0!==a?a:.5,void 0!==s?s:.5)),void 0!==i&&(h.x=i),void 0!==o&&(h.y=o),void 0!==u&&function(e,t,n,r,i){void 0===n&&(n=1),void 0===r&&(r=0),void 0===i&&(i=!0),e.pathLength=1;var o=i?yn:bn;e[o.offset]=Xt.transform(-r);var a=Xt.transform(t),s=Xt.transform(n);e[o.array]="".concat(a," ").concat(s)}(h,u,l,d,!1)}var _n=function(){return(0,Ee.pi)((0,Ee.pi)({},{style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}}),{attrs:{}})};function En(e,t){var n=(0,i.useMemo)((function(){var n=_n();return wn(n,t,{enableHardwareAcceleration:!1},e.transformTemplate),(0,Ee.pi)((0,Ee.pi)({},n.attrs),{style:(0,Ee.pi)({},n.style)})}),[t]);if(e.style){var r={};ln(r,e.style,e),n.style=(0,Ee.pi)((0,Ee.pi)({},r),n.style)}return n}function Sn(e){void 0===e&&(e=!1);return function(t,n,r,o,a,s){var u=a.latestValues,c=(At(t)?En:dn)(n,u,s),l=function(e,t,n){var r={};for(var i in e)(mn(i)||!0===n&&pn(i)||!t&&!pn(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}(n,"string"===typeof t,e),f=(0,Ee.pi)((0,Ee.pi)((0,Ee.pi)({},l),c),{ref:o});return r&&(f["data-projection-id"]=r),(0,i.createElement)(t,f)}}var xn=/([a-z])([A-Z])/g,On=function(e){return e.replace(xn,"$1-$2").toLowerCase()};function Cn(e,t,n,r){var i=t.style,o=t.vars;for(var a in Object.assign(e.style,i,r&&r.getProjectionStyles(n)),o)e.style.setProperty(a,o[a])}var kn=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function Tn(e,t,n,r){for(var i in Cn(e,t,void 0,r),t.attrs)e.setAttribute(kn.has(i)?i:On(i),t.attrs[i])}function An(e){var t=e.style,n={};for(var r in t)(Bt(t[r])||Ft(r,e))&&(n[r]=t[r]);return n}function In(e){var t=An(e);for(var n in e){if(Bt(e[n]))t["x"===n||"y"===n?"attr"+n.toUpperCase():n]=e[n]}return t}function Dn(e){return"object"===typeof e&&"function"===typeof e.start}var Pn=function(e){return Array.isArray(e)},Rn=function(e){return Pn(e)?e[e.length-1]||0:e};function Nn(e){var t,n=Bt(e)?e.get():e;return t=n,Boolean(t&&"object"===typeof t&&t.mix&&t.toValue)?n.toValue():n}function jn(e,t,n,r){var i=e.scrapeMotionValuesFromProps,o=e.createRenderState,a=e.onMount,s={latestValues:Ln(t,n,r,i),renderState:o()};return a&&(s.mount=function(e){return a(t,e,s)}),s}var Mn=function(e){return function(t,n){var r=(0,i.useContext)(ut),o=(0,i.useContext)(He);return n?jn(e,t,r,o):We((function(){return jn(e,t,r,o)}))}};function Ln(e,t,n,r){var i={},o=!1===(null===n||void 0===n?void 0:n.initial),a=r(e);for(var s in a)i[s]=Nn(a[s]);var u=e.initial,c=e.animate,l=yt(e),f=bt(e);t&&f&&!l&&!1!==e.inherit&&(null!==u&&void 0!==u||(u=t.initial),null!==c&&void 0!==c||(c=t.animate));var d=o||!1===u,h=d?c:u;h&&"boolean"!==typeof h&&!Dn(h)&&(Array.isArray(h)?h:[h]).forEach((function(t){var n=mt(e,t);if(n){var r=n.transitionEnd;n.transition;var o=(0,Ee._T)(n,["transitionEnd","transition"]);for(var a in o){var s=o[a];if(Array.isArray(s))s=s[d?s.length-1:0];null!==s&&(i[a]=s)}for(var a in r)i[a]=r[a]}}));return i}var Fn,Bn={useVisualState:Mn({scrapeMotionValuesFromProps:In,createRenderState:_n,onMount:function(e,t,n){var r=n.renderState,i=n.latestValues;try{r.dimensions="function"===typeof t.getBBox?t.getBBox():t.getBoundingClientRect()}catch(o){r.dimensions={x:0,y:0,width:0,height:0}}wn(r,i,{enableHardwareAcceleration:!1},e.transformTemplate),Tn(t,r)}})},Un={useVisualState:Mn({scrapeMotionValuesFromProps:An,createRenderState:cn})};function Vn(e,t,n,r){return void 0===r&&(r={passive:!0}),e.addEventListener(t,n,r),function(){return e.removeEventListener(t,n)}}function zn(e,t,n,r){(0,i.useEffect)((function(){var i=e.current;if(n&&i)return Vn(i,t,n,r)}),[e,t,n,r])}function qn(e){return"undefined"!==typeof PointerEvent&&e instanceof PointerEvent?!("mouse"!==e.pointerType):e instanceof MouseEvent}function Zn(e){return!!e.touches}!function(e){e.Animate="animate",e.Hover="whileHover",e.Tap="whileTap",e.Drag="whileDrag",e.Focus="whileFocus",e.InView="whileInView",e.Exit="exit"}(Fn||(Fn={}));var Hn={pageX:0,pageY:0};function Wn(e,t){void 0===t&&(t="page");var n=e.touches[0]||e.changedTouches[0]||Hn;return{x:n[t+"X"],y:n[t+"Y"]}}function Gn(e,t){return void 0===t&&(t="page"),{x:e[t+"X"],y:e[t+"Y"]}}function Kn(e,t){return void 0===t&&(t="page"),{point:Zn(e)?Wn(e,t):Gn(e,t)}}var Jn=function(e,t){void 0===t&&(t=!1);var n,r=function(t){return e(t,Kn(t))};return t?(n=r,function(e){var t=e instanceof MouseEvent;(!t||t&&0===e.button)&&n(e)}):r},Yn={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},$n={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function Xn(e){return ze&&null===window.onpointerdown?e:ze&&null===window.ontouchstart?$n[e]:ze&&null===window.onmousedown?Yn[e]:e}function Qn(e,t,n,r){return Vn(e,Xn(t),Jn(n,"pointerdown"===t),r)}function er(e,t,n,r){return zn(e,Xn(t),n&&Jn(n,"pointerdown"===t),r)}function tr(e){var t=null;return function(){return null===t&&(t=e,function(){t=null})}}var nr=tr("dragHorizontal"),rr=tr("dragVertical");function ir(e){var t=!1;if("y"===e)t=rr();else if("x"===e)t=nr();else{var n=nr(),r=rr();n&&r?t=function(){n(),r()}:(n&&n(),r&&r())}return t}function or(){var e=ir(!0);return!e||(e(),!1)}function ar(e,t,n){return function(r,i){var o;qn(r)&&!or()&&(null===(o=e.animationState)||void 0===o||o.setActive(Fn.Hover,t),null===n||void 0===n||n(r,i))}}var sr=function(e,t){return!!t&&(e===t||sr(e,t.parentElement))};const ur=(e,t)=>n=>t(e(n)),cr=(...e)=>e.reduce(ur);var lr=new Set;var fr=new WeakMap,dr=new WeakMap,hr=function(e){var t;null===(t=fr.get(e.target))||void 0===t||t(e)},pr=function(e){e.forEach(hr)};function vr(e,t,n){var r=function(e){var t=e.root,n=(0,Ee._T)(e,["root"]),r=t||document;dr.has(r)||dr.set(r,{});var i=dr.get(r),o=JSON.stringify(n);return i[o]||(i[o]=new IntersectionObserver(pr,(0,Ee.pi)({root:t},n))),i[o]}(t);return fr.set(e,n),r.observe(e),function(){fr.delete(e),r.unobserve(e)}}var mr={some:0,all:1};function gr(e,t,n,r){var o=r.root,a=r.margin,s=r.amount,u=void 0===s?"some":s,c=r.once;(0,i.useEffect)((function(){if(e){var r={root:null===o||void 0===o?void 0:o.current,rootMargin:a,threshold:"number"===typeof u?u:mr[u]};return vr(n.getInstance(),r,(function(e){var r,i=e.isIntersecting;if(t.isInView!==i&&(t.isInView=i,!c||i||!t.hasEnteredView)){i&&(t.hasEnteredView=!0),null===(r=n.animationState)||void 0===r||r.setActive(Fn.InView,i);var o=n.getProps(),a=i?o.onViewportEnter:o.onViewportLeave;null===a||void 0===a||a(e)}}))}}),[e,o,a,u])}function yr(e,t,n,r){var o=r.fallback,a=void 0===o||o;(0,i.useEffect)((function(){var r,i;e&&a&&("production"!==xe&&(r="IntersectionObserver not available on this device. whileInView animations will trigger on mount.",!1||lr.has(r)||(console.warn(r),i&&console.warn(i),lr.add(r))),requestAnimationFrame((function(){var e;t.hasEnteredView=!0;var r=n.getProps().onViewportEnter;null===r||void 0===r||r(null),null===(e=n.animationState)||void 0===e||e.setActive(Fn.InView,!0)})))}),[e])}var br=function(e){return function(t){return e(t),null}},wr={inView:br((function(e){var t=e.visualElement,n=e.whileInView,r=e.onViewportEnter,o=e.onViewportLeave,a=e.viewport,s=void 0===a?{}:a,u=(0,i.useRef)({hasEnteredView:!1,isInView:!1}),c=Boolean(n||r||o);s.once&&u.current.hasEnteredView&&(c=!1),("undefined"===typeof IntersectionObserver?yr:gr)(c,u.current,t,s)})),tap:br((function(e){var t=e.onTap,n=e.onTapStart,r=e.onTapCancel,o=e.whileTap,a=e.visualElement,s=t||n||r||o,u=(0,i.useRef)(!1),c=(0,i.useRef)(null),l={passive:!(n||t||r||v)};function f(){var e;null===(e=c.current)||void 0===e||e.call(c),c.current=null}function d(){var e;return f(),u.current=!1,null===(e=a.animationState)||void 0===e||e.setActive(Fn.Tap,!1),!or()}function h(e,n){d()&&(sr(a.getInstance(),e.target)?null===t||void 0===t||t(e,n):null===r||void 0===r||r(e,n))}function p(e,t){d()&&(null===r||void 0===r||r(e,t))}function v(e,t){var r;f(),u.current||(u.current=!0,c.current=cr(Qn(window,"pointerup",h,l),Qn(window,"pointercancel",p,l)),null===(r=a.animationState)||void 0===r||r.setActive(Fn.Tap,!0),null===n||void 0===n||n(e,t))}er(a,"pointerdown",s?v:void 0,l),Qe(f)})),focus:br((function(e){var t=e.whileFocus,n=e.visualElement;zn(n,"focus",t?function(){var e;null===(e=n.animationState)||void 0===e||e.setActive(Fn.Focus,!0)}:void 0),zn(n,"blur",t?function(){var e;null===(e=n.animationState)||void 0===e||e.setActive(Fn.Focus,!1)}:void 0)})),hover:br((function(e){var t=e.onHoverStart,n=e.onHoverEnd,r=e.whileHover,i=e.visualElement;er(i,"pointerenter",t||r?ar(i,!0,t):void 0,{passive:!t}),er(i,"pointerleave",n||r?ar(i,!1,n):void 0,{passive:!n})}))};function _r(){var e=(0,i.useContext)(He);if(null===e)return[!0,null];var t=e.isPresent,n=e.onExitComplete,r=e.register,o=Je();(0,i.useEffect)((function(){return r(o)}),[]);return!t&&n?[!1,function(){return null===n||void 0===n?void 0:n(o)}]:[!0]}function Er(e,t){if(!Array.isArray(t))return!1;var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const Sr=(e,t,n)=>Math.min(Math.max(n,e),t),xr=.001;function Or({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,o,a=1-t;a=Sr(.05,1,a),e=Sr(.01,10,e/1e3),a<1?(i=t=>{const r=t*a,i=r*e,o=r-n,s=Cr(t,a),u=Math.exp(-i);return xr-o/s*u},o=t=>{const r=t*a*e,o=r*n+n,s=Math.pow(a,2)*Math.pow(t,2)*e,u=Math.exp(-r),c=Cr(Math.pow(t,2),a);return(-i(t)+xr>0?-1:1)*((o-s)*u)/c}):(i=t=>Math.exp(-t*e)*((t-n)*e+1)-.001,o=t=>Math.exp(-t*e)*(e*e*(n-t)));const s=function(e,t,n){let r=n;for(let i=1;i<12;i++)r-=e(r)/t(r);return r}(i,o,5/e);if(e*=1e3,isNaN(s))return{stiffness:100,damping:10,duration:e};{const t=Math.pow(s,2)*r;return{stiffness:t,damping:2*a*Math.sqrt(r*t),duration:e}}}function Cr(e,t){return e*Math.sqrt(1-t*t)}const kr=["duration","bounce"],Tr=["stiffness","damping","mass"];function Ar(e,t){return t.some((t=>void 0!==e[t]))}function Ir(e){var{from:t=0,to:n=1,restSpeed:r=2,restDelta:i}=e,o=(0,Ee._T)(e,["from","to","restSpeed","restDelta"]);const a={done:!1,value:t};let{stiffness:s,damping:u,mass:c,velocity:l,duration:f,isResolvedFromDuration:d}=function(e){let t=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},e);if(!Ar(e,Tr)&&Ar(e,kr)){const n=Or(e);t=Object.assign(Object.assign(Object.assign({},t),n),{velocity:0,mass:1}),t.isResolvedFromDuration=!0}return t}(o),h=Dr,p=Dr;function v(){const e=l?-l/1e3:0,r=n-t,o=u/(2*Math.sqrt(s*c)),a=Math.sqrt(s/c)/1e3;if(void 0===i&&(i=Math.min(Math.abs(n-t)/100,.4)),o<1){const t=Cr(a,o);h=i=>{const s=Math.exp(-o*a*i);return n-s*((e+o*a*r)/t*Math.sin(t*i)+r*Math.cos(t*i))},p=n=>{const i=Math.exp(-o*a*n);return o*a*i*(Math.sin(t*n)*(e+o*a*r)/t+r*Math.cos(t*n))-i*(Math.cos(t*n)*(e+o*a*r)-t*r*Math.sin(t*n))}}else if(1===o)h=t=>n-Math.exp(-a*t)*(r+(e+a*r)*t);else{const t=a*Math.sqrt(o*o-1);h=i=>{const s=Math.exp(-o*a*i),u=Math.min(t*i,300);return n-s*((e+o*a*r)*Math.sinh(u)+t*r*Math.cosh(u))/t}}}return v(),{next:e=>{const t=h(e);if(d)a.done=e>=f;else{const o=1e3*p(e),s=Math.abs(o)<=r,u=Math.abs(n-t)<=i;a.done=s&&u}return a.value=a.done?n:t,a},flipTarget:()=>{l=-l,[t,n]=[n,t],v()}}}Ir.needsInterpolation=(e,t)=>"string"===typeof e||"string"===typeof t;const Dr=e=>0,Pr=(e,t,n)=>{const r=t-e;return 0===r?1:(n-e)/r},Rr=(e,t,n)=>-n*e+n*t+e,Nr=(e,t)=>n=>Boolean(Kt(n)&&Gt.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),jr=(e,t,n)=>r=>{if(!Kt(r))return r;const[i,o,a,s]=r.match(Ht);return{[e]:parseFloat(i),[t]:parseFloat(o),[n]:parseFloat(a),alpha:void 0!==s?parseFloat(s):1}},Mr=qt(0,255),Lr=Object.assign(Object.assign({},nn),{transform:e=>Math.round(Mr(e))}),Fr={test:Nr("rgb","red"),parse:jr("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+Lr.transform(e)+", "+Lr.transform(t)+", "+Lr.transform(n)+", "+Zt(rn.transform(r))+")"};const Br={test:Nr("#"),parse:function(e){let t="",n="",r="",i="";return e.length>5?(t=e.substr(1,2),n=e.substr(3,2),r=e.substr(5,2),i=e.substr(7,2)):(t=e.substr(1,1),n=e.substr(2,1),r=e.substr(3,1),i=e.substr(4,1),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}},transform:Fr.transform},Ur={test:Nr("hsl","hue"),parse:jr("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+$t.transform(Zt(t))+", "+$t.transform(Zt(n))+", "+Zt(rn.transform(r))+")"};function Vr(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function zr({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,n/=100;let i=0,o=0,a=0;if(t/=100){const r=n<.5?n*(1+t):n+t-n*t,s=2*n-r;i=Vr(s,r,e+1/3),o=Vr(s,r,e),a=Vr(s,r,e-1/3)}else i=o=a=n;return{red:Math.round(255*i),green:Math.round(255*o),blue:Math.round(255*a),alpha:r}}const qr=(e,t,n)=>{const r=e*e,i=t*t;return Math.sqrt(Math.max(0,n*(i-r)+r))},Zr=[Br,Fr,Ur],Hr=e=>Zr.find((t=>t.test(e))),Wr=e=>`'${e}' is not an animatable color. Use the equivalent color code instead.`,Gr=(e,t)=>{let n=Hr(e),r=Hr(t);Wr(e),Wr(t);let i=n.parse(e),o=r.parse(t);n===Ur&&(i=zr(i),n=Fr),r===Ur&&(o=zr(o),r=Fr);const a=Object.assign({},i);return e=>{for(const t in a)"alpha"!==t&&(a[t]=qr(i[t],o[t],e));return a.alpha=Rr(i.alpha,o.alpha,e),n.transform(a)}},Kr={test:e=>Fr.test(e)||Br.test(e)||Ur.test(e),parse:e=>Fr.test(e)?Fr.parse(e):Ur.test(e)?Ur.parse(e):Br.parse(e),transform:e=>Kt(e)?e:e.hasOwnProperty("red")?Fr.transform(e):Ur.transform(e)},Jr="${c}",Yr="${n}";function $r(e){"number"===typeof e&&(e=`${e}`);const t=[];let n=0;const r=e.match(Wt);r&&(n=r.length,e=e.replace(Wt,Jr),t.push(...r.map(Kr.parse)));const i=e.match(Ht);return i&&(e=e.replace(Ht,Yr),t.push(...i.map(nn.parse))),{values:t,numColors:n,tokenised:e}}function Xr(e){return $r(e).values}function Qr(e){const{values:t,numColors:n,tokenised:r}=$r(e),i=t.length;return e=>{let t=r;for(let r=0;r<i;r++)t=t.replace(r<n?Jr:Yr,r<n?Kr.transform(e[r]):Zt(e[r]));return t}}const ei=e=>"number"===typeof e?0:e;const ti={test:function(e){var t,n,r,i;return isNaN(e)&&Kt(e)&&(null!==(n=null===(t=e.match(Ht))||void 0===t?void 0:t.length)&&void 0!==n?n:0)+(null!==(i=null===(r=e.match(Wt))||void 0===r?void 0:r.length)&&void 0!==i?i:0)>0},parse:Xr,createTransformer:Qr,getAnimatableNone:function(e){const t=Xr(e);return Qr(e)(t.map(ei))}},ni=e=>"number"===typeof e;function ri(e,t){return ni(e)?n=>Rr(e,t,n):Kr.test(e)?Gr(e,t):si(e,t)}const ii=(e,t)=>{const n=[...e],r=n.length,i=e.map(((e,n)=>ri(e,t[n])));return e=>{for(let t=0;t<r;t++)n[t]=i[t](e);return n}},oi=(e,t)=>{const n=Object.assign(Object.assign({},e),t),r={};for(const i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=ri(e[i],t[i]));return e=>{for(const t in r)n[t]=r[t](e);return n}};function ai(e){const t=ti.parse(e),n=t.length;let r=0,i=0,o=0;for(let a=0;a<n;a++)r||"number"===typeof t[a]?r++:void 0!==t[a].hue?o++:i++;return{parsed:t,numNumbers:r,numRGB:i,numHSL:o}}const si=(e,t)=>{const n=ti.createTransformer(t),r=ai(e),i=ai(t);return r.numHSL===i.numHSL&&r.numRGB===i.numRGB&&r.numNumbers>=i.numNumbers?cr(ii(r.parsed,i.parsed),n):n=>`${n>0?t:e}`},ui=(e,t)=>n=>Rr(e,t,n);function ci(e,t,n){const r=[],i=n||("number"===typeof(o=e[0])?ui:"string"===typeof o?Kr.test(o)?Gr:si:Array.isArray(o)?ii:"object"===typeof o?oi:void 0);var o;const a=e.length-1;for(let s=0;s<a;s++){let n=i(e[s],e[s+1]);if(t){const e=Array.isArray(t)?t[s]:t;n=cr(e,n)}r.push(n)}return r}function li(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const o=e.length;t.length,!r||!Array.isArray(r)||r.length,e[0]>e[o-1]&&(e=[].concat(e),t=[].concat(t),e.reverse(),t.reverse());const a=ci(t,r,i),s=2===o?function([e,t],[n]){return r=>n(Pr(e,t,r))}(e,a):function(e,t){const n=e.length,r=n-1;return i=>{let o=0,a=!1;if(i<=e[0]?a=!0:i>=e[r]&&(o=r-1,a=!0),!a){let t=1;for(;t<n&&!(e[t]>i||t===r);t++);o=t-1}const s=Pr(e[o],e[o+1],i);return t[o](s)}}(e,a);return n?t=>s(Sr(e[0],e[o-1],t)):s}const fi=e=>t=>1-e(1-t),di=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,hi=e=>t=>t*t*((e+1)*t-e),pi=e=>e,vi=(mi=2,e=>Math.pow(e,mi));var mi;const gi=fi(vi),yi=di(vi),bi=e=>1-Math.sin(Math.acos(e)),wi=fi(bi),_i=di(wi),Ei=hi(1.525),Si=fi(Ei),xi=di(Ei),Oi=(e=>{const t=hi(e);return e=>(e*=2)<1?.5*t(e):.5*(2-Math.pow(2,-10*(e-1)))})(1.525),Ci=e=>{if(1===e||0===e)return e;const t=e*e;return e<.36363636363636365?7.5625*t:e<.7272727272727273?9.075*t-9.9*e+3.4:e<.9?12.066481994459833*t-19.63545706371191*e+8.898060941828255:10.8*e*e-20.52*e+10.72},ki=fi(Ci);function Ti(e,t){return e.map((()=>t||yi)).splice(0,e.length-1)}function Ai({from:e=0,to:t=1,ease:n,offset:r,duration:i=300}){const o={done:!1,value:e},a=Array.isArray(t)?t:[e,t],s=function(e,t){return e.map((e=>e*t))}(r&&r.length===a.length?r:function(e){const t=e.length;return e.map(((e,n)=>0!==n?n/(t-1):0))}(a),i);function u(){return li(s,a,{ease:Array.isArray(n)?n:Ti(a,n)})}let c=u();return{next:e=>(o.value=c(e),o.done=e>=i,o),flipTarget:()=>{a.reverse(),c=u()}}}const Ii={keyframes:Ai,spring:Ir,decay:function({velocity:e=0,from:t=0,power:n=.8,timeConstant:r=350,restDelta:i=.5,modifyTarget:o}){const a={done:!1,value:t};let s=n*e;const u=t+s,c=void 0===o?u:o(u);return c!==u&&(s=c-t),{next:e=>{const t=-s*Math.exp(-e/r);return a.done=!(t>i||t<-i),a.value=a.done?c:c+t,a},flipTarget:()=>{}}}};function Di(e,t,n=0){return e-t-n}const Pi=e=>{const t=({delta:t})=>e(t);return{start:()=>Ve.update(t,!0),stop:()=>je.update(t)}};function Ri(e){var t,n,{from:r,autoplay:i=!0,driver:o=Pi,elapsed:a=0,repeat:s=0,repeatType:u="loop",repeatDelay:c=0,onPlay:l,onStop:f,onComplete:d,onRepeat:h,onUpdate:p}=e,v=(0,Ee._T)(e,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let m,g,y,{to:b}=v,w=0,_=v.duration,E=!1,S=!0;const x=function(e){if(Array.isArray(e.to))return Ai;if(Ii[e.type])return Ii[e.type];const t=new Set(Object.keys(e));return t.has("ease")||t.has("duration")&&!t.has("dampingRatio")?Ai:t.has("dampingRatio")||t.has("stiffness")||t.has("mass")||t.has("damping")||t.has("restSpeed")||t.has("restDelta")?Ir:Ai}(v);(null===(n=(t=x).needsInterpolation)||void 0===n?void 0:n.call(t,r,b))&&(y=li([0,100],[r,b],{clamp:!1}),r=0,b=100);const O=x(Object.assign(Object.assign({},v),{from:r,to:b}));function C(){w++,"reverse"===u?(S=w%2===0,a=function(e,t,n=0,r=!0){return r?Di(t+-e,t,n):t-(e-t)+n}(a,_,c,S)):(a=Di(a,_,c),"mirror"===u&&O.flipTarget()),E=!1,h&&h()}function k(e){if(S||(e=-e),a+=e,!E){const e=O.next(Math.max(0,a));g=e.value,y&&(g=y(g)),E=S?e.done:a<=0}null===p||void 0===p||p(g),E&&(0===w&&(null!==_&&void 0!==_||(_=a)),w<s?function(e,t,n,r){return r?e>=t+n:e<=-n}(a,_,c,S)&&C():(m.stop(),d&&d()))}return i&&(null===l||void 0===l||l(),m=o(k),m.start()),{stop:()=>{null===f||void 0===f||f(),m.stop()}}}function Ni(e,t){return t?e*(1e3/t):0}var ji=function(e){return 1e3*e};const Mi=(e,t)=>1-3*t+3*e,Li=(e,t)=>3*t-6*e,Fi=e=>3*e,Bi=(e,t,n)=>((Mi(t,n)*e+Li(t,n))*e+Fi(t))*e,Ui=(e,t,n)=>3*Mi(t,n)*e*e+2*Li(t,n)*e+Fi(t);const Vi=.1;function zi(e,t,n,r){if(e===t&&n===r)return pi;const i=new Float32Array(11);for(let a=0;a<11;++a)i[a]=Bi(a*Vi,e,n);function o(t){let r=0,o=1;for(;10!==o&&i[o]<=t;++o)r+=Vi;--o;const a=r+(t-i[o])/(i[o+1]-i[o])*Vi,s=Ui(a,e,n);return s>=.001?function(e,t,n,r){for(let i=0;i<8;++i){const i=Ui(t,n,r);if(0===i)return t;t-=(Bi(t,n,r)-e)/i}return t}(t,a,e,n):0===s?a:function(e,t,n,r,i){let o,a,s=0;do{a=t+(n-t)/2,o=Bi(a,r,i)-e,o>0?n=a:t=a}while(Math.abs(o)>1e-7&&++s<10);return a}(t,r,r+Vi,e,n)}return e=>0===e||1===e?e:Bi(o(e),t,r)}var qi={linear:pi,easeIn:vi,easeInOut:yi,easeOut:gi,circIn:bi,circInOut:_i,circOut:wi,backIn:Ei,backInOut:xi,backOut:Si,anticipate:Oi,bounceIn:ki,bounceInOut:e=>e<.5?.5*(1-Ci(1-2*e)):.5*Ci(2*e-1)+.5,bounceOut:Ci},Zi=function(e){if(Array.isArray(e)){e.length;var t=(0,Ee.CR)(e,4);return zi(t[0],t[1],t[2],t[3])}return"string"===typeof e?("Invalid easing type '".concat(e,"'"),qi[e]):e},Hi=function(e,t){return"zIndex"!==e&&(!("number"!==typeof t&&!Array.isArray(t))||!("string"!==typeof t||!ti.test(t)||t.startsWith("url(")))},Wi=function(){return{type:"spring",stiffness:500,damping:25,restSpeed:10}},Gi=function(e){return{type:"spring",stiffness:550,damping:0===e?2*Math.sqrt(550):30,restSpeed:10}},Ki=function(){return{type:"keyframes",ease:"linear",duration:.3}},Ji=function(e){return{type:"keyframes",duration:.8,values:e}},Yi={x:Wi,y:Wi,z:Wi,rotate:Wi,rotateX:Wi,rotateY:Wi,rotateZ:Wi,scaleX:Gi,scaleY:Gi,scale:Gi,opacity:Ki,backgroundColor:Ki,color:Ki,default:Gi};const $i=new Set(["brightness","contrast","saturate","opacity"]);function Xi(e){let[t,n]=e.slice(0,-1).split("(");if("drop-shadow"===t)return e;const[r]=n.match(Ht)||[];if(!r)return e;const i=n.replace(r,"");let o=$i.has(t)?1:0;return r!==n&&(o*=100),t+"("+o+i+")"}const Qi=/([a-z-]*)\(.*?\)/g,eo=Object.assign(Object.assign({},ti),{getAnimatableNone:e=>{const t=e.match(Qi);return t?t.map(Xi).join(" "):e}});var to=(0,Ee.pi)((0,Ee.pi)({},sn),{color:Kr,backgroundColor:Kr,outlineColor:Kr,fill:Kr,stroke:Kr,borderColor:Kr,borderTopColor:Kr,borderRightColor:Kr,borderBottomColor:Kr,borderLeftColor:Kr,filter:eo,WebkitFilter:eo}),no=function(e){return to[e]};function ro(e,t){var n,r=no(e);return r!==eo&&(r=ti),null===(n=r.getAnimatableNone)||void 0===n?void 0:n.call(r,t)}var io=!1;function oo(e){var t=e.ease,n=e.times,r=e.yoyo,i=e.flip,o=e.loop,a=(0,Ee._T)(e,["ease","times","yoyo","flip","loop"]),s=(0,Ee.pi)({},a);return n&&(s.offset=n),a.duration&&(s.duration=ji(a.duration)),a.repeatDelay&&(s.repeatDelay=ji(a.repeatDelay)),t&&(s.ease=function(e){return Array.isArray(e)&&"number"!==typeof e[0]}(t)?t.map(Zi):Zi(t)),"tween"===a.type&&(s.type="keyframes"),(r||o||i)&&(!0,r?s.repeatType="reverse":o?s.repeatType="loop":i&&(s.repeatType="mirror"),s.repeat=o||r||i||a.repeat),"spring"!==a.type&&(s.type="keyframes"),s}function ao(e,t,n){var r;return Array.isArray(t.to)&&(null!==(r=e.duration)&&void 0!==r||(e.duration=.8)),function(e){Array.isArray(e.to)&&null===e.to[0]&&(e.to=(0,Ee.ev)([],(0,Ee.CR)(e.to),!1),e.to[0]=e.from)}(t),function(e){e.when,e.delay,e.delayChildren,e.staggerChildren,e.staggerDirection,e.repeat,e.repeatType,e.repeatDelay,e.from;var t=(0,Ee._T)(e,["when","delay","delayChildren","staggerChildren","staggerDirection","repeat","repeatType","repeatDelay","from"]);return!!Object.keys(t).length}(e)||(e=(0,Ee.pi)((0,Ee.pi)({},e),function(e,t){var n;return n=Pn(t)?Ji:Yi[e]||Yi.default,(0,Ee.pi)({to:t},n(t))}(n,t.to))),(0,Ee.pi)((0,Ee.pi)({},t),oo(e))}function so(e,t,n,r,i){var o,a=lo(r,e),s=null!==(o=a.from)&&void 0!==o?o:t.get(),u=Hi(e,n);"none"===s&&u&&"string"===typeof n?s=ro(e,n):uo(s)&&"string"===typeof n?s=co(n):!Array.isArray(n)&&uo(n)&&"string"===typeof s&&(n=co(s));var c=Hi(e,s);return"You are trying to animate ".concat(e,' from "').concat(s,'" to "').concat(n,'". ').concat(s," is not an animatable value - to enable this animation set ").concat(s," to a value animatable to ").concat(n," via the `style` property."),c&&u&&!1!==a.type?function(){var r={from:s,to:n,velocity:t.getVelocity(),onComplete:i,onUpdate:function(e){return t.set(e)}};return"inertia"===a.type||"decay"===a.type?function({from:e=0,velocity:t=0,min:n,max:r,power:i=.8,timeConstant:o=750,bounceStiffness:a=500,bounceDamping:s=10,restDelta:u=1,modifyTarget:c,driver:l,onUpdate:f,onComplete:d,onStop:h}){let p;function v(e){return void 0!==n&&e<n||void 0!==r&&e>r}function m(e){return void 0===n?r:void 0===r||Math.abs(n-e)<Math.abs(r-e)?n:r}function g(e){null===p||void 0===p||p.stop(),p=Ri(Object.assign(Object.assign({},e),{driver:l,onUpdate:t=>{var n;null===f||void 0===f||f(t),null===(n=e.onUpdate)||void 0===n||n.call(e,t)},onComplete:d,onStop:h}))}function y(e){g(Object.assign({type:"spring",stiffness:a,damping:s,restDelta:u},e))}if(v(e))y({from:e,velocity:t,to:m(e)});else{let r=i*t+e;"undefined"!==typeof c&&(r=c(r));const a=m(r),s=a===n?-1:1;let l,f;const d=e=>{l=f,f=e,t=Ni(e-l,Ue().delta),(1===s&&e>a||-1===s&&e<a)&&y({from:e,to:a,velocity:t})};g({type:"decay",from:e,velocity:t,timeConstant:o,power:i,restDelta:u,modifyTarget:c,onUpdate:v(r)?d:void 0})}return{stop:()=>null===p||void 0===p?void 0:p.stop()}}((0,Ee.pi)((0,Ee.pi)({},r),a)):Ri((0,Ee.pi)((0,Ee.pi)({},ao(a,r,e)),{onUpdate:function(e){var t;r.onUpdate(e),null===(t=a.onUpdate)||void 0===t||t.call(a,e)},onComplete:function(){var e;r.onComplete(),null===(e=a.onComplete)||void 0===e||e.call(a)}}))}:function(){var e,r,o=Rn(n);return t.set(o),i(),null===(e=null===a||void 0===a?void 0:a.onUpdate)||void 0===e||e.call(a,o),null===(r=null===a||void 0===a?void 0:a.onComplete)||void 0===r||r.call(a),{stop:function(){}}}}function uo(e){return 0===e||"string"===typeof e&&0===parseFloat(e)&&-1===e.indexOf(" ")}function co(e){return"number"===typeof e?0:ro("",e)}function lo(e,t){return e[t]||e.default||e}function fo(e,t,n,r){return void 0===r&&(r={}),io&&(r={type:!1}),t.start((function(i){var o,a,s=so(e,t,n,r,i),u=function(e,t){var n,r;return null!==(r=null!==(n=(lo(e,t)||{}).delay)&&void 0!==n?n:e.delay)&&void 0!==r?r:0}(r,e),c=function(){return a=s()};return u?o=window.setTimeout(c,ji(u)):c(),function(){clearTimeout(o),null===a||void 0===a||a.stop()}}))}var ho=function(e){return/^0[^.\s]+$/.test(e)};function po(e,t){-1===e.indexOf(t)&&e.push(t)}function vo(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var mo=function(){function e(){this.subscriptions=[]}return e.prototype.add=function(e){var t=this;return po(this.subscriptions,e),function(){return vo(t.subscriptions,e)}},e.prototype.notify=function(e,t,n){var r=this.subscriptions.length;if(r)if(1===r)this.subscriptions[0](e,t,n);else for(var i=0;i<r;i++){var o=this.subscriptions[i];o&&o(e,t,n)}},e.prototype.getSize=function(){return this.subscriptions.length},e.prototype.clear=function(){this.subscriptions.length=0},e}(),go=function(){function e(e){var t=this;this.version="6.5.1",this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new mo,this.velocityUpdateSubscribers=new mo,this.renderSubscribers=new mo,this.canTrackVelocity=!1,this.updateAndNotify=function(e,n){void 0===n&&(n=!0),t.prev=t.current,t.current=e;var r=Ue(),i=r.delta,o=r.timestamp;t.lastUpdated!==o&&(t.timeDelta=i,t.lastUpdated=o,Ve.postRender(t.scheduleVelocityCheck)),t.prev!==t.current&&t.updateSubscribers.notify(t.current),t.velocityUpdateSubscribers.getSize()&&t.velocityUpdateSubscribers.notify(t.getVelocity()),n&&t.renderSubscribers.notify(t.current)},this.scheduleVelocityCheck=function(){return Ve.postRender(t.velocityCheck)},this.velocityCheck=function(e){e.timestamp!==t.lastUpdated&&(t.prev=t.current,t.velocityUpdateSubscribers.notify(t.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=function(e){return!isNaN(parseFloat(e))}(this.current)}return e.prototype.onChange=function(e){return this.updateSubscribers.add(e)},e.prototype.clearListeners=function(){this.updateSubscribers.clear()},e.prototype.onRenderRequest=function(e){return e(this.get()),this.renderSubscribers.add(e)},e.prototype.attach=function(e){this.passiveEffect=e},e.prototype.set=function(e,t){void 0===t&&(t=!0),t&&this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e,t)},e.prototype.get=function(){return this.current},e.prototype.getPrevious=function(){return this.prev},e.prototype.getVelocity=function(){return this.canTrackVelocity?Ni(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0},e.prototype.start=function(e){var t=this;return this.stop(),new Promise((function(n){t.hasAnimated=!0,t.stopAnimation=e(n)})).then((function(){return t.clearAnimation()}))},e.prototype.stop=function(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()},e.prototype.isAnimating=function(){return!!this.stopAnimation},e.prototype.clearAnimation=function(){this.stopAnimation=null},e.prototype.destroy=function(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()},e}();function yo(e){return new go(e)}var bo=function(e){return function(t){return t.test(e)}},wo=[nn,Xt,$t,Yt,en,Qt,{test:function(e){return"auto"===e},parse:function(e){return e}}],_o=function(e){return wo.find(bo(e))},Eo=(0,Ee.ev)((0,Ee.ev)([],(0,Ee.CR)(wo),!1),[Kr,ti],!1),So=function(e){return Eo.find(bo(e))};function xo(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,yo(n))}function Oo(e,t){var n=gt(e,t),r=n?e.makeTargetAnimatable(n,!1):{},i=r.transitionEnd,o=void 0===i?{}:i;r.transition;var a=(0,Ee._T)(r,["transitionEnd","transition"]);for(var s in a=(0,Ee.pi)((0,Ee.pi)({},a),o)){xo(e,s,Rn(a[s]))}}function Co(e,t){if(t)return(t[e]||t.default||t).from}function ko(e,t,n){var r;void 0===n&&(n={});var i=gt(e,t,n.custom),o=(i||{}).transition,a=void 0===o?e.getDefaultTransition()||{}:o;n.transitionOverride&&(a=n.transitionOverride);var s=i?function(){return To(e,i,n)}:function(){return Promise.resolve()},u=(null===(r=e.variantChildren)||void 0===r?void 0:r.size)?function(r){void 0===r&&(r=0);var i=a.delayChildren,o=void 0===i?0:i,s=a.staggerChildren,u=a.staggerDirection;return function(e,t,n,r,i,o){void 0===n&&(n=0);void 0===r&&(r=0);void 0===i&&(i=1);var a=[],s=(e.variantChildren.size-1)*r,u=1===i?function(e){return void 0===e&&(e=0),e*r}:function(e){return void 0===e&&(e=0),s-e*r};return Array.from(e.variantChildren).sort(Ao).forEach((function(e,r){a.push(ko(e,t,(0,Ee.pi)((0,Ee.pi)({},o),{delay:n+u(r)})).then((function(){return e.notifyAnimationComplete(t)})))})),Promise.all(a)}(e,t,o+r,s,u,n)}:function(){return Promise.resolve()},c=a.when;if(c){var l=(0,Ee.CR)("beforeChildren"===c?[s,u]:[u,s],2),f=l[0],d=l[1];return f().then(d)}return Promise.all([s(),u(n.delay)])}function To(e,t,n){var r,i=void 0===n?{}:n,o=i.delay,a=void 0===o?0:o,s=i.transitionOverride,u=i.type,c=e.makeTargetAnimatable(t),l=c.transition,f=void 0===l?e.getDefaultTransition():l,d=c.transitionEnd,h=(0,Ee._T)(c,["transition","transitionEnd"]);s&&(f=s);var p=[],v=u&&(null===(r=e.animationState)||void 0===r?void 0:r.getState()[u]);for(var m in h){var g=e.getValue(m),y=h[m];if(!(!g||void 0===y||v&&Io(v,m))){var b=(0,Ee.pi)({delay:a},f);e.shouldReduceMotion&&jt(m)&&(b=(0,Ee.pi)((0,Ee.pi)({},b),{type:!1,delay:0}));var w=fo(m,g,y,b);p.push(w)}}return Promise.all(p).then((function(){d&&Oo(e,d)}))}function Ao(e,t){return e.sortNodePosition(t)}function Io(e,t){var n=e.protectedKeys,r=e.needsAnimating,i=n.hasOwnProperty(t)&&!0!==r[t];return r[t]=!1,i}var Do=[Fn.Animate,Fn.InView,Fn.Focus,Fn.Hover,Fn.Tap,Fn.Drag,Fn.Exit],Po=(0,Ee.ev)([],(0,Ee.CR)(Do),!1).reverse(),Ro=Do.length;function No(e){return function(t){return Promise.all(t.map((function(t){var n=t.animation,r=t.options;return function(e,t,n){var r;if(void 0===n&&(n={}),e.notifyAnimationStart(t),Array.isArray(t)){var i=t.map((function(t){return ko(e,t,n)}));r=Promise.all(i)}else if("string"===typeof t)r=ko(e,t,n);else{var o="function"===typeof t?gt(e,t,n.custom):t;r=To(e,o,n)}return r.then((function(){return e.notifyAnimationComplete(t)}))}(e,n,r)})))}}function jo(e){var t=No(e),n=function(){var e;return(e={})[Fn.Animate]=Mo(!0),e[Fn.InView]=Mo(),e[Fn.Hover]=Mo(),e[Fn.Tap]=Mo(),e[Fn.Drag]=Mo(),e[Fn.Focus]=Mo(),e[Fn.Exit]=Mo(),e}(),r={},i=!0,o=function(t,n){var r=gt(e,n);if(r){r.transition;var i=r.transitionEnd,o=(0,Ee._T)(r,["transition","transitionEnd"]);t=(0,Ee.pi)((0,Ee.pi)((0,Ee.pi)({},t),o),i)}return t};function a(a,s){for(var u,c=e.getProps(),l=e.getVariantContext(!0)||{},f=[],d=new Set,h={},p=1/0,v=function(t){var r=Po[t],v=n[r],m=null!==(u=c[r])&&void 0!==u?u:l[r],g=vt(m),y=r===s?v.isActive:null;!1===y&&(p=t);var b=m===l[r]&&m!==c[r]&&g;if(b&&i&&e.manuallyAnimateOnMount&&(b=!1),v.protectedKeys=(0,Ee.pi)({},h),!v.isActive&&null===y||!m&&!v.prevProp||Dn(m)||"boolean"===typeof m)return"continue";var w=function(e,t){if("string"===typeof t)return t!==e;if(pt(t))return!Er(t,e);return!1}(v.prevProp,m),_=w||r===s&&v.isActive&&!b&&g||t>p&&g,E=Array.isArray(m)?m:[m],S=E.reduce(o,{});!1===y&&(S={});var x=v.prevResolvedValues,O=void 0===x?{}:x,C=(0,Ee.pi)((0,Ee.pi)({},O),S),k=function(e){_=!0,d.delete(e),v.needsAnimating[e]=!0};for(var T in C){var A=S[T],I=O[T];h.hasOwnProperty(T)||(A!==I?Pn(A)&&Pn(I)?!Er(A,I)||w?k(T):v.protectedKeys[T]=!0:void 0!==A?k(T):d.add(T):void 0!==A&&d.has(T)?k(T):v.protectedKeys[T]=!0)}v.prevProp=m,v.prevResolvedValues=S,v.isActive&&(h=(0,Ee.pi)((0,Ee.pi)({},h),S)),i&&e.blockInitialAnimation&&(_=!1),_&&!b&&f.push.apply(f,(0,Ee.ev)([],(0,Ee.CR)(E.map((function(e){return{animation:e,options:(0,Ee.pi)({type:r},a)}}))),!1))},m=0;m<Ro;m++)v(m);if(r=(0,Ee.pi)({},h),d.size){var g={};d.forEach((function(t){var n=e.getBaseTarget(t);void 0!==n&&(g[t]=n)})),f.push({animation:g})}var y=Boolean(f.length);return i&&!1===c.initial&&!e.manuallyAnimateOnMount&&(y=!1),i=!1,y?t(f):Promise.resolve()}return{isAnimated:function(e){return void 0!==r[e]},animateChanges:a,setActive:function(t,r,i){var o;if(n[t].isActive===r)return Promise.resolve();null===(o=e.variantChildren)||void 0===o||o.forEach((function(e){var n;return null===(n=e.animationState)||void 0===n?void 0:n.setActive(t,r)})),n[t].isActive=r;var s=a(i,t);for(var u in n)n[u].protectedKeys={};return s},setAnimateFunction:function(n){t=n(e)},getState:function(){return n}}}function Mo(e){return void 0===e&&(e=!1),{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}var Lo={animation:br((function(e){var t=e.visualElement,n=e.animate;t.animationState||(t.animationState=jo(t)),Dn(n)&&(0,i.useEffect)((function(){return n.subscribe(t)}),[n])})),exit:br((function(e){var t=e.custom,n=e.visualElement,r=(0,Ee.CR)(_r(),2),o=r[0],a=r[1],s=(0,i.useContext)(He);(0,i.useEffect)((function(){var e,r;n.isPresent=o;var i=null===(e=n.animationState)||void 0===e?void 0:e.setActive(Fn.Exit,!o,{custom:null!==(r=null===s||void 0===s?void 0:s.custom)&&void 0!==r?r:t});!o&&(null===i||void 0===i||i.then(a))}),[o])}))};const Fo=e=>e.hasOwnProperty("x")&&e.hasOwnProperty("y"),Bo=e=>Fo(e)&&e.hasOwnProperty("z"),Uo=(e,t)=>Math.abs(e-t);function Vo(e,t){if(ni(e)&&ni(t))return Uo(e,t);if(Fo(e)&&Fo(t)){const n=Uo(e.x,t.x),r=Uo(e.y,t.y),i=Bo(e)&&Bo(t)?Uo(e.z,t.z):0;return Math.sqrt(Math.pow(n,2)+Math.pow(r,2)+Math.pow(i,2))}}var zo=function(){function e(e,t,n){var r=this,i=(void 0===n?{}:n).transformPagePoint;if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=function(){if(r.lastMoveEvent&&r.lastMoveEventInfo){var e=Ho(r.lastMoveEventInfo,r.history),t=null!==r.startEvent,n=Vo(e.offset,{x:0,y:0})>=3;if(t||n){var i=e.point,o=Ue().timestamp;r.history.push((0,Ee.pi)((0,Ee.pi)({},i),{timestamp:o}));var a=r.handlers,s=a.onStart,u=a.onMove;t||(s&&s(r.lastMoveEvent,e),r.startEvent=r.lastMoveEvent),u&&u(r.lastMoveEvent,e)}}},this.handlePointerMove=function(e,t){r.lastMoveEvent=e,r.lastMoveEventInfo=qo(t,r.transformPagePoint),qn(e)&&0===e.buttons?r.handlePointerUp(e,t):Ve.update(r.updatePoint,!0)},this.handlePointerUp=function(e,t){r.end();var n=r.handlers,i=n.onEnd,o=n.onSessionEnd,a=Ho(qo(t,r.transformPagePoint),r.history);r.startEvent&&i&&i(e,a),o&&o(e,a)},!(Zn(e)&&e.touches.length>1)){this.handlers=t,this.transformPagePoint=i;var o=qo(Kn(e),this.transformPagePoint),a=o.point,s=Ue().timestamp;this.history=[(0,Ee.pi)((0,Ee.pi)({},a),{timestamp:s})];var u=t.onSessionStart;u&&u(e,Ho(o,this.history)),this.removeListeners=cr(Qn(window,"pointermove",this.handlePointerMove),Qn(window,"pointerup",this.handlePointerUp),Qn(window,"pointercancel",this.handlePointerUp))}}return e.prototype.updateHandlers=function(e){this.handlers=e},e.prototype.end=function(){this.removeListeners&&this.removeListeners(),je.update(this.updatePoint)},e}();function qo(e,t){return t?{point:t(e.point)}:e}function Zo(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Ho(e,t){var n=e.point;return{point:n,delta:Zo(n,Go(t)),offset:Zo(n,Wo(t)),velocity:Ko(t,.1)}}function Wo(e){return e[0]}function Go(e){return e[e.length-1]}function Ko(e,t){if(e.length<2)return{x:0,y:0};for(var n=e.length-1,r=null,i=Go(e);n>=0&&(r=e[n],!(i.timestamp-r.timestamp>ji(t)));)n--;if(!r)return{x:0,y:0};var o=(i.timestamp-r.timestamp)/1e3;if(0===o)return{x:0,y:0};var a={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Jo(e){return e.max-e.min}function Yo(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=.01),Vo(e,t)<n}function $o(e,t,n,r){void 0===r&&(r=.5),e.origin=r,e.originPoint=Rr(t.min,t.max,e.origin),e.scale=Jo(n)/Jo(t),(Yo(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Rr(n.min,n.max,e.origin)-e.originPoint,(Yo(e.translate)||isNaN(e.translate))&&(e.translate=0)}function Xo(e,t,n,r){$o(e.x,t.x,n.x,null===r||void 0===r?void 0:r.originX),$o(e.y,t.y,n.y,null===r||void 0===r?void 0:r.originY)}function Qo(e,t,n){e.min=n.min+t.min,e.max=e.min+Jo(t)}function ea(e,t,n){e.min=t.min-n.min,e.max=e.min+Jo(t)}function ta(e,t,n){ea(e.x,t.x,n.x),ea(e.y,t.y,n.y)}function na(e,t,n){return{min:void 0!==t?e.min+t:void 0,max:void 0!==n?e.max+n-(e.max-e.min):void 0}}function ra(e,t){var n,r=t.min-e.min,i=t.max-e.max;return t.max-t.min<e.max-e.min&&(r=(n=(0,Ee.CR)([i,r],2))[0],i=n[1]),{min:r,max:i}}var ia=.35;function oa(e,t,n){return{min:aa(e,t),max:aa(e,n)}}function aa(e,t){var n;return"number"===typeof e?e:null!==(n=e[t])&&void 0!==n?n:0}function sa(e){return[e("x"),e("y")]}function ua(e){var t=e.top;return{x:{min:e.left,max:e.right},y:{min:t,max:e.bottom}}}function ca(e){return void 0===e||1===e}function la(e){var t=e.scale,n=e.scaleX,r=e.scaleY;return!ca(t)||!ca(n)||!ca(r)}function fa(e){return la(e)||da(e.x)||da(e.y)||e.z||e.rotate||e.rotateX||e.rotateY}function da(e){return e&&"0%"!==e}function ha(e,t,n){return n+t*(e-n)}function pa(e,t,n,r,i){return void 0!==i&&(e=ha(e,i,r)),ha(e,n,r)+t}function va(e,t,n,r,i){void 0===t&&(t=0),void 0===n&&(n=1),e.min=pa(e.min,t,n,r,i),e.max=pa(e.max,t,n,r,i)}function ma(e,t){var n=t.x,r=t.y;va(e.x,n.translate,n.scale,n.originPoint),va(e.y,r.translate,r.scale,r.originPoint)}function ga(e,t){e.min=e.min+t,e.max=e.max+t}function ya(e,t,n){var r=(0,Ee.CR)(n,3),i=r[0],o=r[1],a=r[2],s=void 0!==t[a]?t[a]:.5,u=Rr(e.min,e.max,s);va(e,t[i],t[o],u,t.scale)}var ba=["x","scaleX","originX"],wa=["y","scaleY","originY"];function _a(e,t){ya(e.x,t,ba),ya(e.y,t,wa)}function Ea(e,t){return ua(function(e,t){if(!t)return e;var n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}(e.getBoundingClientRect(),t))}var Sa=new WeakMap,xa=function(){function e(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic={x:{min:0,max:0},y:{min:0,max:0}},this.visualElement=e}return e.prototype.start=function(e,t){var n=this,r=(void 0===t?{}:t).snapToCursor,i=void 0!==r&&r;if(!1!==this.visualElement.isPresent){this.panSession=new zo(e,{onSessionStart:function(e){n.stopAnimation(),i&&n.snapToCursor(Kn(e,"page").point)},onStart:function(e,t){var r,i=n.getProps(),o=i.drag,a=i.dragPropagation,s=i.onDragStart;(!o||a||(n.openGlobalLock&&n.openGlobalLock(),n.openGlobalLock=ir(o),n.openGlobalLock))&&(n.isDragging=!0,n.currentDirection=null,n.resolveConstraints(),n.visualElement.projection&&(n.visualElement.projection.isAnimationBlocked=!0,n.visualElement.projection.target=void 0),sa((function(e){var t,r,i=n.getAxisMotionValue(e).get()||0;if($t.test(i)){var o=null===(r=null===(t=n.visualElement.projection)||void 0===t?void 0:t.layout)||void 0===r?void 0:r.actual[e];if(o)i=Jo(o)*(parseFloat(i)/100)}n.originPoint[e]=i})),null===s||void 0===s||s(e,t),null===(r=n.visualElement.animationState)||void 0===r||r.setActive(Fn.Drag,!0))},onMove:function(e,t){var r=n.getProps(),i=r.dragPropagation,o=r.dragDirectionLock,a=r.onDirectionLock,s=r.onDrag;if(i||n.openGlobalLock){var u=t.offset;if(o&&null===n.currentDirection)return n.currentDirection=function(e,t){void 0===t&&(t=10);var n=null;Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x");return n}(u),void(null!==n.currentDirection&&(null===a||void 0===a||a(n.currentDirection)));n.updateAxis("x",t.point,u),n.updateAxis("y",t.point,u),n.visualElement.syncRender(),null===s||void 0===s||s(e,t)}},onSessionEnd:function(e,t){return n.stop(e,t)}},{transformPagePoint:this.visualElement.getTransformPagePoint()})}},e.prototype.stop=function(e,t){var n=this.isDragging;if(this.cancel(),n){var r=t.velocity;this.startAnimation(r);var i=this.getProps().onDragEnd;null===i||void 0===i||i(e,t)}},e.prototype.cancel=function(){var e,t;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),null===(e=this.panSession)||void 0===e||e.end(),this.panSession=void 0,!this.getProps().dragPropagation&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),null===(t=this.visualElement.animationState)||void 0===t||t.setActive(Fn.Drag,!1)},e.prototype.updateAxis=function(e,t,n){var r=this.getProps().drag;if(n&&Oa(e,r,this.currentDirection)){var i=this.getAxisMotionValue(e),o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=function(e,t,n){var r=t.min,i=t.max;return void 0!==r&&e<r?e=n?Rr(r,e,n.min):Math.max(e,r):void 0!==i&&e>i&&(e=n?Rr(i,e,n.max):Math.min(e,i)),e}(o,this.constraints[e],this.elastic[e])),i.set(o)}},e.prototype.resolveConstraints=function(){var e=this,t=this.getProps(),n=t.dragConstraints,r=t.dragElastic,i=(this.visualElement.projection||{}).layout,o=this.constraints;n&&ht(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):this.constraints=!(!n||!i)&&function(e,t){var n=t.top,r=t.left,i=t.bottom,o=t.right;return{x:na(e.x,r,o),y:na(e.y,n,i)}}(i.actual,n),this.elastic=function(e){return void 0===e&&(e=ia),!1===e?e=0:!0===e&&(e=ia),{x:oa(e,"left","right"),y:oa(e,"top","bottom")}}(r),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&sa((function(t){e.getAxisMotionValue(t)&&(e.constraints[t]=function(e,t){var n={};return void 0!==t.min&&(n.min=t.min-e.min),void 0!==t.max&&(n.max=t.max-e.min),n}(i.actual[t],e.constraints[t]))}))},e.prototype.resolveRefConstraints=function(){var e=this.getProps(),t=e.dragConstraints,n=e.onMeasureDragConstraints;if(!t||!ht(t))return!1;var r=t.current,i=this.visualElement.projection;if(!i||!i.layout)return!1;var o=function(e,t,n){var r=Ea(e,n),i=t.scroll;return i&&(ga(r.x,i.x),ga(r.y,i.y)),r}(r,i.root,this.visualElement.getTransformPagePoint()),a=function(e,t){return{x:ra(e.x,t.x),y:ra(e.y,t.y)}}(i.layout.actual,o);if(n){var s=n(function(e){var t=e.x,n=e.y;return{top:n.min,right:t.max,bottom:n.max,left:t.min}}(a));this.hasMutatedConstraints=!!s,s&&(a=ua(s))}return a},e.prototype.startAnimation=function(e){var t=this,n=this.getProps(),r=n.drag,i=n.dragMomentum,o=n.dragElastic,a=n.dragTransition,s=n.dragSnapToOrigin,u=n.onDragTransitionEnd,c=this.constraints||{},l=sa((function(n){var u;if(Oa(n,r,t.currentDirection)){var l=null!==(u=null===c||void 0===c?void 0:c[n])&&void 0!==u?u:{};s&&(l={min:0,max:0});var f=o?200:1e6,d=o?40:1e7,h=(0,Ee.pi)((0,Ee.pi)({type:"inertia",velocity:i?e[n]:0,bounceStiffness:f,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10},a),l);return t.startAxisValueAnimation(n,h)}}));return Promise.all(l).then(u)},e.prototype.startAxisValueAnimation=function(e,t){return fo(e,this.getAxisMotionValue(e),0,t)},e.prototype.stopAnimation=function(){var e=this;sa((function(t){return e.getAxisMotionValue(t).stop()}))},e.prototype.getAxisMotionValue=function(e){var t,n,r="_drag"+e.toUpperCase(),i=this.visualElement.getProps()[r];return i||this.visualElement.getValue(e,null!==(n=null===(t=this.visualElement.getProps().initial)||void 0===t?void 0:t[e])&&void 0!==n?n:0)},e.prototype.snapToCursor=function(e){var t=this;sa((function(n){if(Oa(n,t.getProps().drag,t.currentDirection)){var r=t.visualElement.projection,i=t.getAxisMotionValue(n);if(r&&r.layout){var o=r.layout.actual[n],a=o.min,s=o.max;i.set(e[n]-Rr(a,s,.5))}}}))},e.prototype.scalePositionWithinConstraints=function(){var e,t=this,n=this.getProps(),r=n.drag,i=n.dragConstraints,o=this.visualElement.projection;if(ht(i)&&o&&this.constraints){this.stopAnimation();var a={x:0,y:0};sa((function(e){var n=t.getAxisMotionValue(e);if(n){var r=n.get();a[e]=function(e,t){var n=.5,r=Jo(e),i=Jo(t);return i>r?n=Pr(t.min,t.max-r,e.min):r>i&&(n=Pr(e.min,e.max-i,t.min)),Sr(0,1,n)}({min:r,max:r},t.constraints[e])}}));var s=this.visualElement.getProps().transformTemplate;this.visualElement.getInstance().style.transform=s?s({},""):"none",null===(e=o.root)||void 0===e||e.updateScroll(),o.updateLayout(),this.resolveConstraints(),sa((function(e){if(Oa(e,r,null)){var n=t.getAxisMotionValue(e),i=t.constraints[e],o=i.min,s=i.max;n.set(Rr(o,s,a[e]))}}))}},e.prototype.addListeners=function(){var e,t=this;Sa.set(this.visualElement,this);var n=Qn(this.visualElement.getInstance(),"pointerdown",(function(e){var n=t.getProps(),r=n.drag,i=n.dragListener;r&&(void 0===i||i)&&t.start(e)})),r=function(){ht(t.getProps().dragConstraints)&&(t.constraints=t.resolveRefConstraints())},i=this.visualElement.projection,o=i.addEventListener("measure",r);i&&!i.layout&&(null===(e=i.root)||void 0===e||e.updateScroll(),i.updateLayout()),r();var a=Vn(window,"resize",(function(){return t.scalePositionWithinConstraints()}));return i.addEventListener("didUpdate",(function(e){var n=e.delta,r=e.hasLayoutChanged;t.isDragging&&r&&(sa((function(e){var r=t.getAxisMotionValue(e);r&&(t.originPoint[e]+=n[e].translate,r.set(r.get()+n[e].translate))})),t.visualElement.syncRender())})),function(){a(),n(),o()}},e.prototype.getProps=function(){var e=this.visualElement.getProps(),t=e.drag,n=void 0!==t&&t,r=e.dragDirectionLock,i=void 0!==r&&r,o=e.dragPropagation,a=void 0!==o&&o,s=e.dragConstraints,u=void 0!==s&&s,c=e.dragElastic,l=void 0===c?ia:c,f=e.dragMomentum,d=void 0===f||f;return(0,Ee.pi)((0,Ee.pi)({},e),{drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:u,dragElastic:l,dragMomentum:d})},e}();function Oa(e,t,n){return(!0===t||t===e)&&(null===n||n===e)}var Ca={pan:br((function(e){var t=e.onPan,n=e.onPanStart,r=e.onPanEnd,o=e.onPanSessionStart,a=e.visualElement,s=t||n||r||o,u=(0,i.useRef)(null),c=(0,i.useContext)(st).transformPagePoint,l={onSessionStart:o,onStart:n,onMove:t,onEnd:function(e,t){u.current=null,r&&r(e,t)}};(0,i.useEffect)((function(){null!==u.current&&u.current.updateHandlers(l)})),er(a,"pointerdown",s&&function(e){u.current=new zo(e,l,{transformPagePoint:c})}),Qe((function(){return u.current&&u.current.end()}))})),drag:br((function(e){var t=e.dragControls,n=e.visualElement,r=We((function(){return new xa(n)}));(0,i.useEffect)((function(){return t&&t.subscribe(r)}),[r,t]),(0,i.useEffect)((function(){return r.addListeners()}),[r])}))},ka=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","LayoutAnimationStart","SetAxisTarget","Unmount"];var Ta=function(e){var t=e.treeType,n=void 0===t?"":t,r=e.build,i=e.getBaseTarget,o=e.makeTargetAnimatable,a=e.measureViewportBox,s=e.render,u=e.readValueFromInstance,c=e.removeValueFromRenderState,l=e.sortNodePosition,f=e.scrapeMotionValuesFromProps;return function(e,t){var d=e.parent,h=e.props,p=e.presenceId,v=e.blockInitialAnimation,m=e.visualState,g=e.shouldReduceMotion;void 0===t&&(t={});var y,b,w=!1,_=m.latestValues,E=m.renderState,S=function(){var e=ka.map((function(){return new mo})),t={},n={clearAllListeners:function(){return e.forEach((function(e){return e.clear()}))},updatePropListeners:function(e){ka.forEach((function(r){var i,o="on"+r,a=e[o];null===(i=t[r])||void 0===i||i.call(t),a&&(t[r]=n[o](a))}))}};return e.forEach((function(e,t){n["on"+ka[t]]=function(t){return e.add(t)},n["notify"+ka[t]]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.notify.apply(e,(0,Ee.ev)([],(0,Ee.CR)(t),!1))}})),n}(),x=new Map,O=new Map,C={},k=(0,Ee.pi)({},_);function T(){y&&w&&(A(),s(y,E,h.style,L.projection))}function A(){r(L,E,_,t,h)}function I(){S.notifyUpdate(_)}function D(e,t){var n=t.onChange((function(t){_[e]=t,h.onUpdate&&Ve.update(I,!1,!0)})),r=t.onRenderRequest(L.scheduleRender);O.set(e,(function(){n(),r()}))}var P=f(h);for(var R in P){var N=P[R];void 0!==_[R]&&Bt(N)&&N.set(_[R],!1)}var j=yt(h),M=bt(h),L=(0,Ee.pi)((0,Ee.pi)({treeType:n,current:null,depth:d?d.depth+1:0,parent:d,children:new Set,presenceId:p,shouldReduceMotion:g,variantChildren:M?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:Boolean(null===d||void 0===d?void 0:d.isMounted()),blockInitialAnimation:v,isMounted:function(){return Boolean(y)},mount:function(e){w=!0,y=L.current=e,L.projection&&L.projection.mount(e),M&&d&&!j&&(b=null===d||void 0===d?void 0:d.addVariantChild(L)),x.forEach((function(e,t){return D(t,e)})),null===d||void 0===d||d.children.add(L),L.setProps(h)},unmount:function(){var e;null===(e=L.projection)||void 0===e||e.unmount(),je.update(I),je.render(T),O.forEach((function(e){return e()})),null===b||void 0===b||b(),null===d||void 0===d||d.children.delete(L),S.clearAllListeners(),y=void 0,w=!1},addVariantChild:function(e){var t,n=L.getClosestVariantNode();if(n)return null===(t=n.variantChildren)||void 0===t||t.add(e),function(){return n.variantChildren.delete(e)}},sortNodePosition:function(e){return l&&n===e.treeType?l(L.getInstance(),e.getInstance()):0},getClosestVariantNode:function(){return M?L:null===d||void 0===d?void 0:d.getClosestVariantNode()},getLayoutId:function(){return h.layoutId},getInstance:function(){return y},getStaticValue:function(e){return _[e]},setStaticValue:function(e,t){return _[e]=t},getLatestValues:function(){return _},setVisibility:function(e){L.isVisible!==e&&(L.isVisible=e,L.scheduleRender())},makeTargetAnimatable:function(e,t){return void 0===t&&(t=!0),o(L,e,h,t)},measureViewportBox:function(){return a(y,h)},addValue:function(e,t){L.hasValue(e)&&L.removeValue(e),x.set(e,t),_[e]=t.get(),D(e,t)},removeValue:function(e){var t;x.delete(e),null===(t=O.get(e))||void 0===t||t(),O.delete(e),delete _[e],c(e,E)},hasValue:function(e){return x.has(e)},getValue:function(e,t){var n=x.get(e);return void 0===n&&void 0!==t&&(n=yo(t),L.addValue(e,n)),n},forEachValue:function(e){return x.forEach(e)},readValue:function(e){var n;return null!==(n=_[e])&&void 0!==n?n:u(y,e,t)},setBaseTarget:function(e,t){k[e]=t},getBaseTarget:function(e){if(i){var t=i(h,e);if(void 0!==t&&!Bt(t))return t}return k[e]}},S),{build:function(){return A(),E},scheduleRender:function(){Ve.render(T,!1,!0)},syncRender:T,setProps:function(e){(e.transformTemplate||h.transformTemplate)&&L.scheduleRender(),h=e,S.updatePropListeners(e),C=function(e,t,n){var r;for(var i in t){var o=t[i],a=n[i];if(Bt(o))e.addValue(i,o);else if(Bt(a))e.addValue(i,yo(o));else if(a!==o)if(e.hasValue(i)){var s=e.getValue(i);!s.hasAnimated&&s.set(o)}else e.addValue(i,yo(null!==(r=e.getStaticValue(i))&&void 0!==r?r:o))}for(var i in n)void 0===t[i]&&e.removeValue(i);return t}(L,f(h),C)},getProps:function(){return h},getVariant:function(e){var t;return null===(t=h.variants)||void 0===t?void 0:t[e]},getDefaultTransition:function(){return h.transition},getTransformPagePoint:function(){return h.transformPagePoint},getVariantContext:function(e){if(void 0===e&&(e=!1),e)return null===d||void 0===d?void 0:d.getVariantContext();if(!j){var t=(null===d||void 0===d?void 0:d.getVariantContext())||{};return void 0!==h.initial&&(t.initial=h.initial),t}for(var n={},r=0;r<Ia;r++){var i=Aa[r],o=h[i];(vt(o)||!1===o)&&(n[i]=o)}return n}});return L}},Aa=(0,Ee.ev)(["initial"],(0,Ee.CR)(Do),!1),Ia=Aa.length;function Da(e){return"string"===typeof e&&e.startsWith("var(--")}var Pa=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Ra(e,t,n){void 0===n&&(n=1),'Max CSS variable fallback depth detected in property "'.concat(e,'". This may indicate a circular fallback dependency.');var r=(0,Ee.CR)(function(e){var t=Pa.exec(e);if(!t)return[,];var n=(0,Ee.CR)(t,3);return[n[1],n[2]]}(e),2),i=r[0],o=r[1];if(i){var a=window.getComputedStyle(t).getPropertyValue(i);return a?a.trim():Da(o)?Ra(o,t,n+1):o}}var Na,ja=new Set(["width","height","top","left","right","bottom","x","y"]),Ma=function(e){return ja.has(e)},La=function(e,t){e.set(t,!1),e.set(t)},Fa=function(e){return e===nn||e===Xt};!function(e){e.width="width",e.height="height",e.left="left",e.right="right",e.top="top",e.bottom="bottom"}(Na||(Na={}));var Ba=function(e,t){return parseFloat(e.split(", ")[t])},Ua=function(e,t){return function(n,r){var i=r.transform;if("none"===i||!i)return 0;var o=i.match(/^matrix3d\((.+)\)$/);if(o)return Ba(o[1],t);var a=i.match(/^matrix\((.+)\)$/);return a?Ba(a[1],e):0}},Va=new Set(["x","y","z"]),za=Pt.filter((function(e){return!Va.has(e)}));var qa={width:function(e,t){var n=e.x,r=t.paddingLeft,i=void 0===r?"0":r,o=t.paddingRight,a=void 0===o?"0":o;return n.max-n.min-parseFloat(i)-parseFloat(a)},height:function(e,t){var n=e.y,r=t.paddingTop,i=void 0===r?"0":r,o=t.paddingBottom,a=void 0===o?"0":o;return n.max-n.min-parseFloat(i)-parseFloat(a)},top:function(e,t){var n=t.top;return parseFloat(n)},left:function(e,t){var n=t.left;return parseFloat(n)},bottom:function(e,t){var n=e.y,r=t.top;return parseFloat(r)+(n.max-n.min)},right:function(e,t){var n=e.x,r=t.left;return parseFloat(r)+(n.max-n.min)},x:Ua(4,13),y:Ua(5,14)},Za=function(e,t,n,r){void 0===n&&(n={}),void 0===r&&(r={}),t=(0,Ee.pi)({},t),r=(0,Ee.pi)({},r);var i=Object.keys(t).filter(Ma),o=[],a=!1,s=[];if(i.forEach((function(i){var u=e.getValue(i);if(e.hasValue(i)){var c,l=n[i],f=_o(l),d=t[i];if(Pn(d)){var h=d.length,p=null===d[0]?1:0;l=d[p],f=_o(l);for(var v=p;v<h;v++)c?_o(d[v]):(c=_o(d[v]))===f||Fa(f)&&Fa(c)}else c=_o(d);if(f!==c)if(Fa(f)&&Fa(c)){var m=u.get();"string"===typeof m&&u.set(parseFloat(m)),"string"===typeof d?t[i]=parseFloat(d):Array.isArray(d)&&c===Xt&&(t[i]=d.map(parseFloat))}else(null===f||void 0===f?void 0:f.transform)&&(null===c||void 0===c?void 0:c.transform)&&(0===l||0===d)?0===l?u.set(c.transform(l)):t[i]=f.transform(d):(a||(o=function(e){var t=[];return za.forEach((function(n){var r=e.getValue(n);void 0!==r&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))})),t.length&&e.syncRender(),t}(e),a=!0),s.push(i),r[i]=void 0!==r[i]?r[i]:t[i],La(u,d))}})),s.length){var u=s.indexOf("height")>=0?window.pageYOffset:null,c=function(e,t,n){var r=t.measureViewportBox(),i=t.getInstance(),o=getComputedStyle(i),a=o.display,s={};"none"===a&&t.setStaticValue("display",e.display||"block"),n.forEach((function(e){s[e]=qa[e](r,o)})),t.syncRender();var u=t.measureViewportBox();return n.forEach((function(n){var r=t.getValue(n);La(r,s[n]),e[n]=qa[n](u,o)})),e}(t,e,s);return o.length&&o.forEach((function(t){var n=(0,Ee.CR)(t,2),r=n[0],i=n[1];e.getValue(r).set(i)})),e.syncRender(),null!==u&&window.scrollTo({top:u}),{target:c,transitionEnd:r}}return{target:t,transitionEnd:r}};function Ha(e,t,n,r){return function(e){return Object.keys(e).some(Ma)}(t)?Za(e,t,n,r):{target:t,transitionEnd:r}}var Wa=function(e,t,n,r){var i=function(e,t,n){var r,i=(0,Ee._T)(t,[]),o=e.getInstance();if(!(o instanceof Element))return{target:i,transitionEnd:n};for(var a in n&&(n=(0,Ee.pi)({},n)),e.forEachValue((function(e){var t=e.get();if(Da(t)){var n=Ra(t,o);n&&e.set(n)}})),i){var s=i[a];if(Da(s)){var u=Ra(s,o);u&&(i[a]=u,n&&(null!==(r=n[a])&&void 0!==r||(n[a]=s)))}}return{target:i,transitionEnd:n}}(e,t,r);return Ha(e,t=i.target,n,r=i.transitionEnd)};var Ga={treeType:"dom",readValueFromInstance:function(e,t){if(jt(t)){var n=no(t);return n&&n.default||0}var r,i=(r=e,window.getComputedStyle(r));return(Vt(t)?i.getPropertyValue(t):i[t])||0},sortNodePosition:function(e,t){return 2&e.compareDocumentPosition(t)?1:-1},getBaseTarget:function(e,t){var n;return null===(n=e.style)||void 0===n?void 0:n[t]},measureViewportBox:function(e,t){return Ea(e,t.transformPagePoint)},resetTransform:function(e,t,n){var r=n.transformTemplate;t.style.transform=r?r({},""):"none",e.scheduleRender()},restoreTransform:function(e,t){e.style.transform=t.style.transform},removeValueFromRenderState:function(e,t){var n=t.vars,r=t.style;delete n[e],delete r[e]},makeTargetAnimatable:function(e,t,n,r){var i=n.transformValues;void 0===r&&(r=!0);var o=t.transition,a=t.transitionEnd,s=(0,Ee._T)(t,["transition","transitionEnd"]),u=function(e,t,n){var r,i,o={};for(var a in e)o[a]=null!==(r=Co(a,t))&&void 0!==r?r:null===(i=n.getValue(a))||void 0===i?void 0:i.get();return o}(s,o||{},e);if(i&&(a&&(a=i(a)),s&&(s=i(s)),u&&(u=i(u))),r){!function(e,t,n){var r,i,o,a,s=Object.keys(t).filter((function(t){return!e.hasValue(t)})),u=s.length;if(u)for(var c=0;c<u;c++){var l=s[c],f=t[l],d=null;Array.isArray(f)&&(d=f[0]),null===d&&(d=null!==(i=null!==(r=n[l])&&void 0!==r?r:e.readValue(l))&&void 0!==i?i:t[l]),void 0!==d&&null!==d&&("string"===typeof d&&(/^\-?\d*\.?\d+$/.test(d)||ho(d))?d=parseFloat(d):!So(d)&&ti.test(f)&&(d=ro(l,f)),e.addValue(l,yo(d)),null!==(o=(a=n)[l])&&void 0!==o||(a[l]=d),e.setBaseTarget(l,d))}}(e,s,u);var c=Wa(e,s,u,a);a=c.transitionEnd,s=c.target}return(0,Ee.pi)({transition:o,transitionEnd:a},s)},scrapeMotionValuesFromProps:An,build:function(e,t,n,r,i){void 0!==e.isVisible&&(t.style.visibility=e.isVisible?"visible":"hidden"),un(t,n,r,i.transformTemplate)},render:Cn},Ka=Ta(Ga),Ja=Ta((0,Ee.pi)((0,Ee.pi)({},Ga),{getBaseTarget:function(e,t){return e[t]},readValueFromInstance:function(e,t){var n;return jt(t)?(null===(n=no(t))||void 0===n?void 0:n.default)||0:(t=kn.has(t)?t:On(t),e.getAttribute(t))},scrapeMotionValuesFromProps:In,build:function(e,t,n,r,i){wn(t,n,r,i.transformTemplate)},render:Tn})),Ya=function(e,t){return At(e)?Ja(t,{enableHardwareAcceleration:!1}):Ka(t,{enableHardwareAcceleration:!0})};function $a(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}var Xa={correct:function(e,t){if(!t.target)return e;if("string"===typeof e){if(!Xt.test(e))return e;e=parseFloat(e)}var n=$a(e,t.target.x),r=$a(e,t.target.y);return"".concat(n,"% ").concat(r,"%")}},Qa="_$css",es={correct:function(e,t){var n=t.treeScale,r=t.projectionDelta,i=e,o=e.includes("var("),a=[];o&&(e=e.replace(Pa,(function(e){return a.push(e),Qa})));var s=ti.parse(e);if(s.length>5)return i;var u=ti.createTransformer(e),c="number"!==typeof s[0]?1:0,l=r.x.scale*n.x,f=r.y.scale*n.y;s[0+c]/=l,s[1+c]/=f;var d=Rr(l,f,.5);"number"===typeof s[2+c]&&(s[2+c]/=d),"number"===typeof s[3+c]&&(s[3+c]/=d);var h=u(s);if(o){var p=0;h=h.replace(Qa,(function(){var e=a[p];return p++,e}))}return h}},ts=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,Ee.ZT)(t,e),t.prototype.componentDidMount=function(){var e,t=this,n=this.props,r=n.visualElement,i=n.layoutGroup,o=n.switchLayoutGroup,a=n.layoutId,s=r.projection;e=ns,Object.assign(It,e),s&&((null===i||void 0===i?void 0:i.group)&&i.group.add(s),(null===o||void 0===o?void 0:o.register)&&a&&o.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",(function(){t.safeToRemove()})),s.setOptions((0,Ee.pi)((0,Ee.pi)({},s.options),{onExitComplete:function(){return t.safeToRemove()}}))),Et.hasEverUpdated=!0},t.prototype.getSnapshotBeforeUpdate=function(e){var t=this,n=this.props,r=n.layoutDependency,i=n.visualElement,o=n.drag,a=n.isPresent,s=i.projection;return s?(s.isPresent=a,o||e.layoutDependency!==r||void 0===r?s.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?s.promote():s.relegate()||Ve.postRender((function(){var e;(null===(e=s.getStack())||void 0===e?void 0:e.members.length)||t.safeToRemove()}))),null):null},t.prototype.componentDidUpdate=function(){var e=this.props.visualElement.projection;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())},t.prototype.componentWillUnmount=function(){var e=this.props,t=e.visualElement,n=e.layoutGroup,r=e.switchLayoutGroup,i=t.projection;i&&(i.scheduleCheckAfterUnmount(),(null===n||void 0===n?void 0:n.group)&&n.group.remove(i),(null===r||void 0===r?void 0:r.deregister)&&r.deregister(i))},t.prototype.safeToRemove=function(){var e=this.props.safeToRemove;null===e||void 0===e||e()},t.prototype.render=function(){return null},t}(i.Component);var ns={borderRadius:(0,Ee.pi)((0,Ee.pi)({},Xa),{applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]}),borderTopLeftRadius:Xa,borderTopRightRadius:Xa,borderBottomLeftRadius:Xa,borderBottomRightRadius:Xa,boxShadow:es},rs={measureLayout:function(e){var t=(0,Ee.CR)(_r(),2),n=t[0],r=t[1],o=(0,i.useContext)(Xe);return i.createElement(ts,(0,Ee.pi)({},e,{layoutGroup:o,switchLayoutGroup:(0,i.useContext)(xt),isPresent:n,safeToRemove:r}))}};var is=["TopLeft","TopRight","BottomLeft","BottomRight"],os=is.length,as=function(e){return"string"===typeof e?parseFloat(e):e},ss=function(e){return"number"===typeof e||Xt.test(e)};function us(e,t){var n;return null!==(n=e[t])&&void 0!==n?n:e.borderRadius}var cs=fs(0,.5,wi),ls=fs(.5,.95,pi);function fs(e,t,n){return function(r){return r<e?0:r>t?1:n(Pr(e,t,r))}}function ds(e,t){e.min=t.min,e.max=t.max}function hs(e,t){ds(e.x,t.x),ds(e.y,t.y)}function ps(e,t,n,r,i){return e=ha(e-=t,1/n,r),void 0!==i&&(e=ha(e,1/i,r)),e}function vs(e,t,n,r,i){var o=(0,Ee.CR)(n,3),a=o[0],s=o[1],u=o[2];!function(e,t,n,r,i,o,a){if(void 0===t&&(t=0),void 0===n&&(n=1),void 0===r&&(r=.5),void 0===o&&(o=e),void 0===a&&(a=e),$t.test(t)&&(t=parseFloat(t),t=Rr(a.min,a.max,t/100)-a.min),"number"===typeof t){var s=Rr(o.min,o.max,r);e===o&&(s-=t),e.min=ps(e.min,t,n,s,i),e.max=ps(e.max,t,n,s,i)}}(e,t[a],t[s],t[u],t.scale,r,i)}var ms=["x","scaleX","originX"],gs=["y","scaleY","originY"];function ys(e,t,n,r){vs(e.x,t,ms,null===n||void 0===n?void 0:n.x,null===r||void 0===r?void 0:r.x),vs(e.y,t,gs,null===n||void 0===n?void 0:n.y,null===r||void 0===r?void 0:r.y)}function bs(e){return 0===e.translate&&1===e.scale}function ws(e){return bs(e.x)&&bs(e.y)}function _s(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}var Es=function(){function e(){this.members=[]}return e.prototype.add=function(e){po(this.members,e),e.scheduleRender()},e.prototype.remove=function(e){if(vo(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){var t=this.members[this.members.length-1];t&&this.promote(t)}},e.prototype.relegate=function(e){var t,n=this.members.findIndex((function(t){return e===t}));if(0===n)return!1;for(var r=n;r>=0;r--){var i=this.members[r];if(!1!==i.isPresent){t=i;break}}return!!t&&(this.promote(t),!0)},e.prototype.promote=function(e,t){var n,r=this.lead;e!==r&&(this.prevLead=r,this.lead=e,e.show(),r&&(r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues,e.snapshot.isShared=!0),(null===(n=e.root)||void 0===n?void 0:n.isUpdating)&&(e.isLayoutDirty=!0),!1===e.options.crossfade&&r.hide()))},e.prototype.exitAnimationComplete=function(){this.members.forEach((function(e){var t,n,r,i,o;null===(n=(t=e.options).onExitComplete)||void 0===n||n.call(t),null===(o=null===(r=e.resumingFrom)||void 0===r?void 0:(i=r.options).onExitComplete)||void 0===o||o.call(i)}))},e.prototype.scheduleRender=function(){this.members.forEach((function(e){e.instance&&e.scheduleRender(!1)}))},e.prototype.removeLeadSnapshot=function(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)},e}();function Ss(e,t,n){var r=e.x.translate/t.x,i=e.y.translate/t.y,o="translate3d(".concat(r,"px, ").concat(i,"px, 0) ");if(o+="scale(".concat(1/t.x,", ").concat(1/t.y,") "),n){var a=n.rotate,s=n.rotateX,u=n.rotateY;a&&(o+="rotate(".concat(a,"deg) ")),s&&(o+="rotateX(".concat(s,"deg) ")),u&&(o+="rotateY(".concat(u,"deg) "))}var c=e.x.scale*t.x,l=e.y.scale*t.y;return"translate3d(0px, 0px, 0) scale(1, 1) scale(1, 1)"===(o+="scale(".concat(c,", ").concat(l,")"))?"none":o}var xs=function(e,t){return e.depth-t.depth},Os=function(){function e(){this.children=[],this.isDirty=!1}return e.prototype.add=function(e){po(this.children,e),this.isDirty=!0},e.prototype.remove=function(e){vo(this.children,e),this.isDirty=!0},e.prototype.forEach=function(e){this.isDirty&&this.children.sort(xs),this.isDirty=!1,this.children.forEach(e)},e}();function Cs(e){var t=e.attachResizeListener,n=e.defaultParent,r=e.measureScroll,i=e.checkIsScrollRoot,o=e.resetTransform;return function(){function e(e,t,r){var i=this;void 0===t&&(t={}),void 0===r&&(r=null===n||void 0===n?void 0:n()),this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=function(){i.isUpdating&&(i.isUpdating=!1,i.clearAllSnapshots())},this.updateProjection=function(){i.nodes.forEach(Rs),i.nodes.forEach(Ns)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.id=e,this.latestValues=t,this.root=r?r.root||r:this,this.path=r?(0,Ee.ev)((0,Ee.ev)([],(0,Ee.CR)(r.path),!1),[r],!1):[],this.parent=r,this.depth=r?r.depth+1:0,e&&this.root.registerPotentialNode(e,this);for(var o=0;o<this.path.length;o++)this.path[o].shouldResetTransform=!0;this.root===this&&(this.nodes=new Os)}return e.prototype.addEventListener=function(e,t){return this.eventHandlers.has(e)||this.eventHandlers.set(e,new mo),this.eventHandlers.get(e).add(t)},e.prototype.notifyListeners=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=this.eventHandlers.get(e);null===r||void 0===r||r.notify.apply(r,(0,Ee.ev)([],(0,Ee.CR)(t),!1))},e.prototype.hasListeners=function(e){return this.eventHandlers.has(e)},e.prototype.registerPotentialNode=function(e,t){this.potentialNodes.set(e,t)},e.prototype.mount=function(e,n){var r,i=this;if(void 0===n&&(n=!1),!this.instance){this.isSVG=e instanceof SVGElement&&"svg"!==e.tagName,this.instance=e;var o=this.options,a=o.layoutId,s=o.layout,u=o.visualElement;if(u&&!u.getInstance()&&u.mount(e),this.root.nodes.add(this),null===(r=this.parent)||void 0===r||r.children.add(this),this.id&&this.root.potentialNodes.delete(this.id),n&&(s||a)&&(this.isLayoutDirty=!0),t){var c,l=function(){return i.root.updateBlockedByResize=!1};t(e,(function(){i.root.updateBlockedByResize=!0,clearTimeout(c),c=window.setTimeout(l,250),Et.hasAnimatedSinceResize&&(Et.hasAnimatedSinceResize=!1,i.nodes.forEach(Ps))}))}a&&this.root.registerSharedNode(a,this),!1!==this.options.animate&&u&&(a||s)&&this.addEventListener("didUpdate",(function(e){var t,n,r,o,a,s=e.delta,c=e.hasLayoutChanged,l=e.hasRelativeTargetChanged,f=e.layout;if(i.isTreeAnimationBlocked())return i.target=void 0,void(i.relativeTarget=void 0);var d=null!==(n=null!==(t=i.options.transition)&&void 0!==t?t:u.getDefaultTransition())&&void 0!==n?n:Us,h=u.getProps(),p=h.onLayoutAnimationStart,v=h.onLayoutAnimationComplete,m=!i.targetLayout||!_s(i.targetLayout,f)||l,g=!c&&l;if((null===(r=i.resumeFrom)||void 0===r?void 0:r.instance)||g||c&&(m||!i.currentAnimation)){i.resumeFrom&&(i.resumingFrom=i.resumeFrom,i.resumingFrom.resumingFrom=void 0),i.setAnimationOrigin(s,g);var y=(0,Ee.pi)((0,Ee.pi)({},lo(d,"layout")),{onPlay:p,onComplete:v});u.shouldReduceMotion&&(y.delay=0,y.type=!1),i.startAnimation(y)}else c||0!==i.animationProgress||i.finishAnimation(),i.isLead()&&(null===(a=(o=i.options).onExitComplete)||void 0===a||a.call(o));i.targetLayout=f}))}},e.prototype.unmount=function(){var e,t;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),null===(e=this.getStack())||void 0===e||e.remove(this),null===(t=this.parent)||void 0===t||t.children.delete(this),this.instance=void 0,je.preRender(this.updateProjection)},e.prototype.blockUpdate=function(){this.updateManuallyBlocked=!0},e.prototype.unblockUpdate=function(){this.updateManuallyBlocked=!1},e.prototype.isUpdateBlocked=function(){return this.updateManuallyBlocked||this.updateBlockedByResize},e.prototype.isTreeAnimationBlocked=function(){var e;return this.isAnimationBlocked||(null===(e=this.parent)||void 0===e?void 0:e.isTreeAnimationBlocked())||!1},e.prototype.startUpdate=function(){var e;this.isUpdateBlocked()||(this.isUpdating=!0,null===(e=this.nodes)||void 0===e||e.forEach(js))},e.prototype.willUpdate=function(e){var t,n,r;if(void 0===e&&(e=!0),this.root.isUpdateBlocked())null===(n=(t=this.options).onExitComplete)||void 0===n||n.call(t);else if(!this.root.isUpdating&&this.root.startUpdate(),!this.isLayoutDirty){this.isLayoutDirty=!0;for(var i=0;i<this.path.length;i++){var o=this.path[i];o.shouldResetTransform=!0,o.updateScroll()}var a=this.options,s=a.layoutId,u=a.layout;if(void 0!==s||u){var c=null===(r=this.options.visualElement)||void 0===r?void 0:r.getProps().transformTemplate;this.prevTransformTemplateValue=null===c||void 0===c?void 0:c(this.latestValues,""),this.updateSnapshot(),e&&this.notifyListeners("willUpdate")}}},e.prototype.didUpdate=function(){if(this.isUpdateBlocked())return this.unblockUpdate(),this.clearAllSnapshots(),void this.nodes.forEach(Is);this.isUpdating&&(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(Vs),this.potentialNodes.clear()),this.nodes.forEach(Ds),this.nodes.forEach(ks),this.nodes.forEach(Ts),this.clearAllSnapshots(),Me.update(),Me.preRender(),Me.render())},e.prototype.clearAllSnapshots=function(){this.nodes.forEach(As),this.sharedNodes.forEach(Ms)},e.prototype.scheduleUpdateProjection=function(){Ve.preRender(this.updateProjection,!1,!0)},e.prototype.scheduleCheckAfterUnmount=function(){var e=this;Ve.postRender((function(){e.isLayoutDirty?e.root.didUpdate():e.root.checkUpdateFailed()}))},e.prototype.updateSnapshot=function(){if(!this.snapshot&&this.instance){var e=this.measure(),t=this.removeTransform(this.removeElementScroll(e));qs(t),this.snapshot={measured:e,layout:t,latestValues:{}}}},e.prototype.updateLayout=function(){var e;if(this.instance&&(this.updateScroll(),this.options.alwaysMeasureLayout&&this.isLead()||this.isLayoutDirty)){if(this.resumeFrom&&!this.resumeFrom.instance)for(var t=0;t<this.path.length;t++){this.path[t].updateScroll()}var n=this.measure();qs(n);var r=this.layout;this.layout={measured:n,actual:this.removeElementScroll(n)},this.layoutCorrected={x:{min:0,max:0},y:{min:0,max:0}},this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.actual),null===(e=this.options.visualElement)||void 0===e||e.notifyLayoutMeasure(this.layout.actual,null===r||void 0===r?void 0:r.actual)}},e.prototype.updateScroll=function(){this.options.layoutScroll&&this.instance&&(this.isScrollRoot=i(this.instance),this.scroll=r(this.instance))},e.prototype.resetTransform=function(){var e;if(o){var t=this.isLayoutDirty||this.shouldResetTransform,n=this.projectionDelta&&!ws(this.projectionDelta),r=null===(e=this.options.visualElement)||void 0===e?void 0:e.getProps().transformTemplate,i=null===r||void 0===r?void 0:r(this.latestValues,""),a=i!==this.prevTransformTemplateValue;t&&(n||fa(this.latestValues)||a)&&(o(this.instance,i),this.shouldResetTransform=!1,this.scheduleRender())}},e.prototype.measure=function(){var e=this.options.visualElement;if(!e)return{x:{min:0,max:0},y:{min:0,max:0}};var t=e.measureViewportBox(),n=this.root.scroll;return n&&(ga(t.x,n.x),ga(t.y,n.y)),t},e.prototype.removeElementScroll=function(e){var t={x:{min:0,max:0},y:{min:0,max:0}};hs(t,e);for(var n=0;n<this.path.length;n++){var r=this.path[n],i=r.scroll,o=r.options,a=r.isScrollRoot;if(r!==this.root&&i&&o.layoutScroll){if(a){hs(t,e);var s=this.root.scroll;s&&(ga(t.x,-s.x),ga(t.y,-s.y))}ga(t.x,i.x),ga(t.y,i.y)}}return t},e.prototype.applyTransform=function(e,t){void 0===t&&(t=!1);var n={x:{min:0,max:0},y:{min:0,max:0}};hs(n,e);for(var r=0;r<this.path.length;r++){var i=this.path[r];!t&&i.options.layoutScroll&&i.scroll&&i!==i.root&&_a(n,{x:-i.scroll.x,y:-i.scroll.y}),fa(i.latestValues)&&_a(n,i.latestValues)}return fa(this.latestValues)&&_a(n,this.latestValues),n},e.prototype.removeTransform=function(e){var t,n={x:{min:0,max:0},y:{min:0,max:0}};hs(n,e);for(var r=0;r<this.path.length;r++){var i=this.path[r];if(i.instance&&fa(i.latestValues)){la(i.latestValues)&&i.updateSnapshot();var o={x:{min:0,max:0},y:{min:0,max:0}};hs(o,i.measure()),ys(n,i.latestValues,null===(t=i.snapshot)||void 0===t?void 0:t.layout,o)}}return fa(this.latestValues)&&ys(n,this.latestValues),n},e.prototype.setTargetDelta=function(e){this.targetDelta=e,this.root.scheduleUpdateProjection()},e.prototype.setOptions=function(e){var t;this.options=(0,Ee.pi)((0,Ee.pi)((0,Ee.pi)({},this.options),e),{crossfade:null===(t=e.crossfade)||void 0===t||t})},e.prototype.clearMeasurements=function(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1},e.prototype.resolveTargetDelta=function(){var e,t,n,r,i=this.options,o=i.layout,a=i.layoutId;this.layout&&(o||a)&&(this.targetDelta||this.relativeTarget||(this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&this.relativeParent.layout&&(this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},ta(this.relativeTargetOrigin,this.layout.actual,this.relativeParent.layout.actual),hs(this.relativeTarget,this.relativeTargetOrigin))),(this.relativeTarget||this.targetDelta)&&(this.target||(this.target={x:{min:0,max:0},y:{min:0,max:0}},this.targetWithTransforms={x:{min:0,max:0},y:{min:0,max:0}}),this.relativeTarget&&this.relativeTargetOrigin&&(null===(e=this.relativeParent)||void 0===e?void 0:e.target)?(t=this.target,n=this.relativeTarget,r=this.relativeParent.target,Qo(t.x,n.x,r.x),Qo(t.y,n.y,r.y)):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.actual):hs(this.target,this.layout.actual),ma(this.target,this.targetDelta)):hs(this.target,this.layout.actual),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&Boolean(this.relativeParent.resumingFrom)===Boolean(this.resumingFrom)&&!this.relativeParent.options.layoutScroll&&this.relativeParent.target&&(this.relativeTarget={x:{min:0,max:0},y:{min:0,max:0}},this.relativeTargetOrigin={x:{min:0,max:0},y:{min:0,max:0}},ta(this.relativeTargetOrigin,this.target,this.relativeParent.target),hs(this.relativeTarget,this.relativeTargetOrigin)))))},e.prototype.getClosestProjectingParent=function(){if(this.parent&&!fa(this.parent.latestValues))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()},e.prototype.calcProjection=function(){var e,t=this.options,n=t.layout,r=t.layoutId;if(this.isTreeAnimating=Boolean((null===(e=this.parent)||void 0===e?void 0:e.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),this.layout&&(n||r)){var i=this.getLead();hs(this.layoutCorrected,this.layout.actual),function(e,t,n,r){var i,o;void 0===r&&(r=!1);var a=n.length;if(a){var s,u;t.x=t.y=1;for(var c=0;c<a;c++)u=(s=n[c]).projectionDelta,"contents"!==(null===(o=null===(i=s.instance)||void 0===i?void 0:i.style)||void 0===o?void 0:o.display)&&(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&_a(e,{x:-s.scroll.x,y:-s.scroll.y}),u&&(t.x*=u.x.scale,t.y*=u.y.scale,ma(e,u)),r&&fa(s.latestValues)&&_a(e,s.latestValues))}}(this.layoutCorrected,this.treeScale,this.path,Boolean(this.resumingFrom)||this!==i);var o=i.target;if(o){this.projectionDelta||(this.projectionDelta={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}},this.projectionDeltaWithTransform={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}});var a=this.treeScale.x,s=this.treeScale.y,u=this.projectionTransform;Xo(this.projectionDelta,this.layoutCorrected,o,this.latestValues),this.projectionTransform=Ss(this.projectionDelta,this.treeScale),this.projectionTransform===u&&this.treeScale.x===a&&this.treeScale.y===s||(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",o))}}},e.prototype.hide=function(){this.isVisible=!1},e.prototype.show=function(){this.isVisible=!0},e.prototype.scheduleRender=function(e){var t,n,r;void 0===e&&(e=!0),null===(n=(t=this.options).scheduleRender)||void 0===n||n.call(t),e&&(null===(r=this.getStack())||void 0===r||r.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)},e.prototype.setAnimationOrigin=function(e,t){var n,r=this;void 0===t&&(t=!1);var i=this.snapshot,o=(null===i||void 0===i?void 0:i.latestValues)||{},a=(0,Ee.pi)({},this.latestValues),s={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!t;var u={x:{min:0,max:0},y:{min:0,max:0}},c=null===i||void 0===i?void 0:i.isShared,l=((null===(n=this.getStack())||void 0===n?void 0:n.members.length)||0)<=1,f=Boolean(c&&!l&&!0===this.options.crossfade&&!this.path.some(Bs));this.animationProgress=0,this.mixTargetDelta=function(t){var n,i,d,h,p,v=t/1e3;Ls(s.x,e.x,v),Ls(s.y,e.y,v),r.setTargetDelta(s),r.relativeTarget&&r.relativeTargetOrigin&&r.layout&&(null===(n=r.relativeParent)||void 0===n?void 0:n.layout)&&(ta(u,r.layout.actual,r.relativeParent.layout.actual),i=r.relativeTarget,d=r.relativeTargetOrigin,h=u,p=v,Fs(i.x,d.x,h.x,p),Fs(i.y,d.y,h.y,p)),c&&(r.animationValues=a,function(e,t,n,r,i,o){var a,s,u,c;i?(e.opacity=Rr(0,null!==(a=n.opacity)&&void 0!==a?a:1,cs(r)),e.opacityExit=Rr(null!==(s=t.opacity)&&void 0!==s?s:1,0,ls(r))):o&&(e.opacity=Rr(null!==(u=t.opacity)&&void 0!==u?u:1,null!==(c=n.opacity)&&void 0!==c?c:1,r));for(var l=0;l<os;l++){var f="border".concat(is[l],"Radius"),d=us(t,f),h=us(n,f);void 0===d&&void 0===h||(d||(d=0),h||(h=0),0===d||0===h||ss(d)===ss(h)?(e[f]=Math.max(Rr(as(d),as(h),r),0),($t.test(h)||$t.test(d))&&(e[f]+="%")):e[f]=h)}(t.rotate||n.rotate)&&(e.rotate=Rr(t.rotate||0,n.rotate||0,r))}(a,o,r.latestValues,v,f,l)),r.root.scheduleUpdateProjection(),r.scheduleRender(),r.animationProgress=v},this.mixTargetDelta(0)},e.prototype.startAnimation=function(e){var t,n,r=this;this.notifyListeners("animationStart"),null===(t=this.currentAnimation)||void 0===t||t.stop(),this.resumingFrom&&(null===(n=this.resumingFrom.currentAnimation)||void 0===n||n.stop()),this.pendingAnimation&&(je.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ve.update((function(){Et.hasAnimatedSinceResize=!0,r.currentAnimation=function(e,t,n){void 0===n&&(n={});var r=Bt(e)?e:yo(e);return fo("",r,t,n),{stop:function(){return r.stop()},isAnimating:function(){return r.isAnimating()}}}(0,1e3,(0,Ee.pi)((0,Ee.pi)({},e),{onUpdate:function(t){var n;r.mixTargetDelta(t),null===(n=e.onUpdate)||void 0===n||n.call(e,t)},onComplete:function(){var t;null===(t=e.onComplete)||void 0===t||t.call(e),r.completeAnimation()}})),r.resumingFrom&&(r.resumingFrom.currentAnimation=r.currentAnimation),r.pendingAnimation=void 0}))},e.prototype.completeAnimation=function(){var e;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),null===(e=this.getStack())||void 0===e||e.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")},e.prototype.finishAnimation=function(){var e;this.currentAnimation&&(null===(e=this.mixTargetDelta)||void 0===e||e.call(this,1e3),this.currentAnimation.stop()),this.completeAnimation()},e.prototype.applyTransformsToTarget=function(){var e=this.getLead(),t=e.targetWithTransforms,n=e.target,r=e.layout,i=e.latestValues;t&&n&&r&&(hs(t,n),_a(t,i),Xo(this.projectionDeltaWithTransform,this.layoutCorrected,t,i))},e.prototype.registerSharedNode=function(e,t){var n,r,i;this.sharedNodes.has(e)||this.sharedNodes.set(e,new Es),this.sharedNodes.get(e).add(t),t.promote({transition:null===(n=t.options.initialPromotionConfig)||void 0===n?void 0:n.transition,preserveFollowOpacity:null===(i=null===(r=t.options.initialPromotionConfig)||void 0===r?void 0:r.shouldPreserveFollowOpacity)||void 0===i?void 0:i.call(r,t)})},e.prototype.isLead=function(){var e=this.getStack();return!e||e.lead===this},e.prototype.getLead=function(){var e;return this.options.layoutId&&(null===(e=this.getStack())||void 0===e?void 0:e.lead)||this},e.prototype.getPrevLead=function(){var e;return this.options.layoutId?null===(e=this.getStack())||void 0===e?void 0:e.prevLead:void 0},e.prototype.getStack=function(){var e=this.options.layoutId;if(e)return this.root.sharedNodes.get(e)},e.prototype.promote=function(e){var t=void 0===e?{}:e,n=t.needsReset,r=t.transition,i=t.preserveFollowOpacity,o=this.getStack();o&&o.promote(this,i),n&&(this.projectionDelta=void 0,this.needsReset=!0),r&&this.setOptions({transition:r})},e.prototype.relegate=function(){var e=this.getStack();return!!e&&e.relegate(this)},e.prototype.resetRotation=function(){var e=this.options.visualElement;if(e){for(var t=!1,n={},r=0;r<Dt.length;r++){var i="rotate"+Dt[r];e.getStaticValue(i)&&(t=!0,n[i]=e.getStaticValue(i),e.setStaticValue(i,0))}if(t){for(var i in null===e||void 0===e||e.syncRender(),n)e.setStaticValue(i,n[i]);e.scheduleRender()}}},e.prototype.getProjectionStyles=function(e){var t,n,r,i,o,a;void 0===e&&(e={});var s={};if(!this.instance||this.isSVG)return s;if(!this.isVisible)return{visibility:"hidden"};s.visibility="";var u=null===(t=this.options.visualElement)||void 0===t?void 0:t.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,s.opacity="",s.pointerEvents=Nn(e.pointerEvents)||"",s.transform=u?u(this.latestValues,""):"none",s;var c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){var l={};return this.options.layoutId&&(l.opacity=null!==(n=this.latestValues.opacity)&&void 0!==n?n:1,l.pointerEvents=Nn(e.pointerEvents)||""),this.hasProjected&&!fa(this.latestValues)&&(l.transform=u?u({},""):"none",this.hasProjected=!1),l}var f=c.animationValues||c.latestValues;this.applyTransformsToTarget(),s.transform=Ss(this.projectionDeltaWithTransform,this.treeScale,f),u&&(s.transform=u(f,s.transform));var d=this.projectionDelta,h=d.x,p=d.y;for(var v in s.transformOrigin="".concat(100*h.origin,"% ").concat(100*p.origin,"% 0"),c.animationValues?s.opacity=c===this?null!==(i=null!==(r=f.opacity)&&void 0!==r?r:this.latestValues.opacity)&&void 0!==i?i:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:s.opacity=c===this?null!==(o=f.opacity)&&void 0!==o?o:"":null!==(a=f.opacityExit)&&void 0!==a?a:0,It)if(void 0!==f[v]){var m=It[v],g=m.correct,y=m.applyTo,b=g(f[v],c);if(y)for(var w=y.length,_=0;_<w;_++)s[y[_]]=b;else s[v]=b}return this.options.layoutId&&(s.pointerEvents=c===this?Nn(e.pointerEvents)||"":"none"),s},e.prototype.clearSnapshot=function(){this.resumeFrom=this.snapshot=void 0},e.prototype.resetTree=function(){this.root.nodes.forEach((function(e){var t;return null===(t=e.currentAnimation)||void 0===t?void 0:t.stop()})),this.root.nodes.forEach(Is),this.root.sharedNodes.clear()},e}()}function ks(e){e.updateLayout()}function Ts(e){var t,n,r,i,o=null!==(n=null===(t=e.resumeFrom)||void 0===t?void 0:t.snapshot)&&void 0!==n?n:e.snapshot;if(e.isLead()&&e.layout&&o&&e.hasListeners("didUpdate")){var a=e.layout,s=a.actual,u=a.measured;"size"===e.options.animationType?sa((function(e){var t=o.isShared?o.measured[e]:o.layout[e],n=Jo(t);t.min=s[e].min,t.max=t.min+n})):"position"===e.options.animationType&&sa((function(e){var t=o.isShared?o.measured[e]:o.layout[e],n=Jo(s[e]);t.max=t.min+n}));var c={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};Xo(c,s,o.layout);var l={x:{translate:0,scale:1,origin:0,originPoint:0},y:{translate:0,scale:1,origin:0,originPoint:0}};o.isShared?Xo(l,e.applyTransform(u,!0),o.measured):Xo(l,s,o.layout);var f=!ws(c),d=!1;if(!e.resumeFrom&&(e.relativeParent=e.getClosestProjectingParent(),e.relativeParent&&!e.relativeParent.resumeFrom)){var h=e.relativeParent,p=h.snapshot,v=h.layout;if(p&&v){var m={x:{min:0,max:0},y:{min:0,max:0}};ta(m,o.layout,p.layout);var g={x:{min:0,max:0},y:{min:0,max:0}};ta(g,s,v.actual),_s(m,g)||(d=!0)}}e.notifyListeners("didUpdate",{layout:s,snapshot:o,delta:l,layoutDelta:c,hasLayoutChanged:f,hasRelativeTargetChanged:d})}else e.isLead()&&(null===(i=(r=e.options).onExitComplete)||void 0===i||i.call(r));e.options.transition=void 0}function As(e){e.clearSnapshot()}function Is(e){e.clearMeasurements()}function Ds(e){var t=e.options.visualElement;(null===t||void 0===t?void 0:t.getProps().onBeforeLayoutMeasure)&&t.notifyBeforeLayoutMeasure(),e.resetTransform()}function Ps(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0}function Rs(e){e.resolveTargetDelta()}function Ns(e){e.calcProjection()}function js(e){e.resetRotation()}function Ms(e){e.removeLeadSnapshot()}function Ls(e,t,n){e.translate=Rr(t.translate,0,n),e.scale=Rr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function Fs(e,t,n,r){e.min=Rr(t.min,n.min,r),e.max=Rr(t.max,n.max,r)}function Bs(e){return e.animationValues&&void 0!==e.animationValues.opacityExit}var Us={duration:.45,ease:[.4,0,.1,1]};function Vs(e,t){for(var n=e.root,r=e.path.length-1;r>=0;r--)if(Boolean(e.path[r].instance)){n=e.path[r];break}var i=(n&&n!==e.root?n.instance:document).querySelector('[data-projection-id="'.concat(t,'"]'));i&&e.mount(i,!0)}function zs(e){e.min=Math.round(e.min),e.max=Math.round(e.max)}function qs(e){zs(e.x),zs(e.y)}var Zs=Cs({attachResizeListener:function(e,t){return Vn(e,"resize",t)},measureScroll:function(){return{x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}},checkIsScrollRoot:function(){return!0}}),Hs={current:void 0},Ws=Cs({measureScroll:function(e){return{x:e.scrollLeft,y:e.scrollTop}},defaultParent:function(){if(!Hs.current){var e=new Zs(0,{});e.mount(window),e.setOptions({layoutScroll:!0}),Hs.current=e}return Hs.current},resetTransform:function(e,t){e.style.transform=null!==t&&void 0!==t?t:"none"},checkIsScrollRoot:function(e){return Boolean("fixed"===window.getComputedStyle(e).position)}}),Gs=(0,Ee.pi)((0,Ee.pi)((0,Ee.pi)((0,Ee.pi)({},Lo),wr),Ca),rs),Ks=kt((function(e,t){return function(e,t,n,r,i){var o=t.forwardMotionProps,a=void 0!==o&&o,s=At(e)?Bn:Un;return(0,Ee.pi)((0,Ee.pi)({},s),{preloadedFeatures:n,useRender:Sn(a),createVisualElement:r,projectionNodeConstructor:i,Component:e})}(e,t,Gs,Ya,Ws)}));var Js,Ys,$s,Xs=n(98537),Qs=n.n(Xs),eu=[.4,0,1,1],tu=[0,0,.2,1];function nu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ru(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){nu(e,t,n[t])}))}return e}function iu(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var ou={initial:"exit",animate:"enter",exit:"exit",variants:{exit:function(e){return{opacity:0,transition:{duration:null!==(Js=null===e||void 0===e?void 0:e.exitDuration)&&void 0!==Js?Js:.1,ease:tu}}},enter:function(e){return{opacity:1,transition:{delay:null!==(Ys=null===e||void 0===e?void 0:e.enterDelay)&&void 0!==Ys?Ys:0,duration:null!==($s=null===e||void 0===e?void 0:e.enterDuration)&&void 0!==$s?$s:.1,ease:eu}}}}},au=(0,i.forwardRef)((function(e,t){var n=e.unmountOnExit,i=e.in,o=e.className,a=e.enterDelay,s=void 0===a?0:a,u=e.enterDuration,c=e.exitDuration,l=e.variants,f=e.onExitComplete,d=iu(e,["unmountOnExit","in","className","enterDelay","enterDuration","exitDuration","variants","onExitComplete"]),h=!n||i&&n,p={enterDuration:u,exitDuration:c,enterDelay:s},v=ru({},ou,{custom:Qs()(ou.custom,p)});return(0,r.jsx)(tt,{custom:p,onExitComplete:f,children:h&&(0,r.jsx)(Ks.div,ru({ref:t,className:"".concat(o||""," po1"),variants:l},v,{animate:i||n?"enter":"exit"},d))})}));au.displayName="Fade";var su=au,uu=n(10596);var cu=function(e){var t=e.ref,n=e.handler,r=e.isEnabled,o=void 0===r||r,a=(0,uu.Z)(n),s=(0,i.useRef)({isEnabled:o}),u=s.current;return(0,i.useEffect)((function(){var r=function(r){n&&t.current&&u.isEnabled&&function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t.current)return!1;var r=e.target;if(n&&e.button>0)return!1;if(r){var i=r.ownerDocument;if(!i||!i.body.contains(r))return!1}return!t.current.contains(r)}(r,t,e.ignoreContextMenu)&&a(r)};return document.addEventListener("mousedown",r,!0),document.addEventListener("touchstart",r,!0),function(){document.removeEventListener("mousedown",r,!0),document.removeEventListener("touchstart",r,!0)}}),[n,e.ignoreContextMenu,t,a,u]),s},lu=n(28058),fu=n(58957),du=n.n(fu),hu=n(95493);function pu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){pu(e,t,n[t])}))}return e}var mu={strategy:"absolute",modifiers:[{name:"offset",options:{offset:[0,10]}}]},gu=[],yu=function(){return gu},bu=function(e){var t,n=e.zIndex,o=e.onHide,a=e.onClick,s=e.children,u=e.className,c=e.targetNode,l=e.onOverflow,f=e.enterDelay,d=e.disableArrow,h=e.enterDuration,p=e.arrowClassName,v=e.onExitComplete,m=e.visible,g=e.animationClassName,y=e.shouldUseDomObserver,b=e.renderInPortal,w=void 0===b||b,_=e.stayOpenOnOutsideClick,E=e.closeOnOtherPopperClick,S=e.style,x=void 0===S?{}:S,O=e.ignoreClicksOnTargetNode,C=e.popperDataAttributes,k=void 0===C?{}:C,T=e.placement,A=void 0===T?"bottom-start":T,I=e.shouldUseDomObserverOnTarget,D=e.popperProps,P=void 0===D?mu:D,R=(0,i.useState)(null),N=R[0],j=R[1],M=function(e,t,n){void 0===n&&(n={});var r=i.useRef(null),o={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||_e},a=i.useState({styles:{popper:{position:o.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),s=a[0],u=a[1],c=i.useMemo((function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(e){var t=e.state,n=Object.keys(t.elements);u({styles:be(n.map((function(e){return[e,t.styles[e]||{}]}))),attributes:be(n.map((function(e){return[e,t.attributes[e]]})))})},requires:["computeStyles"]}}),[]),l=i.useMemo((function(){var e={onFirstUpdate:o.onFirstUpdate,placement:o.placement,strategy:o.strategy,modifiers:[].concat(o.modifiers,[c,{name:"applyStyles",enabled:!1}])};return ye()(r.current,e)?r.current||e:(r.current=e,e)}),[o.onFirstUpdate,o.placement,o.strategy,o.modifiers,c]),f=i.useRef();return we((function(){f.current&&f.current.setOptions(l)}),[l]),we((function(){if(null!=e&&null!=t){var r=(n.createPopper||me)(e,t,l);return f.current=r,function(){r.destroy(),f.current=null}}}),[e,t,n.createPopper]),{state:f.current?f.current.state:null,styles:s.styles,attributes:s.attributes,update:f.current?f.current.update:null,forceUpdate:f.current?f.current.forceUpdate:null}}(c,N,vu({placement:A},P)),L=M.styles,F=M.attributes,B=M.state,U=M.forceUpdate;(0,i.useEffect)((function(){if(U&&(y&&N||I&&c)){var e=new MutationObserver(U);return y&&e.observe(N,{childList:!0,subtree:!0}),I&&e.observe(c,{attributes:!0}),function(){return e.disconnect()}}}),[N,c,U,y,I]),(0,i.useEffect)((function(){if(c&&null!==B&&l){var e=K(B,vu({placement:A},P));(e.bottom>0||e.top>0||e.left>0||e.right>0)&&l(e)}}),[c,B]),(0,i.useEffect)((function(){var e;if(N)return e=N,gu.push(e),function(){!function(e){var t=gu.indexOf(e);-1!==t&&gu.splice(t,1)}(N)}}),[N]);var V=(0,i.useCallback)((function(e){if(m){var t=null===c||void 0===c?void 0:c.contains(e.target);O&&t||_&&!t||(E||gu.every((function(t){return!t.contains(e.target)})))&&(null===o||void 0===o||o(e))}}),[m,O,c,E,o,_]);if(cu({ref:{current:N},handler:V,isEnabled:!0,ignoreContextMenu:!1}),(0,i.useEffect)((function(){N&&(null===U||void 0===U||U())}),[N,U]),!c)return null;var z=!d&&Boolean(null===(t=P.modifiers)||void 0===t?void 0:t.length),q=(0,r.jsx)(su,{in:m,unmountOnExit:!0,style:{zIndex:n},enterDelay:f,enterDuration:h,onExitComplete:v,className:(0,lu.Z)(du().fade,g),children:(0,r.jsxs)("div",vu({onClick:a,ref:j},k,{className:(0,lu.Z)(du().popper,u),style:vu({},L.popper,x)},F.popper,{children:[z&&(0,r.jsx)("div",{"data-popper-arrow":!0,style:L.arrow,className:(0,lu.Z)(du().arrow,p)}),s]}))});return w?(0,r.jsx)(hu.k,{children:q}):q}},95493:function(e,t,n){"use strict";n.d(t,{k:function(){return u}});n(52322);var r=n(2784),i=n(28316),o=n(17366);var a,s="popper-root",u=(a=s,function(e){var t=e.children,n=(0,r.useRef)(null),s=(0,r.useState)(!1),u=s[0],c=s[1];return(0,o.Z)((function(){n.current=document.getElementById(a),n.current&&c(!0)}),[]),u?(0,i.createPortal)(t,n.current):null})},46710:function(e,t,n){"use strict";n.d(t,{K:function(){return r.KL}});var r=n(55211);t.Z=r.ZP},99627:function(e,t,n){"use strict";n.d(t,{_:function(){return s},Z:function(){return S}});var r,i=n(52322),o=n(2784);function a(){return a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}var s,u=function(e){return o.createElement("svg",a({width:12,height:9,viewBox:"0 0 12 9",xmlns:"http://www.w3.org/2000/svg"},e),r||(r=o.createElement("path",{d:"M.8 4.6l3.6 3.6 6.8-6.8",fill:"none",stroke:"currentColor",strokeLinecap:"square"})))},c=n(53822),l=n(87553),f=n(28058),d=n(87120),h=n.n(d),p=n(4742),v=n.n(p),m=n(51992),g=n(8930),y=function(){var e=(0,g.Z)((function(){return v()([100,125,150])}));return(0,i.jsx)(m.yB,{color:"var(--grey-500) !important",highlightColor:"var(--grey-400) !important",children:(0,i.jsx)(m.ZP,{count:1,width:e,height:14})})},b=n(53589);function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}!function(e){e.Primary="primary",e.Grey="grey"}(s||(s={}));var E=(0,o.forwardRef)((function(e,t){var n=e.href,r=e.icon,a=e.label,d=e.onClick,p=e.asyncOnClick,v=e.children,m=e.className,g=e.explanation,E=e.asCheckbox,S=e.isSelected,x=e.selectionVariant,O=void 0===x?s.Primary:x,C=e.rightElement,k=e.activeClassName,T=e.isLoading,A=void 0!==T&&T,I=e.isDisabled,D=void 0!==I&&I,P=e.preventDefault,R=void 0===P||P,N=e.focusOnMouseEnter,j=void 0===N||N,M=e.focusSelectedOnMount,L=void 0===M||M,F=e.stayOpenOnClick,B=void 0!==F&&F,U=_(e,["href","icon","label","onClick","asyncOnClick","children","className","explanation","asCheckbox","isSelected","selectionVariant","rightElement","activeClassName","isLoading","isDisabled","preventDefault","focusOnMouseEnter","focusSelectedOnMount","stayOpenOnClick"]),V=(0,o.useRef)(null);(0,o.useImperativeHandle)(t,(function(){return V.current}));var z=(0,o.useContext)(b.c),q=z.setTarget,Z=z.parentMenu,H=z.closeThisMenu,W=z.isTopLevel,G=(0,o.useState)(!1),K=G[0],J=G[1];(0,o.useEffect)((function(){L&&V.current&&S&&V.current.focus()}),[L,S]);var Y=(0,o.useCallback)((function(e){if((R||E||B)&&(e.preventDefault(),e.stopPropagation()),!D){n&&window.open(n,"_blank","noreferrer noopener");var t=function(){E||B||(null===q||void 0===q||q(void 0),null===H||void 0===H||H(),Z&&!W&&Z.closeThisMenu())};null===d||void 0===d||d(e),"function"===typeof p?(J(!0),p(e).finally((function(){J(!1),t()}))):t()}}),[R,D,n,d,E,q,Z,p,H,W,B]),$=(0,o.useCallback)((function(){var e;j&&(null===(e=V.current)||void 0===e||e.focus())}),[j]);if(A)return(0,i.jsx)("span",{className:(0,f.Z)(h().option,A&&h().isLoading,m),children:(0,i.jsx)(y,{})});var X=(0,o.useCallback)((function(){var e;j&&(null===(e=V.current)||void 0===e||e.blur())}),[j]),Q=!(!r&&!E);return(0,i.jsxs)("button",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){w(e,t,n[t])}))}return e}({type:"button",ref:V,className:(0,f.Z)(h().option,E&&h().checkbox,D&&h().disabled,S&&h().selected,S&&(null!==k&&void 0!==k?k:h()["selected-".concat(O)]),!!g&&h().paddingLarge,m),onMouseEnter:$,onMouseLeave:X,onClick:Y,tabIndex:-1,disabled:D||K},U,{children:[(0,i.jsxs)("span",{className:h().row,children:[Q&&(0,i.jsx)("span",{className:h().icon,children:E?(0,i.jsx)(c.J,{icon:u}):r}),(0,i.jsx)("span",{className:h().content,children:a||v}),C&&!K&&(0,i.jsx)("span",{className:(0,f.Z)(h().right,"rowCentered"),children:C}),K&&(0,i.jsx)(l.Z,{className:h().right})]}),!!g&&(0,i.jsx)("span",{className:(0,f.Z)(h().explanation,Q&&h().marginLeft),children:g})]}))}));E.displayName="Option";var S=Object.assign(E,{SelectionVariants:s})},53589:function(e,t,n){"use strict";n.d(t,{c:function(){return r}});var r=(0,n(2784).createContext)({setTarget:function(){return!1},closeThisMenu:function(){},closeWithTimeout:function(){},closeDescendentPopups:function(){},getDescendantPopups:function(){return[]},showModal:function(){}})},19422:function(e,t,n){"use strict";n.d(t,{Wx:function(){return w.Z},GI:function(){return I},QR:function(){return A}});var r=n(52322),i=n(2784),o=n(83445),a=n(46710),s=n(28058),u=n(62881),c=n.n(u),l=n(53589),f={modifiers:[{name:"offset",options:{offset:function(e){var t=e.placement;return t.endsWith("end")?[10,10]:t.endsWith("start")?[-10,10]:[0,10]}}},{name:"arrow",options:{padding:0}}]},d={modifiers:[{name:"offset",options:{offset:function(e){var t=e.placement;return t.endsWith("end")||t.endsWith("start"),[0,10]}}},{name:"arrow",options:{padding:0}}]},h={modifiers:[{name:"offset",options:{offset:[-5,10]}},{name:"arrow",options:{padding:0}}]};function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){v(e,t,n[t])}))}return e}function g(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function y(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var b=function(e){var t=e.children,n=e.disableArrow,o=e.className,u=e.popperProps,p=g(e,["children","disableArrow","className","popperProps"]),v=(0,i.useContext)(l.c),b=v.target,w=v.closeWithTimeout,_=v.isTopLevel,E=v.onOverflow,S=(0,i.useMemo)((function(){var e,t=_?n?d:f:h,r=_?"bottom-start":"right-start";return m({},t,{strategy:null===u||void 0===u?void 0:u.strategy,placement:null!==(e=null===u||void 0===u?void 0:u.placement)&&void 0!==e?e:r,modifiers:y((null===t||void 0===t?void 0:t.modifiers)||[]).concat(y((null===u||void 0===u?void 0:u.modifiers)||[]))})}),[_,n,null===u||void 0===u?void 0:u.strategy,null===u||void 0===u?void 0:u.modifiers,null===u||void 0===u?void 0:u.placement]);return(0,r.jsx)(a.Z,m({className:(0,s.Z)(c().menu,o,_&&c().isSubmenu),popperProps:S,onOverflow:E,closeOnOtherPopperClick:!_},p,{targetNode:b||null,visible:!!b,onHide:w,disableArrow:n,children:t}))};b.displayName="Popup.Menu";var w=n(99627),_=n(85459),E=n(55211),S=n(9251);function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var C=(0,i.forwardRef)((function(e,t){var n=e.className,o=e.onClick,a=e.isDisabled,u=e.openOnClick,f=O(e,["className","onClick","isDisabled","openOnClick"]),d=(0,i.useRef)(!0),h=(0,i.useRef)(null),p=(0,S.Z)(h,t),v=(0,i.useContext)(l.c),m=v.setTarget,g=v.target,y=v.isTopLevel,b=v.closeThisMenu,w=v.parentMenu,C=v.controller,k=(0,_.fk)();(0,i.useEffect)((function(){if(!y){var e,t=(0,E.uw)(),n=h.current&&t.find((function(e){return e.contains(h.current)})),r=0,i=function(i){clearTimeout(e);var o=i.target;if(a=o,null!=(s=HTMLElement)&&"undefined"!==typeof Symbol&&s[Symbol.hasInstance]?s[Symbol.hasInstance](a):a instanceof s){var a,s,u=t.find((function(e){return e.contains(o)}));if(n===u){var c,l,f,d=Math.abs(null!==(c=i.movementX)&&void 0!==c?c:0),p=0===d?0:d>1?1:-1,v=d<Math.abs(null!==(l=i.movementY)&&void 0!==l?l:10),m=r&&p!==r;if(r=p,!(null===w||void 0===w?void 0:w.getDescendantPopups().length)||m||v)(null===(f=h.current)||void 0===f?void 0:f.contains(o))&&T();else g===h.current&&(e=setTimeout((function(){T()}),500),v&&!1===g.contains(o)&&(b(),null===w||void 0===w||w.closeDescendentPopups()))}}};return window.addEventListener("mousemove",i),function(){window.removeEventListener("mousemove",i)}}}),[b,y,w,g,h]),(0,i.useEffect)((function(){d.current?d.current=!1:(null===C||void 0===C?void 0:C.openPopup)&&h.current&&m(h.current)}),[null===C||void 0===C?void 0:C.openPopup]);var T=(0,i.useCallback)((function(){h.current!==g&&(null===w||void 0===w||w.closeDescendentPopups(C),setTimeout((function(){m(h.current)}),0))}),[C,w,m,g,h]),A=(0,i.useCallback)((function(e){e.preventDefault(),a||(y||u||k)&&(o?o(e):g?(b(),e.stopPropagation()):T())}),[y,k,a,o,g,b,u,T]),I=(0,i.useCallback)((function(){var e;null===h||void 0===h||null===(e=h.current)||void 0===e||e.blur()}),[]),D=(0,i.useCallback)((function(e){a||"Enter"!==e.key&&" "!==e.key||A(e)}),[a,A]);return(0,r.jsx)("span",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){x(e,t,n[t])}))}return e}({},f,{ref:p,role:"button",tabIndex:0,onClick:A,onMouseLeave:I,onKeyPress:D,className:(0,s.Z)(c().toggler,g&&"popupOpen",a&&c().disabled,n)}))})),k=C;function T(e){var t=(0,i.useState)(1),n=t[0],r=t[1];return(0,i.useCallback)((function(t){!0!==t&&r((function(e){return e+1})),e()}),[n])}C.displayName="Popup.Toggle";var A=function(){var e=(0,o.Z)(),t=e.onOpen,n=e.isOpen,r=T(e.onClose),a=T(t);return(0,i.useMemo)((function(){return{isOpen:n,closePopup:r,openPopup:a}}),[n,r,a])},I=function(e){var t=e.children,n=e.displayRefOverride,o=e.onShow,a=e.onHide,s=e.controller,u=e.onOverflow,c=e.asNested,f=(0,i.useState)(),d=f[0],h=f[1],p=(0,i.useContext)(l.c),v=(0,i.useState)(),m=v[0],g=v[1],y=(0,i.useRef)([]),b=(0,i.useRef)(!0),w=(0,i.useRef)(),_=(0,i.useCallback)((function(e){w.current||h(e)}),[]),E=(0,i.useCallback)((function(){_(void 0),clearTimeout(w.current),w.current=setTimeout((function(){w.current=void 0}),250)}),[_]);(0,i.useEffect)((function(){b.current||(null===s||void 0===s?void 0:s.closePopup)&&_(void 0)}),[null===s||void 0===s?void 0:s.closePopup,_]),(0,i.useEffect)((function(){b.current?b.current=!1:void 0===d?(y.current=[],a&&a(),s&&s.closePopup(!0)):(o&&o(),s&&s.openPopup(!0))}),[d]);var S=(0,i.useCallback)((function(){return y.current}),[]);(0,i.useLayoutEffect)((function(){(null===n||void 0===n?void 0:n.current)&&_(n.current)}),[n,_]),(0,i.useEffect)((function(){if(d){var e=function(e){if("Escape"===e.key){if(S().length>0)return;e.stopPropagation(),_(void 0)}};return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}}}),[d,_,S]);var x=null!=c?!c:void 0===p.isTopLevel;return(0,r.jsxs)(l.c.Provider,{value:{target:d,setTarget:_,closeThisMenu:function(){return _(void 0)},closeWithTimeout:E,getDescendantPopups:S,closeDescendentPopups:function(e){var t=[];y.current.forEach((function(e){e.closePopup()})),e&&t.push(e),y.current=t},parentMenu:p,isTopLevel:x,controller:s,onOverflow:u,showModal:x?p.showModal:g},children:[t,m||null]})};I.Toggle=k,I.Menu=b,I.Option=w.Z,I.context=l.c},43176:function(e,t,n){"use strict";n.d(t,{k:function(){return l}});var r,i=n(52322),o=n(28058),a=n(4478),s=n.n(a);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){u(e,t,n[t])}))}return e}!function(e){e.LIGHT="var(--red)",e.DARK="var(--red-dark)"}(r||(r={}));var l=function(e){var t=e.theme,n=e.limit,a=e.current,u=e.useColor,l=e.className,f=e.fullColor;if(n===1/0)return null;null!==f&&void 0!==f||(f="dark"===t?r.DARK:r.LIGHT);var d=a>=n?100:Math.round(a/n*100),h=a>=n?{backgroundColor:f}:{};return(0,i.jsx)("div",{className:(0,o.Z)(s().progressBar,l),children:(0,i.jsx)("div",{className:(0,o.Z)(s().progress,u&&s().withColor),style:c({width:"".concat(d,"%")},h)})})}},90161:function(e,t,n){"use strict";var r=n(52322),i=n(2784),o=n(25860),a=n(53822),s=n(28058),u=n(92192),c=n.n(u),l=n(29633),f=n(24965);t.Z=function(e){var t=e.className,n=e.setSearchTerm,u=e.role,d=void 0===u?"Search":u,h=e.searchTerm,p=void 0===h?"":h,v=e.autoFocus,m=void 0!==v&&v,g=e.showShortcut,y=void 0!==g&&g,b=e.placeholder,w=void 0===b?"Search":b,_=(0,i.useRef)(null),E=(0,i.useCallback)((function(e){var t;"Escape"===e.key&&(null===(t=_.current)||void 0===t||t.blur(),e.stopPropagation())}),[]);return(0,f.Z)({"/":y?function(e){var t;e.preventDefault(),e.stopPropagation(),null===(t=_.current)||void 0===t||t.focus()}:void 0}),(0,r.jsxs)("div",{className:(0,s.Z)(c().searchContainer,t),children:[(0,r.jsx)(a.J,{icon:o.Z}),(0,r.jsx)("input",{type:"text",role:d,ref:_,value:p,autoFocus:m,placeholder:w,onKeyDown:E,onChange:function(e){return n(e.target.value)}}),y&&!p&&(0,r.jsx)("div",{className:c().shortcut,children:(0,r.jsx)(l.P,{keys:["/"]})})]})}},87553:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var r=n(52322),i=n(2784),o=n(28058),a=n(23514),s=n.n(a);function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var l=(0,i.forwardRef)((function(e,t){var n=e.thickness,i=e.speed,a=e.emptyColor,l=e.color,f=e.className,d=c(e,["thickness","speed","emptyColor","color","className"]),h={borderWidth:n,borderBottomColor:a,borderLeftColor:a,animationDuration:i,color:l};return(0,r.jsx)("div",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){u(e,t,n[t])}))}return e}({},d,{ref:t,style:h,className:(0,o.Z)(s().spinner,f)}))}));l.displayName="Spinner";var f=l},30380:function(e,t,n){"use strict";var r=n(52322),i=n(2784),o=n(63974),a=n(28058),s=n(94434),u=n.n(s);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){c(e,t,n[t])}))}return e}function f(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var d=function(e,t){var n=e.className,i=e.disabled,s=e.disabledTooltip,c=void 0===s?"":s,d=e.enabledTooltip,h=f(e,["className","disabled","disabledTooltip","enabledTooltip"]),p=(0,r.jsxs)("label",{className:(0,a.Z)(u().switch,n,i&&u().disabled),children:[(0,r.jsx)("input",l({},h,{className:u().input,type:"checkbox",ref:t,disabled:i})),(0,r.jsx)("div",{className:u().presentation,children:(0,r.jsx)("span",{className:(0,a.Z)(u().slider,i&&u().disabled),children:(0,r.jsx)("span",{className:(0,a.Z)(u().sliderDot,i&&u().disabled)})})})]});return c||d?(0,r.jsx)(o.Z,{disabled:!i&&!d,text:i?c:null!==d&&void 0!==d?d:c,children:p}):p};t.Z=(0,i.memo)((0,i.forwardRef)(d))},19681:function(e,t,n){"use strict";n.d(t,{Ku:function(){return h},ZP:function(){return g}});var r=n(52322),i=n(2784),o=n(21746),a=n(89383),s=function(e){return(0,o.Sz)(a.ZP,(function(t){var n,r;return null===(r=null===t||void 0===t||null===(n=t.userTeamNames)||void 0===n?void 0:n.get(e))||void 0===r?void 0:r.name}))},u=s,c=n(99627);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var d=function(e){var t=e.teamId,n=e.displayName,o=e.onClick,a=e.isSelected,u=e.isCurrent,d=f(e,["teamId","displayName","onClick","isSelected","isCurrent"]),h=s(t),p=(0,i.useCallback)((function(){return null===o||void 0===o?void 0:o(t)}),[t,o]),v=u?" (current team)":"";return(0,r.jsxs)(c.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){l(e,t,n[t])}))}return e}({isLoading:!h&&!n,isSelected:a,onClick:p},d,{children:[n||h,u&&(0,r.jsx)("small",{style:{opacity:.4},children:v})]}))},h=function(e){var t=e.teamId,n=e.displayName,i=e.showIsCurrent,o=u(t),a=i?" (current team)":"";return(0,r.jsxs)("span",{children:[n||o," ",(0,r.jsx)("small",{style:{opacity:.4},children:a})]})};function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var m=function(e){var t=e.teams,n=e.selectedTeamId,i=e.onSwitch,o=v(e,["teams","selectedTeamId","onSwitch"]);return t&&t.length?(0,r.jsx)(r.Fragment,{children:t.map((function(e){var t=e.id,a=e.displayName,s=n===t;return(0,r.jsx)(d,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){p(e,t,n[t])}))}return e}({isSelected:s,teamId:t,displayName:a,onClick:i},o),t)}))}):null},g=m},36300:function(e,t,n){"use strict";n.d(t,{L:function(){return l},Z:function(){return w}});var r,i,o=n(52322),a=n(2784),s=n(16838),u=n(28058);function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}var l,f=function(e){return a.createElement("svg",c({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",className:"alertCircle_svg__feather alertCircle_svg__feather-alert-circle"},e),r||(r=a.createElement("circle",{cx:12,cy:12,r:10})),i||(i=a.createElement("path",{d:"M12 8v4M12 16h.01"})))},d=n(11204),h=n.n(d),p=n(7305);function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){v(e,t,n[t])}))}return e}function g(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}!function(e){e.SMALL="small",e.MEDIUM="medium",e.LARGE="large"}(l||(l={}));var y=function(e,t){var n=e.label,r=e.error,i=e.explanation,c=e.width,d=e.button,v=e.onFocus,y=e.touched,b=e.tooltip,w=e.required,_=e.optional,E=e.disabled,S=e.autoFocus,x=e.className,O=e.fadeRightSide,C=e.labelClassNames,k=e.selectAllOnFocus,T=e.size,A=void 0===T?l.MEDIUM:T,I=g(e,["label","error","explanation","width","button","onFocus","touched","tooltip","required","optional","disabled","autoFocus","className","fadeRightSide","labelClassNames","selectAllOnFocus","size"]),D=(0,a.useRef)(null);(0,a.useEffect)((function(){S&&setTimeout((function(){var e,t;null===(t=null===(e=D.current)||void 0===e?void 0:e.querySelector("input"))||void 0===t||t.focus()}),50)}),[S]);var P=(0,a.useCallback)((function(e){k&&e.currentTarget.select(),null===v||void 0===v||v(e)}),[k,v]),R=!!r&&!1!==y,N=R?(0,p.lv)(r,I.name||"Field"):"";return(0,o.jsx)(s.A,{label:n,style:{width:c},tooltip:b,ref:D,required:w,optional:_,labelClassNames:m({},C,{root:(0,u.Z)(null===C||void 0===C?void 0:C.root,E&&h().disabled,O&&h().fadeRightSideOfInput)}),errorText:N,explanation:i,children:(0,o.jsxs)("div",{style:{position:"relative"},children:[(0,o.jsx)("input",m({type:"text",required:w,tabIndex:0},I,{className:(0,u.Z)(h().textInput,A&&h()[A],x,R&&"hasError",!!d&&h().hasButton),onFocus:P,ref:t,disabled:E})),!!d&&(0,a.cloneElement)(d,{className:(0,u.Z)(h().button,d.props.className),disabled:d.props.disabled}),R&&(0,o.jsx)(f,{className:h().errorIcon})]})})},b=(0,a.memo)((0,a.forwardRef)(y));Object.assign(b,{Sizes:l});var w=b},14113:function(e,t,n){"use strict";var r=n(36300);t.Z=r.Z},81478:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var r=n(52322),i=n(2784);function o(e,t,n){return e+" "+(1!==e?t+"s":t)+" "+n}function a(e){const t=new Date(e);if(!Number.isNaN(t.valueOf()))return t;const n=String(e).match(/\d+/g);if(null==n||n.length<=2)return t;{const[e,t,...r]=n.map((e=>parseInt(e))),i=[e,t-1,...r];return new Date(Date.UTC(...i))}}function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}const u=3600,c=86400,l=7*c,f=30*c,d=365*c;function h({date:e,formatter:t=o,component:n="time",live:r=!0,minPeriod:h=0,maxPeriod:p=l,title:v,now:m=(()=>Date.now()),...g}){const y=function(){const[e,t]=(0,i.useState)(0);return(0,i.useCallback)((()=>{t((e=>e+1))}),[])}();(0,i.useEffect)((()=>{if(!r)return;let t;const n=r=>{const i=a(e).valueOf();if(!i)return void console.warn("[react-timeago] Invalid Date provided");const o=m(),s=Math.round(Math.abs(o-i)/1e3),l=s<60?1e3:s<u?6e4:s<c?36e5:6048e5,f=Math.min(Math.max(l,1e3*h),1e3*p);f&&(t&&clearTimeout(t),t=setTimeout(n,f)),r||y()};return n(!0),()=>{clearTimeout(t)}}),[e,y,r,p,h,m]);const b=n,w=a(e).valueOf();if(!w)return null;const _=m(),E=Math.round(Math.abs(_-w)/1e3),S=w<_?"ago":"from now",[x,O]=E<60?[Math.round(E),"second"]:E<u?[Math.round(E/60),"minute"]:E<c?[Math.round(E/u),"hour"]:E<l?[Math.round(E/c),"day"]:E<f?[Math.round(E/l),"week"]:E<d?[Math.round(E/f),"month"]:[Math.round(E/d),"year"],C="undefined"===typeof v?"string"===typeof e?e:a(e).toISOString().substr(0,16).replace("T"," "):v,k="time"===b?{...g,dateTime:a(e).toISOString()}:g,T=o.bind(null,x,O,S);return i.createElement(b,s({},k,{title:C}),t(x,O,S,w,T,m))}var p=function(e,t,n,r,i){if("second"===t)return"Recently";var o={minute:"min",hour:"hrs"};return o[t]?"".concat(e," ").concat(o[t]," ago"):(null===i||void 0===i?void 0:i(e,t,n,r))||"".concat(e," ").concat(t," ago")},v=function(e,t){return"second"===t?"1m":"".concat(e).concat(t.slice(0,1))},m=function(e){var t=e.type,n=void 0===t?"past":t,i=e.time,o="duration"===n,a=new Date(i).toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"}),s=o?v:p;return(0,r.jsx)(h,{date:i,minPeriod:60,formatter:s,title:a})},g=(0,i.memo)(m)},55662:function(e,t,n){"use strict";var r=n(52322),i=n(2784),o=n(12436),a=n.n(o),s=n(46710),u=n(29633),c=n(28058),l=n(12272),f=n.n(l);function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){d(e,t,n[t])}))}return e}var p=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)};p.DELAY=650,p.isVisible=!1,p.hide=a()((function(){p.isVisible=!1}),p.DELAY,{leading:!1,trailing:!0}),p.show=a()((function(e){p.hide.cancel(),p.isVisible=!0,e()}),p.DELAY,{leading:!1,trailing:!0});var v=function(e){var t=e.text,n=e.subText,o=e.disabled,a=e.children,l=e.popperProps,d=e.shortcutKeys,v=e.contentStyle,m=e.textClassName,g=e.contentClassName,y=e.placement,b=void 0===y?"bottom":y,w=e.tooltipPopperProps,_=void 0===w?{}:w,E=e.ignoreTooltipVisibilityController,S=void 0!==E&&E,x=(0,i.useRef)(null),O=(0,i.useState)(!1),C=O[0],k=O[1];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.Z,h({disableArrow:!0,enterDuration:.05,placement:b,popperProps:l,visible:!o&&C&&!!t,targetNode:x.current,className:(0,c.Z)(f().tooltip,m)},_,{enterDelay:0,onExitComplete:function(){return k(!1)},children:[(0,r.jsxs)("span",{className:f().mainText,children:[t,!!d&&(0,r.jsx)(u.P,{className:f().shortcut,keys:d})]}),!!n&&(0,r.jsx)("span",{className:f().subText,children:n})]})),(0,r.jsx)("span",{ref:x,onMouseEnter:function(){S&&k(!0),p.show((function(){return k(!0)})),p.isVisible&&p.show.flush()},onMouseLeave:function(){k(!1),p.show.cancel(),p.hide()},style:v,className:g,children:a})]})};t.Z=(0,i.memo)(v)},63974:function(e,t,n){"use strict";var r=n(55662);t.Z=r.Z},456:function(e,t,n){"use strict";n.d(t,{a:function(){return c},Z:function(){return l}});var r=n(52322),i=(n(2784),n(23763)),o=n(1219),a=n.n(o),s=function(e){var t=e.user,n=e.style,o=e.displayNameSuffix,s=void 0===o?"":o,u=e.avatarSize,c=void 0===u?30:u;return t?(0,r.jsxs)("div",{className:a().user,style:n,onClick:function(e){return e.stopPropagation()},children:[(0,r.jsx)(i.Z,{size:c,fallback:"\xa0",color:t.color,photoURL:t.photoURL,className:a().avatar,displayName:t.displayName}),(0,r.jsxs)("div",{className:a().content,children:[(0,r.jsx)("h4",{children:t.displayName+s}),(0,r.jsx)("h5",{children:t.email})]})]}):null},u=n(49797),c=function(e){var t,n,i,o=e.userId,a=e.displayName,c=e.email,l=e.profile,f=e.avatarSize,d=e.displayNameSuffix,h=void 0===d?"":d,p=(0,u.Z)(o),v=null!==l&&void 0!==l?l:p,m={email:c,id:null!==o&&void 0!==o?o:"",photoURL:null===v||void 0===v?void 0:v.photoURL,color:null!==(t=null===v||void 0===v?void 0:v.color)&&void 0!==t?t:"var(--grey-900)",displayName:null!==(i=null!==(n=null===v||void 0===v?void 0:v.displayName)&&void 0!==n?n:a)&&void 0!==i?i:""};return(0,r.jsx)(s,{user:m,avatarSize:f,displayNameSuffix:h})},l=s},89075:function(e,t,n){"use strict";n.d(t,{dq:function(){return f},h7:function(){return r}});var r,i=n(52322),o=n(2784),a=n(21746),s=n(17366),u=n(22753);!function(e){e.Server="server",e.Mobile="mobile",e.Tablet="tablet",e.Desktop="desktop"}(r||(r={}));var c={device:r.Server},l=(0,a.kr)(c),f=function(e){var t=e.children,n=function(){var e=(0,o.useState)(r.Server),t=e[0],n=e[1];return(0,s.Z)((function(){var e=function(){window.innerWidth<500?n(r.Mobile):window.innerWidth>=500&&window.innerWidth<=1024?n(r.Tablet):n(r.Desktop)};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[1024,500]),t}(),a=(0,u.Z)();return(0,i.jsx)(l.Provider,{value:{device:n,browser:a},children:t})};t.ZP=l},37923:function(e,t,n){"use strict";var r=(0,n(21746).kr)({isKeyboardShortcutsOpen:!1,openKeyboardShortcuts:function(){return null},closeKeyboardShortcuts:function(){return null}});t.Z=r},47516:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function o(e,t,n){return(o=i()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&f(i,n.prototype),i}).apply(null,arguments)}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return null!=t&&"undefined"!==typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}function l(e,t){return!t||"object"!==d(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,{t:function(){return v}});var d=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function h(e){var t="function"===typeof Map?new Map:void 0;return h=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return o(e,arguments,s(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),f(r,e)},h(e)}function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var i=s(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}var v=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(n,e);var t=p(n);function n(e){var i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};r(this,n);var a=o.cause,s=o.data,l=void 0===s?{}:s,f=o.statusCode;return u(a,n)&&(l=c({},a.data,l),f=null!==f&&void 0!==f?f:a.statusCode),(i=t.call(this,e,{cause:a})).isCaptured=!1,i.data={},i.statusCode=500,i.name="EraserError",i.data=l,i.hint=o.hint,i.statusCode=null!==f&&void 0!==f?f:500,i}return n}(h(Error));v.Name="EraserError"},48293:function(e,t,n){"use strict";n.d(t,{W:function(){return l}});var r=n(47516);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return!t||"object"!==u(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function c(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=o(e);if(t){var i=o(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return a(this,n)}}var l=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(n,e);var t=c(n);function n(e){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i(this,n),(r=t.call(this,e,o)).name=r.constructor.name,r.statusCode=402,r}return n}(r.t);l.Name="PaywallError"},57251:function(e,t,n){"use strict";n.d(t,{tk:function(){return r.t},dR:function(){return E},WH:function(){return i.W},vm:function(){return D},J5:function(){return j},Lr:function(){return M}});var r=n(47516),i=n(48293);function o(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function a(e,t,n){return(a=o()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&c(i,n.prototype),i}).apply(null,arguments)}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return!t||"object"!==l(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var l=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function f(e){var t="function"===typeof Map?new Map:void 0;return f=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return a(e,arguments,s(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),c(r,e)},f(e)}function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var i=s(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}var h=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(n,e);var t=d(n);function n(e,r,i,o){var a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(a=t.call(this,e)).status=r,a.statusCode=r,a.code=i,a.cause&&(a.cause=o),a.name="ApiError",a}return n}(f(Error));function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){v(e,t,n[t])}))}return e}function y(e,t){return!t||"object"!==w(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var w=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function _(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m(e);if(t){var i=m(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return y(this,n)}}var E=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(n,e);var t=_(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Not Found",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return p(this,n),(e=t.call(this,r,g({},i,{statusCode:404}))).name="NotFoundError",e}return n}(r.t);function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){x(e,t,n[t])}))}return e}function k(e,t){return!t||"object"!==A(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var A=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function I(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var i=O(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return k(this,n)}}var D=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(n,e);var t=I(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Log in required",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return S(this,n),(e=t.call(this,r,C({},i,{statusCode:401}))).name="UnauthenticatedError",e}return n}(r.t);function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R={"invalid-argument":400,"failed-precondition":400,unauthenticated:401,"permission-denied":403,"not-found":404,aborted:409,"resource-exhausted":429,cancelled:499,unimplemented:501,"already-exists":409,internal:500,unavailable:503,"deadline-exceeded":504},N={"auth/user-not-found":"Invalid Credentials","auth/wrong-password":"Invalid Credentials","auth/email-already-in-use":"Email already in use","auth/credential-already-in-use":"Email already in use"},j=function(e){var t,n,r,i=500,o=e.message;"code"in e&&null!=e.code&&(i=null!==(t=R[e.code])&&void 0!==t?t:500,o=null!==(n=N[e.code])&&void 0!==n?n:o);return{title:o,message:o,statusCode:i,explanation:"",code:null!==(r=e.code)&&void 0!==r?r:""}},M=function(e){if("string"===typeof e)return new h(e,500);var t,n=null!==e&&void 0!==e?e:{},o=n.name,a=void 0===o?"":o,s=n.data,u=n.message,c=void 0===u?"Unknown error":u,l=n.statusCode,f=n.stack,d=n.hint,p=n.code;return t=a===r.t.Name?new r.t(c,{data:s,hint:d,statusCode:l}):a===i.W.Name?new i.W(c,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){P(e,t,n[t])}))}return e}({},s,{hint:d,statusCode:l})):new h(c,null!==l&&void 0!==l?l:500,p),f&&(t.stack+="\n-------------------\n"+f),t}},7305:function(e,t,n){"use strict";n.d(t,{Le:function(){return s},lv:function(){return o},ym:function(){return c}});var r=n(82108),i=n.n(r);function o(e,t){if(!e)return"";if("string"===typeof e)return e;if(e.message&&"string"===typeof e.message)return e.message;if("required"===e.type)return"".concat(i()(t)," is required.");if("minLength"===e.type){var n=function(e,t){if(n=null===e||void 0===e?void 0:e.ref,r=HTMLElement,null!=r&&"undefined"!==typeof Symbol&&r[Symbol.hasInstance]?r[Symbol.hasInstance](n):n instanceof r)return e.ref.getAttribute(t);var n,r}(e,"minLength");if(n)return"".concat(i()(t)," must be at least ").concat(n," characters.")}return"".concat(i()(t)," is invalid.")}var a=n(73938),s=function(e){if(!(0,a.J)(e))return"Enter a valid e-mail"},u="Password must contain at least 12 characters, including at least one uppercase letter, one lowercase letter, one number, and one special character",c=function(e){return e.length<12?u:e.match(/[a-z]/)&&e.match(/[A-Z]/)&&e.match(/\d/)&&e.match(/[~`!@#$%^&*(){}\[\]\-_=\+|,<.>\/\?\\;:'"]/)?void 0:u}},10596:function(e,t,n){"use strict";var r=n(2784),i=n(17366);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}t.Z=function(e){var t=(0,r.useRef)(e);return(0,i.Z)((function(){t.current=e}),[e]),(0,r.useCallback)((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i,o;return null===(o=t.current)||void 0===o?void 0:(i=o).call.apply(i,[t].concat(a(n)))}),[])}},50639:function(e,t,n){"use strict";n.d(t,{d:function(){return o}});var r=n(21746),i=n(89075),o=function(){return(0,r.Sz)(i.ZP,(function(e){return(null===e||void 0===e?void 0:e.device)===i.h7.Mobile}))}},83445:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(2784);n(10596),n(50949);function i(e,t){var n=void 0!==e;return[n,n&&"undefined"!==typeof e?e:t]}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onClose,n=e.onOpen,o=e.isOpen,s=(0,r.useState)(e.defaultIsOpen||!1),u=s[0],c=s[1],l=a(i(o,u),2),f=l[0],d=l[1],h=(0,r.useCallback)((function(){f||c(!1),null===t||void 0===t||t()}),[f,t]),p=(0,r.useCallback)((function(){f||c(!0),null===n||void 0===n||n()}),[f,n]),v=(0,r.useCallback)((function(){(d?h:p)()}),[d,p,h]);return{isOpen:d,onOpen:p,onClose:h,onToggle:v,isControlled:f}}},95585:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(2784);function i(){var e=(0,r.useState)(0),t=(e[0],e[1]);return(0,r.useCallback)((function(){return t((function(e){return 1^e}))}),[])}},70812:function(e,t,n){"use strict";n.d(t,{I:function(){return o}});var r=n(21746),i=n(37923),o=function(){return(0,r.Sz)(i.Z,(function(e){return{isOpen:e.isKeyboardShortcutsOpen,onOpen:e.openKeyboardShortcuts,onClose:e.closeKeyboardShortcuts}}))}},84173:function(e,t,n){"use strict";var r=n(2784);t.Z=function(e){var t=(0,r.useRef)();return(0,r.useEffect)((function(){t.current=e}),[e]),t.current}},17366:function(e,t,n){"use strict";var r=n(2784),i=n(91614).jU?r.useLayoutEffect:r.useEffect;t.Z=i},77407:function(e,t,n){"use strict";n.d(t,{v:function(){return s}});var r=n(97030),i=n.n(r);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._config=t}var t=e.prototype;return t.getBoolean=function(e){var t=this._config[e];if(null!=t&&"boolean"===typeof t)return t},t.getNumber=function(e){var t=this._config[e];if(null!=t&&"number"===typeof t)return t},t.getString=function(e){var t=this._config[e];if(null!=t&&"string"===typeof t)return t},t.getArray=function(e){var t=this._config[e];if(null!=t&&Array.isArray(t))return a(t)},t.getMap=function(e){var t=this._config[e];if(null!=t&&i()(t))return Object.assign({},t)},t.getTimestamp=function(e){var t=this._config[e];if(null!=t)return t},e}()},20986:function(e,t,n){"use strict";function r(){return window.self!==window.top}n.d(t,{$:function(){return r}})},56899:function(e,t,n){"use strict";n.d(t,{Ak:function(){return s},Vg:function(){return o},f4:function(){return a}});var r=n(94764),i={"image/gif":"gif","image/jpeg":"jpg","image/png":"png","image/svg+xml":"svg","image/webp":"webp"},o=function(e){var t,n=e.blobType,o=e.fileName,a=e.uploadBasePath,s=null!==o&&void 0!==o?o:(0,r.x0)(),u=null!==(t=i[n])&&void 0!==t?t:"png";return"".concat(a).concat(s,".").concat(u)},a=function(e,t){return"images/".concat(s(e,t))},s=function(e,t){return"workspaces/".concat(e,"/").concat(t,"/")}},76117:function(e,t,n){"use strict";n.d(t,{V:function(){return te}});var r=n(48834).Buffer;const i="function"===typeof btoa,o="function"===typeof r,a=("function"===typeof TextDecoder&&new TextDecoder,"function"===typeof TextEncoder?new TextEncoder:void 0),s=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),u=((e=>{let t={};e.forEach(((e,n)=>t[e]=n))})(s),String.fromCharCode.bind(String)),c=("function"===typeof Uint8Array.from&&Uint8Array.from.bind(Uint8Array),e=>e.replace(/=/g,"").replace(/[+\/]/g,(e=>"+"==e?"-":"_"))),l=e=>{let t,n,r,i,o="";const a=e.length%3;for(let u=0;u<e.length;){if((n=e.charCodeAt(u++))>255||(r=e.charCodeAt(u++))>255||(i=e.charCodeAt(u++))>255)throw new TypeError("invalid character found");t=n<<16|r<<8|i,o+=s[t>>18&63]+s[t>>12&63]+s[t>>6&63]+s[63&t]}return a?o.slice(0,a-3)+"===".substring(a):o},f=i?e=>btoa(e):o?e=>r.from(e,"binary").toString("base64"):l,d=o?e=>r.from(e).toString("base64"):e=>{let t=[];for(let n=0,r=e.length;n<r;n+=4096)t.push(u.apply(null,e.subarray(n,n+4096)));return f(t.join(""))},h=e=>{if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?u(192|t>>>6)+u(128|63&t):u(224|t>>>12&15)+u(128|t>>>6&63)+u(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return u(240|t>>>18&7)+u(128|t>>>12&63)+u(128|t>>>6&63)+u(128|63&t)},p=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,v=e=>e.replace(p,h),m=o?e=>r.from(e,"utf8").toString("base64"):a?e=>d(a.encode(e)):e=>f(v(e)),g=(e,t=!1)=>t?c(m(e)):m(e),y=e=>g(e,!0),b=y;var w=n(68762),_=n.n(w);Math.floor,String.fromCharCode;const E=/\+/g;function S(e=""){try{return decodeURIComponent(""+e)}catch(t){return""+e}}function x(e=""){const t={};"?"===e[0]&&(e=e.substr(1));for(const n of e.split("&")){const e=n.match(/([^=]+)=?(.*)/)||[];if(e.length<2)continue;const r=S(e[1]);if("__proto__"===r||"constructor"===r)continue;const i=S((e[2]||"").replace(E," "));t[r]?Array.isArray(t[r])?t[r].push(i):t[r]=[t[r],i]:t[r]=i}return t}const O=/^\w+:(\/\/)?/,C=/^\/\/[^/]+/;function k(e,t=!1){return O.test(e)||t&&C.test(e)}function T(e){return x(A(e).search)}function A(e="",t){if(!k(e,!0))return t?A(t+e):I(e);const[n="",r,i=""]=(e.replace(/\\/g,"/").match(/([^:/]+:)?\/\/([^/@]+@)?(.*)/)||[]).splice(1),[o="",a=""]=(i.match(/([^/?#]*)(.*)?/)||[]).splice(1),{pathname:s,search:u,hash:c}=I(a);return{protocol:n,auth:r?r.substr(0,r.length-1):"",host:o,pathname:s,search:u,hash:c}}function I(e=""){const[t="",n="",r=""]=(e.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:t,search:n,hash:r}}function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){M(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function N(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||B(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e){return function(e){if(Array.isArray(e))return U(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||B(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){if(e){if("string"===typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?U(e,t):void 0}}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var V=/^(?:[a-z\d\-_]{1,62}\.){0,125}(?:[a-z\d](?:\-(?=\-*[a-z\d])|[a-z]|\d){0,62}\.)[a-z\d]{1,63}$/i,z={1:75,2:50,3:35,4:23,5:20},q=[1,2,3,4,5],Z={domain:null,useHTTPS:!0,includeLibraryParam:!0,urlPrefix:"https://",secureURLToken:null};function H(e){var t=e.url,n=void 0===t?"":t,r=e.useHttps,i=void 0!==r&&r?"https://":"http://";return k(n,!0)?A(n):H({url:i+n})}function W(e){var t;void 0!==e.widthTolerance?(K(e.widthTolerance),t=e.widthTolerance):t=.08;var n=void 0===e.minWidth?100:e.minWidth,r=void 0===e.maxWidth?8192:e.maxWidth;return 100==n&&8192==r||G(n,r),[t,n,r]}function G(e,t){if(!Number.isInteger(e)||!Number.isInteger(t)||e<=0||t<=0||e>t)throw new Error("The min and max srcset widths can only be passed positive Number values, and min must be less than max. Found min: ".concat(e," and max: ").concat(t,"."))}function K(e){if("number"!=typeof e||e<.01)throw new Error("The srcset widthTolerance must be a number greater than or equal to 0.01")}function J(e){if(!Array.isArray(e)||!e.length)throw new Error("The widths argument can only be passed a valid non-empty array of integers");if(!e.every((function(e){return Number.isInteger(e)&&e>0})))throw new Error("A custom widths argument can only contain positive integer values")}function Y(e){if("boolean"!=typeof e)throw new Error("The disableVariableQuality argument can only be passed a Boolean value")}function $(e){if(!Array.isArray(e)||!e.length)throw new Error("The devicePixelRatios argument can only be passed a valid non-empty array of integers");if(!e.every((function(e){return"number"===typeof e&&e>=1&&e<=5})))throw new Error("The devicePixelRatios argument can only contain positive integer values between 1 and 5")}function X(e){if("object"!==R(e))throw new Error("The variableQualities argument can only be an object")}var Q=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(N(this,e),this.settings=P(P({},Z),t),this.targetWidthsCache={},"string"!=typeof this.settings.domain)throw new Error("ImgixClient must be passed a valid string domain");if(null==V.exec(this.settings.domain))throw new Error('Domain must be passed in as fully-qualified domain name and should not include a protocol or any path element, i.e. "example.imgix.net".');this.settings.includeLibraryParam&&(this.settings.libraryParam="js-"+e.version()),this.settings.urlPrefix=this.settings.useHTTPS?"https://":"http://"}var t,n,r;return t=e,n=[{key:"buildURL",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this._sanitizePath(e,n),i=this._buildParams(t,n);return this.settings.secureURLToken&&(i=this._signParams(r,i)),this.settings.urlPrefix+this.settings.domain+r+i}},{key:"_buildParams",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.encoder||encodeURIComponent,r=[].concat(F(this.settings.libraryParam?["ixlib=".concat(this.settings.libraryParam)]:[]),F(Object.entries(e).reduce((function(e,t){var r=L(t,2),i=r[0],o=r[1];if(null==o)return e;var a=n(i),s="64"===i.substr(-2)?b(o):n(o);return e.push("".concat(a,"=").concat(s)),e}),[])));return"".concat(r.length>0?"?":"").concat(r.join("&"))}},{key:"_signParams",value:function(e,t){var n=this.settings.secureURLToken+e+t,r=_()(n);return t.length>0?t+"&s="+r:"?s="+r}},{key:"_sanitizePath",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.replace(/^\//,"");return t.disablePathEncoding?"/"+n:"/"+(n=t.encoder?t.encoder(n):/^https?:\/\//.test(n)?encodeURIComponent(n):encodeURI(n).replace(/[#?:+]/g,encodeURIComponent))}},{key:"buildSrcSet",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.w,i=t.h;return r||i?this._buildDPRSrcSet(e,t,n):this._buildSrcSetPairs(e,t,n)}},{key:"_buildSrcSetPairs",value:function(t){var n,r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=W(o),s=L(a,3),u=s[0],c=s[1],l=s[2];o.widths?(J(o.widths),n=F(o.widths)):n=e.targetWidths(c,l,u,this.targetWidthsCache);var f=n.map((function(e){return"".concat(r.buildURL(t,P(P({},i),{},{w:e}),o)," ").concat(e,"w")}));return f.join(",\n")}},{key:"_buildDPRSrcSet",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};r.devicePixelRatios&&$(r.devicePixelRatios);var i=r.devicePixelRatios||q,o=r.disableVariableQuality||!1;o||Y(o),r.variableQualities&&X(r.variableQualities);var a=P(P({},z),r.variableQualities),s=function(e,n,i){return"".concat(t.buildURL(e,P(P({},n),{},{dpr:i,q:n.q||a[i]||a[Math.floor(i)]}),r)," ").concat(i,"x")},u=o?i.map((function(i){return"".concat(t.buildURL(e,P(P({},n),{},{dpr:i}),r)," ").concat(i,"x")})):i.map((function(t){return s(e,n,t)}));return u.join(",\n")}}],r=[{key:"version",value:function(){return"3.7.0"}},{key:"_buildURL",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null==t)return"";var i=H({url:t,useHTTPS:r.useHTTPS}),o=i.host,a=i.pathname,s=i.search,u=P(P({},T(s)),n);if(!o.length||!a.length)throw new Error("_buildURL: URL must match {host}/{pathname}?{query}");var c=new e(P({domain:o},r));return c.buildURL(a,u)}},{key:"_buildSrcSet",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(null==t)return"";var o=H({url:t,useHTTPS:i.useHTTPS}),a=o.host,s=o.pathname,u=o.search,c=P(P({},T(u)),n);if(!a.length||!s.length)throw new Error("_buildOneStepURL: URL must match {host}/{pathname}?{query}");var l=new e(P({domain:a},i));return l.buildSrcSet(s,c,r)}},{key:"targetWidths",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8192,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.08,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=Math.floor(e),o=Math.floor(t);G(e,t),K(n);var a=n+"/"+i+"/"+o;if(a in r)return r[a];if(i===o)return[i];for(var s=[],u=i;u<o;)s.push(Math.round(u)),u*=1+2*n;return s[s.length-1]<o&&s.push(o),r[a]=s,s}}],n&&j(t.prototype,n),r&&j(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),ee=new Q({domain:n(55632).y2.baseUrl.replace(/^https?:\/\//,"")}),te=function(e,t){return e.startsWith("blob:")||e.startsWith("http:")||e.startsWith("https:")?e:ee.buildURL(e,t)}},73938:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(t,{J:function(){return h},R:function(){return l}});var o=/\./g,a={"gmail.com":{removeDots:!0,splitBy:"+"},"googlemail.com":{removeDots:!0,splitBy:"+",aliasOf:"gmail.com"},"google.com":{removeDots:!0,splitBy:"+"},"hotmail.com":{splitBy:"+"},"live.com":{splitBy:"+"},"outlook.com":{splitBy:"+"},"yahoo.com":{splitBy:"-"},"ymail.com":{splitBy:"-"}},s={"fastmail.*":{matchRegExp:/(fastmail|messagingengine)\.(com|fm)$/i,splitBy:"+"}};function u(e,t){return c(function(e,t){var n=t.user,r=t.domain;return e.removeDots&&(n=n.replace(o,"")),e.splitBy&&(n=n.split(e.splitBy,2)[0]),e.aliasOf&&(r=e.aliasOf),{user:n,domain:r}}(e,t))}function c(e){var t=e.user,n=e.domain;return"".concat(t,"@").concat(n)}function l(e){var t=i((e=e.trim().toLowerCase()).split("@"),2),n=t[0],r=t[1],o={user:n,domain:r};if(Object.prototype.hasOwnProperty.call(a,r))return u(a[r],o);for(var l in s){var f=s[l];if(f.matchRegExp.test(r))return u(f,o)}return c(o)}var f=/^[\w!#$%&'*+\-/=?^`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+$/,d=/^([\s\x01-\x08\v\f\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|(\\[\x01-\x09\v\f\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*$/;function h(e){var t=e.split("@"),n=t.pop(),r=t.join("@");if(!p(r,{max:64}))return!1;if(!p(n,{max:254}))return!1;if(!function(e){var t=e.split("."),n=t[t.length-1];if(t.length<2)return!1;if(/\s/.test(n))return!1;if(/^\d+$/.test(n))return!1;return t.every((function(e){return!(e.length>63)&&(!!/^[\w\u00a1-\uffff-]+$/.test(e)&&(!/[\uff01-\uff5e]/.test(e)&&(!/^-|-$/.test(e)&&!/_/.test(e))))}))}(n))return!1;if('"'===r[0])return r=r.slice(1,r.length-1),d.test(r);for(var i=f,o=r.split("."),a=0;a<o.length;a++)if(!i.test(o[a]))return!1;return!0}function p(e,t){var n=t.min,r=void 0===n?0:n,i=t.max,o=void 0===i?1/0:i,a=encodeURI(e).split(/%..|./).length-1;return a>=r&&a<=o}},47520:function(e,t,n){"use strict";n.d(t,{Z:function(){return L}});var r=n(94776),i=n.n(r),o=n(57066),a=n(57251);var s=n(30686);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return!t||"object"!==d(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}var p,v=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(n,e);var t=h(n);function n(){var e;return u(this,n),(e=t.apply(this,arguments)).Events={},e}return n.prototype.clean=function(){},n}(s.v);function m(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){m(o,r,i,a,s,"next",e)}function s(e){m(o,r,i,a,s,"throw",e)}a(void 0)}))}}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){return!t||"object"!==E(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}!function(e){e.HistoryUpdated="history-updated"}(p||(p={}));var E=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function S(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=b(e);if(t){var i=b(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return w(this,n)}}var x=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(n,e);var t=S(n);function n(e){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(r=t.call(this)).Events=p,r.entry=e,r.docRef=r.getCollectionRef().doc(e.id),r.clean=r.getCollectionRef().doc(e.id).onSnapshot((function(e){e.exists&&(r.entry=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){y(e,t,n[t])}))}return e}({},e.data(),{id:e.id}),r.emit(r.Events.HistoryUpdated,r.entry))}),console.error),r}var r=n.prototype;return r.getCollectionRef=function(){return o.RZ.collection("prompt-history")},r.getHistory=function(){return this.entry},r.addEntry=function(e,t){var n=this;return g(i().mark((function r(){var o;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o={userInput:e,userId:t,timestamp:Date.now()},r.next=3,n.docRef.set({history:n.entry.history.concat(o)},{merge:!0});case 3:case"end":return r.stop()}}),r)})))()},r.removeLastEntry=function(){var e=this;return g(i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.entry.history.length){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.docRef.set({history:e.entry.history.slice(0,e.entry.history.length-1)},{merge:!0});case 4:case"end":return t.stop()}}),t)})))()},n}(v),O=n(97695);function C(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function k(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){C(o,r,i,a,s,"next",e)}function s(e){C(o,r,i,a,s,"throw",e)}a(void 0)}))}}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){A(e,t,n[t])}))}return e}function P(e,t){return!t||"object"!==N(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function R(e,t){return(R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var N=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function j(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I(e);if(t){var i=I(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return P(this,n)}}var M=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(n,e);var t=j(n);function n(){var e;return T(this,n),(e=t.apply(this,arguments)).diagramDAOById=new Map,e}var r=n.prototype;return r.getCollectionRef=function(){return o.RZ.collection("prompt-history")},r.makeHistoryEntry=function(e){var t=function(){var e;return null===(e=o.I8.currentUser)||void 0===e?void 0:e.uid}();if(!t)throw new a.vm;return{userInput:e,userId:t,timestamp:Date.now()}},r.fetchHistoryByParams=function(e){var t=this;return k(i().mark((function n(){var r,o,s;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.teamId){n.next=2;break}throw new a.tk("Invalid fetch attempted",{hint:"teamId is required for prompt history",statusCode:400,data:D({},e)});case 2:return r=(0,O.J)(t.getCollectionRef(),e,{limit:1}),n.next=5,r.get();case 5:if(!(o=n.sent).empty){n.next=8;break}throw new a.dR("Prompt history not found",{data:D({},e)});case 8:return s=o.docs[0],n.abrupt("return",D({},s.data(),{id:s.id}));case 10:case"end":return n.stop()}}),n)})))()},r.getDiagramDAOFromHistoryData=function(e){return this.diagramDAOById.has(e.id)||this.diagramDAOById.set(e.id,new x(e)),this.diagramDAOById.get(e.id)},r.createHistory=function(e,t,n){var r=this;return k(i().mark((function n(){var o,a,s;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=t?[r.makeHistoryEntry(t)]:[],a=r.getCollectionRef().doc().id,s=D({id:a},e,{history:o}),n.next=5,r.getCollectionRef().add(s);case 5:return n.abrupt("return",r.getDiagramDAOFromHistoryData(s));case 6:case"end":return n.stop()}}),n)})))()},r.getHistoryById=function(e){var t=this;return k(i().mark((function n(){var r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.diagramDAOById.has(e)){n.next=2;break}return n.abrupt("return",t.diagramDAOById.get(e));case 2:return n.next=4,t.getCollectionRef().doc(e).get();case 4:if((r=n.sent).exists){n.next=7;break}return n.abrupt("return",void 0);case 7:return n.abrupt("return",t.getDiagramDAOFromHistoryData(D({},r.data())));case 8:case"end":return n.stop()}}),n)})))()},r.getHistoryBySearchParams=function(e){var t=this;return k(i().mark((function n(){var r;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.fetchHistoryByParams(e);case 2:if(r=n.sent){n.next=5;break}return n.abrupt("return",void 0);case 5:return n.abrupt("return",t.getDiagramDAOFromHistoryData(r));case 6:case"end":return n.stop()}}),n)})))()},n}(v),L={promptHistory:new M}},10559:function(e,t,n){"use strict";var r;n.d(t,{X:function(){return r}}),function(e){e.Both="both",e.Canvas="canvas",e.Document="document"}(r||(r={}))},30984:function(e,t,n){"use strict";var r=n(97442).Z;t.Z=r},14216:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){r(e,t,n[t])}))}return e}function o(e){return JSON.parse(e)}n.d(t,{A1:function(){return o},oO:function(){return a}});var a={fromDatabase:function(e){var t=e.val();return{clientId:t.clientId,userId:t.userId,ops:o(t.ops),id:e.key,time:t.time||(new Date).toUTCString()}},toDatabase:function(e){return i({},e,{ops:JSON.stringify(e.ops)})}}},97442:function(e,t,n){"use strict";var r=(0,n(19639).Z)();t.Z=r},58335:function(e,t,n){"use strict";var r=n(97442).Z;t.Z=r},67405:function(e,t,n){"use strict";var r=n(97442).Z;t.Z=r},94608:function(e,t,n){"use strict";n.d(t,{BG:function(){return S},hL:function(){return C},An:function(){return O},pe:function(){return k.Z},xI:function(){return m},UK:function(){return g},oO:function(){return T.oO},kk:function(){return r.Z},ML:function(){return c},q0:function(){return l},yN:function(){return i},Zd:function(){return u},vT:function(){return x.Z},q9:function(){return E},BV:function(){return f.Z},hu:function(){return y},nJ:function(){return d}});var r=n(97442),i=r.Z,o=n(19639);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}s({},(0,o.Z)(),{fromFirestore:function(e){var t,n,r=e.data(),i=s({id:e.id},r);r.gitHubInfo&&(i.gitHubInfo=s({},r.gitHubInfo,{userTokenExpiry:null===(t=r.gitHubInfo.userTokenExpiry)||void 0===t?void 0:t.toDate(),refreshTokenExpiry:null===(n=r.gitHubInfo.refreshTokenExpiry)||void 0===n?void 0:n.toDate()}));return i}});var u=r.Z,c=r.Z,l=r.Z,f=n(67405),d=(r.Z,r.Z),h=n(59065);function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){p(e,t,n[t])}))}return e}({},(0,o.Z)(),{toFirestore:function(e){return e.type===h.PA.Email&&e.inviteeEmail&&(e.inviteeEmail=String(e.inviteeEmail).toLowerCase()),e}}),m=v,g=r.Z,y=r.Z;r.Z;function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){b(e,t,n[t])}))}return e}function _(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var E={toDatabase:function(e){e.id;var t=e.modifiedBy,n=e.modifiedAt,r=e.userId,i=_(e,["id","modifiedBy","modifiedAt","userId"]);return{modifiedBy:t,modifiedAt:n,userId:r||null,data:JSON.stringify(i)}},fromDatabase:function(e){var t=e.key,n=e.val();if("string"===typeof n)return w({},JSON.parse(n),{id:t});var r=n.modifiedBy,i=n.modifiedAt,o=n.userId,a=n.data;return w({},JSON.parse(a),{modifiedBy:r,modifiedAt:i,userId:o,id:t})}},S=r.Z,x=n(58335),O=r.Z,C=r.Z,k=(r.Z,r.Z,n(30984)),T=n(14216)},19639:function(e,t){"use strict";function n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}t.Z=function(){return{toFirestore:function(e){e.id;return r(e,["id"])},fromFirestore:function(e,t){var r=e.id;return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},i=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),i.forEach((function(t){n(e,t,r[t])}))}return e}({},e.data(t),{id:r})}}}},22753:function(e,t,n){"use strict";var r=n(2784),i=n(89653),o=n.n(i),a=n(17366);t.Z=function(){var e=(0,r.useState)(),t=e[0],n=e[1];return(0,a.Z)((function(){var e=o().parse(window.navigator.userAgent).name;n(e)}),[]),t}},13587:function(e,t,n){"use strict";n.d(t,{Z:function(){return I}});var r=n(94776),i=n.n(r),o=n(2784),a=n(43931),s=n.n(a),u=n(68732),c=n(14898),l=n(67405),f=n(57066),d=n(3213);function h(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function p(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){h(o,r,i,a,s,"next",e)}function s(e){h(o,r,i,a,s,"throw",e)}a(void 0)}))}}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){v(e,t,n[t])}))}return e}function g(e){return y.apply(this,arguments)}function y(){return y=p(i().mark((function e(t){var n,r,o=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:"array",e.next=3,d.Z.workspaces.withConverter(l.Z).where(f.ZP.firestore.FieldPath.documentId(),"in",t).get();case 3:if(r=e.sent,"array"!==n){e.next=8;break}return e.abrupt("return",r.docs.map((function(e){return m({},e.data(),{id:e.id})})));case 8:return e.abrupt("return",r.docs.reduce((function(e,t){return e.set(t.id,t.data())}),new Map));case 9:case"end":return e.stop()}}),e)}))),y.apply(this,arguments)}var b=n(55632),w=n(58335),_=n(92678);function E(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function S(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){E(o,r,i,a,s,"next",e)}function s(e){E(o,r,i,a,s,"throw",e)}a(void 0)}))}}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){x(e,t,n[t])}))}return e}function C(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function k(e){return(null===e||void 0===e?void 0:e.map((function(e){return O({id:e.objectID},C(e,["objectID"]))})))||[]}var T=function(){var e=S(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&t.length){e.next=2;break}return e.abrupt("return");case 2:return n=t.map((function(e){return e.id})),e.next=5,g(n,"map");case 5:r=e.sent,t.forEach((function(e){var t;e.gitHubRepository=(null===(t=r.get(e.id))||void 0===t?void 0:t.gitHubRepository)||null}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=void 0;function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=(0,o.useState)({}),r=n[0],a=n[1],l=(0,o.useState)([]),f=l[0],h=l[1],p=(0,o.useState)(void 0),v=p[0],m=p[1],g=(0,_.ZP)(),y=(0,u.LP)(),E=(0,c.II)(),C=(0,o.useMemo)((function(){if(g)return s()(b.O9.appId,g).initIndex(b.O9.workspacesIndex)}),[g]),I=(0,o.useCallback)(S(i().mark((function e(){var n,r,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d.Z.visitedWorkspaces.withConverter(w.Z).where("userId","==",E).where("teamId","==",y).orderBy("lastVisitedAt","desc").limit(t).get();case 2:if(n=e.sent,(r=n.docs.map((function(e){return e.data().workspaceId}))).length){e.next=6;break}return e.abrupt("return",[]);case 6:return e.next=8,null===C||void 0===C?void 0:C.search("",{filters:r.map((function(e){return"objectID:".concat(e)})).join(" OR "),attributesToRetrieve:["objectID","title","folderName","isPrivate","isInRootFolder"],hitsPerPage:t});case 8:return o=e.sent,a=null===o||void 0===o?void 0:o.hits,e.abrupt("return",k(a));case 11:case"end":return e.stop()}}),e)}))),[C,t,E,y]),D=(0,o.useCallback)(function(){var e=S(i().mark((function e(t,n){var r,o,a,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(y&&E&&n){e.next=2;break}return e.abrupt("return",[]);case 2:return r=["teamId:".concat(y),"NOT isTemplate:true","isTitleEmpty:false","isWorkspaceArchived:false","(isPrivate:false OR ownerId:".concat(E,")")],o=r.join(" AND "),e.next=6,null===C||void 0===C?void 0:C.search(t,{filters:o,hitsPerPage:n,restrictSearchableAttributes:["title","folderName"],attributesToRetrieve:["objectID","title","folderName","isPrivate","isInRootFolder"]});case 6:return a=e.sent,s=null===a||void 0===a?void 0:a.hits,e.abrupt("return",k(s));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[C,y,E]),P=(0,o.useCallback)(S(i().mark((function e(){var n,r,o;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I();case 2:if((n=e.sent).length!==t){e.next=5;break}return e.abrupt("return",n);case 5:return r=n.map((function(e){return e.id})),e.next=8,D("",t);case 8:return o=e.sent.filter((function(e){var t=e.id;return!r.includes(t)})),e.abrupt("return",n.concat(o).slice(0,t));case 10:case"end":return e.stop()}}),e)}))),[D,I,t]),R=(0,o.useCallback)(function(){var e=S(i().mark((function e(n){var o,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"===typeof n){e.next=4;break}return a({}),m(void 0),e.abrupt("return");case 4:if(!(o=r[n])){e.next=8;break}return m(o),e.abrupt("return");case 8:if(h((function(e){return e.concat(n)})),s=[],n.length){e.next=21;break}if(!A){e.next=15;break}s=A.slice(0,t),e.next=19;break;case 15:return e.next=17,P();case 17:s=e.sent,A=s;case 19:e.next=24;break;case 21:return e.next=23,D(n,t);case 23:s=e.sent;case 24:return e.next=26,T(s);case 26:a((function(e){return O({},e,x({},n,s))})),m(s),h((function(e){return e.filter((function(e){return e!==n}))}));case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[D,P,t,r]);return(0,o.useEffect)((function(){R(e)}),[e,g]),(0,o.useEffect)((function(){A=void 0,m(void 0),a({})}),[y]),{results:v,isLoading:f.includes(e)}}},8869:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(94776),i=n.n(r),o=n(2784),a=n(3213),s=n(94608);function u(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function c(e,t){var n=(0,o.useState)(void 0),r=n[0],c=n[1],l=(0,o.useState)(!1),f=l[0],d=l[1],h=(0,o.useCallback)(function(){var e,n=(e=i().mark((function e(n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c(void 0),n&&t){e.next=3;break}return e.abrupt("return");case 3:return d(!0),e.prev=4,e.next=7,a.Z.teamFolder(t,n).withConverter(s.pe).get();case 7:r=e.sent,c(r.data());case 9:return e.prev=9,d(!1),e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[4,,9,12]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){u(o,r,i,a,s,"next",e)}function s(e){u(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e){return n.apply(this,arguments)}}(),[t]);return(0,o.useEffect)((function(){h(e)}),[h,e]),{data:r,isLoading:f}}},24965:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(2784),i=n(27495),o=n.n(i),a=n(65233);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){var n=(0,r.useMemo)((function(){var e=new(o());return"undefined"===typeof(null===t||void 0===t?void 0:t.stopCallback)||("function"!==typeof t.stopCallback?e.stopCallback=function(){return!1}:e.stopCallback=t.stopCallback),e}),[null===t||void 0===t?void 0:t.stopCallback]),i=u(Object.keys(e)).concat(u(Object.values(e)));(0,r.useEffect)((function(){return Object.keys(e).forEach((function(t){var r=e[t];if(r){var i="/"===t?"keydown":void 0;if("function"===typeof r)n.bind(t,r,i);else{var o=r.macOS,s=void 0===o||o,u=r.windows,c=void 0===u||u,l=r.callback;s&&a.Um&&n.bind(t,l,i),c&&!a.Um&&n.bind(t,l,i)}}})),function(){n.reset()}}),u(i).concat([n]))}},9251:function(e,t,n){"use strict";var r=n(2784);function i(e,t){if(null!=e)if("function"!==typeof e){if(!Object.isFrozen(e))try{e.current=t}catch(n){throw new Error("Cannot assign value '".concat(t,"' to ref '").concat(e,"'"))}}else e(t)}t.Z=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,r.useMemo)((function(){return t.every((function(e){return null==e}))?null:function(e){t.forEach((function(t){t&&i(t,e)}))}}),t)}},92678:function(e,t,n){"use strict";n.d(t,{pW:function(){return C},ZP:function(){return T}});var r=n(94776),i=n.n(r),o=n(2784),a=n(20810),s=n(39739),u=n(35120),c=n(19184),l=n(12335),f=n(14898),d=n(7878),h=n(55632),p=n(49892),v=n(57066),m=n(50949);function g(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){g(o,r,i,a,s,"next",e)}function s(e){g(o,r,i,a,s,"throw",e)}a(void 0)}))}}function b(){return(b=y(i().mark((function e(t,n){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.VS)((function(){return v.wk.httpsCallable(t)(n)}));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w=function(e,t){return b.apply(this,arguments)},_=n(66924);function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function x(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var O="user-search-token",C=function(){var e,t=(e=i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w("user-createSearchToken",void 0).catch(_.Tb);case 2:return n=e.sent,d.J.setItem(O,{userId:t,token:n}),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){S(o,r,i,a,s,"next",e)}function s(e){S(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}(),k=function(e,t){return function(e){return"object"===typeof e&&"string"===typeof e.userId&&"string"===typeof e.token}(t)&&t.userId===e&&function(e){var t=atob(e),n=/validUntil=(\d+)/.exec(t);return null===n?0:parseInt(n[1],10)-Math.round((new Date).getTime()/1e3)}(t.token)>86400},T=function(){var e=(0,f.II)(),t=(0,o.useState)(),n=t[0],r=t[1],i=(0,a.m)((function(e){return e.pipe((0,l.w)((function(e){var t=x(e,1)[0];if(!t)return(0,u.of)(null);if("development"===p.Wi&&h.wC.emulatorEnabled)return(0,u.of)(null);var n=d.J.getItem(O)||void 0;return k(t,n)?(0,u.of)(n.token):(0,c.D)(C(t))})))}),[e]);return(0,s.m)(i,r,_.Tb),n}},12305:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(94776),i=n.n(r),o=n(2784),a=n(3213),s=n(94608);function u(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function c(e){var t=(0,o.useState)(void 0),n=t[0],r=t[1],c=(0,o.useState)(!1),l=c[0],f=c[1],d=(0,o.useCallback)(function(){var e,t=(e=i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r(void 0),t){e.next=3;break}return e.abrupt("return");case 3:return f(!0),e.prev=4,e.next=7,a.Z.workspace(t).withConverter(s.BV).get();case 7:n=e.sent,r(n.data());case 9:return e.prev=9,f(!1),e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[4,,9,12]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){u(o,r,i,a,s,"next",e)}function s(e){u(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}(),[]);return(0,o.useEffect)((function(){d(e)}),[d,e]),{data:n,isLoading:l}}},44883:function(e,t,n){"use strict";var r;n.d(t,{c:function(){return r}}),function(e){e.AddIcon="add-icon",e.CreateFile="create-file",e.AddNoteContent="add-note-content",e.AddFigure="add-figure",e.AddFigureEmbed="add-figure-embed",e.AddComment="add-comment"}(r||(r={}))},29843:function(e,t,n){"use strict";var r;n.d(t,{O:function(){return r}}),function(e){e.ConversationalOutline="conversational-outline",e.ConversationalOutlineQuestions="conversational-outline-questions",e.Outline="outline",e.OutlineQuestions="outline-questions",e.Subheaders="subheaders",e.Bullets="bullets",e.Diagrams="diagrams"}(r||(r={}))},61778:function(e,t,n){"use strict";var r;n.d(t,{G:function(){return r}}),function(e){e.DashboardAccess="dashboard-access",e.PricingAnnouncement="pricing-announcement",e.GitHubFirstTimeHelp="github-first-time-help",e.FreeTierBezel="free-tier-bezel"}(r||(r={}))},24721:function(e,t,n){"use strict";var r,i,o,a,s;n.d(t,{AC:function(){return i},M$:function(){return o},h8:function(){return a},k9:function(){return r},yh:function(){return s}}),function(e){e.Free="free",e.Pro="pro"}(r||(r={})),function(e){e.PrivateWorkspaces="private-workspaces",e.NoLinkAccess="no-link-access",e.AnonymousCollaboration="anonymous-collaboration",e.ApiAccess="api-access",e.ExportPDF="export-pdf"}(i||(i={})),function(e){e.Workspaces="workspaces",e.AiDiagrams="ai-diagrams",e.MonthlyAiDiagramApiCalls="monthly-ai-diagram-api-calls"}(o||(o={})),function(e){e.VersionHistory="version-history"}(a||(a={})),function(e){e.active="active",e.canceled="canceled",e.paused="paused"}(s||(s={}))},59065:function(e,t,n){"use strict";var r,i,o;n.d(t,{FU:function(){return r},PA:function(){return o},aj:function(){return i}}),function(e){e.Team="team",e.Workspace="workspace"}(r||(r={})),function(e){e.Pending="pending",e.Accepted="accepted",e.Cancelled="cancelled"}(i||(i={})),function(e){e.Link="link",e.Email="email"}(o||(o={}))},85753:function(e,t,n){"use strict";n.d(t,{i4:function(){return r.i}});n(24721);var r=n(74665)},74665:function(e,t,n){"use strict";var r;n.d(t,{i:function(){return r}}),function(e){e.Admin="admin",e.Member="member",e.Guest="guest"}(r||(r={}))},5233:function(e,t,n){"use strict";var r,i,o;n.d(t,{bR:function(){return o},lL:function(){return r},tf:function(){return i}}),function(e){e.Write="write",e.Read="read"}(r||(r={})),function(e){e.userDataModel="userDataModel",e.technicalDesign="technicalDesign",e.dataFlowDiagram="dataFlowDiagram",e.systemArhcitecture="systemArhcitecture",e.productRequirements="productRequirements"}(i||(i={})),function(e){e.NONE="none",e.READ="read",e.WRITE="write",e.ANONYMOUS_WRITE="anonymous-write"}(o||(o={}))},18154:function(e,t,n){"use strict";n.d(t,{q:function(){return r}});var r=n(65233).Um?"metaKey":"ctrlKey"},16487:function(e,t,n){"use strict";n.d(t,{QS:function(){return r}});var r="DEFAULTS"},52326:function(e,t,n){"use strict";n.d(t,{Ld:function(){return r},Li:function(){return a},M4:function(){return s},Pe:function(){return c},hl:function(){return i},r8:function(){return u},w7:function(){return o}});var r=(0,n(61710).J)("cardinalElbow").defaultZeroGapValueForIntersections,i=.875,o={STROKE_MULTIPLIER:1.75,ROUGHNESS_MULTIPLIER:.8,ARROWHEAD_SIZE:12,ARROWHEAD_ANGLE:30,SELECTION_LINE_WIDTH:1.5},a={LEFT:100,TOP:200,RIGHT:15,BOTTOM:15},s=30,u={excalidraw:"excalidraw",excalidrawLibrary:"excalidrawlib",excalidrawClipboard:"excalidraw/clipboard"},c={FIGURE_PADDING:34,DISTANCE_BETWEEN_FIGURES:300}},97879:function(e,t,n){"use strict";n.d(t,{LD:function(){return r},dq:function(){return i}});var r=new Map,i=function(e){return r.get(e)}},43737:function(e,t,n){"use strict";var r;n.d(t,{N:function(){return r},O:function(){return i}}),function(e){e.UP="up",e.DOWN="down",e.LEFT="left",e.RIGHT="right"}(r||(r={}));var i=[r.DOWN,r.UP,r.LEFT,r.RIGHT]},92602:function(e,t,n){"use strict";n.d(t,{G4:function(){return a},Nm:function(){return u.N},OD:function(){return u.O},QN:function(){return c},UX:function(){return i},ck:function(){return r},pj:function(){return s},wi:function(){return o}});var r,i,o,a,s,u=n(43737);!function(e){e.Normal="normal",e.CodeBlock="code-block"}(r||(r={})),function(e){e[e.Pastel=0]="Pastel",e[e.Bold=1]="Bold",e[e.Outline=2]="Outline"}(i||(i={})),function(e){e[e.Plain=0]="Plain",e[e.Shadow=1]="Shadow",e[e.Watercolor=2]="Watercolor"}(o||(o={})),function(e){e.x="x",e.y="y",e.HORIZONTAL="x",e.VERTICAL="y"}(a||(a={})),function(e){e.SD="sequence-diagram",e.ERD="entity-relationship-diagram",e.CAD="cloud-architecture-diagram",e.FLOW="flowchart-diagram"}(s||(s={}));var c=function(e){return"rectangle"===e.type&&"sharp"!==e.strokeSharpness?"rounded-rect":e.type}},55579:function(e,t,n){"use strict";n.d(t,{UZ:function(){return r},qf:function(){return i}});var r="https://github.com",i="gitHubAppInstalled"},68252:function(e,t,n){"use strict";n.d(t,{Id:function(){return a},bj:function(){return o},sF:function(){return s},u8:function(){return i}});n(71941);var r=n(55579);n(48834).Buffer;var i=function(e){var t=e.organizationName;return"".concat(r.UZ,"/").concat(t)},o=function(e){var t=e.commitSha,n=e.repositoryName,i=e.organizationName;return"".concat(r.UZ,"/").concat(i,"/").concat(n,"/commit/").concat(t)},a=function(e){if(!e)return"";var t=e.split("/");return t.pop(),"/".concat(t.join("/"))},s=function(e){var t=e.filePath,n=e.branchName,i=e.repositoryName,o=e.organizationName;return"".concat(r.UZ,"/").concat(o,"/").concat(i,"/blob/").concat(n,"/").concat(t)}},29633:function(e,t,n){"use strict";n.d(t,{P:function(){return u}});var r=n(52322),i=n(12044),o=n(28058),a=n(92247),s=n.n(a),u=function(e){var t=e.keys,n=e.shortcutStyle,a=void 0===n?"text":n,u=e.darkBackground,c=e.className,l=t.map((function(e){return(0,i.K8)(e,!0)}));return(0,r.jsx)("span",{className:(0,o.Z)(s().shortcut,u&&s().darkBackground,c),children:l.map((function(e,t){return(0,r.jsx)("kbd",{className:(0,o.Z)(s().shortcutKey,"text"===a&&s().text,"pills"===a&&s().pill),children:e},"".concat(e,"-").concat(t))}))})}},12044:function(e,t,n){"use strict";n.d(t,{K8:function(){return s},PF:function(){return i}});var r=n(65233),i=r.Um?"metaKey":"ctrlKey",o={CtrlOrCmd:"Command","Control|Alt":"Control"},a={Shift:"\u21e7",Enter:"\u21a9",ArrowUp:"\u2191",ArrowDown:"\u2193",ArrowLeft:"\u2190",ArrowRight:"\u2192",Del:"\u232b",Control:"Ctrl",CtrlOrCmd:"Ctrl",Esc:"Esc",Alt:"Alt",Option:"Alt",AltOrOption:"Alt","Control|Alt":"Alt"};r.Um&&Object.assign(a,{Control:"^",CtrlOrCmd:"\u2318",Alt:"\u2325",Option:"\u2325",AltOrOption:"\u2325","Control|Alt":"^"});var s=function(e,t){return r.Um&&!t?o[e]||e:a[e]||e},u={CtrlOrCmd:"ctrl",AltOrOption:"alt","Control|Alt":"alt",Tab:"tab",Enter:"enter",Esc:"escape",Shift:"shift",ArrowLeft:"left",ArrowRight:"right",ArrowUp:"up",ArrowDown:"down"};r.Um&&Object.assign(u,{CtrlOrCmd:"command",AltOrOption:"option","Control|Alt":"ctrl"})},83969:function(e,t,n){"use strict";n.d(t,{W:function(){return _}});var r=n(94776),i=n.n(r),o=n(60417),a=n.n(o),s=n(96795),u=n.n(s),c=n(66924),l=n(64203),f=n(12995);function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(){function e(t,n,r,i){d(this,e),this.userId=t,this.lastOpId=n,this.selection=r,this.collab=i,this.isFading=!1,this.initFadeTimer(),this.decoration=this.makeDecoration(),this.isFading=!1}var t=e.prototype;return t.update=function(e,t){this.selection=e,t&&(this.lastOpId=t),this.initFadeTimer()},t.initFadeTimer=function(){var e=this;this._timer&&clearTimeout(this._timer),this.isFading=!1,this.setDecoration(),this._timer=setTimeout((function(){e.destroy()}),3e4)},t.destroy=function(){var e=this;this.isFading=!0,this.setDecoration(),this._timer=setTimeout((function(){e.selection=null,e.setDecoration()}),800)},t.setDecoration=function(){var e,t;this.decoration=this.makeDecoration(),null===(t=(e=this.collab).triggerUpdate)||void 0===t||t.call(e)},t.makeDecoration=function(){if(null!=this.selection)return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){h(e,t,n[t])}))}return e}({},this.selection,{lastOpId:this.lastOpId,userId:this.userId,remoteSelection:this.selection,isFading:this.isFading})},e}(),v=function(){function e(t){d(this,e),this._collab=t,this._selections={},this._selections={}}var t=e.prototype;return t.setUserSelection=function(e,t,n){this._selections[e]||(this._selections[e]=new p(e,n,t,this._collab));try{this._selections[e].update(t,n)}catch(r){(0,c.Tb)(new Error("Error setting selection",{cause:r})),this._selections[e].update(null,n)}},t.getSelections=function(){return this._selections},t.updateSelections=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this;e.length&&Object.keys(this._selections).forEach((function(r){try{if(t.exclude&&t.exclude===r)return;var i=n._selections[r].selection;if(i){var o=!0,a=!1,s=void 0;try{for(var u,l=e[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var d=u.value,h=f.e6.transform(i,d);if(!h)break;i=h}}catch(p){a=!0,s=p}finally{try{o||null==l.return||l.return()}finally{if(a)throw s}}}n.setUserSelection(r,i)}catch(v){(0,c.Tb)(new Error("Error updating selection",{cause:v})),n.setUserSelection(r,null)}}))},e}();function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function y(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){g(o,r,i,a,s,"next",e)}function s(e){g(o,r,i,a,s,"throw",e)}a(void 0)}))}}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var _=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onConnectionChange=function(){},this.isReady=!1,this._hasDisconnected=!1,this._pendingQueue=[],this.getRemoteSelections=function(){var e=n.selectionManager.getSelections();return a()(Object.keys(e).map((function(t){return e[t].decoration})))};var r=this;this._onBadDataDetected=function(){var e=y(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.onError(t),r.isReady=!1,e.next=4,r._adapter.fetchValue();case 4:n=e.sent,r.isReady=!0,r.editor&&n&&(r.editor.children=n.children,r.editor.onChange());case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this._onReceive=function(e){if(n.clientId!==e.clientId)if("function"===typeof n._onRemoteOpsReceived){var t=w(u()(e.ops,(function(e){return"set_selection"===e.type})),2),r=t[0],i=t[1];if(r.length&&e.userId!==n.userId){var o=!0,a=!1,s=void 0;try{for(var f,d=r[Symbol.iterator]();!(o=(f=d.next()).done);o=!0){var h=f.value;n.selectionManager.setUserSelection(e.userId,h.newProperties,e.id)}}catch(v){a=!0,s=v}finally{try{o||null==d.return||d.return()}finally{if(a)throw s}}}n.selectionManager.updateSelections(i,{exclude:e.userId});try{n._onRemoteOpsReceived(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){b(e,t,n[t])}))}return e}({},e,{ops:i}))}catch(m){var p=new l.bS(m,l.bS.Codes.ApplyOp);p.isSevere=n._adapter.hasPendingOps(),p.handled=!0,(0,c.Tb)(p,{extra:{msg:JSON.stringify(e),cause:m}}),n._onBadDataDetected({error:p,area:"ApplyOpServer"})}}else n._pendingQueue.push(e)},this.clientId=t.clientId,this.userId=t.userId,this._adapter=t.adapter,this.onError=t.onError,this.makeOnConnectionChange(t.onConnectionChange),this.selectionManager=new v(this),this._adapter.on("ops-added",this._onReceive),this._adapter.on("bad-data",this._onBadDataDetected),this._adapter.on("connection-change",this.onConnectionChange)}var t=e.prototype;return t.destroy=function(){this.isReady=!1,this.sendOps([],null),this._adapter.off("connection-change",this.onConnectionChange),this._adapter.off("ops-added",this._onReceive),this._adapter.off("bad-data",this._onBadDataDetected),this._adapter.destroy(),this._onRemoteOpsReceived=void 0,this.editor=void 0},t.isConnected=function(){return!!this._adapter.isConnected},t.makeOnConnectionChange=function(e){var t=this;this.onConnectionChange=function(n){!1===n&&(t._hasDisconnected=!0,null===e||void 0===e||e(!1)),!0===n&&t._hasDisconnected&&(null===e||void 0===e||e(!0))}},t.getInitialData=function(){var e=this;return y(i().mark((function t(){var n,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e._adapter.fetchValue();case 3:return n=t.sent,e._adapter.connectToServer(),e.initialValue=null===n||void 0===n?void 0:n.children,e.isReady=!0,t.abrupt("return",n);case 10:return t.prev=10,t.t0=t.catch(0),r=new l.bS(t.t0,l.BA.LoadValue),e.onError(r),t.abrupt("return",void 0);case 15:case"end":return t.stop()}}),t,null,[[0,10]])})))()},t.setEditor=function(e){this.editor=e},t.sendOps=function(e,t){var n=e.filter((function(e){return"set_selection"!==e.type}));this.selectionManager.updateSelections(n);var r={type:"set_selection",newProperties:null!==t&&void 0!==t?t:null,properties:null};n.push(r),this._adapter.sendOps(n)},t.onRemoteOpsReceived=function(e){var t;this._onRemoteOpsReceived=e,(null===(t=this._pendingQueue)||void 0===t?void 0:t.length)&&(this._pendingQueue.forEach((function(t){e(t)})),this._pendingQueue=[])},e}()},98609:function(e,t,n){"use strict";n.d(t,{YV:function(){return r.YV},Zp:function(){return i}});n(83969);var r=n(321);function i(e){return{name:"remote-render",formats:{remoteSelection:{component:e.component}}}}},321:function(e,t,n){"use strict";n.d(t,{YV:function(){return G}});var r=n(12995);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"left";if("move_node"===e.type&&r.y$.equals(e.path,e.newPath))return[];if("move_node"===t.type&&r.y$.equals(t.path,t.newPath))return[e];var i="left"===n?"backward":"forward";if("offset"in e){var a=r.E9.transform({path:e.path,offset:e.offset},t,{affinity:i});return a?[o({},e,a)]:[]}if("position"in e){var s=r.E9.transform({path:e.path,offset:e.position},t,{affinity:i});return s?[o({},e,{path:s.path,position:s.offset})]:[]}var u="path"in e?r.y$.transform(e.path,t,{affinity:i}):void 0;return u?[o({},e,{path:u})]:[]}function s(e){return[{type:"remove_node",path:e.path.slice(),node:{text:""}},{type:"insert_node",path:r.y$.transform(e.path,e),node:{text:""}}]}function u(e,t){var n=e.path,i=r.y$.transform(t.path,o({},e,{type:"insert_node"}));return r.y$.isSibling(n,i)&&r.y$.endsBefore(n,i)&&(i=r.y$.previous(i)),{type:"move_node",path:n,newPath:i}}function c(e,t){var n=t.path,i=r.y$.transform(e.path,t);return r.y$.isSibling(n,i)&&r.y$.endsBefore(n,i)&&(i=r.y$.previous(i)),{type:"move_node",path:n,newPath:i}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){l(e,t,n[t])}))}return e}var d={insert_node:function(e,t,n){return r.y$.equals(e.path,t.path)&&"left"===n?[e]:a(e,t,n)},remove_node:function(e,t,n){return r.y$.equals(e.path,t.path)?[e]:a(e,t,n)},merge_node:function(e,t,n){if(r.y$.equals(e.path,t.path)){var i=r.xv.isText(e.node)?e.node.text.length:e.node.children.length;return[f({},t,{type:"split_node",path:r.y$.previous(t.path)}),e,t,f({},t,{position:t.position+i})]}return a(e,t,n)},move_node:function(e,t,n){return r.y$.equals(e.path,t.path)?[f({},e,{path:r.y$.transform(r.y$.next(e.path),t)})]:a(e,t,n)}};function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){h(e,t,n[t])}))}return e}var v={insert_text:function(e,t){return r.y$.equals(e.path,r.y$.next(t.path))?[p({},e,{position:e.position+t.text.length})]:[e]},remove_text:function(e,t){return r.y$.equals(e.path,r.y$.next(t.path))?[p({},e,{position:e.position-t.text.length})]:[e]},insert_node:function(e,t,n){if(r.y$.equals(e.path,t.path)){var i=r.xv.isText(t.node)?t.node.text.length:t.node.children.length;return[e,p({},e,{position:e.position+i})]}return r.y$.isParent(r.y$.previous(e.path),t.path)?[p({},e,{position:e.position+1})]:a(e,t,n)},remove_node:function(e,t){if(r.y$.isParent(r.y$.previous(e.path),t.path))return[p({},e,{position:e.position-1})];var n=r.y$.transform(e.path,t),i=r.y$.transform(r.y$.previous(e.path),t);return n&&i?[p({},e,{path:n})]:!n&&i?[p({},t,{path:i})]:n&&!i?[p({},t,{path:n})]:[]},split_node:function(e,t,n){if(r.y$.equals(r.y$.previous(e.path),t.path))return[p({},e,{path:r.y$.next(e.path),position:e.position-t.position})];if(r.y$.isParent(r.y$.previous(e.path),t.path))return[p({},e,{position:e.position+1})];var i=r.y$.transform(e.path,t,{affinity:"left"===n?"backward":"forward"});return 0===i[i.length-1]?[]:a(e,t,n)},merge_node:function(e,t,n){return r.y$.equals(e.path,t.path)?[]:r.y$.equals(r.y$.previous(e.path),t.path)?[p({},e,{path:r.y$.previous(e.path),position:e.position+t.position})]:r.y$.isParent(r.y$.previous(e.path),t.path)?[p({},e,{position:e.position-1})]:a(e,t,n)},move_node:function(e,t){if(r.y$.equals(t.path,t.newPath))return[e];var n=e.path,i=r.y$.previous(n),o=r.y$.transform(n,t),a=r.y$.transform(i,t);if(!r.y$.equals(o,r.y$.next(a)))return[{type:"remove_node",path:o,node:{text:""}}];var s=e.position;return r.y$.isParent(i,t.path)&&s--,r.y$.isParent(i,t.newPath)&&s++,[p({},e,{path:o,position:s})]}};function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){g(e,t,n[t])}))}return e}function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){if(e){if("string"===typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function E(e){return function(t,n,r,i){return t.path===t.newPath?[]:e(t,n,r,i)}}var S={insert_node:E((function(e,t,n,r){var i=b(r(s(e),[t],n),1),o=b(i[0],2),a=o[0],c=o[1];return"remove_node"!==(null===a||void 0===a?void 0:a.type)||"insert_node"!==(null===c||void 0===c?void 0:c.type)?[]:[u(a,c)]})),remove_node:E((function(e,t,n,r){var i=b(r(s(e),[t],n),1)[0];if(1===i.length){if("remove_node"===i[0].type)return[i[0]];if("insert_node"===i[0].type)return[]}return 2===i.length&&"remove_node"===i[0].type&&"insert_node"===i[1].type?[y({},e,u(i[0],i[1]))]:[]})),split_node:E((function(e,t){var n=r.y$.isSibling(e.path,e.newPath)&&r.y$.endsBefore(e.path,e.newPath);if(r.y$.equals(e.path,t.path)){var i=r.y$.transform(e.newPath,t);if(n)return[y({},e,{newPath:i}),y({},e,{newPath:i})];var o=y({},e,{path:r.y$.next(e.path),newPath:i});return[o,y({},e,{path:r.y$.transform(e.path,o),newPath:r.y$.previous(r.y$.transform(i,o))})]}var a=r.y$.transform(e.newPath,t);return r.y$.equals(a,r.y$.next(t.path))&&!n?a=t.path:n&&!r.y$.isSibling(e.path,a)&&(a=r.y$.next(a)),[y({},e,{path:r.y$.transform(e.path,t),newPath:a})]})),merge_node:E((function(e,t){var n=t.path,i=r.y$.previous(n);return n=r.y$.transform(n,e),r.y$.equals(n,r.y$.next(i))?r.y$.isParent(r.y$.previous(t.path),e.path)&&r.y$.isParent(t.path,e.newPath)?[y({},e,{path:r.y$.transform(e.path,t),newPath:r.y$.previous(r.y$.transform(e.newPath,t))})]:[y({},e,{path:r.y$.transform(e.path,t),newPath:r.y$.transform(e.newPath,t)})]:[y({},t,{type:"split_node",path:i}),e,{type:"remove_node",path:n,node:{text:""}}]})),move_node:E((function(e,t,n,i){if(r.y$.equals(t.path,t.newPath))return[e];var o=s(e),a=s(t),l="left"===n?[c.apply(void 0,w(a)),e]:[],f=b(i(o,a,n),2),d=f[0],h=f[1];if(2===d.length)return"remove_node"!==d[0].type||"insert_node"!==d[1].type?l:[u(d[0],d[1])];if(1===h.length)return l;if("remove_node"!==h[0].type||"insert_node"!==h[1].type)return[];if(0===d.length)d[0]={type:"remove_node",path:a[1].path.concat(o[1].path.slice(a[0].path.length)),node:{text:""}},d[1]={type:"insert_node",path:a[1].path.concat(o[1].path.slice(a[0].path.length)),node:{text:""}};else if("remove_node"===d[0].type)d[1]={type:"insert_node",path:h[1].path.concat(o[1].path.slice(h[0].path.length)),node:{text:""}};else{if("insert_node"!==d[0].type)return l;d[1]=d[0],d[0]={type:"remove_node",path:a[1].path.concat(o[1].path.slice(a[0].path.length)),node:{text:""}}}return[u(d[0],d[1])]})),set_node:E((function(e){return[e]})),insert_text:E((function(e){return[e]})),remove_text:E((function(e){return[e]}))};function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){O(e,t,n[t])}))}return e}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||A(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e){return function(e){if(Array.isArray(e))return x(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||A(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){if(e){if("string"===typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}var I={split_node:function(e,t,n){return r.y$.equals(e.path,t.path)?[e,e]:a(e,t,n)},merge_node:function(e,t,n){return r.y$.equals(e.path,t.path)||r.y$.equals(e.path,r.y$.previous(t.path))?[r.OX.inverse(t),e]:a(e,t,n)},move_node:function(e,t,n,i){if(r.y$.equals(t.path,t.newPath))return[e];var o=k(s(t),2),a=o[0],u=o[1],c=k(i([e],[a,u],n),2),l=c[0],f=c[1];return 0===l.length?[C({},e,{path:u.path.concat(e.path.slice(a.path.length))})]:1===f.length&&"insert_node"===f[0].type?T(l).concat([{type:"remove_node",path:f[0].path,node:{text:""}}]):l}};function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){D(e,t,n[t])}))}return e}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){R(e,t,n[t])}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(e,t,n){var i=e.path.concat(e.position),o="left"===n?"forward":"backward",a=r.y$.transform(i,t,{affinity:o});return(null===a||void 0===a?void 0:a.length)?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){j(e,t,n[t])}))}return e}({},e,{position:a.at(-1)}):e}var L={remove_text:{insert_text:function(e,t,n){if(r.y$.equals(e.path,t.path)&&e.offset<t.offset&&e.offset+e.text.length>t.offset){var i=t.offset-e.offset,o=e.text.slice(0,i),s=e.text.slice(i);return[P({},e,{text:o+t.text+s})]}return a(e,t,n)},remove_text:function(e,t,n){if(r.y$.equals(e.path,t.path)&&e.offset+e.text.length>t.offset&&t.offset+t.text.length>e.offset){var i=Math.max(t.offset-e.offset,0),o=e.text.slice(0,i),s=Math.min(e.text.length,t.offset+t.text.length-e.offset),u=e.text.slice(s);return[P({},e,{offset:Math.min(e.offset,t.offset),text:o+u})]}return a(e,t,n)},split_node:function(e,t,n){return r.y$.equals(e.path,t.path)&&e.offset<t.position&&e.offset+e.text.length>t.position?[P({},e,{text:e.text.slice(0,t.position-e.offset)}),P({},e,{path:r.y$.next(t.path),offset:0,text:e.text.slice(t.position-e.offset)})]:a(e,t,n)}},insert_node:d,remove_node:I,merge_node:v,move_node:S,set_node:{split_node:function(e,t){return r.y$.equals(e.path,t.path)?[e,N({},e,{path:r.y$.next(e.path)})]:a(e,t)},merge_node:function(e,t){return r.y$.equals(e.path,t.path)?[]:a(e,t)},set_node:function(e,t,n){if(r.y$.equals(e.path,t.path)){var i="left"===n?N({},t.newProperties,e.newProperties):N({},e.newProperties,t.newProperties);return[N({},e,{newProperties:i})]}return[e]}},split_node:{merge_node:function(e,t,n){return r.y$.isParent(e.path,t.path)?[M(e,t,n)]:a(e,t,n)},remove_node:function(e,t,n){return r.y$.isParent(e.path,t.path)?[M(e,t,n)]:a(e,t,n)},insert_node:function(e,t,n){return r.y$.isParent(e.path,t.path)?[M(e,t,n)]:a(e,t,n)},move_node:function(e,t,n){return r.y$.isParent(e.path,t.path)||r.y$.isParent(e.path,t.newPath)?[M(e,t,n)]:a(e,t,n)},split_node:function(e,t,n){return r.y$.isParent(e.path,t.path)?[M(e,t,n)]:a(e,t,n)}}};function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){B(e,t,n[t])}))}return e}function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||q(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e){return function(e){if(Array.isArray(e))return F(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||q(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){if(e){if("string"===typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?F(e,t):void 0}}function Z(e,t,n){var r,i;return"set_selection"===t.type?[e]:(null!==(i=null===(r=L[e.type])||void 0===r?void 0:r[t.type])&&void 0!==i?i:a)(e,t,n,G)}function H(e,t,n){var r="left"===n?"right":"left";return[Z(e,t,n),Z(t,e,r)]}function W(e,t,n){for(var r=[],i=t.length,o=-1;i>0;){var a;i--;var s=V(H(e,t[++o],n),2),u=s[0],c=s[1];if((a=r).push.apply(a,z(c)),0===u.length)return[[],r.concat(t.slice(o+1))];if(1!==u.length){var l=V(G(u,t.slice(o+1),n),2),f=l[0],d=l[1];return[f,r.concat(d)]}e=u[0]}return[[e],r]}function G(e,t,n){for(var i,o=function(e){var t,n=[],i=!0,o=!1,a=void 0;try{for(var s,u=e[Symbol.iterator]();!(i=(s=u.next()).done);i=!0){var c=s.value;t?"insert_text"===c.type&&"insert_text"===t.type&&c.offset===t.offset+t.text.length&&r.y$.equals(c.path,t.path)?(t.isComposed||(t=U({},t,{isComposed:!0}),n[n.length-1]=t),t.text+=c.text):"remove_text"===c.type&&"remove_text"===t.type&&c.offset===t.offset-t.text.length&&r.y$.equals(c.path,t.path)?(t.isComposed||(t=U({},t,{isComposed:!0}),n[n.length-1]=t),t.text+=c.text,t.offset=c.offset):(t=c,n.push(c)):(t=c,n.push(c))}}catch(l){o=!0,a=l}finally{try{i||null==u.return||u.return()}finally{if(o)throw a}}return n}(e),a=o.length,s=-1,u=[],c=t;a>0;){var l,f;a--,i=(f=V(W(o[++s],c,n),2))[0],c=f[1],(l=u).push.apply(l,z(i))}return[K(u),c]}function K(e){var t=[],n=!0,r=!1,i=void 0;try{for(var o,a=function(e,n){var r=n.value;if(r.isComposed&&("insert_text"===r.type||"remove_text"===r.type)){var i;r.isComposed=void 0;var o=r.offset,a=Array.from(r.text).map((function(e){var t=U({},r,{text:e,offset:o});return o+=e.length,t}));return"remove_text"===r.type&&a.reverse(),(i=t).push.apply(i,z(a)),"continue"}t.push(r)},s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0)a(0,o)}catch(u){r=!0,i=u}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}return t}},89271:function(e,t,n){"use strict";n.d(t,{E:function(){return f},K:function(){return h}});var r=n(12995),i=n(64203);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){return null!=t&&"undefined"!==typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function u(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var l=r.ML.normalize;function f(e,t,n){if(e&&"object"===typeof e&&"error"in e&&"area"in e)return e;var r=s(e,i.bS);return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){a(e,t,n[t])}))}return e}({},n,{error:r?e:new i.bS(e,t),area:r?e.code:t})}function d(e){if(s(e,i.bS))console.error(e);else{var t=e.error,n=u(e,["error"]);console.error(t),console.warn(n)}}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d,n=e.normalizeNode,r=function(n){e.operations=[];var r=s(n,i.bS)?n:n.error;r.handled||(t(n),r.handled=!0)};return e.handleError=r,e.normalizeNode=function(e){try{n(e)}catch(o){var t=c(e,1)[0],i=f(o,"Normalize",{nodeType:"type"in t?t.type:"text"in t?"Text":"Editor"});throw r(i),i.error}},e}r.ML.normalize=function(e,t){try{l(e,t)}catch(r){var n=f(r,"Normalize",{});throw"function"===typeof e.handleError&&e.handleError(n),n.error}}},56943:function(e,t,n){"use strict";n.d(t,{$C:function(){return A},FU:function(){return m},MO:function(){return E},Qs:function(){return I},XU:function(){return y},YI:function(){return D},_p:function(){return k},bX:function(){return b},gb:function(){return T},iF:function(){return C},kA:function(){return P},nc:function(){return x},qQ:function(){return O},ss:function(){return w},wu:function(){return S},yi:function(){return _}});var r,i=n(9850),o=n.n(i),a=n(61726),s=n.n(a),u=n(12995);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){l(e,t,n[t])}))}return e}function d(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e){return function(e){if(Array.isArray(e))return c(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){if(e){if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.at,r=void 0===n?e.selection:n;if(!r||u.e6.isRange(r)&&!u.e6.isCollapsed(r))return!1;var i=u.ML.path(e,r),o=t.blockPath;if(!o){var a=u.ML.above(e,{match:function(t){return u.ML.isBlock(e,t)},mode:"lowest",at:i});if(!a)return!1;o=a[1]}if(!u.y$.isAncestor(o,i))return!1;var s=u.y$.relative(i,o),c=p(o),l=u.NB.get(e,o),f=!0,d=!1,h=void 0;try{for(var v,m=s[Symbol.iterator]();!(f=(v=m.next()).done);f=!0){var y=v.value;if(l=l.children[y],c.push(y),0!==y){if(1===y&&u.ML.isInline(e,l)){var b=u.NB.get(e,u.y$.previous(c));if(""===u.NB.string(b))continue}return!1}}}catch(_){d=!0,h=_}finally{try{f||null==m.return||m.return()}finally{if(d)throw h}}if(t.includeOffset){var w=g(e,o,u.e6.isRange(r)?u.e6.start(r):r);return 0===w}return!0}function g(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null===(r=e.selection)||void 0===r?void 0:r.anchor;if(!n)throw new Error("No point provided and editor has no selection");if(!u.y$.isAncestor(t,n.path))throw new Error("Point is not inside of container path");var i=0,o=!0,a=!1,s=void 0;try{for(var c,l=u.NB.texts(e,{from:t,to:n.path})[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var f=h(c.value,2),d=f[0],p=f[1];if(u.y$.equals(p,n.path)){i+=n.offset;break}i+=d.text.length}}catch(v){a=!0,s=v}finally{try{o||null==l.return||l.return()}finally{if(a)throw s}}return i}function y(e,t){var n=u.ML.above(e,{mode:"lowest",at:t,match:function(t,n){return e.isContainerBlock(t)||0===n.length}});return u.y$.isParent(n[1],t)}function b(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.at,i=void 0===r?e.selection:r;if(!i)return!1;if(u.e6.isRange(i)&&!u.e6.isCollapsed(i))return!1;var o=u.E9.isPoint(i)?i:u.e6.end(i),a=u.ML.above(e,{at:o,match:t});return!!a&&u.E9.equals(o,u.ML.end(e,a[1]))}function w(e,t){return b(e,(function(t){return"type"in t&&e.isInline(t)}),t)}function _(e,t){return b(e,(function(t){return"type"in t&&!e.isInline(t)}),t)}function E(e,t,n){var r,i=(null===n||void 0===n?void 0:n.path)||(null===(r=e.selection)||void 0===r?void 0:r.anchor.path);if(i){var o=Array.isArray(t),a=!0,s=!1,c=void 0;try{for(var l,f=u.NB.levels(e,i,{reverse:!0})[Symbol.iterator]();!(a=(l=f.next()).done);a=!0){var d=h(l.value,2),p=d[0],v=d[1];if("type"in p){if(p.type===t)return[p,v];if(o&&t.includes(p.type))return[p,v]}}}catch(m){s=!0,c=m}finally{try{a||null==f.return||f.return()}finally{if(s)throw c}}}}function S(e,t){var n=t.at,r=void 0===n?e.selection:n,i=t.mode,o=void 0===i?"lowest":i,a=d(t,["at","mode"]);if(r)return u.ML.above(e,{at:r,match:function(e){return s()(e,a)},mode:o})}function x(e,t,n){var r=!0,i=!1,o=void 0;try{for(var a,s=u.NB.ancestors(e,n)[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var c=a.value,l=h(c,1)[0];if("type"in l&&t===l.type)return c}}catch(f){i=!0,o=f}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}}function O(e,t,n){if(1===t.children.length)return n;var r=[],i=0,a=!0,s=!1,c=void 0;try{for(var l,f=u.NB.descendants(t)[Symbol.iterator]();!(a=(l=f.next()).done);a=!0){var d=h(l.value,2),v=d[0],m=d[1];u.xv.isText(v)&&(r.push({start:i,end:i+v.text.length,path:p(e).concat(p(m))}),i+=v.text.length)}}catch(D){s=!0,c=D}finally{try{a||null==f.return||f.return()}finally{if(s)throw c}}var g=[],y=!0,b=!1,w=void 0;try{for(var _,E=n[Symbol.iterator]();!(y=(_=E.next()).done);y=!0){var S=_.value,x=!0,O=!1,C=void 0;try{for(var k,T=r[Symbol.iterator]();!(x=(k=T.next()).done);x=!0){var A=k.value;if(!(S.anchor.offset>A.end)){var I=o()(S);if(g.push(I),I.anchor.path=A.path,I.focus.path=A.path,S.anchor.offset<A.end&&(I.anchor.offset=Math.max(0,I.anchor.offset-A.start)),S.focus.offset<A.end){I.focus.offset=S.focus.offset-A.start;break}I.focus.offset=A.end-A.start}}}catch(D){O=!0,C=D}finally{try{x||null==T.return||T.return()}finally{if(O)throw C}}}}catch(D){b=!0,w=D}finally{try{y||null==E.return||E.return()}finally{if(b)throw w}}return g}function C(e,t){for(var n=0;n<Math.min(e.length,t.length);n++){var r=e[n],i=t[n];if(r!==i)return{level:n,distance:i-r}}}function k(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.matchArgs,o=r.retainLevel,a="up"===n?u.ML.before(e,t,{unit:"block"}):u.ML.after(e,t,{unit:"block"});if(a){var s=a.path,c=function(){if(s&&i){var t=S(e,f({},i,{at:s}));if(!t)return void(s=void 0);s=s.slice(0,t[1].length+1)}};if(c(),o){for(;s&&s.length>t.length;)s=s.slice(0,s.length-1),c();if(!s||s.length!==t.length)return}return s}}function T(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i="down"===n?u.y$.next(t):u.y$.hasPrevious(t)?u.y$.previous(t):void 0;return r?i&&u.NB.has(e,i)?i:void 0:i}function A(e,t,n){if("down"===n){var r=u.y$.next(t);if(u.NB.has(e,r))return r;var i=u.ML.after(e,t,{unit:"block"});return i?i.path.slice(0,t.length):void 0}if("up"===n){var o=u.y$.hasPrevious(t)&&u.y$.previous(t);if(o)return o;var a=u.ML.before(e,t,{unit:"block"});return a?a.path.slice(0,t.length):void 0}}function I(e,t,n){var r=h(u.e6.edges(t),2),i=r[0],o=r[1],a=!1,s=!1,c=!0,l=!1,d=void 0;try{for(var p,v=u.NB.texts(e,{from:i.path,to:o.path})[Symbol.iterator]();!(c=(p=v.next()).done);c=!0){var m=h(p.value,2),g=m[0],y=S(e,f({at:m[1]},n));if(y&&s)return!0;if(y)a=!0;else if(0!==g.text.trim().length){if(!y&&a)return!0;y||(s=!0)}}}catch(b){l=!0,d=b}finally{try{c||null==v.return||v.return()}finally{if(l)throw d}}return!1}function D(e){return u.ML.above(e,{match:function(t){return u.ML.isBlock(e,t)},mode:"lowest"})}function P(e,t){if(!(t.length>1)){var n,r=!0,i=!1,o=void 0;try{for(var a,s=u.NB.nodes(t[0])[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var c=h(a.value,1)[0];if(!e.isContainerBlock(c)&&u.ML.isBlock(e,c)){if(n)return;n=c}}}catch(l){i=!0,o=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}},45253:function(e,t,n){"use strict";n.d(t,{W:function(){return c}});var r=n(2784),i=n(12995),o=n(85009),a=n(95585),s=n(84173),u=n(10785);function c(e){var t=(0,o._7)(),n=(0,o.vt)(),c=(0,a.Z)(),l=(0,r.useCallback)((function(n){var r,a=o.F3.findPath(t,e);!function(e,t,n){i.ML.withoutNormalizing(e,(function(){i.YR.setNodes(e,t,{at:n,mode:"highest"}),i.YR.removeNodes(e,{at:n,match:function(e){return i.xv.isText(e)}}),i.YR.move(e,{distance:2,unit:"character"}),i.YR.collapse(e,{edge:"end"})}))}(t,n,a),null===(r=t.eventLogger)||void 0===r||r.call(t,"mention_create",n)}),[t,e]),f=i.NB.string(e),d=(0,r.useCallback)((function(){var n,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!1===Boolean(null===(n=e.mentionData)||void 0===n?void 0:n.userId)){var a=function(){var n=o.F3.findPath(t,e);i.NB.has(t,n)&&i.YR.unwrapNodes(t,{at:n})};r?(u.$.withMerging(t,a),t.sealHistoryEntry()):a()}}),[t,e]),h=(0,r.useCallback)((function(e){0===e&&" "===f[f.length-1]&&d(!0)}),[d,f]),p=(0,s.Z)(n);(0,r.useEffect)((function(){!1===n&&!0===p&&d()}),[n,p,d]);var v=(0,r.useCallback)((function(){try{return o.F3.toDOMNode(t,e).getBoundingClientRect()}catch(n){}}),[t,e]);return(0,r.useLayoutEffect)((function(){n&&c()}),[c,n]),{isSelected:n,updateMention:l,unwrapMention:d,text:f,getBounds:v,checkIfMentionDone:h}}},64203:function(e,t,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function i(e,t,n){return(i=r()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&s(i,n.prototype),i}).apply(null,arguments)}function o(e){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function a(e,t){return!t||"object"!==c(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,{bS:function(){return h},BA:function(){return u}});var u,c=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function l(e){var t="function"===typeof Map?new Map:void 0;return l=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return i(e,arguments,o(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),s(r,e)},l(e)}function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=o(e);if(t){var i=o(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return a(this,n)}}!function(e){e.ApplyOp="ApplyOp",e.ApplyOpServer="ApplyOpServer",e.Unknown="Unknown",e.LoadValue="LoadValue"}(u||(u={}));var d={ApplyOp:"Invalid changes received from another user. Refreshing.",ApplyOpServer:"Server unable to update document. Refreshing.",Unknown:"Something went wrong.",LoadValue:"Unable to load document. Please refresh and try again."};var h=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(n,e);var t=f(n);function n(e,r){var i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var o=function(e){return!(!e||"string"!==typeof e)&&e in u}(r)?r:u.Unknown,a=d[o];return(i=t.call(this,a,{cause:e})).name="SlateError",i.code=o,i.handled=!1,i}return n}(l(Error));h.Codes=u},10785:function(e,t,n){"use strict";n.d(t,{$:function(){return c},V:function(){return a}});var r=n(12995),i=n(20672);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=function(e){var t=e,n=t.apply;return t.history={undos:[],redos:[]},t.redo=function(){var e=t.history,n=e.redos;if(n.length>0){var o=n[n.length-1];o.selectionBefore&&r.YR.setSelection(t,o.selectionBefore),i.MO.withoutSaving(t,(function(){r.ML.withoutNormalizing(t,(function(){var e=!0,n=!1,r=void 0;try{for(var i,a=o.operations[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var s=i.value;t.apply(s)}}catch(u){n=!0,r=u}finally{try{e||null==a.return||a.return()}finally{if(n)throw r}}}))})),e.redos.pop(),e.undos.push(o)}},t.undo=function(){var e=t.history,n=e.undos;if(n.length>0){var o=n[n.length-1];i.MO.withoutSaving(t,(function(){r.ML.withoutNormalizing(t,(function(){var e=o.operations.map(r.OX.inverse).reverse(),n=!0,i=!1,a=void 0;try{for(var s,u=e[Symbol.iterator]();!(n=(s=u.next()).done);n=!0){var c=s.value;t.apply(c)}}catch(l){i=!0,a=l}finally{try{n||null==u.return||u.return()}finally{if(i)throw a}}o.selectionBefore&&r.YR.setSelection(t,o.selectionBefore)}))})),e.redos.push(o),e.undos.pop()}},t.apply=function(e){var r=t.operations,o=t.history,a=o.undos,c=a[a.length-1],l=null===c||void 0===c?void 0:c.operations[c.operations.length-1],f=i.MO.isSaving(t),d=i.MO.isMerging(t);if(null==f&&(f=u(e)),f){if(null==d&&(d=null!=c&&(0!==r.length||s(e,l))),c&&d&&!0!==c.isSealed)c.operations.push(e);else{var h={operations:[e],selectionBefore:t.selection};a.push(h)}for(;a.length>100;)a.shift();o.redos=[]}n(e)},t.sealHistoryEntry=function(){var e=t.history.undos.at(-1);e&&(e.isSealed=!0)},t},s=function(e,t){return!(!t||"insert_text"!==e.type||"insert_text"!==t.type||e.offset!==t.offset+t.text.length||!r.y$.equals(e.path,t.path))||!(!t||"remove_text"!==e.type||"remove_text"!==t.type||e.offset+e.text.length!==t.offset||!r.y$.equals(e.path,t.path))},u=function(e){return"set_selection"!==e.type},c=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}({},i.MO,{withMerging:function(e,t){var n=i.MO.isMerging(e);i.Ye.set(e,!0),t(),i.Ye.set(e,n)}})},46637:function(e,t,n){"use strict";n.d(t,{j:function(){return r}});var r=function(e){var t=e.theme,n=void 0===t?"light":t,r=e.templateVersionId,i=e.templateWorkspaceId,o=["theme-".concat(n)].join("_"),a="".concat(r,"_").concat(o,".jpg"),s="templates/".concat(i,"/").concat(r),u="".concat(s,"/").concat(a);return{storagePath:"images/".concat(u),imgixPath:u}}},53913:function(e,t,n){"use strict";n.d(t,{W:function(){return r},l:function(){return i}});var r="darkMode",i=function(){return document.documentElement&&document.documentElement.className.includes(r)?"dark":"light"}},53801:function(e,t,n){"use strict";n.d(t,{J:function(){return u},uN:function(){return l},xt:function(){return c}});var r=n(7878),i=n(91057);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){o(e,t,n[t])}))}return e}var s,u=i.MV,c=function(){},l=function(){},f={};s=new r.m({version:"alpha",name:"playground",storeName:"behaviors"}),u=function(e){var t,n=null!==(t=(0,i.MV)(e))&&void 0!==t?t:{},r=f[e];if(r)return r;var o,u=a({},n,null!==(o=s.getItem(e))&&void 0!==o?o:{});return f[e]=u,u},c=function(e,t){var n=a({},u(e),t);s.setItem(e,n),f[e]=n},l=function(e){s.removeItem(e),delete f[e]};window.playground={explain:function(e){var t=(0,i.MV)(e)||{},n=(0,i.DS)(e);Object.keys(n).forEach((function(e){return console.info("\x1b[1m".concat(e),"-",t[e],"-",n[e])}))},set:c,show:u,reset:l,features:i.RK}},61815:function(e,t,n){"use strict";n.d(t,{af:function(){return o},hQ:function(){return s},tX:function(){return i}});var r=n(50071),i="cardinalElbow",o={minPortAttachmentLengthPx:18,shouldDefaultToFixedPortAttachmentsForManual:!0,shouldDefaultToFixedPortAttachmentsForSmartDup:!1,snapShapesToSegmentLocations:!1,universalObjectDetectionForArrows:!1,debugElbowHandleControls:!1,debugElbowBindingColors:!1,debugRoutingAlgorithmCosts:!1,defaultZeroGapValueForIntersections:-2,enabled:!0,showElbowHandlesOverSplineControls:!0,snapMiscellaneousActionsToGuidelines:!0,smartDupeShouldCreatePortBindings:!0,newButtons:!0},a={enabled:"Whether or not cardinal elbows aka true elbow connector behavior is enabled.",minPortAttachmentLengthPx:"Minimum length in pixels of the first elbow",showElbowHandlesOverSplineControls:"If this is true, we want to show the ordinary elbow spline controls, but also put the oval elbow handles on top. This should probably never be enabled in prod.",shouldDefaultToFixedPortAttachmentsForManual:"If this is true, use fixed ports for newly manually created elbow connectors. Otherwise, use varying ports.",shouldDefaultToFixedPortAttachmentsForSmartDup:"If this is true, use fixed ports for newly created elbow connectors via smart dup. Otherwise, use varying ports.",snapMiscellaneousActionsToGuidelines:"If this is true, then user actions that involve moving points e.g. arrow endpoints or spline control points will snap them to guidelines. Default is false which matches previous behavior.",snapShapesToSegmentLocations:"If this is true, then dragging points, shapes will snap to segment locations of other arrows in the workspace, such as manually placed segment memory locations. Segment locations will always do the same snapping",smartDupeShouldCreatePortBindings:"When duplicating shapes using smart dupe, for angled directions, should we use an elbow connector that binds to the shapes using the newer port bindings? If not, will continue to use the older focus+gap port bindings. Has no effect unless smartDup.useElbows is true.",newButtons:"Use new buttons for controlling elbowness and roundness separately",debugElbowHandleControls:"Whether to show the elbow handle control areas that govern how to drag segments cardinally - ordinarily they are invisible.",debugElbowBindingColors:"Whether or not to use red to indicate that a shape binding is fixed-style binding.",debugRoutingAlgorithmCosts:"Debug flag to store bfs routing results in the shape data itself.",defaultZeroGapValueForIntersections:'The default value for the gap to place when drawing arrows that intersect with shapes, measured in pixels. Must be negative, and called "zero_gap" due to prior excalidraw implementation. Used to control how close arrowheads are to their attached shapes and to avoid arrowheads getting cut off.',universalObjectDetectionForArrows:"Should arrows route around, and try not to intersect, ALL elements in the scene?"};(0,r.Z)(i,o,a);var s=a},32890:function(e,t,n){"use strict";n.d(t,{RC:function(){return i},S3:function(){return a},hO:function(){return o}});var r=n(50071),i={consoleLogRawGraphviz:!1,enableLineStraightening:!0},o={consoleLogRawGraphviz:"Turns on graphviz to console logging",enableLineStraightening:"Use the line straightening algorithm? If disabled, shows raw graphviz lines"},a="diagrams";(0,r.Z)(a,i,o)},60858:function(e,t,n){"use strict";n.d(t,{Gb:function(){return o},I3:function(){return a},jp:function(){return u}});var r=n(23656),i=n(50071),o="elbow",a={radius:r.fn,rectangleRadius:r.cH,arrowSnap:r.E1,portSnap:r.qj,shapeSnap:r.H,hoverShapeSnap:r.eA,guidelineSnap:r.UL},s={radius:"The maximum radius of a line with elbow smoothing.",rectangleRadius:"The maximum radius of a rectangle with elbow corners.",arrowSnap:"The snapping threshold for arrows which are very nearly horizontal or vertical. Measured in pixels at 100% zoom.",portSnap:"The snapping threshold for arrows to bind to ports of shapes. Measured in pixels at 100% zoom.",shapeSnap:"Snapping threshold for arrows to bind to shape boundaries. Measured in pixels at 100% zoom.",hoverShapeSnap:"Snapping threshold for the cursor to bind to shape boundaries while hovering or creating an arrow. Measured in pixels at 100% zoom.",guidelineSnap:"The snapping threshold shapes to snap to guidelines of other shapes. Measured in pixels at 100% zoom."};(0,i.Z)(o,a,s);var u=s},61710:function(e,t,n){"use strict";n.d(t,{J:function(){return c.J},N:function(){return l}});n(91057);var r=n(50071);(0,r.Z)("splineEditor",{duplicationOffset:30,colorChangeDelay:1e3,candidatePointHoverDelay:50,hideCandidatePointWithDrag:!0,minimumSplineLengthForCandidatePoints:30},{colorChangeDelay:"How long a spline should hide selection when its color changes",minimumSplineLengthForCandidatePoints:"Minimum length of spline to show candidate points",hideCandidatePointWithDrag:"Whether candidate points should be hidden when dragging spline",candidatePointHoverDelay:"How long should candidate points remain visible before fading away",duplicationOffset:"How far a point should be when duplication is invoked on last spline point"});n(82052);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o,a={simulatePressure:!1,baseSize:6,smoothing:.65,thinning:.3,streamline:.65},s=["baseSize"],u=(i(o={Overview:"See https://github.com/steveruizok/perfect-freehand#documentation"},"Supported Properties",Object.keys(a).filter((function(e){return!s.includes(e)})).join(", ")),i(o,"baseSize","Gets multiplied by the stroke width of the element to determine the final size. Note that with thinning higher, you may want to lower this, and vice versa."),o);(0,r.Z)("freedraw",a,u);(0,r.Z)("dragThreshold",{value:4},{dragThreshold:"The value in pixels that cursor needs move before dragging/resizing is applied"});(0,r.Z)("slate",{useSlate:!1},{useSlate:"Use Slate-based editor for the notepad"});n(60858),n(32890),n(61815),n(79203);var c=n(53801),l=function(){}},79203:function(e,t,n){"use strict";n.d(t,{Dx:function(){return o},vh:function(){return a},xk:function(){return s}});var r=n(49892),i=n(50071),o="playgroundDevTools",a={playgroundSwitchesUiEnabled:!1,consoleLogAnalyticsEvents:!1,fpsTracker:"development"===r.Wi},s={playgroundSwitchesUiEnabled:"Whether or not to show the box at bottom left which gives a UI to interact with playground flags",consoleLogAnalyticsEvents:"Should all analytics tracking events also be logged to console?",fpsTracker:"Should show the fps tracker component in top right?"};(0,i.Z)(o,a,s)},50071:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(53801),i=n(91057);function o(e,t,n){if(i.i_[e]=t,i.s2[e]=n,"playground"in window){var o=Object.keys(t).reduce((function(t,n){return Object.defineProperty(t,n,{get:function(){return(0,r.J)(e)[n]},set:function(t){return(0,r.xt)(e,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},n,t))}})}),{});Object.assign(o,{show:function(){return(0,r.J)(e)},reset:function(){return(0,r.uN)(e)},explain:function(){return window.playground.explain(e)}}),window.playground[e]=o}}},91057:function(e,t,n){"use strict";n.d(t,{DS:function(){return a},MV:function(){return o},RK:function(){return s},i_:function(){return r},s2:function(){return i}});var r={},i={},o=function(e){return r[e]},a=function(e){return i[e]},s=function(){return Object.keys(r)}},82052:function(e,t,n){"use strict";n.d(t,{$Z:function(){return i},u3:function(){return o},vZ:function(){return s}});var r=n(50071),i="smartDup",o={previewOnHover:!0,hoverDelay:150,hoverOpacity:.15,previewOpacity:.6,arrowLength:100,tangentOffset:75,useElbows:!0,elbowDeltaMultipler:0,elbowMultiplier:.5,accountForExistingElements:!0,closeToMiddleThreshold:10,adjustArrowLengthForExisting:!0},a={previewOnHover:"Whether to show a fainter preview when hovering over add button",hoverDelay:"How long to delay (in ms) showing a preview when hovering button (default: 0ms)",hoverOpacity:"Opacity to render the preview on hover (between 0 and 1)",previewOpacity:"Opacity to render a preview after click (between 0 and 1)",arrowLength:"How long an arrow is when going straight (default: 100px)",tangentOffset:"How much space to put in between shapes when adding several (default: 100px)",useElbows:"For angled directions, use an elbow connector instead of a straight arrow",elbowMultiplier:"When using elbow connectors, how long to make the first segment, as a multiple of the full length (0 to 1)",elbowDeltaMultipler:"When using elbow connectors, how much to offset the lines from one another, as a multiple of the distance (0 to 1)",accountForExistingElements:"Whether to account for existing diagram elements in the duplication directions",closeToMiddleThreshold:"When accounting for existing elements, this threshhold determines how many pixels off-center a connecting arrow can be and still be considered in the middle, for the purposes of determining whether to balance els.",adjustArrowLengthForExisting:"When accounting for existing elements, adjust the arrow length to match the existing element"};(0,r.Z)(i,o,a);var s=a},95879:function(e,t,n){"use strict";var r=n(94776),i=n.n(r),o=n(57066),a=n(66924),s=n(57251),u=n(80142);function c(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){c(o,r,i,a,s,"next",e)}function s(e){c(o,r,i,a,s,"throw",e)}a(void 0)}))}}var f,d=null,h=new Promise((function(e){f=e}));function p(e){e?e.getIdToken().then((function(e){d=e,f()})).catch(a.Tb):d=null}function v(){return m.apply(this,arguments)}function m(){return(m=l(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.race([h,(0,u.Z)(1e3)]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(){var e=new Headers({"Content-Type":"application/json; charset=UTF-8"});return d&&e.set("authorization","Bearer ".concat(d)),e}function y(e,t){return b.apply(this,arguments)}function b(){return(b=l(i().mark((function e(t,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=4;break}return e.next=3,x(t);case 3:throw e.sent;case 4:e.t0=n,e.next="json"===e.t0?7:"text"===e.t0?8:"arraybuffer"===e.t0?9:"blob"===e.t0||"document"===e.t0?10:11;break;case 7:return e.abrupt("return",t.json());case 8:return e.abrupt("return",t.text());case 9:return e.abrupt("return",t.arrayBuffer());case 10:return e.abrupt("return",t.blob());case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return _.apply(this,arguments)}function _(){return(_=l(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=5;break}return e.next=4,x(t);case 4:throw e.sent;case 5:return r=null===(n=t.body)||void 0===n?void 0:n.pipeThrough(new TextDecoderStream).getReader(),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}o.I8.onAuthStateChanged(p),o.I8.onIdTokenChanged(p);var E={get:function(){var e=l(i().mark((function e(t){var n,r,o,a,s=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:{},e.next=3,v();case 3:return r=g(),e.next=6,fetch(S(t),{method:"get",headers:r});case 6:return o=e.sent,e.abrupt("return",y(o,null!==(a=n.responseType)&&void 0!==a?a:"json"));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),post:function(){var e=l(i().mark((function e(t,n){var r,o,a,s,u=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]?u[2]:{},e.next=3,v();case 3:return o=g(),e.next=6,fetch(S(t),{method:"post",body:JSON.stringify(n),headers:o});case 6:return a=e.sent,e.abrupt("return",y(a,null!==(s=r.responseType)&&void 0!==s?s:"json"));case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),stream:function(){var e=l(i().mark((function e(t,n){var r,o,a,s,u=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]?u[2]:{},e.next=3,v();case 3:return(o=g()).append("Transfer-Encoding","chunked"),o.append("Connection","keep-alive"),o.append("Keep-Alive","timeout=5"),e.next=10,fetch(S(t),{method:null!==(a=r.method)&&void 0!==a?a:"post",body:n?JSON.stringify(n):void 0,headers:o});case 10:return s=e.sent,e.abrupt("return",w(s));case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()};function S(e){return(e.startsWith("api")||e.startsWith("/"))&&console.warn('[makeApiUrl]: path should not start with "api" or "/"',{path:e}),new URL("".concat(window.location.origin,"/api/").concat(e)).toString()}function x(e){return O.apply(this,arguments)}function O(){return(O=l(i().mark((function e(t){var n,r,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.status,e.prev=1,e.next=4,t.clone().json();case 4:return r=e.sent,o=Object.assign({statusCode:n},r),e.abrupt("return",(0,s.Lr)(o));case 9:return e.prev=9,e.t0=e.catch(1),e.next=13,t.text();case 13:return a=e.sent,e.abrupt("return",(0,s.Lr)({statusCode:n,message:a}));case 15:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}t.Z=E},14360:function(e,t,n){"use strict";var r=n(94776),i=n.n(r),o=n(97879),a=n(57066),s=n(16528);function u(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){u(o,r,i,a,s,"next",e)}function s(e){u(o,r,i,a,s,"throw",e)}a(void 0)}))}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getBucketPath=function(e,t){return"".concat("images/custom-icons","/").concat(e,"/").concat(t)};var t=this;this.uploadCustomIcon=function(){var e=c(i().mark((function e(n){var r,o,u,c,l,f,d,h,p;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.file,o=n.teamId,u=n.userId,c=n.onSuccess,l=n.onError,f=a.RZ.collection("custom-icons").doc(),d=t.getBucketPath(o,f.id),e.prev=3,e.next=6,a.tO.ref(d).put(r);case 6:return h=e.sent,e.next=9,h.ref.getDownloadURL();case 9:return p=e.sent,e.next=12,f.set({url:p,label:(0,s.i)(r.name),aliases:[],createdBy:u,teamId:o});case 12:null===c||void 0===c||c(r.name),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(3),null===l||void 0===l||l(r.name,e.t0);case 18:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(t){return e.apply(this,arguments)}}(),this.updateIconName=function(){var e=c(i().mark((function e(t,n){var r,s,u,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=a.RZ.collection("custom-icons").doc(t),e.next=4,s.get();case 4:if(e.t1=r=e.sent.data(),e.t0=null===e.t1,e.t0){e.next=8;break}e.t0=void 0===r;case 8:if(!e.t0){e.next=12;break}e.t2=void 0,e.next=13;break;case 12:e.t2=r.label;case 13:return u=e.t2,o.LD.has(u)&&(c=o.LD.get(u),o.LD.set(n,c),o.LD.delete(u)),e.next=17,s.update({label:n});case 17:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();var n=this;this.updateIconFile=function(){var e=c(i().mark((function e(t,r,o,s){var u,c,l,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=a.RZ.collection("custom-icons").doc(t),e.next=3,u.get();case 3:if(e.sent.exists){e.next=6;break}throw new Error("Icon not found");case 6:return c=n.getBucketPath(o,u.id),e.next=9,a.tO.ref(c).put(s);case 9:return l=e.sent,e.next=12,l.ref.getDownloadURL();case 12:return f=e.sent,e.next=15,u.update({url:f,label:s.name,updatedBy:r});case 15:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),this.deleteIcon=function(){var e=c(i().mark((function e(t){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.RZ.collection("custom-icons").doc(t),e.next=3,n.delete();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}return e.prototype.subscribeByTeamId=function(e,t){return a.RZ.collection("custom-icons").where("teamId","==",e).onSnapshot((function(e){var n=e.docs.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){l(e,t,n[t])}))}return e}({id:e.id},e.data())}));t(n)}))},e}();t.Z=new f},16528:function(e,t,n){"use strict";n.d(t,{i:function(){return i},v:function(){return r}});var r=50,i=function(e){return e.trim().replace(/.svg$/,"").slice(0,r).toLowerCase().replace(/[^\w]+/gi,"-")}},33280:function(e,t,n){"use strict";var r=n(94776),i=n.n(r),o=n(97695),a=n(57066),s=n(66924);function u(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){u(o,r,i,a,s,"next",e)}function s(e){u(o,r,i,a,s,"throw",e)}a(void 0)}))}}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){l(e,t,n[t])}))}return e}var d={teams:{},getTeamRef:function(e){return a.RZ.collection("teams").doc(e)},getWorkspacesRef:function(){return a.RZ.collection("workspaces")},getAiDiagramsRef:function(){return a.RZ.collection("auto-diagram-elements")},getAiDiagramRequestRef:function(){return a.RZ.collection("auto-diagram-requests")},getApiTokenRef:function(){return a.RZ.collection("api-tokens")},fetchTeam:function(e){return c(i().mark((function t(){var n,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=this,!(null===(r=this.teams[e])||void 0===r?void 0:r.team)){t.next=4;break}return t.abrupt("return",Promise.resolve(r.team));case 4:return t.abrupt("return",new Promise((function(t){var r=n.subscribeToTeam(e,(function(e){r(),t(e)}))})));case 5:case"end":return t.stop()}}),t,this)}))).apply(this)},_createTeamSubscription:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,n=this;return this.getTeamRef(e).onSnapshot((function(t){var r=t.exists?f({},t.data(),{id:e}):void 0;if(r){var i=r;n.teams[e].team=i,n.teams[e].cbs.forEach((function(e){return e(i)}))}else console.warn("Team not found",e)}),(function(r){var i=n;t>5e3?(0,s.Tb)(new Error("Could not subscribe to team",{cause:r})):setTimeout((function(){i._createTeamSubscription(e,2*t)}),t)}))},subscribeToTeam:function(e,t){var n=this;e in this.teams||(this._createTeamSubscription(e),this.teams[e]={cbs:[],team:void 0});var r=this.teams[e],i=r.cbs,o=r.team;return i.push(t),o&&t(o),function(){var r,i=n.teams[e];i.cbs=null===(r=i.cbs)||void 0===r?void 0:r.filter((function(e){return e!==t}))}},subscribeToWorkspaceCount:function(e,t,n){return(0,o.J)(this.getWorkspacesRef(),e,t).onSnapshot((function(e){n(e.size)}),console.error)},countWorkspaces:function(e,t){return c(i().mark((function n(){var r,a;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=(0,o.J)(this.getWorkspacesRef(),e,t),n.next=3,r.get();case 3:return a=n.sent,n.abrupt("return",a.size);case 5:case"end":return n.stop()}}),n,this)}))).apply(this)},subscribeToAiDiagramCount:function(e,t,n){return(0,o.J)(this.getAiDiagramsRef(),e,t).onSnapshot((function(e){n(e.size)}),console.error)},countAiDiagrams:function(e,t){return c(i().mark((function n(){var r,a;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=(0,o.J)(this.getAiDiagramsRef(),e,t),n.next=3,r.get();case 3:return a=n.sent,n.abrupt("return",a.size);case 5:case"end":return n.stop()}}),n,this)}))).apply(this)},subscribeToDiagramRequestCount:function(e,t,n){return(0,o.J)(this.getAiDiagramRequestRef(),e,t).onSnapshot((function(e){n(e.size)}),console.error)},countDiagramRequests:function(e,t){return c(i().mark((function n(){var r,a;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=(0,o.J)(this.getAiDiagramRequestRef(),e,t),n.next=3,r.get();case 3:return a=n.sent,n.abrupt("return",a.size);case 5:case"end":return n.stop()}}),n,this)}))).apply(this)},listApiTokens:function(e,t){return c(i().mark((function n(){var r,a;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=(0,o.J)(this.getApiTokenRef(),e,t),n.next=3,r.get();case 3:return a=n.sent,n.abrupt("return",a.docs.map((function(e){return f({id:e.id},e.data())})));case 5:case"end":return n.stop()}}),n,this)}))).apply(this)}},h={teams:{fetchById:d.fetchTeam.bind(d),subscribeById:d.subscribeToTeam.bind(d)},workspaces:{count:d.countWorkspaces.bind(d),subscribeToCount:d.subscribeToWorkspaceCount.bind(d)},aiDiagrams:{count:d.countAiDiagrams.bind(d),subscribeToCount:d.subscribeToAiDiagramCount.bind(d)},apiDiagramRequests:{count:d.countDiagramRequests.bind(d),subscribeToCount:d.subscribeToDiagramRequestCount.bind(d)},apiTokens:{list:d.listApiTokens.bind(d)}};t.Z=h},29487:function(e,t,n){"use strict";n.d(t,{j:function(){return x}});var r=n(94776),i=n.n(r),o=n(12782),a=n.n(o),s=n(9850),u=n.n(s),c=n(24721),l=n(57251);function f(e,t){var n=t.limit,r=t.current;switch(e){case c.M$.Workspaces:return new l.WH("You have reached your plan's file limit",{hint:"Archive unused files or upgrade to the Professional plan.",data:{limit:n,current:r}});case c.M$.AiDiagrams:return new l.WH("You have reached your plan's AI diagram limit",{hint:"Upgrade to the Professional plan.",data:{limit:n,current:r}});case c.M$.MonthlyAiDiagramApiCalls:return new l.WH("You have reached your plan's API call limit for AI diagrams",{hint:"Contact us at hello@eraser.io to increase your limits.",data:{limit:n,current:r}});default:return new l.WH("Your are over your plan limit.",{hint:"Upgrade your plan to continue."})}}function d(e){return e===c.AC.PrivateWorkspaces?new l.WH("Your plan does not support private files.",{hint:"Upgrade your plan to create private files."}):new l.WH("Your plan does not support this feature.",{hint:"Upgrade your plan to continue."})}var h=n(25450);function p(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function v(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){p(o,r,i,a,s,"next",e)}function s(e){p(o,r,i,a,s,"throw",e)}a(void 0)}))}}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g,y=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dataFetcher=t}var t=e.prototype;return t.fetchTeam=function(e){return"string"===typeof e?this.dataFetcher.teams.fetchById(e):Promise.resolve(e)},t.getPlanFeaturesForTeam=function(e){var t,n,r,i=null!==(r=null===e||void 0===e||null===(t=e.plan)||void 0===t?void 0:t.planType)&&void 0!==r?r:c.k9.Free,o=h.Z[i];return(null===e||void 0===e||null===(n=e.plan)||void 0===n?void 0:n.overrides)?a()(u()(o.features),e.plan.overrides,E):o.features},t.canAccessGatedFeature=function(e,t){var n=this;return v(i().mark((function r(){var o,a;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.fetchTeam(t);case 2:return o=r.sent,a=n.getPlanFeaturesForTeam(o),r.abrupt("return",a.gatedFeatures[e]);case 5:case"end":return r.stop()}}),r)})))()},t.validateGatedFeature=function(e,t){var n=this;return v(i().mark((function r(){return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.canAccessGatedFeature(e,t);case 2:if(r.sent){r.next=5;break}throw d(e);case 5:case"end":return r.stop()}}),r)})))()},t.subscribeToGatedFeature=function(e,t,n){var r=this;if(!this.dataFetcher.teams.subscribeById)throw new Error("Subscriptions not enabled");var i=this.dataFetcher.teams.subscribeById(t,(function(t){var i=r.getPlanFeaturesForTeam(t);n(i.gatedFeatures[e])}));return function(){i()}},t.subscribeToLimitedFeature=function(e,t,n){if(!this.dataFetcher.workspaces.subscribeToCount||!this.dataFetcher.teams.subscribeById)throw new Error("Subscriptions not enabled");switch(e){case c.M$.Workspaces:var r,i,o=this,a=_[c.M$.Workspaces](t),s=this.dataFetcher.teams.subscribeById(t,(function(t){var s=o.getPlanFeaturesForTeam(t).featureLimits[e];i&&s<=i?i=s:(i=s,null===r||void 0===r||r(),s!==1/0?r=o.dataFetcher.workspaces.subscribeToCount(a,{limit:s+1},(function(e){n({current:e,limit:s,allowed:e<s})})):n({current:0,limit:1/0,allowed:!0}))}));return function(){s(),null===r||void 0===r||r()};case c.M$.AiDiagrams:var u,l,f=this,d=_[c.M$.AiDiagrams](t),h=this.dataFetcher.teams.subscribeById(t,(function(t){var r=f.getPlanFeaturesForTeam(t).featureLimits[e];u&&r<=u?u=r:r!==1/0?l=f.dataFetcher.aiDiagrams.subscribeToCount(d,{limit:r+1},(function(e){n({current:e,limit:r,allowed:e<r})})):n({current:0,limit:1/0,allowed:!0})}));return function(){h(),null===l||void 0===l||l()}}},t.checkLimitedFeature=function(e,t){var n=this;return v(i().mark((function r(){var o,a,s,u,l,f,d;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.fetchTeam(t);case 2:if(o=r.sent,a=n.getPlanFeaturesForTeam(o),(s=a.featureLimits[e])!==1/0){r.next=7;break}return r.abrupt("return",{current:0,limit:1/0,allowed:!0});case 7:if(0!==s){r.next=9;break}return r.abrupt("return",{current:0,limit:0,allowed:!1});case 9:r.t0=e,r.next=r.t0===c.M$.Workspaces?13:r.t0===c.M$.AiDiagrams?18:r.t0===c.M$.MonthlyAiDiagramApiCalls?23:33;break;case 13:return l=_[c.M$.Workspaces](o.id),r.next=16,n.dataFetcher.workspaces.count(l,{limit:s+1});case 16:case 21:case 31:return u=r.sent,r.abrupt("break",33);case 18:return f=_[c.M$.AiDiagrams](o.id),r.next=21,n.dataFetcher.aiDiagrams.count(f,{limit:s+1});case 23:return r.next=25,_[c.M$.MonthlyAiDiagramApiCalls](o.id,n.dataFetcher);case 25:if((d=r.sent)!==w){r.next=29;break}return u=0,r.abrupt("break",33);case 29:return r.next=31,n.dataFetcher.apiDiagramRequests.count(d,{limit:s+1});case 33:return r.abrupt("return",{current:u,limit:s,allowed:u<s});case 34:case"end":return r.stop()}}),r)})))()},t.validateLimitedFeature=function(e,t){var n=this;return v(i().mark((function r(){var o;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n.checkLimitedFeature(e,t);case 2:if((o=r.sent).allowed){r.next=5;break}throw f(e,o);case 5:case"end":return r.stop()}}),r)})))()},t.getParametersForFeature=function(e,t){var n=this;return v(i().mark((function r(){var o,a;return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!t){r.next=6;break}return r.next=3,n.fetchTeam(t);case 3:r.t0=r.sent,r.next=7;break;case 6:r.t0={plan:{planType:c.k9.Free}};case 7:return o=r.t0,a=n.getPlanFeaturesForTeam(o),r.abrupt("return",a.featureParams[e]);case 10:case"end":return r.stop()}}),r)})))()},t.subscribeToParametrizedFeature=function(e,t,n){var r=this;if(!this.dataFetcher.teams.subscribeById)throw new Error("Subscriptions not enabled");var i=this.dataFetcher.teams.subscribeById(t,(function(t){var i=r.getPlanFeaturesForTeam(t);n(i.featureParams[e])}));return function(){i()}},e}(),b=y,w=Symbol("NO_FILTER"),_=(m(g={},c.M$.Workspaces,(function(e){return{teamId:e,isPrivate:!1,isArchived:!1,isTemplate:!1,gitHubRepository:null}})),m(g,c.M$.AiDiagrams,(function(e){return{teamId:e,status:"completed"}})),m(g,c.M$.MonthlyAiDiagramApiCalls,function(){var e=v(i().mark((function e(t,n){var r,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Date,o=new Date(r.getFullYear(),r.getMonth(),1),e.next=4,n.apiTokens.list({teamId:t});case 4:if((a=e.sent).length){e.next=7;break}return e.abrupt("return",w);case 7:return e.abrupt("return",{teamId:t,createdAt:[">=",o.getTime()],apiTokenId:["in",a.map((function(e){return e.id}))]});case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),g);function E(e,t,n){if("featureLimits"===n)return a()(e,t,S)}function S(e,t){if("number"===typeof e&&"number"===typeof t&&e>t)return e}var x=new b(n(33280).Z)},58199:function(e,t,n){"use strict";n.d(t,{Q:function(){return a},B:function(){return r.Z}});var r=n(37717),i=n(2784),o=n(29487);function a(e,t){var n=(0,i.useState)(!1),r=n[0],a=n[1];return(0,i.useEffect)((function(){if(t)return a(!1),o.j.subscribeToGatedFeature(e,t,a);a(!1)}),[e,t]),r}},37717:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(2784),i=n(29487);function o(e,t){var n=(0,r.useState)(void 0),o=n[0],a=n[1];return(0,r.useEffect)((function(){if(void 0!==o&&a(void 0),t)return i.j.subscribeToLimitedFeature(e,t,a)}),[e,t]),o}},25450:function(e,t,n){"use strict";var r,i,o,a,s,u=n(24721);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=(c(s={},u.k9.Free,{type:u.k9.Free,label:"Free",features:{gatedFeatures:(r={},c(r,u.AC.PrivateWorkspaces,!1),c(r,u.AC.NoLinkAccess,!1),c(r,u.AC.AnonymousCollaboration,!1),c(r,u.AC.ApiAccess,!1),c(r,u.AC.ExportPDF,!1),r),featureLimits:(i={},c(i,u.M$.Workspaces,5),c(i,u.M$.AiDiagrams,20),c(i,u.M$.MonthlyAiDiagramApiCalls,0),i),featureParams:c({},u.h8.VersionHistory,{keepVersionsDays:7})}}),c(s,u.k9.Pro,{type:u.k9.Pro,label:"Pro",features:{gatedFeatures:(o={},c(o,u.AC.PrivateWorkspaces,!0),c(o,u.AC.NoLinkAccess,!0),c(o,u.AC.AnonymousCollaboration,!0),c(o,u.AC.ApiAccess,!0),c(o,u.AC.ExportPDF,!0),o),featureLimits:(a={},c(a,u.M$.Workspaces,1/0),c(a,u.M$.AiDiagrams,1/0),c(a,u.M$.MonthlyAiDiagramApiCalls,200),a),featureParams:c({},u.h8.VersionHistory,{keepVersionsDays:90})}}),s);t.Z=l},57066:function(e,t,n){"use strict";n.d(t,{l2:function(){return $g},I8:function(){return Xg},Fs:function(){return ey},ZP:function(){return ry},RZ:function(){return Qg},wk:function(){return ty},tO:function(){return ny}});var r=n(35532),i=n(55632),o=n(72475);(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)};var r=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g,e];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}return globalThis}(this);function i(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function a(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:i(e)}}!function(e,n){if(n){var i=r;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];a in i||(i[a]={}),i=i[a]}(n=n(o=i[e=e[e.length-1]]))!=o&&null!=n&&t(i,e,{configurable:!0,writable:!0,value:n})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.a=null}function i(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var o=r.setTimeout;n.prototype.c=function(e){o(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(g){this.f(g)}}}this.a=null},n.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.s(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.v(e):this.h(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(n){return void this.g(n)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.b(this.a[e]);this.a=null}};var s=new n;return t.prototype.s=function(e){var t=this.f();e.Ra(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(g){n.reject(g)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(Fn){o(Fn)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.Ra(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Ra=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},t.resolve=i,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var r=a(e),o=r.next();!o.done;o=r.next())i(o.value).Ra(t,n)}))},t.all=function(e){var n=a(e),r=n.next();return r.done?i([]):new t((function(e,t){function o(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,i(r.value).Ra(o(a.length-1),t),r=n.next()}while(!r.done)}))},t}));var s=s||{},u=this||self,c=/^[\w+/_-]+[=]{0,2}$/,l=null;function f(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&c.test(e)?e:""}function d(){}function h(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function p(e){var t=h(e);return"array"==t||"object"==t&&"number"==typeof e.length}function v(e){return"function"==h(e)}function m(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function y(e){return Object.prototype.hasOwnProperty.call(e,b)&&e[b]||(e[b]=++w)}var b="closure_uid_"+(1e9*Math.random()>>>0),w=0;function _(e,t,n){return e.call.apply(e.bind,arguments)}function E(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function S(e,t,n){return(S=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_:E).apply(null,arguments)}function x(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var O=Date.now;function C(e,t){function n(){}n.prototype=t.prototype,e.bb=t.prototype,e.prototype=new n,e.prototype.constructor=e}function k(e){return e}function T(e,t,n){this.code=D+e,this.message=t||P[e]||"",this.a=n||null}function A(e){var t=e&&e.code;return t?new T(t.substring(D.length),e.message,e.serverResponse):null}C(T,Error),T.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},T.prototype.toJSON=function(){return this.w()};var I,D="auth/",P={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},R={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function N(e){for(var t in R)if(R[t].id===e)return{firebaseEndpoint:(e=R[t]).Ua,secureTokenEndpoint:e.$a,identityPlatformEndpoint:e.Xa};return null}function j(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(t){return!1}}function M(e){if(Error.captureStackTrace)Error.captureStackTrace(this,M);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function L(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");M.call(this,n+e[r])}function F(e,t){throw new L("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function B(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function U(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function V(){this.b=this.a=null}I=N("__EID__")?"__EID__":void 0,C(M,Error),M.prototype.name="CustomError",C(L,M),L.prototype.name="AssertionError",B.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var z=new B((function(){return new Z}),(function(e){e.reset()}));function q(){var e=_t,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function Z(){this.next=this.b=this.a=null}V.prototype.add=function(e,t){var n=z.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},Z.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},Z.prototype.reset=function(){this.next=this.b=this.a=null};var H=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},W=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};var G=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=[],i=0,o="string"===typeof e?e.split(""):e,a=0;a<n;a++)if(a in o){var s=o[a];t.call(void 0,s,a,e)&&(r[i++]=s)}return r},K=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i="string"===typeof e?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},J=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function Y(e,t){return 0<=H(e,t)}function $(e,t){var n;return(n=0<=(t=H(e,t)))&&Array.prototype.splice.call(e,t,1),n}function X(e,t){!function(e,t){for(var n="string"===typeof e?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&1==Array.prototype.splice.call(e,r,1).length&&0}))}function Q(e){return Array.prototype.concat.apply([],arguments)}function ee(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}var te,ne=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},re=/&/g,ie=/</g,oe=/>/g,ae=/"/g,se=/'/g,ue=/\x00/g,ce=/[\x00&<>"']/;function le(e,t){return-1!=e.indexOf(t)}function fe(e,t){return e<t?-1:e>t?1:0}e:{var de=u.navigator;if(de){var he=de.userAgent;if(he){te=he;break e}}te=""}function pe(e){return le(te,e)}function ve(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function me(e){for(var t in e)return!1;return!0}function ge(e){var t,n={};for(t in e)n[t]=e[t];return n}var ye="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function be(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<ye.length;o++)n=ye[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function we(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||u).Element&&r.Location){var i=r;break e}}catch(a){}i=null}if(i&&"undefined"!=typeof i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(m(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(a){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;F("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}function _e(e,t){this.a=e===Oe&&t||"",this.b=xe}function Ee(e){return e instanceof _e&&e.constructor===_e&&e.b===xe?e.a:(F("expected object of type Const, got '"+e+"'"),"type_error:Const")}_e.prototype.ta=!0,_e.prototype.sa=function(){return this.a},_e.prototype.toString=function(){return"Const{"+this.a+"}"};var Se,xe={},Oe={};function Ce(){if(void 0===Se){var e=null,t=u.trustedTypes;if(t&&t.createPolicy){try{e=t.createPolicy("goog#html",{createHTML:k,createScript:k,createScriptURL:k})}catch(n){u.console&&u.console.error(n.message)}Se=e}else Se=e}return Se}function ke(e,t){this.a=t===Pe?e:""}function Te(e){return e instanceof ke&&e.constructor===ke?e.a:(F("expected object of type TrustedResourceUrl, got '"+e+"' of type "+h(e)),"type_error:TrustedResourceUrl")}function Ae(e,t){var n=Ee(e);if(!De.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(e){var t=Ce();return new ke(e=t?t.createScriptURL(e):e,Pe)}(e=n.replace(Ie,(function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof _e?Ee(e):encodeURIComponent(String(e))})))}ke.prototype.ta=!0,ke.prototype.sa=function(){return this.a.toString()},ke.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Ie=/%{(\w+)}/g,De=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Pe={};function Re(e,t){this.a=t===Ue?e:""}function Ne(e){return e instanceof Re&&e.constructor===Re?e.a:(F("expected object of type SafeUrl, got '"+e+"' of type "+h(e)),"type_error:SafeUrl")}Re.prototype.ta=!0,Re.prototype.sa=function(){return this.a.toString()},Re.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var je=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Me=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Le=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Fe(e){if(e instanceof Re)return e;if(e="object"==typeof e&&e.ta?e.sa():String(e),Le.test(e))e=new Re(e,Ue);else{var t=(e=(e=String(e)).replace(/(%0A|%0D)/g,"")).match(Me);e=t&&je.test(t[1])?new Re(e,Ue):null}return e}function Be(e){return e instanceof Re?e:(e="object"==typeof e&&e.ta?e.sa():String(e),Le.test(e)||(e="about:invalid#zClosurez"),new Re(e,Ue))}var Ue={},Ve=new Re("about:invalid#zClosurez",Ue);function ze(e,t,n){this.a=n===qe?e:""}ze.prototype.ta=!0,ze.prototype.sa=function(){return this.a.toString()},ze.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var qe={};function Ze(e,t,n,r){return e=e instanceof Re?e:Be(e),t=t||u,n=n instanceof _e?Ee(n):n||"",t.open(Ne(e),n,r,void 0)}function He(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function We(e){return ce.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(re,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(ie,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(oe,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(ae,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(se,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(ue,"&#0;"))),e}function Ge(e){return Ge[" "](e),e}Ge[" "]=d;var Ke,Je=pe("Opera"),Ye=pe("Trident")||pe("MSIE"),$e=pe("Edge"),Xe=$e||Ye,Qe=pe("Gecko")&&!(le(te.toLowerCase(),"webkit")&&!pe("Edge"))&&!(pe("Trident")||pe("MSIE"))&&!pe("Edge"),et=le(te.toLowerCase(),"webkit")&&!pe("Edge");function tt(){var e=u.document;return e?e.documentMode:void 0}e:{var nt="",rt=function(){var e=te;return Qe?/rv:([^\);]+)(\)|;)/.exec(e):$e?/Edge\/([\d\.]+)/.exec(e):Ye?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):et?/WebKit\/(\S+)/.exec(e):Je?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(rt&&(nt=rt?rt[1]:""),Ye){var it=tt();if(null!=it&&it>parseFloat(nt)){Ke=String(it);break e}}Ke=nt}var ot,at={};function st(e){return function(e,t){var n=at;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=ne(String(Ke)).split("."),r=ne(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=fe(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||fe(0==a[2].length,0==s[2].length)||fe(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}if(u.document&&Ye){var ut=tt();ot=ut||(parseInt(Ke,10)||void 0)}else ot=void 0;var ct=ot;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(pa){}var lt=!Ye||9<=Number(ct);function ft(e){var t=document;return"string"===typeof e?t.getElementById(e):e}function dt(e,t){ve(t,(function(t,n){t&&"object"==typeof t&&t.ta&&(t=t.sa()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:vt.hasOwnProperty(n)?e.setAttribute(vt[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var ht,pt,vt={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function mt(e,t,n){function r(n){n&&t.appendChild("string"===typeof n?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!p(o)||m(o)&&0<o.nodeType)r(o);else{e:{if(o&&"number"==typeof o.length){if(m(o)){var a="function"==typeof o.item||"string"==typeof o.item;break e}if(v(o)){a="function"==typeof o.item;break e}}a=!1}W(a?ee(o):o,r)}}}function gt(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function yt(e){u.setTimeout((function(){throw e}),0)}function bt(e,t){pt||function(){if(u.Promise&&u.Promise.resolve){var e=u.Promise.resolve(void 0);pt=function(){e.then(Et)}}else pt=function(){var e=Et;!v(u.setImmediate)||u.Window&&u.Window.prototype&&!pe("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(ht||(ht=function(){var e=u.MessageChannel;if("undefined"===typeof e&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!pe("Presto")&&(e=function(){var e=gt(document,"IFRAME");e.style.display="none",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=S((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),"undefined"!==typeof e&&!pe("Trident")&&!pe("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).Hb;n.Hb=null,e()}},function(e){r.next={Hb:e},r=r.next,t.port2.postMessage(0)}}return function(e){u.setTimeout(e,0)}}()),ht(e)):u.setImmediate(e)}}(),wt||(pt(),wt=!0),_t.add(e,t)}var wt=!1,_t=new V;function Et(){for(var e;e=q();){try{e.a.call(e.b)}catch(t){yt(t)}U(z,e)}wt=!1}function St(e,t){if(this.a=xt,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=d)try{var n=this;e.call(t,(function(e){Lt(n,Ot,e)}),(function(e){if(!(e instanceof Zt))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(Lh){}Lt(n,Ct,e)}))}catch(r){Lt(this,Ct,r)}}var xt=0,Ot=2,Ct=3;function kt(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}kt.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Tt=new B((function(){return new kt}),(function(e){e.reset()}));function At(e,t,n){var r=Tt.get();return r.g=e,r.b=t,r.f=n,r}function It(e){if(e instanceof St)return e;var t=new St(d);return Lt(t,Ot,e),t}function Dt(e){return new St((function(t,n){n(e)}))}function Pt(e,t,n){Ft(e,t,n,null)||bt(x(t,e))}function Rt(e){return new St((function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)Pt(e[o],x(i,o,!0),x(i,o,!1));else t(r)}))}function Nt(e,t){if(e.a==xt)if(e.c){var n=e.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==e&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==xt&&1==r?Nt(n,t):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Ut(n),Vt(n,i,Ct,t)))}e.c=null}else Lt(e,Ct,t)}function jt(e,t){e.b||e.a!=Ot&&e.a!=Ct||Bt(e),e.f?e.f.next=t:e.b=t,e.f=t}function Mt(e,t,n,r){var i=At(null,null,null);return i.a=new St((function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(g){o(g)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof Zt?o(t):e(i)}catch(g){o(g)}}:o})),i.a.c=e,jt(e,i),i.a}function Lt(e,t,n){e.a==xt&&(e===n&&(t=Ct,n=new TypeError("Promise cannot resolve to itself")),e.a=1,Ft(n,e.$c,e.ad,e)||(e.i=n,e.a=t,e.c=null,Bt(e),t!=Ct||n instanceof Zt||function(e,t){e.g=!0,bt((function(){e.g&&qt.call(null,t)}))}(e,n)))}function Ft(e,t,n,r){if(e instanceof St)return jt(e,At(t||d,n||null,r)),!0;if(j(e))return e.then(t,n,r),!0;if(m(e))try{var i=e.then;if(v(i))return function(e,t,n,r,i){function o(e){s||(s=!0,r.call(i,e))}function a(e){s||(s=!0,n.call(i,e))}var s=!1;try{t.call(e,a,o)}catch(u){o(u)}}(e,i,t,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Bt(e){e.h||(e.h=!0,bt(e.gc,e))}function Ut(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function Vt(e,t,n,r){if(n==Ct&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,zt(t,n,r);else try{t.c?t.g.call(t.f):zt(t,n,r)}catch(Lh){qt.call(null,Lh)}U(Tt,t)}function zt(e,t,n){t==Ot?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}St.prototype.then=function(e,t,n){return Mt(this,v(e)?e:null,v(t)?t:null,n)},St.prototype.$goog_Thenable=!0,(e=St.prototype).oa=function(e,t){return(e=At(e,e,t)).c=!0,jt(this,e),this},e.o=function(e,t){return Mt(this,null,e,t)},e.cancel=function(e){if(this.a==xt){var t=new Zt(e);bt((function(){Nt(this,t)}),this)}},e.$c=function(e){this.a=xt,Lt(this,Ot,e)},e.ad=function(e){this.a=xt,Lt(this,Ct,e)},e.gc=function(){for(var e;e=Ut(this);)Vt(this,e,this.a,this.i);this.h=!1};var qt=yt;function Zt(e){M.call(this,e)}function Ht(){0!=Wt&&(Gt[y(this)]=this),this.ya=this.ya,this.pa=this.pa}C(Zt,M),Zt.prototype.name="cancel";var Wt=0,Gt={};function Kt(e){if(!e.ya&&(e.ya=!0,e.Da(),0!=Wt)){var t=y(e);if(0!=Wt&&e.pa&&0<e.pa.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Gt[t]}}Ht.prototype.ya=!1,Ht.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Jt=Object.freeze||function(e){return e},Yt=!Ye||9<=Number(ct),$t=Ye&&!st("9"),Xt=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{u.addEventListener("test",d,t),u.removeEventListener("test",d,t)}catch(n){}return e}();function Qt(e,t){this.type=e,this.b=this.target=t,this.defaultPrevented=!1}function en(e,t){if(Qt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(Qe){e:{try{Ge(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:tn[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Qt.prototype.preventDefault=function(){this.defaultPrevented=!0},C(en,Qt);var tn=Jt({2:"touch",3:"pen",4:"mouse"});en.prototype.preventDefault=function(){en.bb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,$t)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}},en.prototype.g=function(){return this.a};var nn="closure_listenable_"+(1e6*Math.random()|0),rn=0;function on(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Wa=i,this.key=++rn,this.wa=this.Qa=!1}function an(e){e.wa=!0,e.listener=null,e.proxy=null,e.src=null,e.Wa=null}function sn(e){this.src=e,this.a={},this.b=0}function un(e,t){var n=t.type;n in e.a&&$(e.a[n],t)&&(an(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function cn(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.wa&&o.listener==t&&o.capture==!!n&&o.Wa==r)return i}return-1}sn.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=cn(e,t,r,i);return-1<a?(t=e[a],n||(t.Qa=!1)):((t=new on(t,this.src,o,!!r,i)).Qa=n,e.push(t)),t};var ln="closure_lm_"+(1e6*Math.random()|0),fn={};function dn(e,t,n,r,i){if(r&&r.once)pn(e,t,n,r,i);else if(Array.isArray(t))for(var o=0;o<t.length;o++)dn(e,t[o],n,r,i);else n=Sn(n),e&&e[nn]?On(e,t,n,m(r)?!!r.capture:!!r,i):hn(e,t,n,!1,r,i)}function hn(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=m(i)?!!i.capture:!!i,s=_n(e);if(s||(e[ln]=s=new sn(e)),!(n=s.add(t,n,r,a,o)).proxy){if(r=function(){var e=wn,t=Yt?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Xt||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(gn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}0}}function pn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)pn(e,t[o],n,r,i);else n=Sn(n),e&&e[nn]?Cn(e,t,n,m(r)?!!r.capture:!!r,i):hn(e,t,n,!0,r,i)}function vn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)vn(e,t[o],n,r,i);else r=m(r)?!!r.capture:!!r,n=Sn(n),e&&e[nn]?(e=e.v,(t=String(t).toString())in e.a&&(-1<(n=cn(o=e.a[t],n,r,i))&&(an(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=_n(e))&&(t=e.a[t.toString()],e=-1,t&&(e=cn(t,n,r,i)),(n=-1<e?t[e]:null)&&mn(n))}function mn(e){if("number"!==typeof e&&e&&!e.wa){var t=e.src;if(t&&t[nn])un(t.v,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(gn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=_n(t))?(un(n,e),0==n.b&&(n.src=null,t[ln]=null)):an(e)}}}function gn(e){return e in fn?fn[e]:fn[e]="on"+e}function yn(e,t,n,r){var i=!0;if((e=_n(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.wa&&(o=bn(o,r),i=i&&!1!==o)}return i}function bn(e,t){var n=e.listener,r=e.Wa||e.src;return e.Qa&&mn(e),n.call(r,t)}function wn(e,t){if(e.wa)return!0;if(!Yt){if(!t)e:{t=["window","event"];for(var n=u,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new en(r=t,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(a){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=yn(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=yn(r[i],e,!1,t),n=n&&o}return n}return bn(e,new en(t,this))}function _n(e){return(e=e[ln])instanceof sn?e:null}var En="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sn(e){return v(e)?e:(e[En]||(e[En]=function(t){return e.handleEvent(t)}),e[En])}function xn(){Ht.call(this),this.v=new sn(this),this.bc=this,this.hb=null}function On(e,t,n,r,i){e.v.add(String(t),n,!1,r,i)}function Cn(e,t,n,r,i){e.v.add(String(t),n,!0,r,i)}function kn(e,t,n,r){if(!(t=e.v.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.wa&&a.capture==n){var s=a.listener,u=a.Wa||a.src;a.Qa&&un(e.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function Tn(e,t,n){if(v(e))n&&(e=S(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=S(e.handleEvent,e)}return 2147483647<Number(t)?-1:u.setTimeout(e,t||0)}function An(e){var t=null;return new St((function(n,r){-1==(t=Tn((function(){n(void 0)}),e))&&r(Error("Failed to schedule timer."))})).o((function(e){throw u.clearTimeout(t),e}))}function In(e){if(e.X&&"function"==typeof e.X)return e.X();if("string"===typeof e)return e.split("");if(p(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function Dn(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.X||"function"!=typeof e.X){if(p(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function Pn(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Pn)for(n=e.Y(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Rn(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Nn(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Nn(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Nn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}C(xn,Ht),xn.prototype[nn]=!0,xn.prototype.addEventListener=function(e,t,n,r){dn(this,e,t,n,r)},xn.prototype.removeEventListener=function(e,t,n,r){vn(this,e,t,n,r)},xn.prototype.dispatchEvent=function(e){var t,n=this.hb;if(n)for(t=[];n;n=n.hb)t.push(n);n=this.bc;var r=e.type||e;if("string"===typeof e)e=new Qt(e,n);else if(e instanceof Qt)e.target=e.target||n;else{var i=e;be(e=new Qt(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.b=t[o];i=kn(a,r,!0,e)&&i}if(i=kn(a=e.b=n,r,!0,e)&&i,i=kn(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=kn(a=e.b=t[o],r,!1,e)&&i;return i},xn.prototype.Da=function(){if(xn.bb.Da.call(this),this.v){var e,t=this.v;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)an(n[r]);delete t.a[e],t.b--}}this.hb=null},(e=Pn.prototype).X=function(){Rn(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},e.Y=function(){return Rn(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(e,t){return Nn(this.b,e)?this.b[e]:t},e.set=function(e,t){Nn(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},e.forEach=function(e,t){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var jn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Mn(e,t){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,e instanceof Mn?(this.i=void 0!==t?t:e.i,Ln(this,e.c),this.l=e.l,this.a=e.a,Bn(this,e.g),this.f=e.f,Un(this,or(e.b)),this.h=e.h):e&&(n=String(e).match(jn))?(this.i=!!t,Ln(this,n[1]||"",!0),this.l=Hn(n[2]||""),this.a=Hn(n[3]||"",!0),Bn(this,n[4]),this.f=Hn(n[5]||"",!0),Un(this,n[6]||"",!0),this.h=Hn(n[7]||"")):(this.i=!!t,this.b=new Qn(null,this.i))}function Ln(e,t,n){e.c=n?Hn(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function Bn(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.g=t}else e.g=null}function Un(e,t,n){t instanceof Qn?(e.b=t,function(e,t){t&&!e.f&&(er(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(nr(this,t),ir(this,n,e))}),e)),e.f=t}(e.b,e.i)):(n||(t=Wn(t,$n)),e.b=new Qn(t,e.i))}function Vn(e,t,n){e.b.set(t,n)}function zn(e,t){return e.b.get(t)}function qn(e){return e instanceof Mn?new Mn(e):new Mn(e,void 0)}function Zn(e,t,n,r){var i=new Mn(null,void 0);return e&&Ln(i,e),t&&(i.a=t),n&&Bn(i,n),r&&(i.f=r),i}function Hn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Wn(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Gn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Gn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Mn.prototype.toString=function(){var e=[],t=this.c;t&&e.push(Wn(t,Kn,!0),":");var n=this.a;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(Wn(t,Kn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&e.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&e.push("/"),e.push(Wn(n,"/"==n.charAt(0)?Yn:Jn,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.h)&&e.push("#",Wn(n,Xn)),e.join("")},Mn.prototype.resolve=function(e){var t=new Mn(this),n=!!e.c;n?Ln(t,e.c):n=!!e.l,n?t.l=e.l:n=!!e.a,n?t.a=e.a:n=null!=e.g;var r=e.f;if(n)Bn(t,e.g);else if(n=!!e.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=t.f.lastIndexOf("/");-1!=i&&(r=t.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(le(i,"./")||le(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.f=r:n=""!==e.b.toString(),n?Un(t,or(e.b)):n=!!e.h,n&&(t.h=e.h),t};var Kn=/[#\/\?@]/g,Jn=/[#\?:]/g,Yn=/[#\?]/g,$n=/[#\?@]/g,Xn=/#/g;function Qn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function er(e){e.a||(e.a=new Pn,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function tr(e){var t=Dn(e);if("undefined"==typeof t)throw Error("Keys are undefined");var n=new Qn(null,void 0);e=In(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];Array.isArray(o)?ir(n,i,o):n.add(i,o)}return n}function nr(e,t){er(e),t=ar(e,t),Nn(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Nn((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Rn(e)))}function rr(e,t){return er(e),t=ar(e,t),Nn(e.a.b,t)}function ir(e,t,n){nr(e,t),0<n.length&&(e.c=null,e.a.set(ar(e,t),ee(n)),e.b+=n.length)}function or(e){var t=new Qn;return t.c=e.c,e.a&&(t.a=new Pn(e.a),t.b=e.b),t}function ar(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function sr(e){var t=[];return cr(new ur,e,t),t.join("")}function ur(){}function cr(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(Array.isArray(t)){var r=t;t=r.length,n.push("[");for(var i="",o=0;o<t;o++)n.push(i),cr(e,r[o],n),i=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){for(r in n.push("{"),i="",t)Object.prototype.hasOwnProperty.call(t,r)&&("function"!=typeof(o=t[r])&&(n.push(i),dr(r,n),n.push(":"),cr(e,o,n),i=","));return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":dr(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}(e=Qn.prototype).add=function(e,t){er(this),this.c=null,e=ar(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(e,t){er(this),this.a.forEach((function(n,r){W(n,(function(n){e.call(t,n,r,this)}),this)}),this)},e.Y=function(){er(this);for(var e=this.a.X(),t=this.a.Y(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},e.X=function(e){er(this);var t=[];if("string"===typeof e)rr(this,e)&&(t=Q(t,this.a.get(ar(this,e))));else{e=this.a.X();for(var n=0;n<e.length;n++)t=Q(t,e[n])}return t},e.set=function(e,t){return er(this),this.c=null,rr(this,e=ar(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},e.get=function(e,t){return e&&0<(e=this.X(e)).length?String(e[0]):t},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.Y(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var lr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},fr=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function dr(e,t){t.push('"',e.replace(fr,(function(e){var t=lr[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),lr[e]=t),t})),'"')}function hr(){var e=Rr();return Ye&&!!ct&&11==ct||/Edge\/\d+/.test(e)}function pr(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function vr(e,t){t=t||u.window;var n="about:blank";e&&(n=Ne(Fe(e)||Ve)),t.location.href=n}function mr(e,t){var n,r=[];for(n in e)n in t?typeof e[n]!=typeof t[n]?r.push(n):"object"==typeof e[n]&&null!=e[n]&&null!=t[n]?0<mr(e[n],t[n]).length&&r.push(n):e[n]!==t[n]&&r.push(n):r.push(n);for(n in t)n in e||r.push(n);return r}function gr(e){return!!((e=(e||Rr()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function yr(e){e=e||u.window;try{e.close()}catch(t){}}function br(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Rr().toLowerCase(),r&&(t.target=r,le(n,"crios/")&&(t.target="_blank")),Ir(Rr())==Tr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof Re?n:Fe("undefined"!=typeof n.href?n.href:String(n))||Ve,n=e.target||n.target,i=[],e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((pe("iPhone")&&!pe("iPod")&&!pe("iPad")||pe("iPad")||pe("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(we(a=gt(document,"A"),"HTMLAnchorElement"),t=t instanceof Re?t:Be(t),a.href=Ne(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=Ze("",r,n,a),e=Ne(t),a&&(Xe&&le(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+We(e)+'">',e=new ze(e=(r=Ce())?r.createHTML(e):e,null,qe),r=a.document)&&(r.write(function(e){return e instanceof ze&&e.constructor===ze?e.a:(F("expected object of type SafeHtml, got '"+e+"' of type "+h(e)),"type_error:SafeHtml")}(e)),r.close())):(a=Ze(t,r,n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var wr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_r=/^[^@]+@[^@]+$/;function Er(){var e=null;return new St((function(t){"complete"==u.document.readyState?t():(e=function(){t()},pn(window,"load",e))})).o((function(t){throw vn(window,"load",e),t}))}function Sr(e){return e=e||Rr(),!("file:"!==Fr()&&"ionic:"!==Fr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function xr(){var e=u.window;try{return!(!e||e==e.top)}catch(t){return!1}}function Or(){return"undefined"!==typeof u.WorkerGlobalScope&&"function"===typeof u.importScripts}function Cr(){return o.Z.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":o.Z.INTERNAL.hasOwnProperty("node")?"Node":Or()?"Worker":"Browser"}function kr(){var e=Cr();return"ReactNative"===e||"Node"===e}var Tr="Firefox",Ar="Chrome";function Ir(e){var t=e.toLowerCase();return le(t,"opera/")||le(t,"opr/")||le(t,"opios/")?"Opera":le(t,"iemobile")?"IEMobile":le(t,"msie")||le(t,"trident/")?"IE":le(t,"edge/")?"Edge":le(t,"firefox/")?Tr:le(t,"silk/")?"Silk":le(t,"blackberry")?"Blackberry":le(t,"webos")?"Webos":!le(t,"safari/")||le(t,"chrome/")||le(t,"crios/")||le(t,"android")?!le(t,"chrome/")&&!le(t,"crios/")||le(t,"edge/")?le(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":Ar:"Safari"}var Dr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Pr(e,t){t=t||[];var n,r=[],i={};for(n in Dr)i[Dr[n]]=!0;for(n=0;n<t.length;n++)"undefined"!==typeof i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=Cr())?r=Ir(i=Rr()):"Worker"===r&&(r=Ir(i=Rr())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function Rr(){return u.navigator&&u.navigator.userAgent||""}function Nr(e,t){e=e.split("."),t=t||u;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function jr(){try{var e=u.localStorage,t=qr();if(e)return e.setItem(t,"1"),e.removeItem(t),!hr()||!!u.indexedDB}catch(n){return Or()&&!!u.indexedDB}return!1}function Mr(){return(Lr()||"chrome-extension:"===Fr()||Sr())&&!kr()&&jr()&&!Or()}function Lr(){return"http:"===Fr()||"https:"===Fr()}function Fr(){return u.location&&u.location.protocol||null}function Br(e){return!gr(e=e||Rr())&&Ir(e)!=Tr}function Ur(e){return"undefined"===typeof e?null:sr(e)}function Vr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function zr(e){if(null!==e)return JSON.parse(e)}function qr(e){return e||Math.floor(1e9*Math.random()).toString()}function Zr(e){return"Safari"!=Ir(e=e||Rr())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function Hr(){var e=u.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function Wr(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=Rr(),t=Cr(),this.b=gr(e)||"ReactNative"===t}function Gr(){var e=u.document;return!e||"undefined"===typeof e.visibilityState||"visible"==e.visibilityState}function Kr(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(n){}return null}function Jr(){return!(!Nr("fireauth.oauthhelper",u)&&!Nr("fireauth.iframe",u))}Wr.prototype.get=function(){var e=u.navigator;return!e||"boolean"!==typeof e.onLine||!Lr()&&"chrome-extension:"!==Fr()&&"undefined"===typeof e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Yr,$r={};function Xr(e){$r[e]||($r[e]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(e))}try{var Qr={};Object.defineProperty(Qr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Qr,"abcd",{configurable:!0,enumerable:!0,value:2}),Yr=2==Qr.abcd}catch(pa){Yr=!1}function ei(e,t,n){Yr?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function ti(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&ei(e,n,t[n])}function ni(e){var t={};return ti(t,e),t}function ri(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)ei(t,n,ri(e[n]));return t}function ii(e){var t=e&&(e[ci]?"phone":null);if(!(t&&e&&e[ui]))throw new T("internal-error","Internal assert: invalid MultiFactorInfo object");ei(this,"uid",e[ui]),ei(this,"displayName",e[ai]||null);var n=null;e[si]&&(n=new Date(e[si]).toUTCString()),ei(this,"enrollmentTime",n),ei(this,"factorId",t)}function oi(e){try{var t=new li(e)}catch(n){t=null}return t}ii.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ai="displayName",si="enrolledAt",ui="mfaEnrollmentId",ci="phoneInfo";function li(e){ii.call(this,e),ei(this,"phoneNumber",e[ci])}function fi(e){var t={},n=e[vi],r=e[gi],i=e[yi];if(e=oi(e[mi]),!i||i!=hi&&i!=pi&&!n||i==pi&&!r||i==di&&!e)throw Error("Invalid checkActionCode response!");i==pi?(t[wi]=n||null,t[Ei]=n||null,t[bi]=r):(t[wi]=r||null,t[Ei]=r||null,t[bi]=n||null),t[_i]=e||null,ei(this,xi,i),ei(this,Si,ri(t))}C(li,ii),li.prototype.w=function(){var e=li.bb.w.call(this);return e.phoneNumber=this.phoneNumber,e};var di="REVERT_SECOND_FACTOR_ADDITION",hi="EMAIL_SIGNIN",pi="VERIFY_AND_CHANGE_EMAIL",vi="email",mi="mfaInfo",gi="newEmail",yi="requestType",bi="email",wi="fromEmail",_i="multiFactorInfo",Ei="previousEmail",Si="data",xi="operation";function Oi(e){var t=zn(e=qn(e),Ci)||null,n=zn(e,ki)||null,r=zn(e,Ii)||null;if(r=r&&Pi[r]||null,!t||!n||!r)throw new T("argument-error",Ci+", "+ki+"and "+Ii+" are required in a valid action code URL.");ti(this,{apiKey:t,operation:r,code:n,continueUrl:zn(e,Ti)||null,languageCode:zn(e,Ai)||null,tenantId:zn(e,Di)||null})}var Ci="apiKey",ki="oobCode",Ti="continueUrl",Ai="languageCode",Ii="mode",Di="tenantId",Pi={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:di,signIn:hi,verifyAndChangeEmail:pi,verifyEmail:"VERIFY_EMAIL"};function Ri(e){try{return new Oi(e)}catch(t){return null}}function Ni(e){var t=e[Bi];if("undefined"===typeof t)throw new T("missing-continue-uri");if("string"!==typeof t||"string"===typeof t&&!t.length)throw new T("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[ji];if(n&&"object"===typeof n){t=n[zi];var r=n[Ui];if(n=n[Vi],"string"===typeof t&&t.length){if(this.a=t,"undefined"!==typeof r&&"boolean"!==typeof r)throw new T("argument-error",Ui+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new T("argument-error",Vi+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof t)throw new T("argument-error",zi+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new T("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new T("argument-error",ji+" property must be a non null object when specified.");if(this.f=null,(t=e[Fi])&&"object"===typeof t){if("string"===typeof(t=t[qi])&&t.length)this.f=t;else if("undefined"!==typeof t)throw new T("argument-error",qi+" property must be a non empty string when specified.")}else if("undefined"!==typeof t)throw new T("argument-error",Fi+" property must be a non null object when specified.");if("undefined"!==typeof(t=e[Li])&&"boolean"!==typeof t)throw new T("argument-error",Li+" property must be a boolean when specified.");if(this.c=!!t,"undefined"!==typeof(e=e[Mi])&&("string"!==typeof e||"string"===typeof e&&!e.length))throw new T("argument-error",Mi+" property must be a non empty string when specified.");this.i=e||null}var ji="android",Mi="dynamicLinkDomain",Li="handleCodeInApp",Fi="iOS",Bi="url",Ui="installApp",Vi="minimumVersion",zi="packageName",qi="bundleId";function Zi(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var Hi=null;function Wi(e){var t=[];return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=Hi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!Hi){Hi={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=e.concat(t[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Hi[o]&&(Hi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){t.push(e)})),t}function Gi(e){var t=Ji(e);if(!(t&&t.sub&&t.iss&&t.aud&&t.exp))throw Error("Invalid JWT");this.h=e,this.a=t.exp,this.i=t.sub,e=Date.now()/1e3,this.g=t.iat||(e>this.a?this.a:e),this.b=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.f=t.firebase&&t.firebase.tenant||null,this.c=!!t.is_anonymous||"anonymous"==this.b}function Ki(e){try{return new Gi(e)}catch(t){return null}}function Ji(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{var r=Wi(e);for(e=[],n=t=0;t<r.length;){var i=r[t++];if(128>i)e[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[t++];e[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[t++];var a=r[t++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[t++])-65536;e[n++]=String.fromCharCode(55296+(s>>10)),e[n++]=String.fromCharCode(56320+(1023&s))}else o=r[t++],a=r[t++],e[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(e.join(""))}catch(g){}return null}Gi.prototype.T=function(){return this.f},Gi.prototype.l=function(){return this.c},Gi.prototype.toString=function(){return this.h};var Yi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),$i=["client_id","response_type","scope","redirect_uri","state"],Xi={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:$i},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:$i},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:$i},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Yi},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Qi(e){for(var t in Xi)if(Xi[t].fa==e)return Xi[t];return null}function eo(e){var t={};t["facebook.com"]=oo,t["google.com"]=so,t["github.com"]=ao,t["twitter.com"]=uo;var n=e&&e[no];try{if(n)return t[n]?new t[n](e):new io(e);if("undefined"!==typeof e[to])return new ro(e)}catch(r){}return null}var to="idToken",no="providerId";function ro(e){var t=e[no];if(!t&&e[to]){var n=Ki(e[to]);n&&n.b&&(t=n.b)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,"undefined"!==typeof e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),ei(this,"providerId",t),ei(this,"isNewUser",n)}function io(e){ro.call(this,e),ei(this,"profile",ri((e=zr(e.rawUserInfo||"{}"))||{}))}function oo(e){if(io.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function ao(e){if(io.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");ei(this,"username",this.profile&&this.profile.login||null)}function so(e){if(io.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function uo(e){if(io.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");ei(this,"username",e.screenName||null)}function co(e){var t=qn(e),n=zn(t,"link"),r=zn(qn(n),"link");return t=zn(t,"deep_link_id"),zn(qn(t),"link")||t||r||n||e}function lo(e,t){if(!e&&!t)throw new T("internal-error","Internal assert: no raw session string available");if(e&&t)throw new T("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=t||null,this.type=this.a?fo:ho}C(io,ro),C(oo,io),C(ao,io),C(so,io),C(uo,io);var fo="enroll",ho="signin";function po(){}function vo(e,t){return e.then((function(e){if(e[is]){var n=Ki(e[is]);if(!n||t!=n.i)throw new T("user-mismatch");return e}throw new T("user-mismatch")})).o((function(e){throw e&&e.code&&e.code==D+"user-not-found"?new T("user-mismatch"):e}))}function mo(e,t){if(!t)throw new T("internal-error","failed to construct a credential");this.a=t,ei(this,"providerId",e),ei(this,"signInMethod",e)}function go(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function yo(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new mo(e.providerId,e.pendingToken)}catch(t){}return null}function bo(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&ei(this,"idToken",t.idToken),t.accessToken&&ei(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&ei(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new T("internal-error","failed to construct a credential");ei(this,"accessToken",t.oauthToken),ei(this,"secret",t.oauthTokenSecret)}ei(this,"providerId",e),ei(this,"signInMethod",n)}function wo(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:tr(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function _o(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new bo(e.providerId,t,e.signInMethod)}catch(n){}}return null}function Eo(e,t){this.Qc=t||[],ti(this,{providerId:e,isOAuthProvider:!0}),this.Jb={},this.qb=(Qi(e)||{}).Ja||null,this.pb=null}function So(e){if("string"!==typeof e||0!=e.indexOf("saml."))throw new T("argument-error",'SAML provider IDs must be prefixed with "saml."');Eo.call(this,e,[])}function xo(e){Eo.call(this,e,$i),this.a=[]}function Oo(){xo.call(this,"facebook.com")}function Co(e){if(!e)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return m(e)&&(t=e.accessToken),(new Oo).credential({accessToken:t})}function ko(){xo.call(this,"github.com")}function To(e){if(!e)throw new T("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return m(e)&&(t=e.accessToken),(new ko).credential({accessToken:t})}function Ao(){xo.call(this,"google.com"),this.Ca("profile")}function Io(e,t){var n=e;return m(e)&&(n=e.idToken,t=e.accessToken),(new Ao).credential({idToken:n,accessToken:t})}function Do(){Eo.call(this,"twitter.com",Yi)}function Po(e,t){var n=e;if(m(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new T("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new bo("twitter.com",n,"twitter.com")}function Ro(e,t,n){this.a=e,this.f=t,ei(this,"providerId","password"),ei(this,"signInMethod",n===jo.EMAIL_LINK_SIGN_IN_METHOD?jo.EMAIL_LINK_SIGN_IN_METHOD:jo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function No(e){return e&&e.email&&e.password?new Ro(e.email,e.password,e.signInMethod):null}function jo(){ti(this,{providerId:"password",isOAuthProvider:!1})}function Mo(e,t){if(!(t=Lo(t)))throw new T("argument-error","Invalid email link!");return new Ro(e,t.code,jo.EMAIL_LINK_SIGN_IN_METHOD)}function Lo(e){return(e=Ri(e=co(e)))&&e.operation===hi?e:null}function Fo(e){if(!(e.fb&&e.eb||e.La&&e.ea))throw new T("internal-error");this.a=e,ei(this,"providerId","phone"),this.fa="phone",ei(this,"signInMethod","phone")}function Bo(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return W(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new Fo(t)}return null}function Uo(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.fb,code:e.a.eb}}function Vo(e){try{this.a=e||o.Z.auth()}catch(t){throw new T("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}ti(this,{providerId:"phone",isOAuthProvider:!1})}function zo(e,t){if(!e)throw new T("missing-verification-id");if(!t)throw new T("missing-verification-code");return new Fo({fb:e,eb:t})}function qo(e){if(e.temporaryProof&&e.phoneNumber)return new Fo({La:e.temporaryProof,ea:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return Io(o,n);case"facebook.com":return Co(n);case"github.com":return To(n);case"twitter.com":return Po(n,r);default:return n||r||o||a?a?0==t.indexOf("saml.")?new mo(t,a):new bo(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new xo(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function Zo(e){if(!e.isOAuthProvider)throw new T("invalid-oauth-provider")}function Ho(e,t,n,r,i,o,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new T("invalid-auth-event");if(this.g&&this.a)throw new T("invalid-auth-event");if(this.g&&!this.f)throw new T("invalid-auth-event")}function Wo(e){return(e=e||{}).type?new Ho(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&A(e.error),e.postBody,e.tenantId):null}function Go(){this.b=null,this.a=[]}lo.prototype.Ha=function(){return this.a?It(this.a):It(this.b)},lo.prototype.w=function(){return this.type==fo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},po.prototype.ka=function(){},po.prototype.b=function(){},po.prototype.c=function(){},po.prototype.w=function(){},mo.prototype.ka=function(e){return Cs(e,go(this))},mo.prototype.b=function(e,t){var n=go(this);return n.idToken=t,ks(e,n)},mo.prototype.c=function(e,t){return vo(Ts(e,go(this)),t)},mo.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},bo.prototype.ka=function(e){return Cs(e,wo(this))},bo.prototype.b=function(e,t){var n=wo(this);return n.idToken=t,ks(e,n)},bo.prototype.c=function(e,t){return vo(Ts(e,wo(this)),t)},bo.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},Eo.prototype.Ka=function(e){return this.Jb=ge(e),this},C(So,Eo),C(xo,Eo),xo.prototype.Ca=function(e){return Y(this.a,e)||this.a.push(e),this},xo.prototype.Rb=function(){return ee(this.a)},xo.prototype.credential=function(e,t){var n;if(!(n=m(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new T("argument-error","credential failed: must provide the ID token and/or the access token.");return new bo(this.providerId,n,this.providerId)},C(Oo,xo),ei(Oo,"PROVIDER_ID","facebook.com"),ei(Oo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),C(ko,xo),ei(ko,"PROVIDER_ID","github.com"),ei(ko,"GITHUB_SIGN_IN_METHOD","github.com"),C(Ao,xo),ei(Ao,"PROVIDER_ID","google.com"),ei(Ao,"GOOGLE_SIGN_IN_METHOD","google.com"),C(Do,Eo),ei(Do,"PROVIDER_ID","twitter.com"),ei(Do,"TWITTER_SIGN_IN_METHOD","twitter.com"),Ro.prototype.ka=function(e){return this.signInMethod==jo.EMAIL_LINK_SIGN_IN_METHOD?cu(e,Ms,{email:this.a,oobCode:this.f}):cu(e,iu,{email:this.a,password:this.f})},Ro.prototype.b=function(e,t){return this.signInMethod==jo.EMAIL_LINK_SIGN_IN_METHOD?cu(e,Ls,{idToken:t,email:this.a,oobCode:this.f}):cu(e,Ys,{idToken:t,email:this.a,password:this.f})},Ro.prototype.c=function(e,t){return vo(this.ka(e),t)},Ro.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},ti(jo,{PROVIDER_ID:"password"}),ti(jo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),ti(jo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Fo.prototype.ka=function(e){return e.gb(Uo(this))},Fo.prototype.b=function(e,t){var n=Uo(this);return n.idToken=t,cu(e,au,n)},Fo.prototype.c=function(e,t){var n=Uo(this);return n.operation="REAUTH",vo(e=cu(e,su,n),t)},Fo.prototype.w=function(){var e={providerId:"phone"};return this.a.fb&&(e.verificationId=this.a.fb),this.a.eb&&(e.verificationCode=this.a.eb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},Vo.prototype.gb=function(e,t){var n=this.a.a;return It(t.verify()).then((function(r){if("string"!==typeof r)throw new T("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"===t.type){var i,o=m(e)?e.session:null,a=m(e)?e.phoneNumber:e;return i=o&&o.type==fo?o.Ha().then((function(e){return function(e,t){return cu(e,Xs,t).then((function(e){return e.phoneSessionInfo.sessionInfo}))}(n,{idToken:e,phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:r}})})):o&&o.type==ho?o.Ha().then((function(t){return function(e,t){return cu(e,Qs,t).then((function(e){return e.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:t,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(e,t){return cu(e,Ks,t)}(n,{phoneNumber:a,recaptchaToken:r}),i.then((function(e){return"function"===typeof t.reset&&t.reset(),e}),(function(e){throw"function"===typeof t.reset&&t.reset(),e}))}throw new T("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}))},ti(Vo,{PROVIDER_ID:"phone"}),ti(Vo,{PHONE_SIGN_IN_METHOD:"phone"}),Ho.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},Ho.prototype.T=function(){return this.h},Ho.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Ko,Jo=null;function Yo(e){var t="unauthorized-domain",n=void 0,r=qn(e);e=r.a,"chrome-extension"==(r=r.c)?n=He("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=He("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",T.call(this,t,n)}function $o(e,t,n){T.call(this,e,n),(e=t||{}).Kb&&ei(this,"email",e.Kb),e.ea&&ei(this,"phoneNumber",e.ea),e.credential&&ei(this,"credential",e.credential),e.$b&&ei(this,"tenantId",e.$b)}function Xo(e){if(e.code){var t=e.code||"";0==t.indexOf(D)&&(t=t.substring(D.length));var n={credential:qo(e),$b:e.tenantId};if(e.email)n.Kb=e.email;else if(e.phoneNumber)n.ea=e.phoneNumber;else if(!n.credential)return new T(t,e.message||void 0);return new $o(t,n,e.message)}return null}function Qo(){}function ea(e){return e.c||(e.c=e.b())}function ta(){}function na(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(Lh){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function ra(){}function ia(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=S(this.qc,this),this.a.onerror=S(this.Tb,this),this.a.onprogress=S(this.rc,this),this.a.ontimeout=S(this.vc,this)}function oa(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function aa(e,t,n){this.reset(e,t,n,void 0,void 0)}C(Yo,T),C($o,T),$o.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.w();return t&&be(e,t),e},$o.prototype.toJSON=function(){return this.w()},Qo.prototype.c=null,C(ta,Qo),ta.prototype.a=function(){var e=na(this);return e?new ActiveXObject(e):new XMLHttpRequest},ta.prototype.b=function(){var e={};return na(this)&&(e[0]=!0,e[1]=!0),e},Ko=new ta,C(ra,Qo),ra.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new ia;throw Error("Unsupported browser")},ra.prototype.b=function(){return{}},(e=ia.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,oa(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",oa(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,oa(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},aa.prototype.a=null;function sa(e){this.f=e,this.b=this.c=this.a=null}function ua(e,t){this.name=e,this.value=t}aa.prototype.reset=function(e,t,n,r,i){"number"==typeof i||0,r||O(),delete this.a},ua.prototype.toString=function(){return this.name};var ca=new ua("SEVERE",1e3),la=new ua("WARNING",900),fa=new ua("CONFIG",700),da=new ua("FINE",500);function ha(e){return e.c?e.c:e.a?ha(e.a):(F("Root logger has no level set."),null)}sa.prototype.log=function(e,t,n){if(e.value>=ha(this).value)for(v(t)&&(t=t()),e=new aa(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var pa,va={},ma=null;function ga(e){var t;if(ma||(ma=new sa(""),va[""]=ma,ma.c=fa),!(t=va[e])){t=new sa(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=ga(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,va[e]=t}return t}function ya(e,t){e&&e.log(da,t,void 0)}function ba(e){this.f=e}function wa(e){xn.call(this),this.u=e,this.h=void 0,this.readyState=_a,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=ga("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}C(ba,Qo),ba.prototype.a=function(){return new wa(this.f)},ba.prototype.b=(pa={},function(){return pa}),C(wa,xn);var _a=0;function Ea(e){e.c.read().then(e.pc.bind(e)).catch(e.Va.bind(e))}function Sa(e){e.readyState=4,e.g=null,e.c=null,e.m=null,xa(e)}function xa(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Oa(e){xn.call(this),this.headers=new Pn,this.D=e||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=Ca,this.u=this.S=!1}(e=wa.prototype).open=function(e,t){if(this.readyState!=_a)throw this.abort(),Error("Error reopening a connection");this.s=e,this.f=t,this.readyState=1,xa(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.f,t)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Sa(this)),this.readyState=_a},e.uc=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,xa(this)),this.a&&(this.readyState=3,xa(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):"undefined"!==typeof u.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.m=new TextDecoder,Ea(this)):e.text().then(this.tc.bind(this),this.Va.bind(this)))))},e.pc=function(e){if(this.a){var t=this.m.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?Sa(this):xa(this),3==this.readyState&&Ea(this)}},e.tc=function(e){this.a&&(this.response=this.responseText=e,Sa(this))},e.sc=function(e){this.a&&(this.response=e,Sa(this))},e.Va=function(e){var t=this.i;t&&t.log(la,"Failed to fetch url "+this.f,e instanceof Error?e:Error(e)),this.a&&Sa(this)},e.setRequestHeader=function(e,t){this.l.append(e,t)},e.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.i)&&e.log(la,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var e=this.i;return e&&e.log(la,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(wa.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),C(Oa,xn);var Ca="";Oa.prototype.b=ga("goog.net.XhrIo");var ka=/^https?$/i,Ta=["POST","PUT"];function Aa(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.P=n,e.J=!1,e.c=!0,e.a=e.D?e.D.a():Ko.a(),e.C=e.D?ea(e.D):ea(Ko),e.a.onreadystatechange=S(e.Wb,e);try{ya(e.b,Fa(e,"Opening Xhr")),e.N=!0,e.a.open(n,String(t),!0),e.N=!1}catch(a){return ya(e.b,Fa(e,"Error opening Xhr: "+a.message)),void Da(e,a)}t=r||"";var o=new Pn(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(p(e)||"string"===typeof e)W(e,t,void 0);else for(var n=Dn(e),r=In(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,(function(e,t){o.set(t,e)})),i=function(e){e:{for(var t=Ia,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(o.Y()),r=u.FormData&&t instanceof u.FormData,!Y(Ta,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.S&&(e.a.withCredentials=e.S);try{ja(e),0<e.g&&(e.u=function(e){return Ye&&st(9)&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(e.a),ya(e.b,Fa(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=S(e.Ma,e)):e.s=Tn(e.Ma,e.g,e)),ya(e.b,Fa(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(a){ya(e.b,Fa(e,"Send error: "+a.message)),Da(e,a)}}function Ia(e){return"content-type"==e.toLowerCase()}function Da(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,Pa(e),Na(e)}function Pa(e){e.J||(e.J=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function Ra(e){if(e.c&&"undefined"!=typeof s)if(e.C[1]&&4==Ma(e)&&2==La(e))ya(e.b,Fa(e,"Local request error detected and ignored"));else if(e.i&&4==Ma(e))Tn(e.Wb,0,e);else if(e.dispatchEvent("readystatechange"),4==Ma(e)){ya(e.b,Fa(e,"Request complete")),e.c=!1;try{var t,n=La(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.l).match(jn)[1]||null;if(!o&&u.self&&u.self.location){var a=u.self.location.protocol;o=a.substr(0,a.length-1)}i=!ka.test(o?o.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var c=2<Ma(e)?e.a.statusText:""}catch(l){ya(e.b,"Can not get status: "+l.message),c=""}e.h=c+" ["+La(e)+"]",Pa(e)}}finally{Na(e)}}}function Na(e,t){if(e.a){ja(e);var n=e.a,r=e.C[0]?d:null;e.a=null,e.C=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(Lh){(e=e.b)&&e.log(ca,"Problem encountered resetting onreadystatechange: "+Lh.message,void 0)}}}function ja(e){e.a&&e.u&&(e.a.ontimeout=null),e.s&&(u.clearTimeout(e.s),e.s=null)}function Ma(e){return e.a?e.a.readyState:0}function La(e){try{return 2<Ma(e)?e.a.status:-1}catch(t){return-1}}function Fa(e,t){return t+" ["+e.P+" "+e.l+" "+La(e)+"]"}function Ba(e){var t=Ya;this.g=[],this.u=t,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Ua(e,t,n){e.a=!0,e.c=n,e.f=!t,Za(e)}function Va(e){if(e.a){if(!e.v)throw new Ha(e);e.v=!1}}function za(e,t,n,r){e.g.push([t,n,r]),e.a&&Za(e)}function qa(e){return J(e.g,(function(e){return v(e[1])}))}function Za(e){if(e.h&&e.a&&qa(e)){var t=e.h,n=Ka[t];n&&(u.clearTimeout(n.a),delete Ka[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],a=i[1];if(i=i[2],o=e.f?a:o)try{var s=o.call(i||e.s,t);void 0!==s&&(e.f=e.f&&(s==t||s instanceof Error),e.c=t=s),(j(t)||"function"===typeof u.Promise&&t instanceof u.Promise)&&(r=!0,e.i=!0)}catch(c){t=c,e.f=!0,qa(e)||(n=!0)}}e.c=t,r&&(s=S(e.m,e,!0),r=S(e.m,e,!1),t instanceof Ba?(za(t,s,r),t.C=!0):t.then(s,r)),n&&(t=new Ga(t),Ka[t.a]=t,e.h=t.a)}function Ha(){M.call(this)}function Wa(){M.call(this)}function Ga(e){this.a=u.setTimeout(S(this.c,this),0),this.b=e}(e=Oa.prototype).Ma=function(){"undefined"!=typeof s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ya(this.b,Fa(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(ya(this.b,Fa(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Na(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Na(this,!0)),Oa.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?Ra(this):this.Jc())},e.Jc=function(){Ra(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Ca:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(ca,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return ya(this.b,"Can not get response: "+t.message),null}},Ba.prototype.cancel=function(e){if(this.a)this.c instanceof Ba&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(e=new Wa(this),Va(this),Ua(this,!1,e))}},Ba.prototype.m=function(e,t){this.i=!1,Ua(this,e,t)},Ba.prototype.then=function(e,t,n){var r,i,o=new St((function(e,t){r=e,i=t}));return za(this,r,(function(e){e instanceof Wa?o.cancel():i(e)})),o.then(e,t,n)},Ba.prototype.$goog_Thenable=!0,C(Ha,M),Ha.prototype.message="Deferred has already fired",Ha.prototype.name="AlreadyCalledError",C(Wa,M),Wa.prototype.message="Deferred was canceled",Wa.prototype.name="CanceledError",Ga.prototype.c=function(){throw delete Ka[this.a],this.b};var Ka={};function Ja(e){var t={},n=t.document||document,r=Te(e).toString(),i=gt(document,"SCRIPT"),o={Xb:i,Ma:void 0},a=new Ba(o),s=null,c=null!=t.timeout?t.timeout:5e3;return 0<c&&(s=window.setTimeout((function(){$a(i,!0);var e=new es(Qa,"Timeout reached for loading script "+r);Va(a),Ua(a,!1,e)}),c),o.Ma=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||($a(i,t.xd||!1,s),Va(a),Ua(a,!0,null))},i.onerror=function(){$a(i,!0,s);var e=new es(Xa,"Error while loading script "+r);Va(a),Ua(a,!1,e)},be(o=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),dt(i,o),function(e,t){we(e,"HTMLScriptElement"),e.src=Te(t),(t=e.ownerDocument&&e.ownerDocument.defaultView)&&t!=u?t=f(t.document):(null===l&&(l=f(u.document)),t=l),t&&e.setAttribute("nonce",t)}(i,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),a}function Ya(){if(this&&this.Xb){var e=this.Xb;e&&"SCRIPT"==e.tagName&&$a(e,!0,this.Ma)}}function $a(e,t,n){null!=n&&u.clearTimeout(n),e.onload=d,e.onerror=d,e.onreadystatechange=d,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var Xa=0,Qa=1;function es(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),M.call(this,n),this.code=e}function ts(e){this.f=e}function ns(e,t,n){if(this.c=e,e=t||{},this.l=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||os,this.g=ge(e.secureTokenHeaders||as),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=e.firebaseTimeout||ss,this.a=ge(e.firebaseHeaders||us),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==Cr(),!(n=u.XMLHttpRequest||n&&o.Z.INTERNAL.node&&o.Z.INTERNAL.node.XMLHttpRequest)&&!Or())throw new T("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Or()?this.f=new ba(self):kr()?this.f=new ts(n):this.f=new ra,this.b=null}C(es,M),C(ts,Qo),ts.prototype.a=function(){return new this.f},ts.prototype.b=function(){return{}};var rs,is="idToken",os=new Wr(3e4,6e4),as={"Content-Type":"application/x-www-form-urlencoded"},ss=new Wr(3e4,6e4),us={"Content-Type":"application/json"};function cs(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function ls(e,t){t&&(e.l=fs("https://securetoken.googleapis.com/v1/token",t),e.h=fs("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",t),e.i=fs("https://identitytoolkit.googleapis.com/v2/",t))}function fs(e,t){return e=qn(e),t=qn(t.url),e.f=e.a+e.f,Ln(e,t.c),e.a=t.a,Bn(e,t.g),e.toString()}function ds(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function hs(e,t,n,r,i,o,a){(function(){var e=Rr();return!((e=Ir(e)!=Ar?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e)&&(!Ye||!ct||9<ct)})()||Or()?e=S(e.u,e):(rs||(rs=new St((function(e,t){!function(e,t){if(((window.gapi||{}).client||{}).request)e();else{u[vs]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){za(e,null,t,void 0)}(Ja(Ae(ps,{onload:vs})),(function(){t(Error("CORS_UNSUPPORTED"))}))}}(e,t)}))),e=S(e.s,e)),e(t,n,r,i,o,a)}ns.prototype.T=function(){return this.b},ns.prototype.u=function(e,t,n,r,i,o){if(Or()&&("undefined"===typeof u.fetch||"undefined"===typeof u.Headers||"undefined"===typeof u.Request))throw new T("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new Oa(this.f);if(o){a.g=Math.max(0,o);var s=setTimeout((function(){a.dispatchEvent("timeout")}),o)}On(a,"complete",(function(){s&&clearTimeout(s);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return ya(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(g){e=null}t&&t(e)})),Cn(a,"ready",(function(){s&&clearTimeout(s),Kt(this)})),Cn(a,"timeout",(function(){s&&clearTimeout(s),Kt(this),t&&t(null)})),Aa(a,e,n,r,i)};var ps=new _e(Oe,"https://apis.google.com/js/client.js?onload=%{onload}"),vs="__fcb"+Math.floor(1e6*Math.random()).toString();function ms(e,t,n,r,i,o,a){var s=qn(t+n);Vn(s,"key",e.c),a&&Vn(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Vn(s,c,i[c]);return new St((function(t,n){hs(e,s.toString(),(function(e){e?e.error?n(fu(e,o||{})):t(e):n(new T("network-request-failed"))}),r,u?void 0:sr(Vr(i)),e.a,e.v.get())}))}function gs(e){if("string"!==typeof(e=e.email)||!_r.test(e))throw new T("invalid-email")}function ys(e){"email"in e&&gs(e)}function bs(e){if(!e[is]){if(e.mfaPendingCredential)throw new T("multi-factor-auth-required",null,ge(e));throw new T("internal-error")}}function ws(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new T("internal-error")}else{if(!e.sessionInfo)throw new T("missing-verification-id");if(!e.code)throw new T("missing-verification-code")}}ns.prototype.s=function(e,t,n,r,i){var o=this;rs.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})})).o((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},ns.prototype.Ab=function(){return cu(this,$s,{})},ns.prototype.Cb=function(e,t){return cu(this,Js,{idToken:e,email:t})},ns.prototype.Db=function(e,t){return cu(this,Ys,{idToken:e,password:t})};var _s={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function Es(e){if(!e.phoneVerificationInfo)throw new T("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new T("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new T("missing-verification-code")}function Ss(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new T("internal-error")}function xs(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&(rr(e=new Qn(e.postBody),"nonce")&&(t.nonce=e.get("nonce")))),t}function Os(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Xo(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Xo(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Xo(e)):e.errorMessage&&(t=lu(e.errorMessage)),t)throw t;bs(e)}function Cs(e,t){return t.returnIdpCredential=!0,cu(e,eu,t)}function ks(e,t){return t.returnIdpCredential=!0,cu(e,nu,t)}function Ts(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,cu(e,tu,t)}function As(e){if(!e.oobCode)throw new T("invalid-action-code")}(e=ns.prototype).Eb=function(e,t){var n={idToken:e},r=[];return ve(_s,(function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),cu(this,Js,n)},e.wb=function(e,t){return be(e={requestType:"PASSWORD_RESET",email:e},t),cu(this,Zs,e)},e.xb=function(e,t){return be(e={requestType:"EMAIL_SIGNIN",email:e},t),cu(this,Vs,e)},e.vb=function(e,t){return be(e={requestType:"VERIFY_EMAIL",idToken:e},t),cu(this,zs,e)},e.Fb=function(e,t,n){return be(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:t},n),cu(this,qs,e)},e.gb=function(e){return cu(this,ou,e)},e.ob=function(e,t){return cu(this,Gs,{oobCode:e,newPassword:t})},e.Sa=function(e){return cu(this,Ds,{oobCode:e})},e.kb=function(e){return cu(this,Is,{oobCode:e})};var Is={endpoint:"setAccountInfo",A:As,Z:"email",B:!0},Ds={endpoint:"resetPassword",A:As,G:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t&&"VERIFY_AND_CHANGE_EMAIL"!=t)throw new T("internal-error")},B:!0},Ps={endpoint:"signupNewUser",A:function(e){if(gs(e),!e.password)throw new T("weak-password")},G:bs,V:!0,B:!0},Rs={endpoint:"createAuthUri",B:!0},Ns={endpoint:"deleteAccount",O:["idToken"]},js={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(e){if(!Array.isArray(e.deleteProvider))throw new T("internal-error")}},Ms={endpoint:"emailLinkSignin",O:["email","oobCode"],A:gs,G:bs,V:!0,B:!0},Ls={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:gs,G:bs,V:!0},Fs={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:Es,G:bs,B:!0,Na:!0},Bs={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:Es,G:bs,B:!0,Na:!0},Us={endpoint:"getAccountInfo"},Vs={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new T("internal-error");gs(e)},Z:"email",B:!0},zs={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new T("internal-error")},Z:"email",B:!0},qs={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new T("internal-error")},Z:"email",B:!0},Zs={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new T("internal-error");gs(e)},Z:"email",B:!0},Hs={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Ws={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new T("internal-error")}},Gs={endpoint:"resetPassword",A:As,Z:"email",B:!0},Ks={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},Js={endpoint:"setAccountInfo",O:["idToken"],A:ys,V:!0},Ys={endpoint:"setAccountInfo",O:["idToken"],A:function(e){if(ys(e),!e.password)throw new T("weak-password")},G:bs,V:!0},$s={endpoint:"signupNewUser",G:bs,V:!0,B:!0},Xs={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new T("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new T("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},Qs={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new T("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new T("internal-error")},B:!0,Na:!0},eu={endpoint:"verifyAssertion",A:Ss,Za:xs,G:Os,V:!0,B:!0},tu={endpoint:"verifyAssertion",A:Ss,Za:xs,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new T("user-not-found");if(e.errorMessage)throw lu(e.errorMessage);bs(e)},V:!0,B:!0},nu={endpoint:"verifyAssertion",A:function(e){if(Ss(e),!e.idToken)throw new T("internal-error")},Za:xs,G:Os,V:!0},ru={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new T("invalid-custom-token")},G:bs,V:!0,B:!0},iu={endpoint:"verifyPassword",A:function(e){if(gs(e),!e.password)throw new T("wrong-password")},G:bs,V:!0,B:!0},ou={endpoint:"verifyPhoneNumber",A:ws,G:bs,B:!0},au={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new T("internal-error");ws(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Xo(e);bs(e)}},su={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ws,G:bs,B:!0},uu={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[is]^!!e.refreshToken)throw new T("internal-error")},B:!0,Na:!0};function cu(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,t.O))return Dt(new T("internal-error"));var r,i=!!t.Na,o=t.Vb||"POST";return It(n).then(t.A).then((function(){return t.V&&(n.returnSecureToken=!0),t.B&&e.b&&"undefined"===typeof n.tenantId&&(n.tenantId=e.b),ms(e,i?e.i:e.h,t.endpoint,o,n,t.Ib,t.mb||!1)})).then((function(e){return r=e,t.Za?t.Za(n,r):r})).then(t.G).then((function(){if(!t.Z)return r;if(!(t.Z in r))throw new T("internal-error");return r[t.Z]}))}function lu(e){return fu({error:{errors:[{message:e}],code:400,message:e}})}function fu(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new T(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",be(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new T(r[i],t);return!t&&e&&(t=Ur(e)),new T("internal-error",t)}function du(e){this.b=e,this.a=null,this.sb=function(e){return(mu||(mu=new St((function(e,t){function n(){Hr(),Nr("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){Hr(),t(Error("Network Error"))},timeout:pu.get()})}if(Nr("gapi.iframes.Iframe"))e();else if(Nr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[r]=function(){Nr("gapi.load")?n():t(Error("Network Error"))},It(Ja(r=Ae(hu,{onload:r}))).o((function(){t(Error("Network Error"))}))}})).o((function(e){throw mu=null,e})))).then((function(){return new St((function(t,n){Nr("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:Nr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),vu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var hu=new _e(Oe,"https://apis.google.com/js/api.js?onload=%{onload}"),pu=new Wr(3e4,6e4),vu=new Wr(5e3,15e3),mu=null;function gu(e,t,n,r){this.l=e,this.h=t,this.i=n,this.g=r,this.f=null,this.g?e=Zn((e=qn(this.g.url)).c,e.a,e.g,"/emulator/auth/iframe"):e=Zn("https",this.l,null,"/__/auth/iframe"),this.a=e,Vn(this.a,"apiKey",this.h),Vn(this.a,"appName",this.i),this.b=null,this.c=[]}function yu(e,t,n,r,i,o){this.u=e,this.s=t,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function bu(e){try{return o.Z.app(e).auth().Ga()}catch(t){return[]}}function wu(e,t,n,r,i,o){this.s=e,this.g=t,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function _u(e){var t=pr();return function(e){return cu(e,Hs,{}).then((function(e){return e.authorizedDomains||[]}))}(e).then((function(e){e:{var n=qn(t),r=n.c;n=n.a;for(var i=0;i<e.length;i++){var o=e[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=qn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:wr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new Yo(pr())}))}function Eu(e){return e.m||(e.m=Er().then((function(){if(!e.u){var t=e.c,n=e.i,r=bu(e.b),i=new gu(e.s,e.g,e.b,e.f);i.f=t,i.b=n,i.c=ee(r||[]),e.u=i.toString()}e.v=new du(e.u),function(e){if(!e.v)throw Error("IfcHandler must be initialized!");!function(e,t){e.sb.then((function(){e.a.register("authEvent",t,Nr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.v,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=Wo(t.authEvent),n=0;n<e.h.length;n++)r=e.h[n](t)||r;return(n={}).status=r?"ACK":"ERROR",It(n)}return n.status="ERROR",It(n)}))}(e)}))),e.m}function Su(e){return e.l||(e.C=e.c?Pr(e.c,bu(e.b)):null,e.l=new ns(e.g,N(e.i),e.C),e.f&&ls(e.l,e.f)),e.l}function xu(e,t,n,r,i,o,a,s,u,c,l,f){return(e=new yu(e,t,n,r,i,f)).l=o,e.g=a,e.i=s,e.b=ge(u||null),e.f=c,e.zb(l).toString()}function Ou(e){if(this.a=e||o.Z.INTERNAL.reactNative&&o.Z.INTERNAL.reactNative.AsyncStorage,!this.a)throw new T("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Cu(e){this.b=e,this.a={},this.f=S(this.c,this)}gu.prototype.toString=function(){return this.f?Vn(this.a,"v",this.f):nr(this.a.b,"v"),this.b?Vn(this.a,"eid",this.b):nr(this.a.b,"eid"),this.c.length?Vn(this.a,"fw",this.c.join(",")):nr(this.a.b,"fw"),this.a.toString()},yu.prototype.zb=function(e){return this.h=e,this},yu.prototype.toString=function(){if(this.v){var e=qn(this.v.url);e=Zn(e.c,e.a,e.g,"/emulator/auth/handler")}else e=Zn("https",this.u,null,"/__/auth/handler");if(Vn(e,"apiKey",this.s),Vn(e,"appName",this.c),Vn(e,"authType",this.m),this.a.isOAuthProvider){var t=this.a;try{var n=o.Z.app(this.c).auth().la()}catch(u){n=null}for(var r in t.pb=n,Vn(e,"providerId",this.a.providerId),t=Vr((n=this.a).Jb))t[r]=t[r].toString();r=n.Qc,t=ge(t);for(var i=0;i<r.length;i++){var a=r[i];a in t&&delete t[a]}n.qb&&n.pb&&!t[n.qb]&&(t[n.qb]=n.pb),me(t)||Vn(e,"customParameters",Ur(t))}if("function"===typeof this.a.Rb&&((n=this.a.Rb()).length&&Vn(e,"scopes",n.join(","))),this.l?Vn(e,"redirectUrl",this.l):nr(e.b,"redirectUrl"),this.g?Vn(e,"eventId",this.g):nr(e.b,"eventId"),this.i?Vn(e,"v",this.i):nr(e.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!zn(e,s)&&Vn(e,s,this.b[s]);return this.h?Vn(e,"tid",this.h):nr(e.b,"tid"),this.f?Vn(e,"eid",this.f):nr(e.b,"eid"),(s=bu(this.c)).length&&Vn(e,"fw",s.join(",")),e.toString()},(e=wu.prototype).Pb=function(e,t,n){var r=new T("popup-closed-by-user"),i=new T("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){(function(e){var t={type:"webStorageSupport"};return Eu(e).then((function(){return function(e,t){return e.sb.then((function(){return new St((function(n){e.a.send(t.type,t,n,Nr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(e.v,t)})).then((function(e){if(e&&e.length&&"undefined"!==typeof e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(e&&yr(e),t(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(e){return new St((function(t){return function n(){An(2e3).then((function(){if(e&&!e.closed)return n();t()}))}()}))}(e)})).then((function(){if(!a)return An(n).then((function(){t(r)}))}))},e.Yb=function(){var e=Rr();return!Br(e)&&!Zr(e)},e.Ub=function(){return!1},e.Nb=function(e,t,n,r,i,o,a,s){if(!e)return Dt(new T("popup-blocked"));if(a&&!Br())return this.ma().o((function(t){yr(e),i(t)})),r(),It();this.a||(this.a=_u(Su(this)));var u=this;return this.a.then((function(){var t=u.ma().o((function(t){throw yr(e),i(t),t}));return r(),t})).then((function(){(Zo(n),a)||vr(xu(u.s,u.g,u.b,t,n,null,o,u.c,void 0,u.i,s,u.f),e)})).o((function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e}))},e.Ob=function(e,t,n,r){this.a||(this.a=_u(Su(this)));var i=this;return this.a.then((function(){Zo(t),vr(xu(i.s,i.g,i.b,e,t,pr(),n,i.c,void 0,i.i,r,i.f))})).o((function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e}))},e.ma=function(){var e=this;return Eu(this).then((function(){return e.v.sb})).o((function(){throw e.a=null,new T("network-request-failed")}))},e.ac=function(){return!0},e.Ea=function(e){this.h.push(e)},e.Ta=function(e){X(this.h,(function(t){return t==e}))},(e=Ou.prototype).get=function(e){return It(this.a.getItem(e)).then((function(e){return e&&zr(e)}))},e.set=function(e,t){return It(this.a.setItem(e,Ur(t)))},e.U=function(e){return It(this.a.removeItem(e))},e.ca=function(){},e.ia=function(){};var ku,Tu=[];function Au(e,t,n){me(e.a)&&e.b.addEventListener("message",e.f),"undefined"===typeof e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function Iu(e){this.a=e}function Du(e){this.c=e,this.b=!1,this.a=[]}function Pu(e,t,n,r){var i,o,a,s,u=n||{},c=null;if(e.b)return Dt(Error("connection_unavailable"));var l=r?800:50,f="undefined"!==typeof MessageChannel?new MessageChannel:null;return new St((function(n,r){f?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),f.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(s),"undefined"!==typeof e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))},c={messageChannel:f,onMessage:o},e.a.push(c),f.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:u},[f.port2])):r(Error("connection_unavailable"))})).then((function(t){return Ru(e,c),t})).o((function(t){throw Ru(e,c),t}))}function Ru(e,t){if(t){var n=t.messageChannel,r=t.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),X(e.a,(function(e){return e==t}))}}function Nu(){if(!Fu())throw new T("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=u.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var e=this;Or()&&self?(this.v=function(){var e=Or()?self:null;if(W(Tu,(function(n){n.b==e&&(t=n)})),!t){var t=new Cu(e);Tu.push(t)}return t}(),Au(this.v,"keyChanged",(function(t,n){return qu(e).then((function(t){return 0<t.length&&W(e.a,(function(e){e(t)})),{keyProcessed:Y(t,n.key)}}))})),Au(this.v,"ping",(function(){return It(["keyChanged"])}))):function(){var e=u.navigator;return e&&e.serviceWorker?It().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).o((function(){return null})):It(null)}().then((function(t){(e.h=t)&&(e.g=new Du(new Iu(t)),Pu(e.g,"ping",null,!0).then((function(t){t[0].fulfilled&&Y(t[0].value,"keyChanged")&&(e.s=!0)})).o((function(){})))}))}function ju(e){return new St((function(t,n){var r=e.m.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(t){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(r):function(e){return new St((function(t,n){var r=e.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}}))}(e).then((function(){return ju(e)})).then((function(e){t(e)})).o((function(e){n(e)}))}}))}function Mu(e){return e.i||(e.i=ju(e)),e.i}function Lu(e,t){var n=0;return new St((function r(i,o){Mu(e).then(t).then(i).o((function(t){if(!(3<++n))return Mu(e).then((function(t){return t.close(),e.i=void 0,r(i,o)})).o((function(e){o(e)}));o(t)}))}))}function Fu(){try{return!!u.indexedDB}catch(pa){return!1}}function Bu(e){return e.objectStore("firebaseLocalStorage")}function Uu(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function Vu(e){return new St((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function zu(e,t){return e.g&&e.h&&function(){var e=u.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?Pu(e.g,"keyChanged",{key:t},e.s).then((function(){})).o((function(){})):It()}function qu(e){return Mu(e).then((function(e){var t=Bu(Uu(e,!1));return t.getAll?Vu(t.getAll()):new St((function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=mr(e.c,n),e.c=n}return r}))}function Zu(e){e.l&&e.l.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function Hu(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=It().then((function(){if(Fu()){var e=qr(),r="__sak"+e;return ku||(ku=new Nu),(n=ku).set(r,e).then((function(){return n.get(r)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.ca((function(e){W(t.a,(function(t){t(e)}))})),e}))}function Wu(){this.a={},this.type="inMemory"}function Gu(){if(!function(){var e="Node"==Cr();if(!(e=Ku()||e&&o.Z.INTERNAL.node&&o.Z.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Cr())throw new T("internal-error","The LocalStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=Ku()||o.Z.INTERNAL.node.localStorage,this.type="localStorage"}function Ku(){try{var e=u.localStorage,t=qr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function Ju(){this.type="nullStorage"}function Yu(){if(!function(){var e="Node"==Cr();if(!(e=$u()||e&&o.Z.INTERNAL.node&&o.Z.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Cr())throw new T("internal-error","The SessionStorage compatibility library was not found.");throw new T("web-storage-unsupported")}this.a=$u()||o.Z.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function $u(){try{var e=u.sessionStorage,t=qr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function Xu(){var e={};e.Browser=tc,e.Node=nc,e.ReactNative=rc,e.Worker=ic,this.a=e[Cr()]}Cu.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];W(r,(function(t){i.push(It().then((function(){return t(e.origin,e.data.data)})))})),Rt(i).then((function(r){var i=[];W(r,(function(e){i.push({fulfilled:e.Qb,value:e.value,reason:e.reason?e.reason.message:void 0})})),W(i,(function(e){for(var t in e)"undefined"===typeof e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})}))}},Iu.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},Du.prototype.close=function(){for(;0<this.a.length;)Ru(this,this.a[0]);this.b=!0},(e=Nu.prototype).set=function(e,t){var n=this,r=!1;return Lu(this,(function(t){return Vu((t=Bu(Uu(t,!0))).get(e))})).then((function(i){return Lu(n,(function(o){if(o=Bu(Uu(o,!0)),i)return i.value=t,Vu(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=e,a.value=t,Vu(o.add(a))}))})).then((function(){return n.c[e]=t,zu(n,e)})).oa((function(){r&&n.b--}))},e.get=function(e){return Lu(this,(function(t){return Vu(Bu(Uu(t,!1)).get(e))})).then((function(e){return e&&e.value}))},e.U=function(e){var t=this,n=!1;return Lu(this,(function(r){return n=!0,t.b++,Vu(Bu(Uu(r,!0)).delete(e))})).then((function(){return delete t.c[e],zu(t,e)})).oa((function(){n&&t.b--}))},e.ca=function(e){0==this.a.length&&function(e){function t(){e.f=setTimeout((function(){e.l=qu(e).then((function(t){0<t.length&&W(e.a,(function(e){e(t)}))})).then((function(){t()})).o((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}Zu(e),t()}(this),this.a.push(e)},e.ia=function(e){X(this.a,(function(t){return t==e})),0==this.a.length&&Zu(this)},(e=Hu.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},e.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},e.U=function(e){return this.b.then((function(t){return t.U(e)}))},e.ca=function(e){this.a.push(e)},e.ia=function(e){X(this.a,(function(t){return t==e}))},(e=Wu.prototype).get=function(e){return It(this.a[e])},e.set=function(e,t){return this.a[e]=t,It()},e.U=function(e){return delete this.a[e],It()},e.ca=function(){},e.ia=function(){},(e=Gu.prototype).get=function(e){var t=this;return It().then((function(){return zr(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return It().then((function(){var r=Ur(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return It().then((function(){t.a.removeItem(e)}))},e.ca=function(e){u.window&&dn(u.window,"storage",e)},e.ia=function(e){u.window&&vn(u.window,"storage",e)},(e=Ju.prototype).get=function(){return It(null)},e.set=function(){return It()},e.U=function(){return It()},e.ca=function(){},e.ia=function(){},(e=Yu.prototype).get=function(e){var t=this;return It().then((function(){return zr(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return It().then((function(){var r=Ur(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return It().then((function(){t.a.removeItem(e)}))},e.ca=function(){},e.ia=function(){};var Qu,ec,tc={F:Gu,cb:Yu},nc={F:Gu,cb:Yu},rc={F:Ou,cb:Ju},ic={F:Gu,cb:Ju},oc={rd:"local",NONE:"none",td:"session"};function ac(){var e=!(Zr(Rr())||!xr()),t=Br(),n=jr();this.m=e,this.h=t,this.l=n,this.a={},Qu||(Qu=new Xu),e=Qu;try{this.g=!hr()&&Jr()||!u.indexedDB?new e.a.F:new Hu(Or()?new Wu:new e.a.F)}catch(r){this.g=new Wu,this.h=!0}try{this.i=new e.a.cb}catch(r){this.i=new Wu}this.v=new Wu,this.f=S(this.Zb,this),this.b={}}function sc(){return ec||(ec=new ac),ec}function uc(e,t){switch(t){case"session":return e.i;case"none":return e.v;default:return e.g}}function cc(e,t){return"firebase:"+e.name+(t?":"+t:"")}function lc(e,t,n){return n=cc(t,n),"local"==t.F&&(e.b[n]=null),uc(e,t.F).U(n)}function fc(e){e.c&&(clearInterval(e.c),e.c=null)}function dc(e){this.a=e,this.b=sc()}(e=ac.prototype).get=function(e,t){return uc(this,e.F).get(cc(e,t))},e.set=function(e,t,n){var r=cc(e,n),i=this,o=uc(this,e.F);return o.set(r,t).then((function(){return o.get(r)})).then((function(t){"local"==e.F&&(i.b[r]=t)}))},e.addListener=function(e,t,n){e=cc(e,t),this.l&&(this.b[e]=u.localStorage.getItem(e)),me(this.a)&&(uc(this,"local").ca(this.f),this.h||(hr()||!Jr())&&u.indexedDB||!this.l||function(e){fc(e),e.c=setInterval((function(){for(var t in e.a){var n=u.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new en({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Zb(n))}}),1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},e.removeListener=function(e,t,n){e=cc(e,t),this.a[e]&&(X(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),me(this.a)&&(uc(this,"local").ia(this.f),fc(this))},e.Zb=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var i=u.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if("undefined"!==typeof e.a.a?uc(this,"local").ia(this.f):fc(this),this.m)if(n=u.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?u.localStorage.setItem(t,r):u.localStorage.removeItem(t);else if(this.b[t]===r&&"undefined"===typeof e.a.a)return;var o=this;n=function(){"undefined"===typeof e.a.a&&o.b[t]===u.localStorage.getItem(t)||(o.b[t]=u.localStorage.getItem(t),o.nb(t))},Ye&&ct&&10==ct&&u.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else W(e,S(this.nb,this))},e.nb=function(e){this.a[e]&&W(this.a[e],(function(e){e()}))};var hc,pc={name:"authEvent",F:"local"};function vc(){this.a=sc()}function mc(e,t){this.b=gc,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=u.Int32Array?new Int32Array(64):Array(64),void 0===hc&&(hc=u.Int32Array?new Int32Array(xc):xc),this.reset()}C(mc,(function(){this.b=-1}));for(var gc=64,yc=gc-1,bc=[],wc=0;wc<yc;wc++)bc[wc]=0;var _c=Q(128,bc);function Ec(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){i=0|n[t-15],r=0|n[t-2];var o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],c=0|e.a[4],l=0|e.a[5],f=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var d=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&f)+(0|hc[t])|0)+(0|n[t])|0)|0,o=f,f=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+d|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+f|0,e.a[7]=e.a[7]+o|0}function Sc(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if("string"===typeof t)for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(Ec(e),i=0);else{if(!p(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(Ec(e),i=0)}}e.c=i,e.g+=n}mc.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):ee(this.h)};var xc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Oc(){mc.call(this,8,Cc)}C(Oc,mc);var Cc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function kc(e,t,n,r,i,o){this.v=e,this.i=t,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=t+":"+n,this.C=new vc,this.g=new dc(this.h),this.f=null,this.b=[],this.a=this.c=null}function Tc(e){return new T("invalid-cordova-configuration",e)}function Ac(e){var t=new Oc;Sc(t,e),e=[];var n=8*t.g;56>t.c?Sc(t,_c,56-t.c):Sc(t,_c,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(Ec(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return function(e){return K(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}(e)}function Ic(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(r){}}function Dc(e){return e.f||(e.f=e.ma().then((function(){return new St((function(t){e.Ea((function n(r){return t(r),e.Ta(n),!1})),function(e){function t(t){r=!0,i&&i.cancel(),Pc(e).then((function(r){var i=n;if(r&&t&&t.url){var o=null;-1!=(i=co(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"===typeof(o=zr(zn(o=qn(i),"firebaseError")||null))?A(o):null)?new Ho(r.c,r.b,null,null,o,null,r.T()):new Ho(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}Ic(e,i)}))}var n=new Ho("unknown",null,null,null,new T("no-auth-event")),r=!1,i=An(500).then((function(){return Pc(e).then((function(){r||Ic(e,n)}))})),o=u.handleOpenURL;u.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(Nr("BuildInfo.packageName",u).toLowerCase()+"://")&&t({url:e}),"function"===typeof o)try{o(e)}catch(n){console.error(n)}},Jo||(Jo=new Go),function(e){var t=Jo;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"===typeof(e=Nr("universalLinks.subscribe",u))&&e(null,t.b))}(t)}(e)}))}))),e.f}function Pc(e){var t=null;return function(e){return e.b.get(pc,e.a).then((function(e){return Wo(e)}))}(e.g).then((function(n){return t=n,lc((n=e.g).b,pc,n.a)})).then((function(){return t}))}function Rc(e){this.a=e,this.b=sc()}(e=kc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(Sr(void 0)?Er().then((function(){return new St((function(e,t){var n=u.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):Dt(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!==typeof Nr("universalLinks.subscribe",u))throw Tc("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof Nr("BuildInfo.packageName",u))throw Tc("cordova-plugin-buildinfo is not installed");if("function"!==typeof Nr("cordova.plugins.browsertab.openUrl",u))throw Tc("cordova-plugin-browsertab is not installed");if("function"!==typeof Nr("cordova.InAppBrowser.open",u))throw Tc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new T("cordova-not-ready")}))},e.Pb=function(e,t){return t(new T("operation-not-supported-in-this-environment")),It()},e.Nb=function(){return Dt(new T("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(e,t,n,r){if(this.c)return Dt(new T("redirect-operation-pending"));var i=this,o=u.document,a=null,s=null,c=null,l=null;return this.c=It().then((function(){return Zo(t),Dc(i)})).then((function(){return function(e,t,n,r,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),a=new Ho(t,r,null,o,new T("no-auth-event"),null,i),s=Nr("BuildInfo.packageName",u);if("string"!==typeof s)throw new T("invalid-cordova-configuration");var c=Nr("BuildInfo.displayName",u),l={};if(Rr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=s;else{if(!Rr().toLowerCase().match(/android/))return Dt(new T("operation-not-supported-in-this-environment"));l.apn=s}c&&(l.appDisplayName=c),o=Ac(o),l.sessionId=o;var f=xu(e.v,e.i,e.l,t,n,null,r,e.m,l,e.u,i,e.s);return e.ma().then((function(){var t=e.h;return e.C.a.set(pc,a.w(),t)})).then((function(){var t=Nr("cordova.plugins.browsertab.isAvailable",u);if("function"!==typeof t)throw new T("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!==typeof(n=Nr("cordova.plugins.browsertab.openUrl",u)))throw new T("invalid-cordova-configuration");n(f)}else{if("function"!==typeof(n=Nr("cordova.InAppBrowser.open",u)))throw new T("invalid-cordova-configuration");t=Rr(),e.a=n(f,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,e,t,n,r)})).then((function(){return new St((function(e,t){s=function(){var t=Nr("cordova.plugins.browsertab.close",u);return e(),"function"===typeof t&&t(),i.a&&"function"===typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(s),c=function(){a||(a=An(2e3).then((function(){t(new T("redirect-cancelled-by-user"))})))},l=function(){Gr()&&c()},o.addEventListener("resume",c,!1),Rr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(e){return Pc(i).then((function(){throw e}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),s&&i.Ta(s),i.c=null}))},e.Ea=function(e){this.b.push(e),Dc(this).o((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new Ho("unknown",null,null,null,new T("no-auth-event")),e(t))}))},e.Ta=function(e){X(this.b,(function(t){return t==e}))};var Nc={name:"pendingRedirect",F:"session"};function jc(e){return lc(e.b,Nc,e.a)}function Mc(e,t,n,r){this.i={},this.u=0,this.D=e,this.v=t,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=S(this.s,this),this.b=new $c,this.C=new nl,this.g=new Rc(Jc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Lc(this.D,this.v,this.m,I,this.J)}function Lc(e,t,n,r,i){var a=o.Z.SDK_VERSION||null;return Sr()?new kc(e,t,n,a,r,i):new wu(e,t,n,a,r,i)}function Fc(e){e.f||(e.f=!0,e.a.Ea(e.l));var t=e.a;return e.a.ma().o((function(n){throw e.a==t&&e.reset(),n}))}function Bc(e){e.a.Yb()&&Fc(e).o((function(t){var n=new Ho("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Hc(t)&&e.s(n)})),e.a.Ub()||Xc(e.b)}function Uc(e,t){Y(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(Nc,e.a).then((function(e){return"pending"==e}))}(e.g).then((function(t){t?jc(e.g).then((function(){Fc(e).o((function(t){var n=new Ho("unknown",null,null,null,new T("operation-not-supported-in-this-environment"));Hc(t)&&e.s(n)}))})):Bc(e)})).o((function(){Bc(e)}))}function Vc(e,t){X(e.h,(function(e){return e==t}))}Mc.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Lc(this.D,this.v,this.m,null,this.J),this.i={}},Mc.prototype.s=function(e){if(!e)throw new T("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=Date.now())),t=!0;break}}return Xc(this.b),t};var zc=new Wr(2e3,1e4),qc=new Wr(3e4,6e4);function Zc(e,t,n,r,i,o,a){return e.a.Nb(t,n,r,(function(){e.f||(e.f=!0,e.a.Ea(e.l))}),(function(){e.reset()}),i,o,a)}function Hc(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function Wc(e,t,n,r,i){var o;return function(e){return e.b.set(Nc,"pending",e.a)}(e.g).then((function(){return e.a.Ob(t,n,r,i).o((function(t){if(Hc(t))throw new T("operation-not-supported-in-this-environment");return o=t,jc(e.g).then((function(){throw o}))})).then((function(){return e.a.ac()?new St((function(){})):jc(e.g).then((function(){return e.ra()})).then((function(){})).o((function(){}))}))}))}function Gc(e,t,n,r,i){return e.a.Pb(r,(function(e){t.na(n,null,e,i)}),zc.get())}Mc.prototype.ra=function(){return this.b.ra()};var Kc={};function Jc(e,t,n){return e=e+":"+t,n&&(e=e+":"+n.url),e}function Yc(e,t,n,r){var i=Jc(t,n,r);return Kc[i]||(Kc[i]=new Mc(e,t,n,r)),Kc[i]}function $c(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Xc(e){e.g||(e.g=!0,tl(e,!1,null,null))}function Qc(e){e.g&&!e.i&&tl(e,!1,null,null)}function el(e,t){if(e.b=function(){return It(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function tl(e,t,n,r){t?r?function(e,t){if(e.b=function(){return Dt(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):el(e,n):el(e,{user:null}),e.f=[],e.c=[]}function nl(){}function rl(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(e){this.jb=e},enumerable:!1})}function il(e,t){this.a=t,ei(this,"verificationId",e)}function ol(e,t,n,r){return new Vo(e).gb(t,n).then((function(e){return new il(e,r)}))}function al(e){var t=Ji(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new T("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");ti(this,{token:e,expirationTime:Kr(1e3*t.exp),authTime:Kr(1e3*t.auth_time),issuedAtTime:Kr(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,signInSecondFactor:t.firebase&&t.firebase.sign_in_second_factor?t.firebase.sign_in_second_factor:null,claims:t})}function sl(e,t,n){var r=t&&t[cl];if(!r)throw new T("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=ge(t),this.g=n,this.c=new lo(null,r),this.b=[];var i=this;W(t[ul]||[],(function(e){(e=oi(e))&&i.b.push(e)})),ei(this,"auth",this.a),ei(this,"session",this.c),ei(this,"hints",this.b)}$c.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},$c.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(tl(this,!0,null,e.a),It()):t.Fa(n,r)?function(e,t,n){n=n.Fa(t.c,t.b);var r=t.g,i=t.f,o=t.i,a=t.T(),s=!!t.c.match(/Redirect$/);n(r,i,a,o).then((function(t){tl(e,s,t,null)})).o((function(t){tl(e,s,null,t)}))}(this,e,t):Dt(new T("invalid-auth-event")):(tl(this,!1,null,null),It())}else Dt(new T("invalid-auth-event"))},$c.prototype.ra=function(){var e=this;return new St((function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new T("timeout");e.a&&e.a.cancel(),e.a=An(qc.get()).then((function(){e.b||(e.g=!0,tl(e,!0,null,t))}))}(e))}))},nl.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.na(e.c,null,e.a,e.b),It()):t.Fa(n,r)?function(e,t){var n=e.b,r=e.c;t.Fa(r,n)(e.g,e.f,e.T(),e.i).then((function(e){t.na(r,e,null,n)})).o((function(e){t.na(r,null,e,n)}))}(e,t):Dt(new T("invalid-auth-event"))}else Dt(new T("invalid-auth-event"))},il.prototype.confirm=function(e){return e=zo(this.verificationId,e),this.a(e)};var ul="mfaInfo",cl="mfaPendingCredential";function ll(e,t,n,r){T.call(this,"multi-factor-auth-required",r,t),this.b=new sl(e,t,n),ei(this,"resolver",this.b)}function fl(e,t,n){if(e&&m(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new ll(t,e.serverResponse,n,e.message)}catch(r){}return null}function dl(){}function hl(e){ei(this,"factorId",e.fa),this.a=e}function pl(e){if(hl.call(this,e),this.a.fa!=Vo.PROVIDER_ID)throw new T("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function vl(e,t){for(var n in Qt.call(this,e),t)this[n]=t[n]}function ml(e,t){this.a=e,this.b=[],this.c=S(this.yc,this),dn(this.a,"userReloaded",this.c);var n=[];t&&t.multiFactor&&t.multiFactor.enrolledFactors&&W(t.multiFactor.enrolledFactors,(function(e){var t=null,r={};if(e){e.uid&&(r[ui]=e.uid),e.displayName&&(r[ai]=e.displayName),e.enrollmentTime&&(r[si]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[ci]=e.phoneNumber);try{t=new li(r)}catch(i){}e=t}else e=null;e&&n.push(e)})),gl(this,n)}function gl(e,t){e.b=t,ei(e,"enrolledFactors",t)}function yl(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function bl(e,t){e.stop(),e.b=An(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(e,t)).then((function(){return function(){var e=u.document,t=null;return Gr()||!e?It():new St((function(n){t=function(){Gr()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).o((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}()})).then((function(){return e.h()})).then((function(){bl(e,!0)})).o((function(t){e.i(t)&&bl(e,!1)}))}function wl(e){this.f=e,this.b=this.a=null,this.c=Date.now()}function _l(e,t){"undefined"===typeof t&&(e.b?t=(t=e.b).a-t.g:t=0),e.c=Date.now()+1e3*t}function El(e,t){e.b=Ki(t[is]||""),e.a=t.refreshToken,_l(e,"undefined"!==typeof(t=t.expiresIn)?Number(t):void 0)}function Sl(e,t){return function(e,t){return new St((function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?hs(e,e.l+"?key="+encodeURIComponent(e.c),(function(e){e?e.error?r(fu(e)):e.access_token&&e.refresh_token?n(e):r(new T("internal-error")):r(new T("network-request-failed"))}),"POST",tr(t).toString(),e.g,e.m.get()):r(new T("internal-error"))}))}(e.f,t).then((function(t){return e.b=Ki(t.access_token),e.a=t.refresh_token,_l(e,t.expires_in),{accessToken:e.b.toString(),refreshToken:e.a}})).o((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}))}function xl(e,t){this.a=e||null,this.b=t||null,ti(this,{lastSignInTime:Kr(t||null),creationTime:Kr(e||null)})}function Ol(e,t,n,r,i,o){ti(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function Cl(e,t,n){this.N=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null;var r=o.Z.SDK_VERSION?Pr(o.Z.SDK_VERSION):null;this.a=new ns(this.l,N(I),r),(this.u=e.emulatorConfig||null)&&ls(this.a,this.u),this.h=new wl(this.a),jl(this,t[is]),El(this.h,t),ei(this,"refreshToken",this.h.a),Fl(this,n||{}),xn.call(this),this.P=!1,this.s&&Mr()&&(this.b=Yc(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(e){return new yl((function(){return e.I(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var t=e.h.c-Date.now()-3e5;return 0<t?t:0}))}(this),this.ba=S(this.ib,this);var i=this;this.za=null,this.Pa=function(e){i.xa(e.h)},this.qa=null,this.Ba=function(e){kl(i,e.c)},this.$=null,this.aa=[],this.Oa=function(e){Il(i,e.f)},this.ja=null,this.S=new ml(this,n),ei(this,"multiFactor",this.S)}function kl(e,t){e.u=t,ls(e.a,t),e.b&&(t=e.b,e.b=Yc(e.s,e.l,e.m,e.u),e.P&&(Vc(t,e),Uc(e.b,e)))}function Tl(e,t){e.qa&&vn(e.qa,"languageCodeChanged",e.Pa),(e.qa=t)&&dn(t,"languageCodeChanged",e.Pa)}function Al(e,t){e.$&&vn(e.$,"emulatorConfigChanged",e.Ba),(e.$=t)&&dn(t,"emulatorConfigChanged",e.Ba)}function Il(e,t){e.aa=t,ds(e.a,o.Z.SDK_VERSION?Pr(o.Z.SDK_VERSION,e.aa):null)}function Dl(e,t){e.ja&&vn(e.ja,"frameworkChanged",e.Oa),(e.ja=t)&&dn(t,"frameworkChanged",e.Oa)}function Pl(e){try{return o.Z.app(e.m).auth()}catch(t){throw new T("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function Rl(e){e.J||e.D.b||(e.D.start(),vn(e,"tokenChanged",e.ba),dn(e,"tokenChanged",e.ba))}function Nl(e){vn(e,"tokenChanged",e.ba),e.D.stop()}function jl(e,t){e.Aa=t,ei(e,"_lat",t)}function Ml(e){for(var t=[],n=0;n<e.W.length;n++)t.push(e.W[n](e));return Rt(t).then((function(){return e}))}function Ll(e){e.b&&!e.P&&(e.P=!0,Uc(e.b,e))}function Fl(e,t){ti(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new xl(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function Bl(){}function Ul(e){return It().then((function(){if(e.J)throw new T("app-deleted")}))}function Vl(e){return K(e.providerData,(function(e){return e.providerId}))}function zl(e,t){t&&(ql(e,t.providerId),e.providerData.push(t))}function ql(e,t){X(e.providerData,(function(e){return e.providerId==t}))}function Zl(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&ei(e,t,n)}function Hl(e,t){e!=t&&(ti(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?ei(e,"metadata",function(e){return new xl(e.a,e.b)}(t.metadata)):ei(e,"metadata",new xl),W(t.providerData,(function(t){zl(e,t)})),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.h,t.h),ei(e,"refreshToken",e.h.a),gl(e.S,t.S.b))}function Wl(e){return e.I().then((function(t){var n=e.isAnonymous;return function(e,t){return cu(e.a,Us,{idToken:t}).then(S(e.Kc,e))}(e,t).then((function(){return n||Zl(e,"isAnonymous",!1),t}))}))}function Gl(e,t){t[is]&&e.Aa!=t[is]&&(El(e.h,t),e.dispatchEvent(new vl("tokenChanged")),jl(e,t[is]),Zl(e,"refreshToken",e.h.a))}function Kl(e,t){return Wl(e).then((function(){if(Y(Vl(e),t))return Ml(e).then((function(){throw new T("provider-already-linked")}))}))}function Jl(e,t,n){return ni({user:e,credential:qo(t),additionalUserInfo:t=eo(t),operationType:n})}function Yl(e,t){return Gl(e,t),e.reload().then((function(){return e}))}function $l(e,t,n,r,i){if(!Mr())return Dt(new T("operation-not-supported-in-this-environment"));if(e.i&&!i)return Dt(e.i);var a=Qi(n.providerId),s=qr(e.uid+":::"),u=null;(!Br()||xr())&&e.s&&n.isOAuthProvider&&(u=xu(e.s,e.l,e.m,t,n,null,s,o.Z.SDK_VERSION||null,null,null,e.tenantId,e.u));var c=br(u,a&&a.va,a&&a.ua);return r=r().then((function(){if(Ql(e),!i)return e.I().then((function(){}))})).then((function(){return Zc(e.b,c,t,n,s,!!u,e.tenantId)})).then((function(){return new St((function(n,r){e.na(t,null,new T("cancelled-popup-request"),e.g||null),e.f=n,e.C=r,e.g=s,e.c=Gc(e.b,e,t,c,s)}))})).then((function(e){return c&&yr(c),e?ni(e):null})).o((function(e){throw c&&yr(c),e})),ef(e,r,i)}function Xl(e,t,n,r,i){if(!Mr())return Dt(new T("operation-not-supported-in-this-environment"));if(e.i&&!i)return Dt(e.i);var o=null,a=qr(e.uid+":::");return r=r().then((function(){if(Ql(e),!i)return e.I().then((function(){}))})).then((function(){return e.ga=a,Ml(e)})).then((function(t){return e.ha&&(t=(t=e.ha).b.set(rf,e.w(),t.a)),t})).then((function(){return Wc(e.b,t,n,a,e.tenantId)})).o((function(t){if(o=t,e.ha)return of(e.ha);throw o})).then((function(){if(o)throw o})),ef(e,r,i)}function Ql(e){if(!e.b||!e.P){if(e.b&&!e.P)throw new T("internal-error");throw new T("auth-domain-config-required")}}function ef(e,t,n){var r=function(e,t,n){return e.i&&!n?(t.cancel(),Dt(e.i)):t.o((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.i||e.dispatchEvent(new vl("userInvalidated")),e.i=t),t}))}(e,t,n);return e.N.push(r),r.oa((function(){$(e.N,r)})),r.o((function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=fl(t.w(),Pl(e),S(e.jc,e))),n||t}))}function tf(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},n={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;n[is]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null;var r=e.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new Cl(t,n,e);return e.providerData&&W(e.providerData,(function(e){e&&zl(i,ni(e))})),e.redirectEventId&&(i.ga=e.redirectEventId),i}function nf(e){this.a=e,this.b=sc()}sl.prototype.Rc=function(e){var t=this;return e.tb(this.a.a,this.c).then((function(e){var n=ge(t.f);return delete n[ul],delete n[cl],be(n,e),t.g(n)}))},C(ll,T),dl.prototype.tb=function(e,t,n){return t.type==fo?function(e,t,n,r){return n.Ha().then((function(n){return n={idToken:n},"undefined"!==typeof r&&(n.displayName=r),be(n,{phoneVerificationInfo:Uo(e.a)}),cu(t,Fs,n)}))}(this,e,t,n):function(e,t,n){return n.Ha().then((function(n){return be(n={mfaPendingCredential:n},{phoneVerificationInfo:Uo(e.a)}),cu(t,Bs,n)}))}(this,e,t)},C(hl,dl),C(pl,hl),C(vl,Qt),(e=ml.prototype).yc=function(e){gl(this,function(e){var t=[];return W(e.mfaInfo||[],(function(e){(e=oi(e))&&t.push(e)})),t}(e.hd))},e.Sb=function(){return this.a.I().then((function(e){return new lo(e,null)}))},e.fc=function(e,t){var n=this,r=this.a.a;return this.Sb().then((function(n){return e.tb(r,n,t)})).then((function(e){return Gl(n.a,e),n.a.reload()}))},e.bd=function(e){var t=this,n="string"===typeof e?e:e.uid,r=this.a.a;return this.a.I().then((function(e){return cu(r,uu,{idToken:e,mfaEnrollmentId:n})})).then((function(e){var r=G(t.b,(function(e){return e.uid!=n}));return gl(t,r),Gl(t.a,e),t.a.reload().o((function(e){if("auth/user-token-expired"!=e.code)throw e}))}))},e.w=function(){return{multiFactor:{enrolledFactors:K(this.b,(function(e){return e.w()}))}}},yl.prototype.start=function(){this.a=this.c,bl(this,!0)},yl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},wl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},wl.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?Dt(new T("user-token-expired")):e||!this.b||Date.now()>this.c-3e4?this.a?Sl(this,{grant_type:"refresh_token",refresh_token:this.a}):It(null):It({accessToken:this.b.toString(),refreshToken:this.a})},xl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},C(Cl,xn),Cl.prototype.xa=function(e){this.za=e,cs(this.a,e)},Cl.prototype.la=function(){return this.za},Cl.prototype.Ga=function(){return ee(this.aa)},Cl.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},ei(Cl.prototype,"providerId","firebase"),(e=Cl.prototype).reload=function(){var e=this;return ef(this,Ul(this).then((function(){return Wl(e).then((function(){return Ml(e)})).then(Bl)})))},e.oc=function(e){return this.I(e).then((function(e){return new al(e)}))},e.I=function(e){var t=this;return ef(this,Ul(this).then((function(){return t.h.getToken(e)})).then((function(e){if(!e)throw new T("internal-error");return e.accessToken!=t.Aa&&(jl(t,e.accessToken),t.dispatchEvent(new vl("tokenChanged"))),Zl(t,"refreshToken",e.refreshToken),e.accessToken})))},e.Kc=function(e){if(!(e=e.users)||!e.length)throw new T("internal-error");Fl(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?K(e,(function(e){return new Ol(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[]}(e),n=0;n<t.length;n++)zl(this,t[n]);Zl(this,"isAnonymous",!(this.email&&e.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new vl("userReloaded",{hd:e}))},e.Lc=function(e){return Xr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(e)},e.ub=function(e){var t=this,n=null;return ef(this,e.c(this.a,this.uid).then((function(e){return Gl(t,e),n=Jl(t,e,"reauthenticate"),t.i=null,t.reload()})).then((function(){return n})),!0)},e.Cc=function(e){return Xr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(e)},e.rb=function(e){var t=this,n=null;return ef(this,Kl(this,e.providerId).then((function(){return t.I()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=Jl(t,e,"link"),Yl(t,e)})).then((function(){return n})))},e.Dc=function(e,t){var n=this;return ef(this,Kl(this,"phone").then((function(){return ol(Pl(n),e,t,S(n.rb,n))})))},e.Mc=function(e,t){var n=this;return ef(this,It().then((function(){return ol(Pl(n),e,t,S(n.ub,n))})),!0)},e.Cb=function(e){var t=this;return ef(this,this.I().then((function(n){return t.a.Cb(n,e)})).then((function(e){return Gl(t,e),t.reload()})))},e.ed=function(e){var t=this;return ef(this,this.I().then((function(n){return e.b(t.a,n)})).then((function(e){return Gl(t,e),t.reload()})))},e.Db=function(e){var t=this;return ef(this,this.I().then((function(n){return t.a.Db(n,e)})).then((function(e){return Gl(t,e),t.reload()})))},e.Eb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Ul(this);var t=this;return ef(this,this.I().then((function(n){return t.a.Eb(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return Gl(t,e),Zl(t,"displayName",e.displayName||null),Zl(t,"photoURL",e.photoUrl||null),W(t.providerData,(function(e){"password"===e.providerId&&(ei(e,"displayName",t.displayName),ei(e,"photoURL",t.photoURL))})),Ml(t)})).then(Bl))},e.cd=function(e){var t=this;return ef(this,Wl(this).then((function(n){return Y(Vl(t),e)?function(e,t,n){return cu(e,js,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then((function(e){var n={};return W(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),W(Vl(t),(function(e){n[e]||ql(t,e)})),n[Vo.PROVIDER_ID]||ei(t,"phoneNumber",null),Ml(t)})):Ml(t).then((function(){throw new T("no-such-provider")}))})))},e.delete=function(){var e=this;return ef(this,this.I().then((function(t){return cu(e.a,Ns,{idToken:t})})).then((function(){e.dispatchEvent(new vl("userDeleted"))}))).then((function(){for(var t=0;t<e.N.length;t++)e.N[t].cancel("app-deleted");Tl(e,null),Al(e,null),Dl(e,null),e.N=[],e.J=!0,Nl(e),ei(e,"refreshToken",null),e.b&&Vc(e.b,e)}))},e.Gb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ga||null)==t||"reauthViaRedirect"==e&&(this.ga||null)==t)},e.na=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?S(this.Lb,this):"reauthViaPopup"==e&&t==(this.g||null)?S(this.Mb,this):"linkViaRedirect"==e&&(this.ga||null)==t?S(this.Lb,this):"reauthViaRedirect"==e&&(this.ga||null)==t?S(this.Mb,this):null},e.Ec=function(e){var t=this;return $l(this,"linkViaPopup",e,(function(){return Kl(t,e.providerId).then((function(){return Ml(t)}))}),!1)},e.Nc=function(e){return $l(this,"reauthViaPopup",e,(function(){return It()}),!0)},e.Fc=function(e){var t=this;return Xl(this,"linkViaRedirect",e,(function(){return Kl(t,e.providerId)}),!1)},e.Oc=function(e){return Xl(this,"reauthViaRedirect",e,(function(){return It()}),!0)},e.Lb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return ef(this,this.I().then((function(n){return ks(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})})).then((function(e){return o=Jl(i,e,"link"),Yl(i,e)})).then((function(){return o})))},e.Mb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return ef(this,It().then((function(){return vo(Ts(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)})).then((function(e){return o=Jl(i,e,"reauthenticate"),Gl(i,e),i.i=null,i.reload()})).then((function(){return o})),!0)},e.vb=function(e){var t=this,n=null;return ef(this,this.I().then((function(t){return n=t,"undefined"===typeof e||me(e)?{}:Zi(new Ni(e))})).then((function(e){return t.a.vb(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},e.Fb=function(e,t){var n=this,r=null;return ef(this,this.I().then((function(e){return r=e,"undefined"===typeof t||me(t)?{}:Zi(new Ni(t))})).then((function(t){return n.a.Fb(r,e,t)})).then((function(e){if(n.email!=e)return n.reload()})).then((function(){})))},e.jc=function(e){var t=null,n=this;return ef(this,e=vo(It(e),n.uid).then((function(e){return t=Jl(n,e,"reauthenticate"),Gl(n,e),n.i=null,n.reload()})).then((function(){return t})),!0)},e.toJSON=function(){return this.w()},e.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&be(e,this.metadata.w()),W(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),be(e,this.S.w()),e};var rf={name:"redirectUser",F:"session"};function of(e){return lc(e.b,rf,e.a)}function af(e){this.a=e,this.b=sc(),this.c=null,this.f=function(e){var t=cf("local"),n=cf("session"),r=cf("none");return function(e,t,n){var r=cc(t,n),i=uc(e,t.F);return e.get(t,n).then((function(o){var a=null;try{a=zr(u.localStorage.getItem(r))}catch(s){}if(a&&!o)return u.localStorage.removeItem(r),e.set(t,a,n);a&&o&&"localStorage"!=i.type&&u.localStorage.removeItem(r)}))}(e.b,t,e.a).then((function(){return e.b.get(n,e.a)})).then((function(i){return i?n:e.b.get(r,e.a).then((function(n){return n?r:e.b.get(t,e.a).then((function(n){return n?t:e.b.get(uf,e.a).then((function(e){return e?cf(e):t}))}))}))})).then((function(t){return e.c=t,sf(e,t.F)})).o((function(){e.c||(e.c=t)}))}(this),this.b.addListener(cf("local"),this.a,S(this.g,this))}function sf(e,t){var n,r=[];for(n in oc)oc[n]!==t&&r.push(lc(e.b,cf(oc[n]),e.a));return r.push(lc(e.b,uf,e.a)),function(e){return new St((function(t,n){var r=e.length,i=[];if(r)for(var o=function(e,n){r--,i[e]=n,0==r&&t(i)},a=function(e){n(e)},s=0;s<e.length;s++)Pt(e[s],x(o,s),a);else t(i)}))}(r)}af.prototype.g=function(){var e=this,t=cf("local");hf(this,(function(){return It().then((function(){return e.c&&"local"!=e.c.F?e.b.get(t,e.a):null})).then((function(n){if(n)return sf(e,"local").then((function(){e.c=t}))}))}))};var uf={name:"persistence",F:"session"};function cf(e){return{name:"authUser",F:e}}function lf(e,t){return hf(e,(function(){return e.b.set(e.c,t.w(),e.a)}))}function ff(e){return hf(e,(function(){return lc(e.b,e.c,e.a)}))}function df(e,t,n){return hf(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),e&&n&&(e.emulatorConfig=n),tf(e||{})}))}))}function hf(e,t){return e.f=e.f.then(t,t),e.f}function pf(e){if(this.l=!1,ei(this,"settings",new rl),ei(this,"app",e),!Sf(this).options||!Sf(this).options.apiKey)throw new T("invalid-api-key");e=o.Z.SDK_VERSION?Pr(o.Z.SDK_VERSION):null,this.a=new ns(Sf(this).options&&Sf(this).options.apiKey,N(I),e),this.P=[],this.s=[],this.N=[],this.Pa=o.Z.INTERNAL.createSubscribe(S(this.zc,this)),this.W=void 0,this.ib=o.Z.INTERNAL.createSubscribe(S(this.Ac,this)),_f(this,null),this.i=new af(Sf(this).options.apiKey+":"+Sf(this).name),this.D=new nf(Sf(this).options.apiKey+":"+Sf(this).name),this.$=kf(this,function(e){var t=Sf(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(rf,e.a).then((function(e){return e&&t&&(e.authDomain=t),tf(e||{})}))}(e.D,Sf(e).options.authDomain).then((function(t){return(e.m=t)&&(t.ha=e.D),of(e.D)}));return kf(e,t)}(e).then((function(){return df(e.i,t,e.R)})).then((function(t){return t?(t.ha=e.D,e.m&&(e.m.ga||null)==(t.ga||null)?t:t.reload().then((function(){return lf(e.i,t).then((function(){return t}))})).o((function(n){return"auth/network-request-failed"==n.code?t:ff(e.i)}))):null})).then((function(t){_f(e,t||null)}));return kf(e,n)}(this)),this.h=kf(this,function(e){return e.$.then((function(){return bf(e)})).o((function(){})).then((function(){if(!e.l)return e.ja()})).o((function(){})).then((function(){if(!e.l){e.ba=!0;var t=e.i;t.b.addListener(cf("local"),t.a,e.ja)}}))}(this)),this.ba=!1,this.ja=S(this.Zc,this),this.Ba=S(this.da,this),this.qa=S(this.mc,this),this.za=S(this.wc,this),this.Aa=S(this.xc,this),this.b=null,function(e){var t=Sf(e).options.authDomain,n=Sf(e).options.apiKey;t&&Mr()&&(e.Oa=e.$.then((function(){if(!e.l){if(e.b=Yc(t,n,Sf(e).name,e.R),Uc(e.b,e),xf(e)&&Ll(xf(e)),e.m){Ll(e.m);var r=e.m;r.xa(e.la()),Tl(r,e),Il(r=e.m,e.J),Dl(r,e),kl(r=e.m,e.R),Al(r,e),e.m=null}return e.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=S(this.delete,this),this.INTERNAL.logFramework=S(this.Gc,this),this.u=0,xn.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.la()},set:function(e){this.xa(e)},enumerable:!1}),e.aa=null,Object.defineProperty(e,"ti",{get:function(){return this.T()},set:function(e){this.zb(e)},enumerable:!1}),e.S=null,Object.defineProperty(e,"emulatorConfig",{get:function(){if(this.R){var e=qn(this.R.url);e=ni({protocol:e.c,host:e.a,port:e.g,options:ni({disableWarnings:this.R.ec})})}else e=null;return e},enumerable:!1})}(this),this.J=[],this.R=null}function vf(e){Qt.call(this,"languageCodeChanged"),this.h=e}function mf(e){Qt.call(this,"emulatorConfigChanged"),this.c=e}function gf(e){Qt.call(this,"frameworkChanged"),this.f=e}function yf(e){return e.Oa||Dt(new T("auth-domain-config-required"))}function bf(e){if(!Mr())return Dt(new T("operation-not-supported-in-this-environment"));var t=yf(e).then((function(){return e.b.ra()})).then((function(e){return e?ni(e):null}));return kf(e,t)}function wf(e,t){var n={};return n.apiKey=Sf(e).options.apiKey,n.authDomain=Sf(e).options.authDomain,n.appName=Sf(e).name,e.R&&(n.emulatorConfig=e.R),e.$.then((function(){return function(e,t,n,r){var i=new Cl(e,t);return n&&(i.ha=n),r&&Il(i,r),i.reload().then((function(){return i}))}(n,t,e.D,e.Ga())})).then((function(t){return xf(e)&&t.uid==xf(e).uid?(Hl(xf(e),t),e.da(t)):(_f(e,t),Ll(t),e.da(t))})).then((function(){Cf(e)}))}function _f(e,t){xf(e)&&(function(e,t){X(e.W,(function(e){return e==t}))}(xf(e),e.Ba),vn(xf(e),"tokenChanged",e.qa),vn(xf(e),"userDeleted",e.za),vn(xf(e),"userInvalidated",e.Aa),Nl(xf(e))),t&&(t.W.push(e.Ba),dn(t,"tokenChanged",e.qa),dn(t,"userDeleted",e.za),dn(t,"userInvalidated",e.Aa),0<e.u&&Rl(t)),ei(e,"currentUser",t),t&&(t.xa(e.la()),Tl(t,e),Il(t,e.J),Dl(t,e),kl(t,e.R),Al(t,e))}function Ef(e,t){var n=null,r=null;return kf(e,t.then((function(t){return n=qo(t),r=eo(t),wf(e,t)}),(function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=fl(t.w(),e,S(e.kc,e))),n||t})).then((function(){return ni({user:xf(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function Sf(e){return e.app}function xf(e){return e.currentUser}function Of(e){return xf(e)&&xf(e)._lat||null}function Cf(e){if(e.ba){for(var t=0;t<e.s.length;t++)e.s[t]&&e.s[t](Of(e));if(e.W!==e.getUid()&&e.N.length)for(e.W=e.getUid(),t=0;t<e.N.length;t++)e.N[t]&&e.N[t](Of(e))}}function kf(e,t){return e.P.push(t),t.oa((function(){$(e.P,t)})),t}function Tf(){}function Af(){this.a={},this.b=1e12}af.prototype.yb=function(e){var t=null,n=this;return function(e){var t=new T("invalid-persistence-type"),n=new T("unsupported-persistence-type");e:{for(r in oc)if(oc[r]==e){var r=!0;break e}r=!1}if(!r||"string"!==typeof e)throw t;switch(Cr()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;case"Worker":if("session"===e||!Fu()&&"none"!==e)throw n;break;default:if(!jr()&&"none"!==e)throw n}}(e),hf(this,(function(){return e!=n.c.F?n.b.get(n.c,n.a).then((function(r){return t=r,sf(n,e)})).then((function(){if(n.c=cf(e),t)return n.b.set(n.c,t,n.a)})):It()}))},C(pf,xn),C(vf,Qt),C(mf,Qt),C(gf,Qt),(e=pf.prototype).yb=function(e){return kf(this,e=this.i.yb(e))},e.xa=function(e){this.aa===e||this.l||(this.aa=e,cs(this.a,this.aa),this.dispatchEvent(new vf(this.la())))},e.la=function(){return this.aa},e.fd=function(){var e=u.navigator;this.xa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},e.gd=function(e,t){if(!this.R){if(!/^https?:\/\//.test(e))throw new T("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(e){"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),u.document&&!e&&Er().then((function(){var e=u.document.createElement("div");e.innerText="Running in emulator mode. Do not use with production credentials.",e.style.position="fixed",e.style.width="100%",e.style.backgroundColor="#ffffff",e.style.border=".1em solid #000000",e.style.color="#b50000",e.style.bottom="0px",e.style.left="0px",e.style.margin="0px",e.style.zIndex=1e4,e.style.textAlign="center",e.classList.add("firebase-emulator-warning"),u.document.body.appendChild(e)}))})(t=!!t&&!!t.disableWarnings),this.R={url:e,ec:t},this.settings.jb=!0,ls(this.a,this.R),this.dispatchEvent(new mf(this.R))}},e.Gc=function(e){this.J.push(e),ds(this.a,o.Z.SDK_VERSION?Pr(o.Z.SDK_VERSION,this.J):null),this.dispatchEvent(new gf(this.J))},e.Ga=function(){return ee(this.J)},e.zb=function(e){this.S===e||this.l||(this.S=e,this.a.b=this.S)},e.T=function(){return this.S},e.toJSON=function(){return{apiKey:Sf(this).options.apiKey,authDomain:Sf(this).options.authDomain,appName:Sf(this).name,currentUser:xf(this)&&xf(this).w()}},e.Gb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},e.na=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?S(this.ic,this):null},e.ic=function(e,t,n,r){var i=this,o={requestUri:e,postBody:r,sessionId:t,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return Ef(i,Cs(i.a,o))}))},e.Xc=function(e){if(!Mr())return Dt(new T("operation-not-supported-in-this-environment"));var t=this,n=Qi(e.providerId),r=qr(),i=null;(!Br()||xr())&&Sf(this).options.authDomain&&e.isOAuthProvider&&(i=xu(Sf(this).options.authDomain,Sf(this).options.apiKey,Sf(this).name,"signInViaPopup",e,null,r,o.Z.SDK_VERSION||null,null,null,this.T(),this.R));var a=br(i,n&&n.va,n&&n.ua);return kf(this,n=yf(this).then((function(n){return Zc(n,a,"signInViaPopup",e,r,!!i,t.T())})).then((function(){return new St((function(e,n){t.na("signInViaPopup",null,new T("cancelled-popup-request"),t.g),t.f=e,t.C=n,t.g=r,t.c=Gc(t.b,t,"signInViaPopup",a,r)}))})).then((function(e){return a&&yr(a),e?ni(e):null})).o((function(e){throw a&&yr(a),e})))},e.Yc=function(e){if(!Mr())return Dt(new T("operation-not-supported-in-this-environment"));var t=this,n=yf(this).then((function(){return function(e){return hf(e,(function(){return e.b.set(uf,e.c.F,e.a)}))}(t.i)})).then((function(){return Wc(t.b,"signInViaRedirect",e,void 0,t.T())}));return kf(this,n)},e.ra=function(){var e=this;return bf(this).then((function(t){return e.b&&Qc(e.b.b),t})).o((function(t){throw e.b&&Qc(e.b.b),t}))},e.dd=function(e){if(!e)return Dt(new T("null-user"));if(this.S!=e.tenantId)return Dt(new T("tenant-id-mismatch"));var t=this,n={};n.apiKey=Sf(this).options.apiKey,n.authDomain=Sf(this).options.authDomain,n.appName=Sf(this).name;var r=function(e,t,n,r){var i=e.h,o={};return o[is]=i.b&&i.b.toString(),o.refreshToken=i.a,t=new Cl(t||{apiKey:e.l,authDomain:e.s,appName:e.m},o),n&&(t.ha=n),r&&Il(t,r),Hl(t,e),t}(e,n,t.D,t.Ga());return kf(this,this.h.then((function(){if(Sf(t).options.apiKey!=e.l)return r.reload()})).then((function(){return xf(t)&&e.uid==xf(t).uid?(Hl(xf(t),e),t.da(e)):(_f(t,r),Ll(r),t.da(r))})).then((function(){Cf(t)})))},e.Bb=function(){var e=this;return kf(this,this.h.then((function(){return e.b&&Qc(e.b.b),xf(e)?(_f(e,null),ff(e.i).then((function(){Cf(e)}))):It()})))},e.Zc=function(){var e=this;return df(this.i,Sf(this).options.authDomain).then((function(t){if(!e.l){var n;if(n=xf(e)&&t){n=xf(e).uid;var r=t.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Hl(xf(e),t),xf(e).I();(xf(e)||t)&&(_f(e,t),t&&(Ll(t),t.ha=e.D),e.b&&Uc(e.b,e),Cf(e))}}))},e.da=function(e){return lf(this.i,e)},e.mc=function(){Cf(this),this.da(xf(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()},e.kc=function(e){var t=this;return this.h.then((function(){return Ef(t,It(e))}))},e.zc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(xf(t))}))},e.Ac=function(e){var t=this;!function(e,t){e.N.push(t),kf(e,e.h.then((function(){!e.l&&Y(e.N,t)&&e.W!==e.getUid()&&(e.W=e.getUid(),t(Of(e)))})))}(this,(function(){e.next(xf(t))}))},e.Ic=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"===typeof e?e(xf(r)):"function"===typeof e.next&&e.next(xf(r))})),this.Pa(e,t,n)},e.Hc=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.W=r.getUid(),"function"===typeof e?e(xf(r)):"function"===typeof e.next&&e.next(xf(r))})),this.ib(e,t,n)},e.nc=function(e){var t=this;return kf(this,this.h.then((function(){return xf(t)?xf(t).I(e).then((function(e){return{accessToken:e}})):null})))},e.Tc=function(e){var t=this;return this.h.then((function(){return Ef(t,cu(t.a,ru,{token:e}))})).then((function(e){var n=e.user;return Zl(n,"isAnonymous",!1),t.da(n),e}))},e.Uc=function(e,t){var n=this;return this.h.then((function(){return Ef(n,cu(n.a,iu,{email:e,password:t}))}))},e.dc=function(e,t){var n=this;return this.h.then((function(){return Ef(n,cu(n.a,Ps,{email:e,password:t}))}))},e.ab=function(e){var t=this;return this.h.then((function(){return Ef(t,e.ka(t.a))}))},e.Sc=function(e){return Xr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(e)},e.Ab=function(){var e=this;return this.h.then((function(){var t=xf(e);if(t&&t.isAnonymous){var n=ni({providerId:null,isNewUser:!1});return ni({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return Ef(e,e.a.Ab()).then((function(t){var n=t.user;return Zl(n,"isAnonymous",!0),e.da(n),t}))}))},e.getUid=function(){return xf(this)&&xf(this).uid||null},e.cc=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&xf(this)&&Rl(xf(this))},e.Pc=function(e){var t=this;W(this.s,(function(n){n==e&&t.u--})),0>this.u&&(this.u=0),0==this.u&&xf(this)&&Nl(xf(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.s.push(e),kf(this,this.h.then((function(){t.l||Y(t.s,e)&&e(Of(t))})))},e.removeAuthTokenListener=function(e){X(this.s,(function(t){return t==e}))},e.delete=function(){this.l=!0;for(var e=0;e<this.P.length;e++)this.P[e].cancel("app-deleted");return this.P=[],this.i&&(e=this.i).b.removeListener(cf("local"),e.a,this.ja),this.b&&(Vc(this.b,this),Qc(this.b.b)),Promise.resolve()},e.hc=function(e){return kf(this,function(e,t){return cu(e,Rs,{identifier:t,continueUri:Lr()?pr():"http://localhost"}).then((function(e){return e.signinMethods||[]}))}(this.a,e))},e.Bc=function(e){return!!Lo(e)},e.xb=function(e,t){var n=this;return kf(this,It().then((function(){var e=new Ni(t);if(!e.c)throw new T("argument-error",Li+" must be true when sending sign in link to email");return Zi(e)})).then((function(t){return n.a.xb(e,t)})).then((function(){})))},e.jd=function(e){return this.Sa(e).then((function(e){return e.data.email}))},e.ob=function(e,t){return kf(this,this.a.ob(e,t).then((function(){})))},e.Sa=function(e){return kf(this,this.a.Sa(e).then((function(e){return new fi(e)})))},e.kb=function(e){return kf(this,this.a.kb(e).then((function(){})))},e.wb=function(e,t){var n=this;return kf(this,It().then((function(){return"undefined"===typeof t||me(t)?{}:Zi(new Ni(t))})).then((function(t){return n.a.wb(e,t)})).then((function(){})))},e.Wc=function(e,t){return kf(this,ol(this,e,t,S(this.ab,this)))},e.Vc=function(e,t){var n=this;return kf(this,It().then((function(){var r=t||pr(),i=Mo(e,r);if(!(r=Lo(r)))throw new T("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new T("tenant-id-mismatch");return n.ab(i)})))},Tf.prototype.render=function(){},Tf.prototype.reset=function(){},Tf.prototype.getResponse=function(){},Tf.prototype.execute=function(){};var If=null;function Df(e,t){return(t=Pf(t))&&e.a[t]||null}function Pf(e){return(e="undefined"===typeof e?1e12:e)?e.toString():null}function Rf(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ft(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():dn(this.f,"click",this.i)}function Nf(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function jf(){}function Mf(){}Af.prototype.render=function(e,t){return this.a[this.b.toString()]=new Rf(e,t),this.b++},Af.prototype.reset=function(e){var t=Df(this,e);e=Pf(e),t&&e&&(t.delete(),delete this.a[e])},Af.prototype.getResponse=function(e){return(e=Df(this,e))?e.getResponse():null},Af.prototype.execute=function(e){(e=Df(this,e))&&e.execute()},Rf.prototype.getResponse=function(){return Nf(this),this.b},Rf.prototype.execute=function(){Nf(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(r){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(r){}e.h&&e.execute()}),6e4)}),500))},Rf.prototype.delete=function(){Nf(this),this.g=!0,clearTimeout(this.a),this.a=null,vn(this.f,"click",this.i)},ei(jf,"FACTOR_ID","phone"),Mf.prototype.g=function(){return If||(If=new Af),It(If)},Mf.prototype.c=function(){};var Lf=null;function Ff(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Bf=new _e(Oe,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Uf=new Wr(3e4,6e4);Ff.prototype.g=function(e){var t=this;return new St((function(n,r){var i=setTimeout((function(){r(new T("network-request-failed"))}),Uf.get());!u.grecaptcha||e!==t.f&&!t.b?(u[t.a]=function(){if(u.grecaptcha){t.f=e;var o=u.grecaptcha.render;u.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(u.grecaptcha)}else clearTimeout(i),r(new T("internal-error"));delete u[t.a]},It(Ja(Ae(Bf,{onload:t.a,hl:e||""}))).o((function(){clearTimeout(i),r(new T("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(u.grecaptcha))}))},Ff.prototype.c=function(){this.b--};var Vf=null;function zf(e,t,n,r,i,o,a){if(ei(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=t,this.g=null,a?(Lf||(Lf=new Mf),a=Lf):(Vf||(Vf=new Ff),a=Vf),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Hf])throw new T("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Wf],!u.document)throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ft(t)||!this.i&&ft(t).hasChildNodes())throw new T("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new ns(e,o||null,i||null),this.u=r||function(){return null};var s=this;this.l=[];var c=this.a[qf];this.a[qf]=function(e){if(Gf(s,e),"function"===typeof c)c(e);else if("string"===typeof c){var t=Nr(c,u);"function"===typeof t&&t(e)}};var l=this.a[Zf];this.a[Zf]=function(){if(Gf(s,null),"function"===typeof l)l();else if("string"===typeof l){var e=Nr(l,u);"function"===typeof e&&e()}}}var qf="callback",Zf="expired-callback",Hf="sitekey",Wf="size";function Gf(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(r){}}function Kf(e,t){return e.h.push(t),t.oa((function(){$(e.h,t)})),t}function Jf(e){if(e.J)throw new T("internal-error","RecaptchaVerifier instance has been destroyed.")}function Yf(e,t,n){var r=!1;try{this.b=n||o.Z.app()}catch(s){throw new T("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new T("invalid-api-key");n=this.b.options.apiKey;var i=this,a=null;try{a=this.b.auth().Ga()}catch(s){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}a=o.Z.SDK_VERSION?Pr(o.Z.SDK_VERSION,a):null,zf.call(this,n,e,t,(function(){try{var e=i.b.auth().la()}catch(t){e=null}return e}),a,N(I),r)}function $f(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new T("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].M(n[i])&&!o){if(t=t[i],0>i||i>=Xf.length)throw new T("internal-error","Argument validator received an unsupported number of arguments.");n=Xf[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new T("argument-error",e+" failed: "+r)}(e=zf.prototype).Ia=function(){var e=this;return this.f?this.f:this.f=Kf(this,It().then((function(){if(Lr()&&!Or())return Er();throw new T("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.m.g(e.u())})).then((function(t){return e.g=t,cu(e.s,Ws,{})})).then((function(t){e.a[Hf]=t.recaptchaSiteKey})).o((function(t){throw e.f=null,t})))},e.render=function(){Jf(this);var e=this;return Kf(this,this.Ia().then((function(){if(null===e.c){var t=e.v;if(!e.i){var n=ft(t);t=function(e,t,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!lt&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',We(a.name),'"'),a.type){o.push(' type="',We(a.type),'"');var s={};be(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=gt(i,o),a&&("string"===typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):dt(o,a)),2<r.length&&mt(i,o,r),o}("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c})))},e.verify=function(){Jf(this);var e=this;return Kf(this,this.render().then((function(t){return new St((function(n){var r=e.g.getResponse(t);if(r)n(r);else{var i=function(t){t&&(function(e,t){X(e.l,(function(e){return e==t}))}(e,i),n(t))};e.l.push(i),e.i&&e.g.execute(e.c)}}))})))},e.reset=function(){Jf(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){Jf(this),this.J=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=ft(this.v);for(var t;t=e.firstChild;)e.removeChild(t)}},C(Yf,zf);var Xf="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Qf(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:function(e){return"string"===typeof e}}}function ed(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:function(e){return"boolean"===typeof e}}}function td(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:m}}function nd(e,t){return{name:e||"",K:"a function",optional:!!t,M:function(e){return"function"===typeof e}}}function rd(e,t){return{name:e||"",K:"null",optional:!!t,M:function(e){return null===e}}}function id(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.ka||!n)}}}function od(e,t){return m(e)&&"string"===typeof e.type&&e.type===t&&"function"===typeof e.Ha}function ad(e){return m(e)&&"string"===typeof e.uid}function sd(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function ud(e,t){for(var n in t){var r=t[n].name;e[r]=fd(r,e[n],t[n].j)}}function cd(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:x((function(e){return this[e]}),n),set:x((function(e,t,n,r){$f(e,[n],[r],!0),this[t]=r}),r,n,t[n].lb),enumerable:!0})}}function ld(e,t,n,r){e[t]=fd(t,n,r)}function fd(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return $f(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=function(e){return(e=e.split("."))[e.length-1]}(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}ud(pf.prototype,{kb:{name:"applyActionCode",j:[Qf("code")]},Sa:{name:"checkActionCode",j:[Qf("code")]},ob:{name:"confirmPasswordReset",j:[Qf("code"),Qf("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Qf("email"),Qf("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Qf("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Qf("emailLink")]},Hc:{name:"onAuthStateChanged",j:[sd(td(),nd(),"nextOrObserver"),nd("opt_error",!0),nd("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[sd(td(),nd(),"nextOrObserver"),nd("opt_error",!0),nd("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Qf("email"),sd(td("opt_actionCodeSettings",!0),rd(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Qf("email"),td("actionCodeSettings")]},yb:{name:"setPersistence",j:[Qf("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[id()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[id()]},Tc:{name:"signInWithCustomToken",j:[Qf("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Qf("email"),Qf("password")]},Vc:{name:"signInWithEmailLink",j:[Qf("email"),Qf("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Qf("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[sd({name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof Cl)}},rd(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Qf(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Qf("url"),td("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Qf("code")]}}),cd(pf.prototype,{lc:{name:"languageCode",lb:sd(Qf(),rd(),"languageCode")},ti:{name:"tenantId",lb:sd(Qf(),rd(),"tenantId")}}),pf.Persistence=oc,pf.Persistence.LOCAL="local",pf.Persistence.SESSION="session",pf.Persistence.NONE="none",ud(Cl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[ed("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[ed("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[id()]},rb:{name:"linkWithCredential",j:[id()]},Dc:{name:"linkWithPhoneNumber",j:[Qf("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[id()]},ub:{name:"reauthenticateWithCredential",j:[id()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Qf("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[sd(td("opt_actionCodeSettings",!0),rd(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Qf(null,!0)]},cd:{name:"unlink",j:[Qf("provider")]},Cb:{name:"updateEmail",j:[Qf("email")]},Db:{name:"updatePassword",j:[Qf("password")]},ed:{name:"updatePhoneNumber",j:[id("phone")]},Eb:{name:"updateProfile",j:[td("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Qf("email"),sd(td("opt_actionCodeSettings",!0),rd(null,!0),"opt_actionCodeSettings",!0)]}}),ud(Af.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),ud(Tf.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),ud(St.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),cd(rl.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:ed("appVerificationDisabledForTesting")}}),ud(il.prototype,{confirm:{name:"confirm",j:[Qf("verificationCode")]}}),ld(po,"fromJSON",(function(e){e="string"===typeof e?JSON.parse(e):e;for(var t,n=[_o,No,Bo,yo],r=0;r<n.length;r++)if(t=n[r](e))return t;return null}),[sd(Qf(),td(),"json")]),ld(jo,"credential",(function(e,t){return new Ro(e,t)}),[Qf("email"),Qf("password")]),ud(Ro.prototype,{w:{name:"toJSON",j:[Qf(null,!0)]}}),ud(Oo.prototype,{Ca:{name:"addScope",j:[Qf("scope")]},Ka:{name:"setCustomParameters",j:[td("customOAuthParameters")]}}),ld(Oo,"credential",Co,[sd(Qf(),td(),"token")]),ld(jo,"credentialWithLink",Mo,[Qf("email"),Qf("emailLink")]),ud(ko.prototype,{Ca:{name:"addScope",j:[Qf("scope")]},Ka:{name:"setCustomParameters",j:[td("customOAuthParameters")]}}),ld(ko,"credential",To,[sd(Qf(),td(),"token")]),ud(Ao.prototype,{Ca:{name:"addScope",j:[Qf("scope")]},Ka:{name:"setCustomParameters",j:[td("customOAuthParameters")]}}),ld(Ao,"credential",Io,[sd(Qf(),sd(td(),rd()),"idToken"),sd(Qf(),rd(),"accessToken",!0)]),ud(Do.prototype,{Ka:{name:"setCustomParameters",j:[td("customOAuthParameters")]}}),ld(Do,"credential",Po,[sd(Qf(),td(),"token"),Qf("secret",!0)]),ud(xo.prototype,{Ca:{name:"addScope",j:[Qf("scope")]},credential:{name:"credential",j:[sd(Qf(),sd(td(),rd()),"optionsOrIdToken"),sd(Qf(),rd(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[td("customOAuthParameters")]}}),ud(bo.prototype,{w:{name:"toJSON",j:[Qf(null,!0)]}}),ud(mo.prototype,{w:{name:"toJSON",j:[Qf(null,!0)]}}),ld(Vo,"credential",zo,[Qf("verificationId"),Qf("verificationCode")]),ud(Vo.prototype,{gb:{name:"verifyPhoneNumber",j:[sd(Qf(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(e){return!!e&&(e.session&&e.phoneNumber?od(e.session,fo)&&"string"===typeof e.phoneNumber:e.session&&e.multiFactorHint?od(e.session,ho)&&ad(e.multiFactorHint):e.session&&e.multiFactorUid?od(e.session,ho)&&"string"===typeof e.multiFactorUid:!!e.phoneNumber&&"string"===typeof e.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]}}),ud(Fo.prototype,{w:{name:"toJSON",j:[Qf(null,!0)]}}),ud(T.prototype,{toJSON:{name:"toJSON",j:[Qf(null,!0)]}}),ud($o.prototype,{toJSON:{name:"toJSON",j:[Qf(null,!0)]}}),ud(Yo.prototype,{toJSON:{name:"toJSON",j:[Qf(null,!0)]}}),ud(ll.prototype,{toJSON:{name:"toJSON",j:[Qf(null,!0)]}}),ud(sl.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}}]}}),ud(ml.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}},Qf("displayName",!0)]},bd:{name:"unenroll",j:[sd({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:ad},Qf(),"multiFactorInfoIdentifier")]}}),ud(Yf.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),ld(Oi,"parseLink",Ri,[Qf("link")]),ld(jf,"assertion",(function(e){return new pl(e)}),[id("phone")]),function(){if("undefined"===typeof o.Z||!o.Z.INTERNAL||!o.Z.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:hi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:di,VERIFY_AND_CHANGE_EMAIL:pi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:pf,AuthCredential:po,Error:T};ld(e,"EmailAuthProvider",jo,[]),ld(e,"FacebookAuthProvider",Oo,[]),ld(e,"GithubAuthProvider",ko,[]),ld(e,"GoogleAuthProvider",Ao,[]),ld(e,"TwitterAuthProvider",Do,[]),ld(e,"OAuthProvider",xo,[Qf("providerId")]),ld(e,"SAMLAuthProvider",So,[Qf("providerId")]),ld(e,"PhoneAuthProvider",Vo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof pf)}}]),ld(e,"RecaptchaVerifier",Yf,[sd(Qf(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),td("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof o.Z.app.App)}}]),ld(e,"ActionCodeURL",Oi,[]),ld(e,"PhoneMultiFactorGenerator",jf,[]),o.Z.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new pf(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(e){e.getProvider("auth-internal").initialize()}}),o.Z.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:S((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:S(e.nc,e),addAuthTokenListener:S(e.cc,e),removeAuthTokenListener:S(e.Pc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),o.Z.registerVersion("@firebase/auth","0.16.8"),o.Z.INTERNAL.extendNamespace({User:Cl})}()}).apply("undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var a=n(5163),s=n(76765),u=n(13936),c=function(e,t){return c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},c(e,t)};function l(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var f,d="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},h=h||{},p=d||self;function v(){}function m(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function g(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var y="closure_uid_"+(1e9*Math.random()>>>0),b=0;function w(e,t,n){return e.call.apply(e.bind,arguments)}function _(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function E(e,t,n){return(E=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?w:_).apply(null,arguments)}function S(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function x(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function O(){this.s=this.s,this.o=this.o}var C={};O.prototype.s=!1,O.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,y)&&e[y]||(e[y]=++b)}(this);delete C[e]}},O.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var k=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},T=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function A(e){return Array.prototype.concat.apply([],arguments)}function I(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function D(e){return/^[\s\xa0]*$/.test(e)}var P,R=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function N(e,t){return-1!=e.indexOf(t)}function j(e,t){return e<t?-1:e>t?1:0}e:{var M=p.navigator;if(M){var L=M.userAgent;if(L){P=L;break e}}P=""}function F(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function B(e){var t={};for(var n in e)t[n]=e[n];return t}var U="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<U.length;o++)n=U[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function z(e){return z[" "](e),e}z[" "]=v;var q,Z=N(P,"Opera"),H=N(P,"Trident")||N(P,"MSIE"),W=N(P,"Edge"),G=W||H,K=N(P,"Gecko")&&!(N(P.toLowerCase(),"webkit")&&!N(P,"Edge"))&&!(N(P,"Trident")||N(P,"MSIE"))&&!N(P,"Edge"),J=N(P.toLowerCase(),"webkit")&&!N(P,"Edge");function Y(){var e=p.document;return e?e.documentMode:void 0}e:{var $="",X=function(){var e=P;return K?/rv:([^\);]+)(\)|;)/.exec(e):W?/Edge\/([\d\.]+)/.exec(e):H?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):J?/WebKit\/(\S+)/.exec(e):Z?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(X&&($=X?X[1]:""),H){var Q=Y();if(null!=Q&&Q>parseFloat($)){q=String(Q);break e}}q=$}var ee,te={};function ne(){return function(e){var t=te;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=R(String(q)).split("."),n=R("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var o=t[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=j(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||j(0==o[2].length,0==a[2].length)||j(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}))}if(p.document&&H){var re=Y();ee=re||(parseInt(q,10)||void 0)}else ee=void 0;var ie=ee,oe=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{p.addEventListener("test",v,t),p.removeEventListener("test",v,t)}catch(n){}return e}();function ae(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function se(e,t){if(ae.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(K){e:{try{z(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ue[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&se.Z.h.call(this)}}ae.prototype.h=function(){this.defaultPrevented=!0},x(se,ae);var ue={2:"touch",3:"pen",4:"mouse"};se.prototype.h=function(){se.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),le=0;function fe(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++le,this.ca=this.fa=!1}function de(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function he(e){this.src=e,this.g={},this.h=0}function pe(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=k(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(de(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ve(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}he.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=ve(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new fe(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var me="closure_lm_"+(1e6*Math.random()|0),ge={};function ye(e,t,n,r,i){if(r&&r.once)return we(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)ye(e,t[o],n,r,i);return null}return n=ke(n),e&&e[ce]?e.N(t,n,g(r)?!!r.capture:!!r,i):be(e,t,n,!1,r,i)}function be(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=g(i)?!!i.capture:!!i,s=Oe(e);if(s||(e[me]=s=new he(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=xe;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)oe||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Se(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function we(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)we(e,t[o],n,r,i);return null}return n=ke(n),e&&e[ce]?e.O(t,n,g(r)?!!r.capture:!!r,i):be(e,t,n,!0,r,i)}function _e(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)_e(e,t[o],n,r,i);else r=g(r)?!!r.capture:!!r,n=ke(n),e&&e[ce]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=ve(o=e.g[t],n,r,i))&&(de(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Oe(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ve(t,n,r,i)),(n=-1<e?t[e]:null)&&Ee(n))}function Ee(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[ce])pe(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Se(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Oe(t))?(pe(n,e),0==n.h&&(n.src=null,t[me]=null)):de(e)}}}function Se(e){return e in ge?ge[e]:ge[e]="on"+e}function xe(e,t){if(e.ca)e=!0;else{t=new se(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Ee(e),e=n.call(r,t)}return e}function Oe(e){return(e=e[me])instanceof he?e:null}var Ce="__closure_events_fn_"+(1e9*Math.random()>>>0);function ke(e){return"function"===typeof e?e:(e[Ce]||(e[Ce]=function(t){return e.handleEvent(t)}),e[Ce])}function Te(){O.call(this),this.i=new he(this),this.P=this,this.I=null}function Ae(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new ae(t,e);else if(t instanceof ae)t.target=t.target||e;else{var i=t;V(t=new ae(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=Ie(a,r,!0,t)&&i}if(i=Ie(a=t.g=e,r,!0,t)&&i,i=Ie(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Ie(a=t.g=n[o],r,!1,t)&&i}function Ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ca&&a.capture==n){var s=a.listener,u=a.ia||a.src;a.fa&&pe(e.i,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}x(Te,O),Te.prototype[ce]=!0,Te.prototype.removeEventListener=function(e,t,n,r){_e(this,e,t,n,r)},Te.prototype.M=function(){if(Te.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)de(n[r]);delete t.g[e],t.h--}}this.I=null},Te.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Te.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var De=p.JSON.stringify;function Pe(){var e=Ue,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Re,Ne=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=je.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),je=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},e}())((function(){return new Me}),(function(e){return e.reset()})),Me=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function Le(e){p.setTimeout((function(){throw e}),0)}function Fe(e,t){Re||function(){var e=p.Promise.resolve(void 0);Re=function(){e.then(Ve)}}(),Be||(Re(),Be=!0),Ue.add(e,t)}var Be=!1,Ue=new Ne;function Ve(){for(var e;e=Pe();){try{e.h.call(e.g)}catch(n){Le(n)}var t=je;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Be=!1}function ze(e,t){Te.call(this),this.h=e||1,this.g=t||p,this.j=E(this.kb,this),this.l=Date.now()}function qe(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Ze(e,t,n){if("function"===typeof e)n&&(e=E(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=E(e.handleEvent,e)}return 2147483647<Number(t)?-1:p.setTimeout(e,t||0)}function He(e){e.g=Ze((function(){e.g=null,e.i&&(e.i=!1,He(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}x(ze,Te),(f=ze.prototype).da=!1,f.S=null,f.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ae(this,"tick"),this.da&&(qe(this),this.start()))}},f.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},f.M=function(){ze.Z.M.call(this),qe(this),delete this.g};var We=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}c(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:He(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(O);function Ge(e){O.call(this),this.h=e,this.g={}}x(Ge,O);var Ke=[];function Je(e,t,n,r){Array.isArray(n)||(n&&(Ke[0]=n.toString()),n=Ke);for(var i=0;i<n.length;i++){var o=ye(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Ye(e){F(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Ee(e)}),e),e.g={}}function $e(){this.g=!0}function Xe(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return De(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Ge.prototype.M=function(){Ge.Z.M.call(this),Ye(this)},Ge.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},$e.prototype.Aa=function(){this.g=!1},$e.prototype.info=function(){};var Qe={},et=null;function tt(){return et=et||new Te}function nt(e){ae.call(this,Qe.Ma,e)}function rt(e){var t=tt();Ae(t,new nt(t,e))}function it(e,t){ae.call(this,Qe.STAT_EVENT,e),this.stat=t}function ot(e){var t=tt();Ae(t,new it(t,e))}function at(e,t){ae.call(this,Qe.Na,e),this.size=t}function st(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return p.setTimeout((function(){e()}),t)}Qe.Ma="serverreachability",x(nt,ae),Qe.STAT_EVENT="statevent",x(it,ae),Qe.Na="timingevent",x(at,ae);var ut={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ct={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function lt(){}function ft(e){return e.h||(e.h=e.i())}function dt(){}lt.prototype.h=null;var ht,pt={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function vt(){ae.call(this,"d")}function mt(){ae.call(this,"c")}function gt(){}function yt(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Ge(this),this.P=wt,e=G?125:void 0,this.W=new ze(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new bt}function bt(){this.i=null,this.g="",this.h=!1}x(vt,ae),x(mt,ae),x(gt,lt),gt.prototype.g=function(){return new XMLHttpRequest},gt.prototype.i=function(){return{}},ht=new gt;var wt=45e3,_t={},Et={};function St(e,t,n){e.K=1,e.v=Wt(Ut(t)),e.s=n,e.U=!0,xt(e,null)}function xt(e,t){e.F=Date.now(),Tt(e),e.A=Ut(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),an(n.h,"t",r),e.C=0,n=e.l.H,e.h=new bt,e.g=ur(e.l,n?t:null,!e.s),0<e.O&&(e.L=new We(E(e.Ia,e,e.g),e.O)),Je(e.V,e.g,"readystatechange",e.gb),t=e.H?B(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),rt(1),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");a=2<=f.length&&"type"==f[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Ot(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Ct(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=kt(e,n))==Et){4==t&&(e.o=4,ot(14),i=!1),Xe(e.j,e.m,null,"[Incomplete Response]");break}if(r==_t){e.o=4,ot(15),Xe(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Xe(e.j,e.m,r,null),Rt(e,r)}Ot(e)&&r!=Et&&r!=_t&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,ot(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),er(t),t.L=!0,ot(11))):(Xe(e.j,e.m,n,"[Invalid Chunked Response]"),Pt(e),Dt(e))}function kt(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Et:(n=Number(t.substring(n,r)),isNaN(n)?_t:(r+=1)+n>t.length?Et:(t=t.substr(r,n),e.C=r+n,t))}function Tt(e){e.Y=Date.now()+e.P,At(e,e.P)}function At(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=st(E(e.eb,e),t)}function It(e){e.B&&(p.clearTimeout(e.B),e.B=null)}function Dt(e){0==e.l.G||e.I||rr(e.l,e)}function Pt(e){It(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,qe(e.W),Ye(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Rt(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||pn(n.i,e)))if(n.I=e.N,!e.J&&pn(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;nr(n),Hn(n)}Qn(n),ot(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=st(E(n.ab,n),6e3));if(1>=hn(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else or(n,11)}else if((e.J||n.g==e)&&nr(n),!D(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var s=o[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(N(l,"spdy")||N(l,"quic")||N(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(vn(f,f.h),f.h=null))}if(r.D){var d=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(r.sa=d,Ht(r.F,r.D,d))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var h=e;if((r=n).oa=sr(r,r.H?r.la:null,r.W),h.J){mn(r.i,h);var p=h,v=r.K;v&&p.setTimeout(v),p.B&&(It(p),Tt(p)),r.g=h}else Xn(r);0<n.l.length&&Kn(n)}else"stop"!=o[0]&&"close"!=o[0]||or(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?or(n,7):Zn(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}rt(4)}catch(o){}}function Nt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(m(e)||"string"===typeof e)T(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(m(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(m(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function jt(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof jt)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Mt(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Lt(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Lt(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Lt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(f=yt.prototype).setTimeout=function(e){this.P=e},f.gb=function(e){e=e.target;var t=this.L;t&&3==Bn(e)?t.l():this.Ia(e)},f.Ia=function(e){try{if(e==this.g)e:{var t=Bn(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||G||this.g&&(this.h.h||this.g.ga()||Un(this.g)))){this.I||4!=t||7==n||rt(8==n||0>=r?3:2),It(this);var i=this.g.ba();this.N=i;t:if(Ot(this)){var o=Un(this.g);e="";var a=o.length,s=4==Bn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Pt(this),Dt(this);var u="";break t}this.h.i=new p.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:s&&n==a-1});o.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,ot(12),Pt(this),Dt(this);break e}Xe(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Rt(this,i)}this.U?(Ct(this,t,u),G&&this.i&&3==t&&(Je(this.V,this.W,"tick",this.fb),this.W.start())):(Xe(this.j,this.m,u,null),Rt(this,u)),4==t&&Pt(this),this.i&&!this.I&&(4==t?rr(this.l,this):(this.i=!1,Tt(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,ot(12)):(this.o=0,ot(13)),Pt(this),Dt(this)}}}catch(t){}},f.fb=function(){if(this.g){var e=Bn(this.g),t=this.g.ga();this.C<t.length&&(It(this),Ct(this,e,t),this.i&&4!=e&&Tt(this))}},f.cancel=function(){this.I=!0,Pt(this)},f.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(rt(3),ot(17)),Pt(this),this.o=2,Dt(this)):At(this,this.Y-e)},(f=jt.prototype).R=function(){Mt(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},f.T=function(){return Mt(this),this.g.concat()},f.get=function(e,t){return Lt(this.h,e)?this.h[e]:t},f.set=function(e,t){Lt(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},f.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Ft=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Bt(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Bt){this.g=void 0!==t?t:e.g,Vt(this,e.j),this.s=e.s,zt(this,e.i),qt(this,e.m),this.l=e.l,t=e.h;var n=new tn;n.i=t.i,t.g&&(n.g=new jt(t.g),n.h=t.h),Zt(this,n),this.o=e.o}else e&&(n=String(e).match(Ft))?(this.g=!!t,Vt(this,n[1]||"",!0),this.s=Gt(n[2]||""),zt(this,n[3]||"",!0),qt(this,n[4]),this.l=Gt(n[5]||"",!0),Zt(this,n[6]||"",!0),this.o=Gt(n[7]||"")):(this.g=!!t,this.h=new tn(null,this.g))}function Ut(e){return new Bt(e)}function Vt(e,t,n){e.j=n?Gt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function zt(e,t,n){e.i=n?Gt(t,!0):t}function qt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Zt(e,t,n){t instanceof tn?(e.h=t,function(e,t){t&&!e.j&&(nn(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(rn(this,t),an(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Kt(t,Qt)),e.h=new tn(t,e.g))}function Ht(e,t,n){e.h.set(t,n)}function Wt(e){return Ht(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Gt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Kt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Jt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Jt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Bt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Kt(t,Yt,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Kt(t,Yt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Kt(n,"/"==n.charAt(0)?Xt:$t,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Kt(n,en)),e.join("")};var Yt=/[#\/\?@]/g,$t=/[#\?:]/g,Xt=/[#\?]/g,Qt=/[#\?@]/g,en=/#/g;function tn(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function nn(e){e.g||(e.g=new jt,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function rn(e,t){nn(e),t=sn(e,t),Lt(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Lt((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Mt(e)))}function on(e,t){return nn(e),t=sn(e,t),Lt(e.g.h,t)}function an(e,t,n){rn(e,t),0<n.length&&(e.i=null,e.g.set(sn(e,t),I(n)),e.h+=n.length)}function sn(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(f=tn.prototype).add=function(e,t){nn(this),this.i=null,e=sn(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},f.forEach=function(e,t){nn(this),this.g.forEach((function(n,r){T(n,(function(n){e.call(t,n,r,this)}),this)}),this)},f.T=function(){nn(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},f.R=function(e){nn(this);var t=[];if("string"===typeof e)on(this,e)&&(t=A(t,this.g.get(sn(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=A(t,e[n])}return t},f.set=function(e,t){return nn(this),this.i=null,on(this,e=sn(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},f.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},f.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.i=e.join("&")};var un=function(e,t){this.h=e,this.g=t};function cn(e){this.l=e||fn,p.PerformanceNavigationTiming?e=0<(e=p.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(p.g&&p.g.Ea&&p.g.Ea()&&p.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var ln,fn=10;function dn(e){return!!e.h||!!e.g&&e.g.size>=e.j}function hn(e){return e.h?1:e.g?e.g.size:0}function pn(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function vn(e,t){e.g?e.g.add(t):e.h=t}function mn(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function gn(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var i=l(e.g.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.D)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return I(e.i)}function yn(){}function bn(){this.g=new yn}function wn(e,t,n){var r=n||"";try{Nt(e,(function(e,n){var i=e;g(e)&&(i=De(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(Lh){throw t.push(r+"type="+encodeURIComponent("_badmap")),Lh}}function _n(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function En(e){this.l=e.$b||null,this.j=e.ib||!1}function Sn(e,t){Te.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=xn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}cn.prototype.cancel=function(){var e,t;if(this.i=gn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=l(this.g.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},yn.prototype.stringify=function(e){return p.JSON.stringify(e,void 0)},yn.prototype.parse=function(e){return p.JSON.parse(e,void 0)},x(En,lt),En.prototype.g=function(){return new Sn(this.l,this.j)},En.prototype.i=(ln={},function(){return ln}),x(Sn,Te);var xn=0;function On(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Cn(e){e.readyState=4,e.l=null,e.j=null,e.A=null,kn(e)}function kn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(f=Sn.prototype).open=function(e,t){if(this.readyState!=xn)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,kn(this)},f.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||p).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},f.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Cn(this)),this.readyState=xn},f.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,kn(this)),this.g&&(this.readyState=3,kn(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof p.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;On(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},f.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Cn(this):kn(this),3==this.readyState&&On(this)}},f.Ua=function(e){this.g&&(this.response=this.responseText=e,Cn(this))},f.Ta=function(e){this.g&&(this.response=e,Cn(this))},f.ha=function(){this.g&&Cn(this)},f.setRequestHeader=function(e,t){this.v.append(e,t)},f.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},f.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Sn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Tn=p.JSON.parse;function An(e){Te.call(this),this.headers=new jt,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=In,this.K=this.L=!1}x(An,Te);var In="",Dn=/^https?$/i,Pn=["POST","PUT"];function Rn(e){return"content-type"==e.toLowerCase()}function Nn(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,jn(e),Ln(e)}function jn(e){e.D||(e.D=!0,Ae(e,"complete"),Ae(e,"error"))}function Mn(e){if(e.h&&"undefined"!=typeof h&&(!e.C[1]||4!=Bn(e)||2!=e.ba()))if(e.v&&4==Bn(e))Ze(e.Fa,0,e);else if(Ae(e,"readystatechange"),4==Bn(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.H).match(Ft)[1]||null;if(!o&&p.self&&p.self.location){var a=p.self.location.protocol;o=a.substr(0,a.length-1)}i=!Dn.test(o?o.toLowerCase():"")}t=i}if(t)Ae(e,"complete"),Ae(e,"success");else{e.m=6;try{var s=2<Bn(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",jn(e)}}finally{Ln(e)}}}function Ln(e,t){if(e.g){Fn(e);var n=e.g,r=e.C[0]?v:null;e.g=null,e.C=null,t||Ae(e,"ready");try{n.onreadystatechange=r}catch(Lh){}}}function Fn(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(p.clearTimeout(e.A),e.A=null)}function Bn(e){return e.g?e.g.readyState:0}function Un(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case In:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Vn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return F(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Ht(e,t,n))}function zn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function qn(e){this.za=0,this.l=[],this.h=new $e,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=zn("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=zn("baseRetryDelayMs",5e3,e),this.$a=zn("retryDelaySeedMs",1e4,e),this.Ya=zn("forwardChannelMaxRetries",2,e),this.ra=zn("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new cn(e&&e.concurrentRequestLimit),this.Ca=new bn,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Zn(e){if(Wn(e),3==e.G){var t=e.V++,n=Ut(e.F);Ht(n,"SID",e.J),Ht(n,"RID",t),Ht(n,"TYPE","terminate"),Yn(e,n),(t=new yt(e,e.h,t,void 0)).K=2,t.v=Wt(Ut(n)),n=!1,p.navigator&&p.navigator.sendBeacon&&(n=p.navigator.sendBeacon(t.v.toString(),"")),!n&&p.Image&&((new Image).src=t.v,n=!0),n||(t.g=ur(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Tt(t)}ar(e)}function Hn(e){e.g&&(er(e),e.g.cancel(),e.g=null)}function Wn(e){Hn(e),e.u&&(p.clearTimeout(e.u),e.u=null),nr(e),e.i.cancel(),e.m&&("number"===typeof e.m&&p.clearTimeout(e.m),e.m=null)}function Gn(e,t){e.l.push(new un(e.Za++,t)),3==e.G&&Kn(e)}function Kn(e){dn(e.i)||e.m||(e.m=!0,Fe(e.Ha,e),e.C=0)}function Jn(e,t){var n;n=t?t.m:e.V++;var r=Ut(e.F);Ht(r,"SID",e.J),Ht(r,"RID",n),Ht(r,"AID",e.U),Yn(e,r),e.o&&e.s&&Vn(r,e.o,e.s),n=new yt(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=$n(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),vn(e.i,n),St(n,r,t)}function Yn(e,t){e.j&&Nt({},(function(e,n){Ht(t,n,e)}))}function $n(e,t,n){n=Math.min(e.l.length,n);var r=e.j?E(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),s=!1;else try{wn(l,a,"req"+c+"_")}catch(Zr){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Xn(e){e.g||e.u||(e.Y=1,Fe(e.Ga,e),e.A=0)}function Qn(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=st(E(e.Ga,e),ir(e,e.A)),e.A++,!0)}function er(e){null!=e.B&&(p.clearTimeout(e.B),e.B=null)}function tr(e){e.g=new yt(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Ut(e.oa);Ht(t,"RID","rpc"),Ht(t,"SID",e.J),Ht(t,"CI",e.N?"0":"1"),Ht(t,"AID",e.U),Yn(e,t),Ht(t,"TYPE","xmlhttp"),e.o&&e.s&&Vn(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Wt(Ut(t)),n.s=null,n.U=!0,xt(n,e)}function nr(e){null!=e.v&&(p.clearTimeout(e.v),e.v=null)}function rr(e,t){var n=null;if(e.g==t){nr(e),er(e),e.g=null;var r=2}else{if(!pn(e.i,t))return;n=t.D,mn(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Ae(r=tt(),new at(r,n,t,i)),Kn(e)}else Xn(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(hn(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=st(E(e.Ha,e,t),ir(e,e.C)),e.C++,!0))}(e,t)||2==r&&Qn(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:or(e,5);break;case 4:or(e,10);break;case 3:or(e,6);break;default:or(e,2)}}function ir(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function or(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=E(e.jb,e);n||(n=new Bt("//www.google.com/images/cleardot.gif"),p.location&&"http"==p.location.protocol||Vt(n,"https"),Wt(n)),function(e,t){var n=new $e;if(p.Image){var r=new Image;r.onload=S(_n,n,r,"TestLoadImage: loaded",!0,t),r.onerror=S(_n,n,r,"TestLoadImage: error",!1,t),r.onabort=S(_n,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=S(_n,n,r,"TestLoadImage: timeout",!1,t),p.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else ot(2);e.G=0,e.j&&e.j.va(t),ar(e),Wn(e)}function ar(e){e.G=0,e.I=-1,e.j&&(0==gn(e.i).length&&0==e.l.length||(e.i.i.length=0,I(e.l),e.l.length=0),e.j.ua())}function sr(e,t,n){var r=function(e){return e instanceof Bt?Ut(e):new Bt(e,void 0)}(n);if(""!=r.i)t&&zt(r,t+"."+r.i),qt(r,r.m);else{var i=p.location;r=function(e,t,n,r){var i=new Bt(null,void 0);return e&&Vt(i,e),t&&zt(i,t),n&&qt(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&F(e.aa,(function(e,t){Ht(r,t,e)})),t=e.D,n=e.sa,t&&n&&Ht(r,t,n),Ht(r,"VER",e.ma),Yn(e,r),r}function ur(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new An(new En({ib:!0})):new An(e.qa)).L=e.H,t}function cr(){}function lr(){if(H&&!(10<=Number(ie)))throw Error("Environmental error: no available transport.")}function fr(e,t){Te.call(this),this.g=new qn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!D(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!D(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new pr(this)}function dr(e){vt.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function hr(){mt.call(this),this.status=1}function pr(e){this.g=e}(f=An.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ht.g(),this.C=this.u?ft(this.u):ft(ht),this.g.onreadystatechange=E(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(o){return void Nn(this,o)}e=n||"";var i=new jt(this.headers);r&&Nt(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Rn,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=p.FormData&&e instanceof p.FormData,!(0<=k(Pn,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Fn(this),0<this.B&&((this.K=function(e){return H&&ne()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=E(this.pa,this)):this.A=Ze(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){Nn(this,o)}},f.pa=function(){"undefined"!=typeof h&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ae(this,"timeout"),this.abort(8))},f.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ae(this,"complete"),Ae(this,"abort"),Ln(this))},f.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ln(this,!0)),An.Z.M.call(this)},f.Fa=function(){this.s||(this.F||this.v||this.l?Mn(this):this.cb())},f.cb=function(){Mn(this)},f.ba=function(){try{return 2<Bn(this)?this.g.status:-1}catch(ln){return-1}},f.ga=function(){try{return this.g?this.g.responseText:""}catch(ln){return""}},f.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Tn(t)}},f.Da=function(){return this.m},f.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(f=qn.prototype).ma=8,f.G=1,f.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},f.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new yt(this,this.h,e,void 0),n=this.s;if(this.P&&(n?V(n=B(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"===typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=$n(this,t,r),Ht(i=Ut(this.F),"RID",e),Ht(i,"CVER",22),this.D&&Ht(i,"X-HTTP-Session-Id",this.D),Yn(this,i),this.o&&n&&Vn(i,this.o,n),vn(this.i,t),this.Ra&&Ht(i,"TYPE","init"),this.ja?(Ht(i,"$req",r),Ht(i,"SID","null"),t.$=!0,St(t,i,null)):St(t,i,r),this.G=2}}else 3==this.G&&(e?Jn(this,e):0==this.l.length||dn(this.i)||Jn(this))},f.Ga=function(){if(this.u=null,tr(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=st(E(this.bb,this),e)}},f.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ot(10),Hn(this),tr(this))},f.ab=function(){null!=this.v&&(this.v=null,Hn(this),Qn(this),ot(19))},f.jb=function(e){e?(this.h.info("Successfully pinged google.com"),ot(2)):(this.h.info("Failed to ping google.com"),ot(1))},(f=cr.prototype).xa=function(){},f.wa=function(){},f.va=function(){},f.ua=function(){},f.Oa=function(){},lr.prototype.g=function(e,t){return new fr(e,t)},x(fr,Te),fr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Fe(E(e.hb,e,t))),ot(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=sr(e,null,e.W),Kn(e)},fr.prototype.close=function(){Zn(this.g)},fr.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Gn(this.g,t)}else this.v?((t={}).__data__=De(e),Gn(this.g,t)):Gn(this.g,e)},fr.prototype.M=function(){this.g.j=null,delete this.j,Zn(this.g),delete this.g,fr.Z.M.call(this)},x(dr,vt),x(hr,mt),x(pr,cr),pr.prototype.xa=function(){Ae(this.g,"a")},pr.prototype.wa=function(e){Ae(this.g,new dr(e))},pr.prototype.va=function(e){Ae(this.g,new hr(e))},pr.prototype.ua=function(){Ae(this.g,"b")},lr.prototype.createWebChannel=lr.prototype.g,fr.prototype.send=fr.prototype.u,fr.prototype.open=fr.prototype.m,fr.prototype.close=fr.prototype.close,ut.NO_ERROR=0,ut.TIMEOUT=8,ut.HTTP_ERROR=6,ct.COMPLETE="complete",dt.EventType=pt,pt.OPEN="a",pt.CLOSE="b",pt.ERROR="c",pt.MESSAGE="d",Te.prototype.listen=Te.prototype.N,An.prototype.listenOnce=An.prototype.O,An.prototype.getLastError=An.prototype.La,An.prototype.getLastErrorCode=An.prototype.Da,An.prototype.getStatus=An.prototype.ba,An.prototype.getResponseJson=An.prototype.Qa,An.prototype.getResponseText=An.prototype.ga,An.prototype.send=An.prototype.ea;var vr=function(){return new lr},mr=function(){return tt()},gr=ut,yr=ct,br=Qe,wr={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},_r=En,Er=dt,Sr=An,xr=n(34406),Or=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();Or.o=-1;var Cr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},kr=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,a.ZT)(t,e),t}(Error),Tr=new u.Yd("@firebase/firestore");function Ar(){return Tr.logLevel}function Ir(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Tr.logLevel<=u.in.DEBUG){var r=t.map(Rr);Tr.debug.apply(Tr,(0,a.ev)(["Firestore (8.10.1): "+e],r))}}function Dr(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Tr.logLevel<=u.in.ERROR){var r=t.map(Rr);Tr.error.apply(Tr,(0,a.ev)(["Firestore (8.10.1): "+e],r))}}function Pr(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Tr.logLevel<=u.in.WARN){var r=t.map(Rr);Tr.warn.apply(Tr,(0,a.ev)(["Firestore (8.10.1): "+e],r))}}function Rr(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Nr(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw Dr(t),new Error(t)}function jr(e,t){e||Nr()}function Mr(e,t){return e}function Lr(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Fr=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Lr(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function Br(e,t){return e<t?-1:e>t?1:0}function Ur(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Vr(e){return e+"\0"}var zr=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new kr(Cr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new kr(Cr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new kr(Cr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new kr(Cr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?Br(this.nanoseconds,e.nanoseconds):Br(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),qr=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new zr(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function Zr(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Hr(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Wr(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Gr=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&Nr(),void 0===n?n=e.length-t:n>e.length-t&&Nr(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),Kr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new kr(Cr.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(Gr),Jr=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Yr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return Jr.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new kr(Cr.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new kr(Cr.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new kr(Cr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new kr(Cr.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(Gr),$r=function(){function e(e){this.fields=e,e.sort(Yr.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return Ur(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),Xr=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return Br(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();Xr.EMPTY_BYTE_STRING=new Xr("");var Qr=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ei(e){if(jr(!!e),"string"==typeof e){var t=0,n=Qr.exec(e);if(jr(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ti(e.seconds),nanos:ti(e.nanos)}}function ti(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ni(e){return"string"==typeof e?Xr.fromBase64String(e):Xr.fromUint8Array(e)}function ri(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ii(e){var t=e.mapValue.fields.__previous_value__;return ri(t)?ii(t):t}function oi(e){var t=ei(e.mapValue.fields.__local_write_time__.timestampValue);return new zr(t.seconds,t.nanos)}function ai(e){return null==e}function si(e){return 0===e&&1/e==-1/0}function ui(e){return"number"==typeof e&&Number.isInteger(e)&&!si(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var ci=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(Kr.fromString(t))},e.fromName=function(t){return new e(Kr.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===Kr.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return Kr.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new Kr(t.slice()))},e}();function li(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ri(e)?4:10:Nr()}function fi(e,t){var n=li(e);if(n!==li(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return oi(e).isEqual(oi(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=ei(e.timestampValue),r=ei(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ni(e.bytesValue).isEqual(ni(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ti(e.geoPointValue.latitude)===ti(t.geoPointValue.latitude)&&ti(e.geoPointValue.longitude)===ti(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ti(e.integerValue)===ti(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=ti(e.doubleValue),r=ti(t.doubleValue);return n===r?si(n)===si(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ur(e.arrayValue.values||[],t.arrayValue.values||[],fi);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Zr(n)!==Zr(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!fi(n[i],r[i])))return!1;return!0}(e,t);default:return Nr()}}function di(e,t){return void 0!==(e.values||[]).find((function(e){return fi(e,t)}))}function hi(e,t){var n=li(e),r=li(t);if(n!==r)return Br(n,r);switch(n){case 0:return 0;case 1:return Br(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=ti(e.integerValue||e.doubleValue),r=ti(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return pi(e.timestampValue,t.timestampValue);case 4:return pi(oi(e),oi(t));case 5:return Br(e.stringValue,t.stringValue);case 6:return function(e,t){var n=ni(e),r=ni(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Br(n[i],r[i]);if(0!==o)return o}return Br(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Br(ti(e.latitude),ti(t.latitude));return 0!==n?n:Br(ti(e.longitude),ti(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=hi(n[i],r[i]);if(o)return o}return Br(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=Br(r[a],o[a]);if(0!==s)return s;var u=hi(n[r[a]],i[o[a]]);if(0!==u)return u}return Br(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Nr()}}function pi(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Br(e,t);var n=ei(e),r=ei(t),i=Br(n.seconds,r.seconds);return 0!==i?i:Br(n.nanos,r.nanos)}function vi(e){return mi(e)}function mi(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=ei(e);return"time("+t.seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ni(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,ci.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=mi(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:t+=",",t+=o+":"+mi(e.fields[o])}return t+"}"}(e.mapValue):Nr();var t,n}function gi(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function yi(e){return!!e&&"integerValue"in e}function bi(e){return!!e&&"arrayValue"in e}function wi(e){return!!e&&"nullValue"in e}function _i(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ei(e){return!!e&&"mapValue"in e}function Si(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Hr(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Si(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Si(e.arrayValue.values[r]);return n}return Object.assign({},e)}var xi=function(){function e(e){this.value=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Ei(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},e.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Si(t)},e.prototype.setAll=function(e){var t=this,n=Yr.emptyPath(),r={},i=[];e.forEach((function(e,o){if(!n.isImmediateParentOf(o)){var a=t.getFieldsMap(n);t.applyChanges(a,r,i),r={},i=[],n=o.popLast()}e?r[o.lastSegment()]=Si(e):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},e.prototype.delete=function(e){var t=this.field(e.popLast());Ei(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},e.prototype.isEqual=function(e){return fi(this.value,e.value)},e.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Ei(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields},e.prototype.applyChanges=function(e,t,n){Hr(t,(function(t,n){return e[t]=n}));for(var r=0,i=n;r<i.length;r++){var o=i[r];delete e[o]}},e.prototype.clone=function(){return new e(Si(this.value))},e}();function Oi(e){var t=[];return Hr(e.fields,(function(e,n){var r=new Yr([e]);if(Ei(n)){var i=Oi(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];t.push(r.child(s))}}else t.push(r)})),new $r(t)}var Ci=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,qr.min(),xi.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,xi.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,xi.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=xi.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=xi.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),ki=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function Ti(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new ki(e,t,n,r,i,o,a)}function Ai(e){var t=Mr(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+vi(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),ai(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=zi(t.startAt)),t.endAt&&(n+="|ub:",n+=zi(t.endAt)),t.h=n}return t.h}function Ii(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Zi(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!fi(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Wi(e.startAt,t.startAt)&&Wi(e.endAt,t.endAt)}function Di(e){return ci.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Pi=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return(0,a.ZT)(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new Ri(e,n,r):"array-contains"===n?new Li(e,r):"in"===n?new Fi(e,r):"not-in"===n?new Bi(e,r):"array-contains-any"===n?new Ui(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new Ni(e,n):new ji(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(hi(t,this.value)):null!==t&&li(this.value)===li(t)&&this.m(hi(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Nr()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),Ri=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=ci.fromName(r.referenceValue),i}return(0,a.ZT)(t,e),t.prototype.matches=function(e){var t=ci.comparator(e.key,this.key);return this.m(t)},t}(Pi),Ni=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=Mi("in",n),r}return(0,a.ZT)(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(Pi),ji=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=Mi("not-in",n),r}return(0,a.ZT)(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(Pi);function Mi(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return ci.fromName(e.referenceValue)}))}var Li=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return(0,a.ZT)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return bi(t)&&di(t.arrayValue,this.value)},t}(Pi),Fi=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return(0,a.ZT)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&di(this.value.arrayValue,t)},t}(Pi),Bi=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return(0,a.ZT)(t,e),t.prototype.matches=function(e){if(di(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!di(this.value.arrayValue,t)},t}(Pi),Ui=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return(0,a.ZT)(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!bi(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return di(t.value.arrayValue,e)}))},t}(Pi),Vi=function(e,t){this.position=e,this.before=t};function zi(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return vi(e)})).join(",")}var qi=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function Zi(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Hi(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?ci.comparator(ci.fromName(a.referenceValue),n.key):hi(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Wi(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!fi(e.position[n],t.position[n]))return!1;return!0}var Gi=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function Ki(e,t,n,r,i,o,a,s){return new Gi(e,t,n,r,i,o,a,s)}function Ji(e){return new Gi(e)}function Yi(e){return!ai(e.limit)&&"F"===e.limitType}function $i(e){return!ai(e.limit)&&"L"===e.limitType}function Xi(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Qi(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function eo(e){return null!==e.collectionGroup}function to(e){var t=Mr(e);if(null===t.p){t.p=[];var n=Qi(t),r=Xi(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new qi(n)),t.p.push(new qi(Yr.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var s=a[o];t.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new qi(Yr.keyField(),u))}}}return t.p}function no(e){var t=Mr(e);if(!t.T)if("F"===t.limitType)t.T=Ti(t.path,t.collectionGroup,to(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=to(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new qi(o.field,a))}var s=t.endAt?new Vi(t.endAt.position,!t.endAt.before):null,u=t.startAt?new Vi(t.startAt.position,!t.startAt.before):null;t.T=Ti(t.path,t.collectionGroup,n,t.filters,t.limit,s,u)}return t.T}function ro(e,t,n){return new Gi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function io(e,t){return Ii(no(e),no(t))&&e.limitType===t.limitType}function oo(e){return Ai(no(e))+"|lt:"+e.limitType}function ao(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+vi(t.value);var t})).join(", ")+"]"),ai(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+zi(e.startAt)),e.endAt&&(t+=", endAt: "+zi(e.endAt)),"Target("+t+")"}(no(e))+"; limitType="+e.limitType+")"}function so(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ci.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!Hi(e.startAt,to(e),t))&&(!e.endAt||!Hi(e.endAt,to(e),t))}(e,t)}function uo(e){return function(t,n){for(var r=!1,i=0,o=to(e);i<o.length;i++){var a=o[i],s=co(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function co(e,t,n){var r=e.field.isKeyField()?ci.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?hi(r,i):Nr()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Nr()}}function lo(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:si(t)?"-0":t}}function fo(e){return{integerValue:""+e}}function ho(e,t){return ui(t)?fo(t):lo(e,t)}var po=function(){this._=void 0};function vo(e,t,n){return e instanceof yo?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof bo?wo(e,t):e instanceof _o?Eo(e,t):function(e,t){var n=go(e,t),r=xo(n)+xo(e.A);return yi(n)&&yi(e.A)?fo(r):lo(e.R,r)}(e,t)}function mo(e,t,n){return e instanceof bo?wo(e,t):e instanceof _o?Eo(e,t):n}function go(e,t){return e instanceof So?yi(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var yo=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t}(po),bo=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return(0,a.ZT)(t,e),t}(po);function wo(e,t){for(var n=Oo(t),r=function(e){n.some((function(t){return fi(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var _o=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return(0,a.ZT)(t,e),t}(po);function Eo(e,t){for(var n=Oo(t),r=function(e){n=n.filter((function(t){return!fi(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var So=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return(0,a.ZT)(t,e),t}(po);function xo(e){return ti(e.integerValue||e.doubleValue)}function Oo(e){return bi(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Co=function(e,t){this.field=e,this.transform=t},ko=function(e,t){this.version=e,this.transformResults=t},To=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function Ao(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Io=function(){};function Do(e,t,n){e instanceof Mo?function(e,t,n){var r=e.value.clone(),i=Bo(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Lo?function(e,t,n){if(Ao(e.precondition,t)){var r=Bo(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Fo(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Po(e,t,n){e instanceof Mo?function(e,t,n){if(Ao(e.precondition,t)){var r=e.value.clone(),i=Uo(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(jo(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Lo?function(e,t,n){if(Ao(e.precondition,t)){var r=Uo(e.fieldTransforms,n,t),i=t.data;i.setAll(Fo(e)),i.setAll(r),t.convertToFoundDocument(jo(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Ao(e.precondition,t)&&t.convertToNoDocument(qr.min())}(e,t)}function Ro(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field),s=go(o.transform,a||null);null!=s&&(null==n&&(n=xi.empty()),n.set(o.field,s))}return n||null}function No(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ur(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof bo&&t instanceof bo||e instanceof _o&&t instanceof _o?Ur(e.elements,t.elements,fi):e instanceof So&&t instanceof So?fi(e.A,t.A):e instanceof yo&&t instanceof yo}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function jo(e){return e.isFoundDocument()?e.version:qr.min()}var Mo=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return(0,a.ZT)(t,e),t}(Io),Lo=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return(0,a.ZT)(t,e),t}(Io);function Fo(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Bo(e,t,n){var r=new Map;jr(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,mo(a,s,n[i]))}return r}function Uo(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,vo(s,u,t))}return r}var Vo,zo,qo=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return(0,a.ZT)(t,e),t}(Io),Zo=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return(0,a.ZT)(t,e),t}(Io),Ho=function(e){this.count=e};function Wo(e){switch(e){case Cr.OK:return Nr();case Cr.CANCELLED:case Cr.UNKNOWN:case Cr.DEADLINE_EXCEEDED:case Cr.RESOURCE_EXHAUSTED:case Cr.INTERNAL:case Cr.UNAVAILABLE:case Cr.UNAUTHENTICATED:return!1;case Cr.INVALID_ARGUMENT:case Cr.NOT_FOUND:case Cr.ALREADY_EXISTS:case Cr.PERMISSION_DENIED:case Cr.FAILED_PRECONDITION:case Cr.ABORTED:case Cr.OUT_OF_RANGE:case Cr.UNIMPLEMENTED:case Cr.DATA_LOSS:return!0;default:return Nr()}}function Go(e){if(void 0===e)return Dr("GRPC error has no .code"),Cr.UNKNOWN;switch(e){case Vo.OK:return Cr.OK;case Vo.CANCELLED:return Cr.CANCELLED;case Vo.UNKNOWN:return Cr.UNKNOWN;case Vo.DEADLINE_EXCEEDED:return Cr.DEADLINE_EXCEEDED;case Vo.RESOURCE_EXHAUSTED:return Cr.RESOURCE_EXHAUSTED;case Vo.INTERNAL:return Cr.INTERNAL;case Vo.UNAVAILABLE:return Cr.UNAVAILABLE;case Vo.UNAUTHENTICATED:return Cr.UNAUTHENTICATED;case Vo.INVALID_ARGUMENT:return Cr.INVALID_ARGUMENT;case Vo.NOT_FOUND:return Cr.NOT_FOUND;case Vo.ALREADY_EXISTS:return Cr.ALREADY_EXISTS;case Vo.PERMISSION_DENIED:return Cr.PERMISSION_DENIED;case Vo.FAILED_PRECONDITION:return Cr.FAILED_PRECONDITION;case Vo.ABORTED:return Cr.ABORTED;case Vo.OUT_OF_RANGE:return Cr.OUT_OF_RANGE;case Vo.UNIMPLEMENTED:return Cr.UNIMPLEMENTED;case Vo.DATA_LOSS:return Cr.DATA_LOSS;default:return Nr()}}(zo=Vo||(Vo={}))[zo.OK=0]="OK",zo[zo.CANCELLED=1]="CANCELLED",zo[zo.UNKNOWN=2]="UNKNOWN",zo[zo.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zo[zo.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zo[zo.NOT_FOUND=5]="NOT_FOUND",zo[zo.ALREADY_EXISTS=6]="ALREADY_EXISTS",zo[zo.PERMISSION_DENIED=7]="PERMISSION_DENIED",zo[zo.UNAUTHENTICATED=16]="UNAUTHENTICATED",zo[zo.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zo[zo.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zo[zo.ABORTED=10]="ABORTED",zo[zo.OUT_OF_RANGE=11]="OUT_OF_RANGE",zo[zo.UNIMPLEMENTED=12]="UNIMPLEMENTED",zo[zo.INTERNAL=13]="INTERNAL",zo[zo.UNAVAILABLE=14]="UNAVAILABLE",zo[zo.DATA_LOSS=15]="DATA_LOSS";var Ko=function(){function e(e,t){this.comparator=e,this.root=t||Yo.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Yo.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Yo.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new Jo(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new Jo(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Jo(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new Jo(this.root,e,this.comparator,!0)},e}(),Jo=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),Yo=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Nr();if(this.right.isRed())throw Nr();var e=this.left.check();if(e!==this.right.check())throw Nr();return e+(this.isRed()?0:1)},e}();Yo.EMPTY=null,Yo.RED=!0,Yo.BLACK=!1,Yo.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw Nr()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw Nr()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw Nr()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw Nr()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw Nr()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Yo(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var $o=function(){function e(e){this.comparator=e,this.data=new Ko(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new Xo(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new Xo(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),Xo=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),Qo=new Ko(ci.comparator);function ea(){return Qo}var ta=new Ko(ci.comparator);function na(){return ta}var ra=new Ko(ci.comparator);function ia(){return ra}var oa=new $o(ci.comparator);function aa(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=oa,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var sa=new $o(Br);function ua(){return sa}var ca=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,la.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(qr.min(),r,ua(),ea(),aa())},e}(),la=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(Xr.EMPTY_BYTE_STRING,n,aa(),aa(),aa())},e}(),fa=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},da=function(e,t){this.targetId=e,this.V=t},ha=function(e,t,n,r){void 0===n&&(n=Xr.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},pa=function(){function e(){this.S=0,this.D=ga(),this.C=Xr.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},e.prototype.M=function(){var e=aa(),t=aa(),n=aa();return this.D.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Nr()}})),new la(this.C,this.N,e,t,n)},e.prototype.L=function(){this.k=!1,this.D=ga()},e.prototype.B=function(e,t){this.k=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),va=function(){function e(e){this.W=e,this.G=new Map,this.H=ea(),this.J=ma(),this.Y=new $o(Br)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.O(e.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(e.resumeToken);break;case 2:r.K(),r.F||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.O(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.O(e.resumeToken));break;default:Nr()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach((function(e,r){n.st(r)&&t(r)}))},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if(Di(i))if(0===n){var o=new ci(i.path);this.tt(t,o,Ci.newNoDocument(o,qr.min()))}else jr(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach((function(r,i){var o=t.ot(i);if(o){if(r.current&&Di(o.target)){var a=new ci(o.target.path);null!==t.H.get(a)||t.at(i,a)||t.tt(i,a,Ci.newNoDocument(a,e))}r.$&&(n.set(i,r.M()),r.L())}}));var r=aa();this.J.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new ca(e,n,this.Y,this.H,r);return this.H=ea(),this.J=ma(),this.Y=new $o(Br),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new pa,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new $o(Br),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||Ir("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.F?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new pa),this.W.getRemoteKeysForTarget(e).forEach((function(n){t.tt(e,n,null)}))},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function ma(){return new Ko(ci.comparator)}function ga(){return new Ko(ci.comparator)}var ya={asc:"ASCENDING",desc:"DESCENDING"},ba={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wa=function(e,t){this.databaseId=e,this.I=t};function _a(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ea(e,t){return e.I?t.toBase64():t.toUint8Array()}function Sa(e,t){return _a(e,t.toTimestamp())}function xa(e){return jr(!!e),qr.fromTimestamp(function(e){var t=ei(e);return new zr(t.seconds,t.nanos)}(e))}function Oa(e,t){return function(e){return new Kr(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Ca(e){var t=Kr.fromString(e);return jr(Ya(t)),t}function ka(e,t){return Oa(e.databaseId,t.path)}function Ta(e,t){var n=Ca(t);if(n.get(1)!==e.databaseId.projectId)throw new kr(Cr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new kr(Cr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ci(Pa(n))}function Aa(e,t){return Oa(e.databaseId,t)}function Ia(e){var t=Ca(e);return 4===t.length?Kr.emptyPath():Pa(t)}function Da(e){return new Kr(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Pa(e){return jr(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Ra(e,t,n){return{name:ka(e,t),fields:n.value.mapValue.fields}}function Na(e,t,n){var r=Ta(e,t.name),i=xa(t.updateTime),o=new xi({mapValue:{fields:t.fields}}),a=Ci.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function ja(e,t){var n;if(t instanceof Mo)n={update:Ra(e,t.key,t.value)};else if(t instanceof qo)n={delete:ka(e,t.key)};else if(t instanceof Lo)n={update:Ra(e,t.key,t.data),updateMask:Ja(t.fieldMask)};else{if(!(t instanceof Zo))return Nr();n={verify:ka(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof yo)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof bo)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof _o)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof So)return{fieldPath:t.field.canonicalString(),increment:n.A};throw Nr()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Sa(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Nr()}(e,t.precondition)),n}function Ma(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?To.updateTime(xa(e.updateTime)):void 0!==e.exists?To.exists(e.exists):To.none()}(t.currentDocument):To.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)jr("REQUEST_TIME"===t.setToServerValue),n=new yo;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new bo(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new _o(i)}else"increment"in t?n=new So(e,t.increment):Nr();var o=Yr.fromServerFormat(t.fieldPath);return new Co(o,n)}(e,t)})):[];if(t.update){t.update.name;var i=Ta(e,t.update.name),o=new xi({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){var t=e.fieldPaths||[];return new $r(t.map((function(e){return Yr.fromServerFormat(e)})))}(t.updateMask);return new Lo(i,o,a,n,r)}return new Mo(i,o,n,r)}if(t.delete){var s=Ta(e,t.delete);return new qo(s,n)}if(t.verify){var u=Ta(e,t.verify);return new Zo(u,n)}return Nr()}function La(e,t){return{documents:[Aa(e,t.path)]}}function Fa(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Aa(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Aa(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(_i(e.value))return{unaryFilter:{field:Ha(e.field),op:"IS_NAN"}};if(wi(e.value))return{unaryFilter:{field:Ha(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(_i(e.value))return{unaryFilter:{field:Ha(e.field),op:"IS_NOT_NAN"}};if(wi(e.value))return{unaryFilter:{field:Ha(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ha(e.field),op:Za(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Ha(e.field),direction:qa(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.I||ai(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=Va(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Va(t.endAt)),n}function Ba(e){var t=Ia(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){jr(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=Ua(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new qi(Wa(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return ai(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=za(n.startAt));var l=null;return n.endAt&&(l=za(n.endAt)),Ki(t,i,s,a,u,"F",c,l)}function Ua(e){return e?void 0!==e.unaryFilter?[Ka(e)]:void 0!==e.fieldFilter?[Ga(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Ua(e)})).reduce((function(e,t){return e.concat(t)})):Nr():[]}function Va(e){return{before:e.before,values:e.position}}function za(e){var t=!!e.before,n=e.values||[];return new Vi(n,t)}function qa(e){return ya[e]}function Za(e){return ba[e]}function Ha(e){return{fieldPath:e.canonicalString()}}function Wa(e){return Yr.fromServerFormat(e.fieldPath)}function Ga(e){return Pi.create(Wa(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Nr()}}(e.fieldFilter.op),e.fieldFilter.value)}function Ka(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Wa(e.unaryFilter.field);return Pi.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Wa(e.unaryFilter.field);return Pi.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Wa(e.unaryFilter.field);return Pi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Wa(e.unaryFilter.field);return Pi.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Nr()}}function Ja(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Ya(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function $a(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Qa(t)),t=Xa(e.get(n),t);return Qa(t)}function Xa(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Qa(e){return e+"\x01\x01"}function es(e){var t=e.length;if(jr(t>=2),2===t)return jr("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Kr.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&Nr(),e.charAt(a+1)){case"\x01":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:Nr()}o=a+2}return new Kr(r)}var ts=function(e,t){this.seconds=e,this.nanoseconds=t},ns=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};ns.store="owner",ns.key="owner";var rs=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};rs.store="mutationQueues",rs.keyPath="userId";var is=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};is.store="mutations",is.keyPath="batchId",is.userMutationsIndex="userMutationsIndex",is.userMutationsKeyPath=["userId","batchId"];var os=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,$a(t)]},e.key=function(e,t,n){return[e,$a(t),n]},e}();os.store="documentMutations",os.PLACEHOLDER=new os;var as=function(e,t){this.path=e,this.readTime=t},ss=function(e,t){this.path=e,this.version=t},us=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};us.store="remoteDocuments",us.readTimeIndex="readTimeIndex",us.readTimeIndexPath="readTime",us.collectionReadTimeIndex="collectionReadTimeIndex",us.collectionReadTimeIndexPath=["parentPath","readTime"];var cs=function(e){this.byteSize=e};cs.store="remoteDocumentGlobal",cs.key="remoteDocumentGlobalKey";var ls=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};ls.store="targets",ls.keyPath="targetId",ls.queryTargetsIndexName="queryTargetsIndex",ls.queryTargetsKeyPath=["canonicalId","targetId"];var fs=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};fs.store="targetDocuments",fs.keyPath=["targetId","path"],fs.documentTargetsIndex="documentTargetsIndex",fs.documentTargetsKeyPath=["path","targetId"];var ds=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};ds.key="targetGlobalKey",ds.store="targetGlobal";var hs=function(e,t){this.collectionId=e,this.parent=t};hs.store="collectionParents",hs.keyPath=["collectionId","parent"];var ps=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};ps.store="clientMetadata",ps.keyPath="clientId";var vs=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};vs.store="bundles",vs.keyPath="bundleId";var ms=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};ms.store="namedQueries",ms.keyPath="name";var gs=(0,a.ev)((0,a.ev)([],(0,a.ev)((0,a.ev)([],(0,a.ev)((0,a.ev)([],(0,a.ev)((0,a.ev)([],[rs.store,is.store,os.store,us.store,ls.store,ns.store,ds.store,fs.store]),[ps.store])),[cs.store])),[hs.store])),[vs.store,ms.store]),ys="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",bs=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),ws=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},_s=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&Nr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),Es=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new ws,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new Os(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=Is(t.target.error);n.ft.reject(new Os(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Os(n,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(Ir("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new ks(t)},e}(),Ss=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,12.2===e._t((0,s.z$)())&&Dr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return Ir("SimpleDb","Removing database:",e),Ts(window.indexedDB.deleteDatabase(e)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var t=(0,s.z$)(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),o=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||o)},e.gt=function(){var e;return"undefined"!=typeof xr&&"YES"===(null===(e=xr.env)||void 0===e?void 0:e.Tt)},e.It=function(e,t){return e.store(t)},e._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.At=function(e){return(0,a.mG)(this,void 0,void 0,(function(){var t,n=this;return(0,a.Jh)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Ir("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){var n=e.target.result;t(n)},i.onblocked=function(){r(new Os(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new kr(Cr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new Os(e,n))},i.onupgradeneeded=function(e){Ir("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.wt.Rt(t,i.transaction,e.oldVersion,n.version).next((function(){Ir("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}}))}))},e.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return(0,a.mG)(this,void 0,void 0,(function(){var i,o,s,u,c;return(0,a.Jh)(this,(function(l){switch(l.label){case 0:i="readonly"===t,o=0,s=function(){var t,s,c,l,f;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:++o,a.label=1;case 1:return a.trys.push([1,4,,5]),[4,u.At(e)];case 2:return u.db=a.sent(),t=Es.open(u.db,e,i?"readonly":"readwrite",n),s=r(t).catch((function(e){return t.abort(e),_s.reject(e)})).toPromise(),c={},s.catch((function(){})),[4,t.dt];case 3:return[2,(c.value=(a.sent(),s),c)];case 4:return l=a.sent(),f="FirebaseError"!==l.name&&o<3,Ir("SimpleDb","Transaction failed with error:",l.message,"Retrying:",f),u.close(),f?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}}))},u=this,l.label=1;case 1:return[5,s()];case 2:if("object"==typeof(c=l.sent()))return[2,c.value];l.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),xs=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return Ts(this.Pt.delete())},e}(),Os=function(e){function t(t,n){var r=this;return(r=e.call(this,Cr.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,a.ZT)(t,e),t}(kr);function Cs(e){return"IndexedDbTransactionError"===e.name}var ks=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(Ir("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Ir("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Ts(n)},e.prototype.add=function(e){return Ir("SimpleDb","ADD",this.store.name,e,e),Ts(this.store.add(e))},e.prototype.get=function(e){var t=this;return Ts(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Ir("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return Ir("SimpleDb","DELETE",this.store.name,e),Ts(this.store.delete(e))},e.prototype.count=function(){return Ir("SimpleDb","COUNT",this.store.name),Ts(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.kt=function(e,t){Ir("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Ft=!1;var r=this.cursor(n);return this.xt(r,(function(e,t,n){return n.delete()}))},e.prototype.$t=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.Ot=function(e){var t=this.cursor({});return new _s((function(n,r){t.onerror=function(e){var t=Is(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.xt=function(e,t){var n=[];return new _s((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new xs(i),a=t(i.primaryKey,i.value,o);if(a instanceof _s){var s=a.catch((function(e){return o.done(),_s.reject(e)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return _s.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Ft?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function Ts(e){return new _s((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Is(e.target.error);n(t)}}))}var As=!1;function Is(e){var t=Ss._t((0,s.z$)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new kr("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return As||(As=!0,setTimeout((function(){throw r}),0)),r}}return e}var Ds=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return(0,a.ZT)(t,e),t}(bs);function Ps(e,t){var n=Mr(e);return Ss.It(n.Mt,t)}var Rs=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Do(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(o=n[t]).key.isEqual(e.key)&&Po(o,e,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(e.key)&&Po(o,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(qr.min())}))},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),aa())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&Ur(this.mutations,e.mutations,(function(e,t){return No(e,t)}))&&Ur(this.baseMutations,e.baseMutations,(function(e,t){return No(e,t)}))},e}(),Ns=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){jr(t.mutations.length===r.length);for(var i=ia(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),js=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=qr.min()),void 0===o&&(o=qr.min()),void 0===a&&(a=Xr.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),Ms=function(e){this.Lt=e};function Ls(e,t){if(t.document)return Na(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=ci.fromSegments(t.noDocument.path),r=zs(t.noDocument.readTime),i=Ci.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=ci.fromSegments(t.unknownDocument.path);return r=zs(t.unknownDocument.version),Ci.newUnknownDocument(o,r)}return Nr()}function Fs(e,t,n){var r=Bs(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(e,t){return{name:ka(e,t.key),fields:t.data.value.mapValue.fields,updateTime:_a(e,t.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new us(null,null,o,a,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=Vs(t.version);return a=t.hasCommittedMutations,new us(null,new as(s,u),null,a,r,i)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=Vs(t.version);return new us(new ss(c,l),null,null,!0,r,i)}return Nr()}function Bs(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Us(e){var t=new zr(e[0],e[1]);return qr.fromTimestamp(t)}function Vs(e){var t=e.toTimestamp();return new ts(t.seconds,t.nanoseconds)}function zs(e){var t=new zr(e.seconds,e.nanoseconds);return qr.fromTimestamp(t)}function qs(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Ma(e.Lt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map((function(t){return Ma(e.Lt,t)})),s=zr.fromMillis(t.localWriteTimeMs);return new Rs(t.batchId,s,n,a)}function Zs(e){var t,n,r=zs(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?zs(e.lastLimboFreeSnapshotVersion):qr.min();return void 0!==e.query.documents?(jr(1===(n=e.query).documents.length),t=no(Ji(Ia(n.documents[0])))):t=function(e){return no(Ba(e))}(e.query),new js(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Xr.fromBase64String(e.resumeToken))}function Hs(e,t){var n,r=Vs(t.snapshotVersion),i=Vs(t.lastLimboFreeSnapshotVersion);n=Di(t.target)?La(e.Lt,t.target):Fa(e.Lt,t.target);var o=t.resumeToken.toBase64();return new ls(t.targetId,Ai(t.target),r,o,t.sequenceNumber,i,n)}function Ws(e){var t=Ba({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?ro(t,t.limit,"L"):t}var Gs=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return Ks(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:zs(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return Ks(e).put({bundleId:(n=t).id,createTime:Vs(xa(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return Js(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Ws(t.bundledQuery),readTime:zs(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return Js(e).put(function(e){return{name:e.name,readTime:Vs(xa(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function Ks(e){return Ps(e,vs.store)}function Js(e){return Ps(e,ms.store)}var Ys=function(){function e(){this.Bt=new $s}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),_s.resolve()},e.prototype.getCollectionParents=function(e,t){return _s.resolve(this.Bt.getEntries(t))},e}(),$s=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new $o(Kr.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new $o(Kr.comparator)).toArray()},e}(),Xs=function(){function e(){this.qt=new $s}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.qt.add(t)}));var o={collectionId:r,parent:$a(i)};return Qs(e).put(o)}return _s.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Vr(t),""],!1,!0);return Qs(e).Nt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(es(o.parent))}return n}))},e}();function Qs(e){return Ps(e,hs.store)}var eu={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tu=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function nu(e,t,n){var r=e.store(is.store),i=e.store(os.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.$t({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){jr(1===s)})));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var d=f[l],h=os.key(t,d.key.path,n.batchId);o.push(i.delete(h)),c.push(d.key)}return _s.waitFor(o).next((function(){return c}))}function ru(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Nr();t=e.noDocument}return JSON.stringify(t).length}tu.DEFAULT_COLLECTION_PERCENTILE=10,tu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tu.DEFAULT=new tu(41943040,tu.DEFAULT_COLLECTION_PERCENTILE,tu.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tu.DISABLED=new tu(-1,0,0);var iu=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return e.Qt=function(t,n,r,i){return jr(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return au(e).$t({index:is.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=su(e),a=au(e);return a.add({}).next((function(s){jr("number"==typeof s);for(var u=new Rs(s,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return ja(e.Lt,t)})),i=n.mutations.map((function(t){return ja(e.Lt,t)}));return new is(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],f=new $o((function(e,t){return Br(e.canonicalString(),t.canonicalString())})),d=0,h=r;d<h.length;d++){var p=h[d],v=os.key(i.userId,p.key.path,s);f=f.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(v,os.PLACEHOLDER))}return f.forEach((function(t){l.push(i.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Kt[s]=u.keys()})),_s.waitFor(l).next((function(){return u}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return au(e).get(t).next((function(e){return e?(jr(e.userId===n.userId),qs(n.R,e)):null}))},e.prototype.jt=function(e,t){var n=this;return this.Kt[t]?_s.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Kt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return au(e).$t({index:is.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(jr(t.batchId>=r),o=qs(n.R,t)),i.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return au(e).$t({index:is.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return au(e).Nt(is.userMutationsIndex,n).next((function(e){return e.map((function(e){return qs(t.R,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=os.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return su(e).$t({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=es(u);if(s===n.userId&&t.path.isEqual(l))return au(e).get(c).next((function(e){if(!e)throw Nr();jr(e.userId===n.userId),o.push(qs(n.R,e))}));a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new $o(Br),i=[];return t.forEach((function(t){var o=os.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=su(e).$t({range:a},(function(e,i,o){var a=e[0],s=e[1],u=e[2],c=es(s);a===n.userId&&t.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),_s.waitFor(i).next((function(){return n.Wt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=os.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new $o(Br);return su(e).$t({range:a},(function(e,t,o){var a=e[0],u=e[1],c=e[2],l=es(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Wt(e,s)}))},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(au(e).get(t).next((function(e){if(null===e)throw Nr();jr(e.userId===n.userId),r.push(qs(n.R,e))})))})),_s.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return nu(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Gt(t.batchId)})),_s.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Gt=function(e){delete this.Kt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return _s.resolve();var r=IDBKeyRange.lowerBound(os.prefixForUser(t.userId)),i=[];return su(e).$t({range:r},(function(e,n,r){if(e[0]===t.userId){var o=es(e[1]);i.push(o)}else r.done()})).next((function(){jr(0===i.length)}))}))},e.prototype.containsKey=function(e,t){return ou(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return uu(e).get(this.userId).next((function(e){return e||new rs(t.userId,-1,"")}))},e}();function ou(e,t,n){var r=os.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return su(e).$t({range:o,Ft:!0},(function(e,n,r){var o=e[0],s=e[1];e[2],o===t&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function au(e){return Ps(e,is.store)}function su(e){return Ps(e,os.store)}function uu(e){return Ps(e,rs.store)}var cu=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),lu=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(n){var r=new cu(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return qr.fromTimestamp(new zr(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next((function(){return n.Xt(e).next((function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return fu(e).delete(t.targetId)})).next((function(){return n.Xt(e)})).next((function(t){return jr(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return fu(e).$t((function(a,s){var u=Zs(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))})).next((function(){return _s.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){return fu(e).$t((function(e,n){var r=Zs(n);t(r)}))},e.prototype.Xt=function(e){return du(e).get(ds.key).next((function(e){return jr(null!==e),e}))},e.prototype.Zt=function(e,t){return du(e).put(ds.key,t)},e.prototype.te=function(e,t){return fu(e).put(Hs(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=Ai(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return fu(e).$t({range:r,index:ls.queryTargetsIndexName},(function(e,n,r){var o=Zs(n);Ii(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=hu(e);return t.forEach((function(t){var a=$a(t.path);i.push(o.put(new fs(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),_s.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=hu(e);return _s.forEach(t,(function(t){var o=$a(t.path);return _s.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=hu(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=hu(e),i=aa();return r.$t({range:n,Ft:!0},(function(e,t,n){var r=es(e[1]),o=new ci(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=$a(t.path),r=IDBKeyRange.bound([n],[Vr(n)],!1,!0),i=0;return hu(e).$t({index:fs.documentTargetsIndex,Ft:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.lt=function(e,t){return fu(e).get(t).next((function(e){return e?Zs(e):null}))},e}();function fu(e){return Ps(e,ls.store)}function du(e){return Ps(e,ds.store)}function hu(e){return Ps(e,fs.store)}function pu(e){return(0,a.mG)(this,void 0,void 0,(function(){return(0,a.Jh)(this,(function(t){if(e.code!==Cr.FAILED_PRECONDITION||e.message!==ys)throw e;return Ir("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function vu(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=Br(n,i);return 0===a?Br(r,o):a}var mu=function(){function e(e){this.ne=e,this.buffer=new $o(vu),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();vu(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),gu=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;Ir("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return(0,a.mG)(t,void 0,void 0,(function(){var t;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Cs(t=n.sent())?(Ir("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,pu(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),yu=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return _s.resolve(Or.o);var r=new mu(t);return this.ae.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return n.ae.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Ir("LruGarbageCollector","Garbage collection skipped; disabled"),_s.resolve(eu)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Ir("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),eu):n.fe(e,t)}))},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,i,o,a,s,c,l=this,f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>l.params.maximumSequenceNumbersToCollect?(Ir("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.maximumSequenceNumbersToCollect+" from "+t),r=l.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),l.nthSequenceNumber(e,r)})).next((function(r){return n=r,a=Date.now(),l.removeTargets(e,n,t)})).next((function(t){return i=t,s=Date.now(),l.removeOrphanedDocuments(e,n)})).next((function(e){return c=Date.now(),Ar()<=u.in.DEBUG&&Ir("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-f)+"ms\n\tDetermined least recently used "+r+" in "+(a-o)+"ms\n\tRemoved "+i+" targets in "+(s-a)+"ms\n\tRemoved "+e+" documents in "+(c-s)+"ms\nTotal Duration: "+(c-f)+"ms"),_s.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},e}(),bu=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new yu(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return wu(e,n)},e.prototype.removeReference=function(e,t,n){return wu(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return wu(e,t)},e.prototype._e=function(e,t){return function(e,t){var n=!1;return uu(e).Ot((function(r){return ou(e,r,t).next((function(e){return e&&(n=!0),_s.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,(function(a,s){if(s<=t){var u=n._e(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),hu(e).delete([0,$a(a.path)])}))}));i.push(u)}})).next((function(){return _s.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return wu(e,t)},e.prototype.we=function(e,t){var n,r=hu(e),i=Or.o;return r.$t({index:fs.documentTargetsIndex},(function(e,r){var o=e[0];e[1];var a=r.path,s=r.sequenceNumber;0===o?(i!==Or.o&&t(new ci(es(n)),i),i=s,n=a):i=Or.o})).next((function(){i!==Or.o&&t(new ci(es(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function wu(e,t){return hu(e).put(function(e,t){return new fs(0,$a(e.path),t)}(t,e.currentSequenceNumber))}var _u=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){Hr(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}}))},e.prototype.isEmpty=function(){return Wr(this.inner)},e}(),Eu=function(){function e(){this.changes=new _u((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:qr.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:Ci.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?_s.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),Su=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return Cu(e).put(ku(t),n)},e.prototype.removeEntry=function(e,t){var n=Cu(e),r=ku(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.me(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return Cu(e).get(ku(t)).next((function(e){return n.ye(t,e)}))},e.prototype.ge=function(e,t){var n=this;return Cu(e).get(ku(t)).next((function(e){return{document:n.ye(t,e),size:ru(e)}}))},e.prototype.getEntries=function(e,t){var n=this,r=ea();return this.pe(e,t,(function(e,t){var i=n.ye(e,t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.Ee=function(e,t){var n=this,r=ea(),i=new Ko(ci.comparator);return this.pe(e,t,(function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,ru(t))})).next((function(){return{documents:r,Te:i}}))},e.prototype.pe=function(e,t,n){if(t.isEmpty())return _s.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return Cu(e).$t({range:r},(function(e,t,r){for(var a=ci.fromSegments(e);o&&ci.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=ea(),o=t.path.length+1,a={};if(n.isEqual(qr.min())){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=Bs(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=us.collectionReadTimeIndex}return Cu(e).$t(a,(function(e,n,a){if(e.length===o){var s=Ls(r.R,n);t.path.isPrefixOf(s.key.path)?so(t,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},e.prototype.newChangeBuffer=function(e){return new xu(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return Ou(e).get(cs.key).next((function(e){return jr(!!e),e}))},e.prototype.me=function(e,t){return Ou(e).put(cs.key,t)},e.prototype.ye=function(e,t){if(t){var n=Ls(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(qr.min()))return n}return Ci.newInvalidDocument(e)},e}(),xu=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new _u((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return(0,a.ZT)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new $o((function(e,t){return Br(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s=t.Ae.get(o);if(a.document.isValidDocument()){var u=Fs(t.Ie.R,a.document,t.getReadTime(o));i=i.add(o.path.popLast());var c=ru(u);r+=c-s,n.push(t.Ie.addEntry(e,o,u))}else if(r-=s,t.trackRemovals){var l=Fs(t.Ie.R,Ci.newNoDocument(o,qr.min()),t.getReadTime(o));n.push(t.Ie.addEntry(e,o,l))}else n.push(t.Ie.removeEntry(e,o))})),i.forEach((function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),n.push(this.Ie.updateMetadata(e,r)),_s.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next((function(e){return n.Ae.set(t,e.size),e.document}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){n.Ae.set(e,t)})),t}))},t}(Eu);function Ou(e){return Ps(e,cs.store)}function Cu(e){return Ps(e,us.store)}function ku(e){return e.path.toArray()}var Tu=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;jr(n<r&&n>=0&&r<=11);var o=new Es("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(ns.store)}(e),function(e){e.createObjectStore(rs.store,{keyPath:rs.keyPath}),e.createObjectStore(is.store,{keyPath:is.keyPath,autoIncrement:!0}).createIndex(is.userMutationsIndex,is.userMutationsKeyPath,{unique:!0}),e.createObjectStore(os.store)}(e),Au(e),function(e){e.createObjectStore(us.store)}(e));var a=_s.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(fs.store),e.deleteObjectStore(ls.store),e.deleteObjectStore(ds.store)}(e),Au(e)),a=a.next((function(){return function(e){var t=e.store(ds.store),n=new ds(0,0,qr.min().toTimestamp(),0);return t.put(ds.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(is.store).Nt().next((function(n){e.deleteObjectStore(is.store),e.createObjectStore(is.store,{keyPath:is.keyPath,autoIncrement:!0}).createIndex(is.userMutationsIndex,is.userMutationsKeyPath,{unique:!0});var r=t.store(is.store),i=n.map((function(e){return r.put(e)}));return _s.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(ps.store,{keyPath:ps.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(cs.store)}(e),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(us.store);t.createIndex(us.readTimeIndex,us.readTimeIndexPath,{unique:!1}),t.createIndex(us.collectionReadTimeIndex,us.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(vs.store,{keyPath:vs.keyPath})}(e),function(e){e.createObjectStore(ms.store,{keyPath:ms.keyPath})}(e)}))),a},e.prototype.be=function(e){var t=0;return e.store(us.store).$t((function(e,n){t+=ru(n)})).next((function(){var n=new cs(t);return e.store(cs.store).put(cs.key,n)}))},e.prototype.Re=function(e){var t=this,n=e.store(rs.store),r=e.store(is.store);return n.Nt().next((function(n){return _s.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(is.userMutationsIndex,i).next((function(r){return _s.forEach(r,(function(r){jr(r.userId===n.userId);var i=qs(t.R,r);return nu(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ve=function(e){var t=e.store(fs.store),n=e.store(us.store);return e.store(ds.store).get(ds.key).next((function(e){var r=[];return n.$t((function(n,i){var o=new Kr(n),a=function(e){return[0,$a(e)]}(o);r.push(t.get(a).next((function(n){return n?_s.resolve():function(n){return t.put(new fs(0,$a(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return _s.waitFor(r)}))}))},e.prototype.Pe=function(e,t){e.createObjectStore(hs.store,{keyPath:hs.keyPath});var n=t.store(hs.store),r=new $s,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:$a(i)})}};return t.store(us.store).$t({Ft:!0},(function(e,t){var n=new Kr(e);return i(n.popLast())})).next((function(){return t.store(os.store).$t({Ft:!0},(function(e,t){e[0];var n=e[1];e[2];var r=es(n);return i(r.popLast())}))}))},e.prototype.Ve=function(e){var t=this,n=e.store(ls.store);return n.$t((function(e,r){var i=Zs(r),o=Hs(t.R,i);return n.put(o)}))},e}();function Au(e){e.createObjectStore(fs.store,{keyPath:fs.keyPath}).createIndex(fs.documentTargetsIndex,fs.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(ls.store,{keyPath:ls.keyPath}).createIndex(ls.queryTargetsIndexName,ls.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(ds.store)}var Iu="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Du=function(){function e(t,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new kr(Cr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new bu(this,i),this.Le=n+"main",this.R=new Ms(u),this.Be=new Ss(this.Le,11,new Tu(this.R)),this.qe=new lu(this.referenceDelegate,this.R),this.Ut=new Xs,this.Ue=function(e,t){return new Su(e,t)}(this.R,this.Ut),this.Ke=new Gs,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&Dr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new kr(Cr.FAILED_PRECONDITION,Iu);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new Or(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},e.prototype.He=function(e){var t=this;return this.Me=function(n){return(0,a.mG)(t,void 0,void 0,(function(){return(0,a.Jh)(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(n){return(0,a.mG)(t,void 0,void 0,(function(){return(0,a.Jh)(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return(0,a.mG)(t,void 0,void 0,(function(){return(0,a.Jh)(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Ru(t).put(new ps(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(n){return e.isPrimary&&!n?e.Xe(t).next((function(){return!1})):!!n&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(Cs(t))return Ir("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Ir("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},e.prototype.Je=function(e){var t=this;return Pu(e).get(ns.key).next((function(e){return _s.resolve(t.tn(e))}))},e.prototype.en=function(e){return Ru(e).delete(this.clientId)},e.prototype.nn=function(){return(0,a.mG)(this,void 0,void 0,(function(){var e,t,n,r,i=this;return(0,a.Jh)(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Ps(e,ps.store);return t.Nt().next((function(e){var n=i.rn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return _s.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=o.sent(),this.Qe)for(t=0,n=e;t<n.length;t++)r=n[t],this.Qe.removeItem(this.on(r.clientId));o.label=2;case 2:return[2]}}))}))},e.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?_s.resolve(!0):Pu(e).get(ns.key).next((function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new kr(Cr.FAILED_PRECONDITION,Iu);return!1}}return!(!t.networkEnabled||!t.inForeground)||Ru(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Ir("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return(0,a.mG)(this,void 0,void 0,(function(){var e=this;return(0,a.Jh)(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[ns.store,ps.store],(function(t){var n=new Ds(t,Or.o);return e.Xe(n).next((function(){return e.en(n)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},e.prototype.rn=function(e,t){var n=this;return e.filter((function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)}))},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Ru(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return iu.Qt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;Ir("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.Be.runTransaction(e,o,gs,(function(o){return i=new Ds(o,r.Ne?r.Ne.next():Or.o),"readwrite-primary"===t?r.Je(i).next((function(e){return!!e||r.Ye(i)})).next((function(t){if(!t)throw Dr("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new kr(Cr.FAILED_PRECONDITION,ys);return n(i)})).next((function(e){return r.Ze(i).next((function(){return e}))})):r.dn(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.dn=function(e){var t=this;return Pu(e).get(ns.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new kr(Cr.FAILED_PRECONDITION,Iu)}))},e.prototype.Ze=function(e){var t=new ns(this.clientId,this.allowTabSynchronization,Date.now());return Pu(e).put(ns.key,t)},e.yt=function(){return Ss.yt()},e.prototype.Xe=function(e){var t=this,n=Pu(e);return n.get(ns.key).next((function(e){return t.tn(e)?(Ir("IndexedDbPersistence","Releasing primary lease."),n.delete(ns.key)):_s.resolve()}))},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(Dr("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ke=function(){t.un(),(0,s.G6)()&&navigator.appVersion.match("Version/14")&&t.Se.enterRestrictedMode(!0),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Qe)||void 0===t?void 0:t.getItem(this.on(e)));return Ir("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return Dr("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){Dr("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function Pu(e){return Ps(e,ns.store)}function Ru(e){return Ps(e,ps.store)}function Nu(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var ju=function(e,t){this.progress=e,this.wn=t},Mu=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.yn(e,t,r)}))},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e}))},e.prototype.gn=function(e,t){e.forEach((function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)}))},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next((function(t){return n.En(e,t).next((function(){return t}))}))},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.gn(t,e)}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return ci.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):eo(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new ci(t)).next((function(e){var t=na();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=na();return this.Ut.getCollectionParents(e,i).next((function(a){return _s.forEach(a,(function(a){var s=function(e,t){return new Gi(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.An(e,s,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},e.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,o.Rn(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=Ci.newInvalidDocument(c),r=r.insert(c,l)),Po(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(e,n){so(t,n)||(r=r.remove(e))})),r}))},e.prototype.Rn=function(e,t,n){for(var r=aa(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Lo&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))},e}(),Lu=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=aa(),i=aa(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),Fu=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(qr.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(o){var a=i.Cn(t,o);return(Yi(t)||$i(t))&&i.Nn(t.limitType,a,r,n)?i.Dn(e,t):(Ar()<=u.in.DEBUG&&Ir("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ao(t)),i.Sn.getDocumentsMatchingQuery(e,t,n).next((function(e){return a.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.Cn=function(e,t){var n=new $o(uo(e));return t.forEach((function(t,r){so(e,r)&&(n=n.add(r))})),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return Ar()<=u.in.DEBUG&&Ir("QueryEngine","Using full collection scan to execute query:",ao(t)),this.Sn.getDocumentsMatchingQuery(e,t,qr.min())},e}(),Bu=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.kn=new Ko(Br),this.Fn=new _u((function(e){return Ai(e)}),Ii),this.$n=qr.min(),this._n=e.getMutationQueue(n),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new Mu(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.kn)}))},e}();function Uu(e,t,n,r){return new Bu(e,t,n,r)}function Vu(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r,i,o;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return n=Mr(e),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var o;return n._n.getAllMutationBatches(e).next((function(a){return o=a,r=n.persistence.getMutationQueue(t),i=new Mu(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],a=aa(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++){var d=f[l];a=a.add(d.key)}}for(var h=0,p=t;h<p.length;h++){var v=p[h];r.push(v.batchId);for(var m=0,g=v.mutations;m<g.length;m++){var y=g[m];a=a.add(y.key)}}return i.pn(e,a).next((function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return o=a.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}}))}))}function zu(e,t){var n=Mr(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=_s.resolve();return o.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var o=n.docVersions.get(e);jr(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),a.next((function(){return e._n.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}function qu(e){var t=Mr(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function Zu(e,t){var n=Mr(e),r=t.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var a=[];t.targetChanges.forEach((function(t,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)})));var u=t.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,c),function(e,t,n){return jr(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,t)&&a.push(n.qe.updateTargetData(e,c))}}}));var s=ea();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(Hu(e,o,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(qr.min())){var u=n.qe.getLastRemoteSnapshotVersion(e).next((function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(u)}return _s.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Mn.En(e,s)})).next((function(){return s}))})).then((function(e){return n.kn=i,e}))}function Hu(e,t,n,r,i){var o=aa();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=ea();return n.forEach((function(n,a){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(qr.min())?(t.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,u),o=o.insert(n,a)):Ir("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function Wu(e,t){var n=Mr(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)}))}function Gu(e,t){var n=Mr(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qe.getTargetData(e,t).next((function(i){return i?(r=i,_s.resolve(r)):n.qe.allocateTargetId(e).next((function(i){return r=new js(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.kn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(e.targetId,e),n.Fn.set(t,e.targetId)),e}))}function Ku(e,t,n){return(0,a.mG)(this,void 0,void 0,(function(){var r,i,o,s;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:r=Mr(e),i=r.kn.get(t),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(e){return r.persistence.referenceDelegate.removeTarget(e,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Cs(s=a.sent()))throw s;return Ir("LocalStore","Failed to update sequence numbers for target "+t+": "+s),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(i.target),[2]}}))}))}function Ju(e,t,n){var r=Mr(e),i=qr.min(),o=aa();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Mr(e),i=r.Fn.get(n);return void 0!==i?_s.resolve(r.kn.get(i)):r.qe.getTargetData(t,n)}(r,e,no(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:qr.min(),n?o:aa())})).next((function(e){return{documents:e,Bn:o}}))}))}function Yu(e,t){var n=Mr(e),r=Mr(n.qe),i=n.kn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function $u(e){var t=Mr(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=Mr(e),i=ea(),o=Bs(n),a=Cu(t),s=IDBKeyRange.lowerBound(o,!0);return a.$t({index:us.readTimeIndex,range:s},(function(e,t){var n=Ls(r.R,t);i=i.insert(n.key,n),o=t.readTime})).next((function(){return{wn:i,readTime:Us(o)}}))}(t.On,e,t.$n)})).then((function(e){var n=e.wn,r=e.readTime;return t.$n=r,n}))}function Xu(e){return(0,a.mG)(this,void 0,void 0,(function(){var t;return(0,a.Jh)(this,(function(n){return[2,(t=Mr(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=Cu(e),n=qr.min();return t.$t({index:us.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=Us(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.$n=e}))]}))}))}function Qu(e,t,n,r){return(0,a.mG)(this,void 0,void 0,(function(){var i,o,s,u,c,l,f,d,h,p;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:for(i=Mr(e),o=aa(),s=ea(),u=ia(),c=0,l=n;c<l.length;c++)f=l[c],d=t.qn(f.metadata.name),f.document&&(o=o.add(d)),s=s.insert(d,t.Un(f)),u=u.insert(d,t.Kn(f.metadata.readTime));return h=i.On.newChangeBuffer({trackRemovals:!0}),[4,Gu(i,function(e){return no(Ji(Kr.fromString("__bundle__/docs/"+e)))}(r))];case 1:return p=a.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Hu(e,h,s,qr.min(),u).next((function(t){return h.apply(e),t})).next((function(t){return i.qe.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return i.qe.addMatchingKeys(e,o,p.targetId)})).next((function(){return i.Mn.En(e,t)})).next((function(){return t}))}))}))]}}))}))}function ec(e,t,n){return void 0===n&&(n=aa()),(0,a.mG)(this,void 0,void 0,(function(){var r,i;return(0,a.Jh)(this,(function(o){switch(o.label){case 0:return[4,Gu(e,no(Ws(t.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Mr(e)).persistence.runTransaction("Save named query","readwrite",(function(e){var o=xa(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ke.saveNamedQuery(e,t);var a=r.withResumeToken(Xr.EMPTY_BYTE_STRING,o);return i.kn=i.kn.insert(a.targetId,a),i.qe.updateTargetData(e,a).next((function(){return i.qe.removeMatchingKeysForTargetId(e,r.targetId)})).next((function(){return i.qe.addMatchingKeys(e,n,r.targetId)})).next((function(){return i.Ke.saveNamedQuery(e,t)}))}))]}}))}))}var tc=function(){function e(e){this.R=e,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return _s.resolve(this.Qn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Qn.set(t.id,{id:(n=t).id,version:n.version,createTime:xa(n.createTime)}),_s.resolve()},e.prototype.getNamedQuery=function(e,t){return _s.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:Ws(e.bundledQuery),readTime:xa(e.readTime)}}(t)),_s.resolve()},e}(),nc=function(){function e(){this.Wn=new $o(rc.Gn),this.zn=new $o(rc.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new rc(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.Yn(new rc(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.Zn=function(e){var t=this,n=new ci(new Kr([])),r=new rc(n,e),i=new rc(n,e+1),o=[];return this.zn.forEachInRange([r,i],(function(e){t.Yn(e),o.push(e.key)})),o},e.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new ci(new Kr([])),n=new rc(t,e),r=new rc(t,e+1),i=aa();return this.zn.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new rc(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),rc=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return ci.comparator(e.key,t.key)||Br(e.ns,t.ns)},e.Hn=function(e,t){return Br(e.ns,t.ns)||ci.comparator(e.key,t.key)},e}(),ic=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new $o(rc.Gn)}return e.prototype.checkEmpty=function(e){return _s.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new Rs(i,t,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new rc(u.key,i)),this.Ut.addToCollectionParentIndex(e,u.key.path.popLast())}return _s.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return _s.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.cs(n),i=r<0?0:r;return _s.resolve(this._n.length>i?this._n[i]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return _s.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return _s.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new rc(t,0),i=new rc(t,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(e){var t=n.os(e.ns);o.push(t)})),_s.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new $o(Br);return t.forEach((function(e){var t=new rc(e,0),i=new rc(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],(function(e){r=r.add(e.ns)}))})),_s.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;ci.isDocumentKey(i)||(i=i.child(""));var o=new rc(new ci(i),0),a=new $o(Br);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ns)),!0)}),o),_s.resolve(this.us(a))},e.prototype.us=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.os(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;jr(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return _s.forEach(t.mutations,(function(i){var o=new rc(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.rs=r}))},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new rc(t,0),r=this.rs.firstAfterOrEqual(n);return _s.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this._n.length,_s.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),oc=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new Ko(ci.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return _s.resolve(n?n.document.clone():Ci.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=ea();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():Ci.newInvalidDocument(e))})),_s.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=ea(),i=new ci(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||so(t,c)&&(r=r.insert(c.key,c.clone()))}return _s.resolve(r)},e.prototype.fs=function(e,t){return _s.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new ac(this)},e.prototype.getSize=function(e){return _s.resolve(this.size)},e}(),ac=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return(0,a.ZT)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),_s.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(Eu),sc=function(){function e(e){this.persistence=e,this.ds=new _u((function(e){return Ai(e)}),Ii),this.lastRemoteSnapshotVersion=qr.min(),this.highestTargetId=0,this.ws=0,this._s=new nc,this.targetCount=0,this.ys=cu.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,n){return t(n)})),_s.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return _s.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return _s.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),_s.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),_s.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new cu(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,_s.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),_s.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,_s.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),_s.waitFor(o).next((function(){return i}))},e.prototype.getTargetCount=function(e){return _s.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return _s.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),_s.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),_s.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),_s.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return _s.resolve(n)},e.prototype.containsKey=function(e,t){return _s.resolve(this._s.containsKey(t))},e}(),uc=function(){function e(e,t){var n=this;this.gs={},this.Ne=new Or(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new sc(this),this.Ut=new Ys,this.Ue=function(e,t){return new oc(e,(function(e){return n.referenceDelegate.ps(e)}))}(this.Ut),this.R=new Ms(t),this.Ke=new tc(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new ic(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;Ir("MemoryPersistence","Starting transaction:",e);var i=new cc(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(e){return r.referenceDelegate.Ts(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.Is=function(e,t){return _s.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),cc=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return(0,a.ZT)(t,e),t}(bs),lc=function(){function e(e){this.persistence=e,this.As=new nc,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Nr()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),_s.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),_s.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),_s.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach((function(e){return n.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _s.forEach(this.vs,(function(r){var i=ci.fromPath(r);return t.Ps(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Rs=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next((function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())}))},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return _s.or([function(){return _s.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),fc=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function dc(e,t){return"firestore_clients_"+e+"_"+t}function hc(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function pc(e,t){return"firestore_targets_"+e+"_"+t}fc.UNAUTHENTICATED=new fc(null),fc.GOOGLE_CREDENTIALS=new fc("google-credentials-uid"),fc.FIRST_PARTY=new fc("first-party-uid"),fc.MOCK_USER=new fc("mock-user");var vc=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new kr(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(Dr("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),mc=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new kr(i.error.code,i.error.message)),o?new e(t,i.state,r):(Dr("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),gc=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=ua(),a=0;i&&a<r.activeTargetIds.length;++a)i=ui(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(Dr("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),yc=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Dr("SharedClientState","Failed to parse online state: "+t),null)},e}(),bc=function(){function e(){this.activeTargetIds=ua()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),wc=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Ko(Br),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=dc(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new bc),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Ks=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return(0,a.mG)(this,void 0,void 0,(function(){var e,t,n,r,i,o,s,u,c,l,f,d=this;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=a.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ns&&(i=this.getItem(dc(this.persistenceKey,r)))&&(o=gc.Vs(r,i))&&(this.Fs=this.Fs.insert(o.clientId,o));for(this.Qs(),(s=this.storage.getItem(this.Us))&&(u=this.js(s))&&this.Ws(u),c=0,l=this.$s;c<l.length;c++)f=l[c],this.ks(f);return this.$s=[],this.window.addEventListener("pagehide",(function(){return d.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.Fs.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(pc(this.persistenceKey,e));if(n){var r=mc.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Qs(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(pc(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return Ir("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){Ir("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){Ir("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.ks=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Ir("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Dr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return(0,a.mG)(t,void 0,void 0,(function(){var e,t,r,i,o,s;return(0,a.Jh)(this,(function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(e){var t=Or.o;if(null!=e)try{var n=JSON.parse(e);jr("number"==typeof n),t=n}catch(e){Dr("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==Or.o&&this.sequenceNumberHandler(s);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new vc(this.currentUser,e,t,n),i=hc(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=hc(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){var t={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(t))},e.prototype.Ys=function(e,t,n){var r=pc(this.persistenceKey,e),i=new mc(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return gc.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return vc.Vs(new fc(i),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return mc.Vs(r,t)},e.prototype.js=function(e){return yc.Vs(e)},e.prototype.ii=function(e){return(0,a.mG)(this,void 0,void 0,(function(){return(0,a.Jh)(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(Ir("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.Fs.insert(e,t):this.Fs.remove(e),i=this.Gs(this.Fs),o=this.Gs(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.syncEngine.hi(a,s).then((function(){n.Fs=r}))},e.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=ua();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),_c=function(){function e(){this.li=new bc,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new bc,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),Ec=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),Sc=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){Ir("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){Ir("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),xc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Oc=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),Cc=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n.useFetchStreams=t.useFetchStreams,n}return(0,a.ZT)(t,e),t.prototype.Fi=function(e,t,n,r){return new Promise((function(i,o){var a=new Sr;a.listenOnce(yr.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case gr.NO_ERROR:var t=a.getResponseJson();Ir("Connection","XHR received:",JSON.stringify(t)),i(t);break;case gr.TIMEOUT:Ir("Connection",'RPC "'+e+'" timed out'),o(new kr(Cr.DEADLINE_EXCEEDED,"Request time out"));break;case gr.HTTP_ERROR:var n=a.getStatus();if(Ir("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Cr).indexOf(t)>=0?t:Cr.UNKNOWN}(r.status);o(new kr(s,r.message))}else o(new kr(Cr.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new kr(Cr.UNAVAILABLE,"Connection failed."));break;default:Nr()}}finally{Ir("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);a.send(t,"POST",s,n,15)}))},t.prototype.Oi=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=vr(),i=mr(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new _r({})),this.ki(o.initMessageHeaders,t),(0,s.uI)()||(0,s.b$)()||(0,s.d)()||(0,s.w1)()||(0,s.Mn)()||(0,s.ru)()||(o.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");Ir("Connection","Creating WebChannel: "+a,o);var u=r.createWebChannel(a,o),c=!1,l=!1,f=new Oc({Ei:function(e){l?Ir("Connection","Not sending because WebChannel is closed:",e):(c||(Ir("Connection","Opening WebChannel transport."),u.open(),c=!0),Ir("Connection","WebChannel sending:",e),u.send(e))},Ti:function(){return u.close()}}),d=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return d(u,Er.EventType.OPEN,(function(){l||Ir("Connection","WebChannel transport opened.")})),d(u,Er.EventType.CLOSE,(function(){l||(l=!0,Ir("Connection","WebChannel transport closed"),f.Vi())})),d(u,Er.EventType.ERROR,(function(e){l||(l=!0,Pr("Connection","WebChannel transport errored:",e),f.Vi(new kr(Cr.UNAVAILABLE,"The operation could not be completed")))})),d(u,Er.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];jr(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Ir("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=Vo[e];if(void 0!==t)return Go(t)}(o),s=i.message;void 0===a&&(a=Cr.INTERNAL,s="Unknown error status: "+o+" with message "+i.message),l=!0,f.Vi(new kr(a,s)),u.close()}else Ir("Connection","WebChannel received:",n),f.Si(n)}})),d(i,br.STAT_EVENT,(function(e){e.stat===wr.PROXY?Ir("Connection","Detected buffering proxy"):e.stat===wr.NOPROXY&&Ir("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Pi()}),0),f},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);Ir("RestConnection","Sending: ",i,n);var o={};return this.ki(o,r),this.Fi(e,i,o,n).then((function(e){return Ir("RestConnection","Received: ",e),e}),(function(t){throw Pr("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.$i=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.ki=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){var n=xc[e];return this.Di+"/v1/"+t+":"+n},e}());function kc(){return"undefined"!=typeof window?window:null}function Tc(){return"undefined"!=typeof document?document:null}function Ac(e){return new wa(e,!0)}var Ic=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&Ir("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return t.Ki=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),Dc=function(){function e(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Ic(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return(0,a.mG)(this,void 0,void 0,(function(){return(0,a.Jh)(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return(0,a.mG)(this,void 0,void 0,(function(){return(0,a.Jh)(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return(0,a.mG)(this,void 0,void 0,(function(){return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===Cr.RESOURCE_EXHAUSTED?(Dr(t.toString()),Dr("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):t&&t.code===Cr.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(t){e.Yi===n&&e.lr(t)}),(function(n){t((function(){var t=new kr(Cr.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)}))}))},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){n((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){n((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return(0,a.mG)(e,void 0,void 0,(function(){return(0,a.Jh)(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.dr=function(e){return Ir("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget((function(){return t.Yi===e?n():(Ir("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),Pc=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return(0,a.ZT)(t,e),t.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Nr()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.I?(jr(void 0===t||"string"==typeof t),Xr.fromBase64String(t||"")):(jr(void 0===t||t instanceof Uint8Array),Xr.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=(s=t.targetChange.cause)&&function(e){var t=void 0===e.code?Cr.UNKNOWN:Go(e.code);return new kr(t,e.message||"")}(s);n=new ha(r,i,o,a||null)}else if("documentChange"in t){t.documentChange,(r=t.documentChange).document,r.document.name,r.document.updateTime,i=Ta(e,r.document.name),o=xa(r.document.updateTime);var s=new xi({mapValue:{fields:r.document.fields}}),u=(a=Ci.newFoundDocument(i,o,s),r.targetIds||[]),c=r.removedTargetIds||[];n=new fa(u,c,a.key,a)}else if("documentDelete"in t)t.documentDelete,(r=t.documentDelete).document,i=Ta(e,r.document),o=r.readTime?xa(r.readTime):qr.min(),s=Ci.newNoDocument(i,o),a=r.removedTargetIds||[],n=new fa([],a,s.key,s);else if("documentRemove"in t)t.documentRemove,(r=t.documentRemove).document,i=Ta(e,r.document),o=r.removedTargetIds||[],n=new fa([],o,i,null);else{if(!("filter"in t))return Nr();t.filter;var l=t.filter;l.targetId,r=l.count||0,i=new Ho(r),o=l.targetId,n=new da(o,i)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return qr.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?qr.min():t.readTime?xa(t.readTime):qr.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t={};t.database=Da(this.R),t.addTarget=function(e,t){var n,r=t.target;return(n=Di(r)?{documents:La(e,r)}:{query:Fa(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Ea(e,t.resumeToken):t.snapshotVersion.compareTo(qr.min())>0&&(n.readTime=_a(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Nr()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,e);n&&(t.labels=n),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=Da(this.R),t.removeTarget=e,this.cr(t)},t}(Dc),Rc=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return(0,a.ZT)(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.Oi("Write",e)},t.prototype.onMessage=function(e){if(jr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?(jr(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?xa(e.updateTime):xa(t);return n.isEqual(qr.min())&&(n=xa(t)),new ko(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=xa(e.commitTime);return this.listener.Tr(n,t)}return jr(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=Da(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return ja(t.R,e)}))};this.cr(n)},t}(Dc),Nc=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return(0,a.ZT)(t,e),t.prototype.br=function(){if(this.Rr)throw new kr(Cr.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Cr.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new kr(Cr.UNKNOWN,e.toString())}))},t.prototype.$i=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Cr.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new kr(Cr.UNKNOWN,e.toString())}))},t.prototype.terminate=function(){this.Rr=!0},t}((function(){})),jc=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.kr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Dr(t),this.Vr=!1):Ir("OnlineStateTracker",t)},e.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),Mc=function(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=i,this.Lr.di((function(e){n.enqueueAndForget((function(){return(0,a.mG)(o,void 0,void 0,(function(){return(0,a.Jh)(this,(function(e){switch(e.label){case 0:return Hc(this)?(Ir("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return(0,a.mG)(this,void 0,void 0,(function(){var t;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return(t=Mr(e)).Or.add(4),[4,Fc(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.Or.delete(4),[4,Lc(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new jc(n,r)};function Lc(e){return(0,a.mG)(this,void 0,void 0,(function(){var t,n;return(0,a.Jh)(this,(function(r){switch(r.label){case 0:if(!Hc(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Fc(e){return(0,a.mG)(this,void 0,void 0,(function(){var t,n;return(0,a.Jh)(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Bc(e,t){var n=Mr(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),Zc(n)?qc(n):al(n).er()&&Vc(n,t))}function Uc(e,t){var n=Mr(e),r=al(n);n.$r.delete(t),r.er()&&zc(n,t),0===n.$r.size&&(r.er()?r.ir():Hc(n)&&n.Br.set("Unknown"))}function Vc(e,t){e.qr.U(t.targetId),al(e).mr(t)}function zc(e,t){e.qr.U(t),al(e).yr(t)}function qc(e){e.qr=new va({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),al(e).start(),e.Br.Sr()}function Zc(e){return Hc(e)&&!al(e).tr()&&e.$r.size>0}function Hc(e){return 0===Mr(e).Or.size}function Wc(e){e.qr=void 0}function Gc(e){return(0,a.mG)(this,void 0,void 0,(function(){return(0,a.Jh)(this,(function(t){return e.$r.forEach((function(t,n){Vc(e,t)})),[2]}))}))}function Kc(e,t){return(0,a.mG)(this,void 0,void 0,(function(){return(0,a.Jh)(this,(function(n){return Wc(e),Zc(e)?(e.Br.Nr(t),qc(e)):e.Br.set("Unknown"),[2]}))}))}function Jc(e,t,n){return(0,a.mG)(this,void 0,void 0,(function(){var r,i,o;return(0,a.Jh)(this,(function(s){switch(s.label){case 0:if(e.Br.set("Online"),!(t instanceof ha&&2===t.state&&t.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r,i,o;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:n=t.cause,r=0,i=t.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],e.$r.has(o)?[4,e.remoteSyncer.rejectListen(o,n)]:[3,3]):[3,5];case 2:a.sent(),e.$r.delete(o),e.qr.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Ir("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Yc(e,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof fa?e.qr.X(t):t instanceof da?e.qr.rt(t):e.qr.et(t),n.isEqual(qr.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,qu(e.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(e,t){var n=e.qr.ut(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.$r.get(r);i&&e.$r.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.$r.get(t);if(n){e.$r.set(t,n.withResumeToken(Xr.EMPTY_BYTE_STRING,n.snapshotVersion)),zc(e,t);var r=new js(n.target,t,1,n.sequenceNumber);Vc(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Ir("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Yc(e,o)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function Yc(e,t,n){return(0,a.mG)(this,void 0,void 0,(function(){var r=this;return(0,a.Jh)(this,(function(i){switch(i.label){case 0:if(!Cs(t))throw t;return e.Or.add(1),[4,Fc(e)];case 1:return i.sent(),e.Br.set("Offline"),n||(n=function(){return qu(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return(0,a.mG)(r,void 0,void 0,(function(){return(0,a.Jh)(this,(function(t){switch(t.label){case 0:return Ir("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Or.delete(1),[4,Lc(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function $c(e,t){return t().catch((function(n){return Yc(e,n,t)}))}function Xc(e){return(0,a.mG)(this,void 0,void 0,(function(){var t,n,r,i,o;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:t=Mr(e),n=sl(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,a.label=1;case 1:if(!function(e){return Hc(e)&&e.Fr.length<10}(t))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,Wu(t.localStore,r)];case 3:return null===(i=a.sent())?(0===t.Fr.length&&n.ir(),[3,7]):(r=i.batchId,function(e,t){e.Fr.push(t);var n=sl(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,i),[3,6]);case 4:return o=a.sent(),[4,Yc(t,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return Qc(t)&&el(t),[2]}}))}))}function Qc(e){return Hc(e)&&!sl(e).tr()&&e.Fr.length>0}function el(e){sl(e).start()}function tl(e){return(0,a.mG)(this,void 0,void 0,(function(){return(0,a.Jh)(this,(function(t){return sl(e).Ar(),[2]}))}))}function nl(e){return(0,a.mG)(this,void 0,void 0,(function(){var t,n,r,i;return(0,a.Jh)(this,(function(o){for(t=sl(e),n=0,r=e.Fr;n<r.length;n++)i=r[n],t.Er(i.mutations);return[2]}))}))}function rl(e,t,n){return(0,a.mG)(this,void 0,void 0,(function(){var r,i;return(0,a.Jh)(this,(function(o){switch(o.label){case 0:return r=e.Fr.shift(),i=Ns.from(r,t,n),[4,$c(e,(function(){return e.remoteSyncer.applySuccessfulWrite(i)}))];case 1:return o.sent(),[4,Xc(e)];case 2:return o.sent(),[2]}}))}))}function il(e,t){return(0,a.mG)(this,void 0,void 0,(function(){return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return t&&sl(e).pr?[4,function(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r;return(0,a.Jh)(this,(function(i){switch(i.label){case 0:return Wo(r=t.code)&&r!==Cr.ABORTED?(n=e.Fr.shift(),sl(e).sr(),[4,$c(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,Xc(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Qc(e)&&el(e),[2]}}))}))}function ol(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n;return(0,a.Jh)(this,(function(r){switch(r.label){case 0:return n=Mr(e),t?(n.Or.delete(2),[4,Lc(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Fc(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function al(e){var t=this;return e.Ur||(e.Ur=function(e,t,n){var r=Mr(e);return r.br(),new Pc(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Gc.bind(null,e),Ri:Kc.bind(null,e),_r:Jc.bind(null,e)}),e.Mr.push((function(n){return(0,a.mG)(t,void 0,void 0,(function(){return(0,a.Jh)(this,(function(t){switch(t.label){case 0:return n?(e.Ur.sr(),Zc(e)?qc(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),Wc(e),t.label=3;case 3:return[2]}}))}))}))),e.Ur}function sl(e){var t=this;return e.Kr||(e.Kr=function(e,t,n){var r=Mr(e);return r.br(),new Rc(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:tl.bind(null,e),Ri:il.bind(null,e),Ir:nl.bind(null,e),Tr:rl.bind(null,e)}),e.Mr.push((function(n){return(0,a.mG)(t,void 0,void 0,(function(){return(0,a.Jh)(this,(function(t){switch(t.label){case 0:return n?(e.Kr.sr(),[4,Xc(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:t.sent(),e.Fr.length>0&&(Ir("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),t.label=4;case 4:return[2]}}))}))}))),e.Kr}var ul=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new ws,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new kr(Cr.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function cl(e,t){if(Dr("AsyncQueue",t+": "+e),Cs(e))return new kr(Cr.UNAVAILABLE,t+": "+e);throw e}var ll=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||ci.comparator(t.key,n.key)}:function(e,t){return ci.comparator(e.key,t.key)},this.keyedMap=na(),this.sortedSet=new Ko(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),fl=function(){function e(){this.Qr=new Ko(ci.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Qr.get(t);n?0!==e.type&&3===n.type?this.Qr=this.Qr.insert(t,e):3===e.type&&1!==n.type?this.Qr=this.Qr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Qr=this.Qr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Qr=this.Qr.remove(t):1===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):Nr():this.Qr=this.Qr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),dl=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,ll.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&io(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),hl=function(){this.Wr=void 0,this.listeners=[]},pl=function(){this.queries=new _u((function(e){return oo(e)}),io),this.onlineState="Unknown",this.Gr=new Set};function vl(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r,i,o,s,u,c;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:if(n=Mr(e),r=t.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new hl),!i)return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=a.sent(),[3,4];case 3:return u=a.sent(),c=cl(u,"Initialization of query '"+ao(t.query)+"' failed"),[2,void t.onError(c)];case 4:return n.queries.set(r,o),o.listeners.push(t),t.zr(n.onlineState),o.Wr&&t.Hr(o.Wr)&&bl(n),[2]}}))}))}function ml(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r,i,o,s;return(0,a.Jh)(this,(function(a){return n=Mr(e),r=t.query,i=!1,(o=n.queries.get(r))&&(s=o.listeners.indexOf(t))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function gl(e,t){for(var n=Mr(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(a)&&(r=!0);u.Wr=a}}r&&bl(n)}function yl(e,t,n){var r=Mr(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function bl(e){e.Gr.forEach((function(e){e.next()}))}var wl=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new dl(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.so&&n||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=dl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),_l=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),El=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return Ta(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?Na(this.R,e.document,!1):Ci.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},e.prototype.Kn=function(e){return xa(e)},e}();!function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=Sl(e)}e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new El(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(t.get(c)||aa()).add(a);t.set(c,l)}}return t},e.prototype.complete=function(){return(0,a.mG)(this,void 0,void 0,(function(){var e,t,n,r,i;return(0,a.Jh)(this,(function(o){switch(o.label){case 0:return[4,Qu(this.localStore,new El(this.R),this.documents,this.ro.id)];case 1:e=o.sent(),t=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,ec(this.localStore,i,t.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new ju(Object.assign({},this.progress),e))]}}))}))}}();function Sl(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var xl=function(e){this.key=e},Ol=function(e){this.key=e},Cl=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=aa(),this.mutatedKeys=aa(),this.lo=uo(e),this.fo=new ll(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new fl,i=t?t.fo:this.fo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=Yi(this.query)&&i.size===this.query.limit?i.last():null,c=$i(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=so(n.query,t)?t:null,d=!!l&&n.mutatedKeys.has(l.key),h=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?d!==h&&(r.track({type:3,doc:f}),p=!0):n.yo(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.lo(f,u)>0||c&&n.lo(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(a=a.add(f),o=h?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),Yi(this.query)||$i(this.query))for(;a.size>this.query.limit;){var l=Yi(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Nr()}};return n(e)-n(t)}(e.type,t.type)||r.lo(e.doc,t.doc)})),this.po(n);var a=t?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new dl(this.query,e.fo,i,o,e.mutatedKeys,0===s,u,!1),To:a}:{To:a}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new fl,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.uo=t.uo.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.uo=t.uo.delete(e)})),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=aa(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var n=[];return t.forEach((function(t){e.ho.has(t)||n.push(new Ol(t))})),this.ho.forEach((function(e){t.has(e)||n.push(new xl(e))})),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=aa();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return dl.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),kl=function(e,t,n){this.query=e,this.targetId=t,this.view=n},Tl=function(e){this.key=e,this.bo=!1},Al=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new _u((function(e){return oo(e)}),io),this.Vo=new Map,this.So=new Set,this.Do=new Ko(ci.comparator),this.Co=new Map,this.No=new nc,this.xo={},this.ko=new Map,this.Fo=cu.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),e}();function Il(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r,i,o,s,u;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return n=af(e),(o=n.Po.get(t))?(r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Ro(),[3,4]):[3,1];case 1:return[4,Gu(n.localStore,no(t))];case 2:return s=a.sent(),u=n.sharedClientState.addLocalQueryTarget(s.targetId),r=s.targetId,[4,Dl(n,t,r,"current"===u)];case 3:i=a.sent(),n.isPrimaryClient&&Bc(n.remoteStore,s),a.label=4;case 4:return[2,i]}}))}))}function Dl(e,t,n,r){return(0,a.mG)(this,void 0,void 0,(function(){var i,o,s,u,c,l;return(0,a.Jh)(this,(function(f){switch(f.label){case 0:return e.Oo=function(t,n,r){return function(e,t,n,r){return(0,a.mG)(this,void 0,void 0,(function(){var i,o,s;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return(i=t.view._o(n)).Nn?[4,Ju(e.localStore,t.query,!1).then((function(e){var n=e.documents;return t.view._o(n,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o),[2,(Zl(e,t.targetId,s.To),s.snapshot)]}}))}))}(e,t,n,r)},[4,Ju(e.localStore,t,!0)];case 1:return i=f.sent(),o=new Cl(t,i.Bn),s=o._o(i.documents),u=la.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),c=o.applyChanges(s,e.isPrimaryClient,u),Zl(e,n,c.To),l=new kl(t,n,o),[2,(e.Po.set(t,l),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),c.snapshot)]}}))}))}function Pl(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,a.Jh)(this,(function(o){switch(o.label){case 0:return n=Mr(e),r=n.Po.get(t),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter((function(e){return!io(e,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Ku(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),Uc(n.remoteStore,r.targetId),zl(n,r.targetId)})).catch(pu)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return zl(n,r.targetId),[4,Ku(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function Rl(e,t,n){return(0,a.mG)(this,void 0,void 0,(function(){var r,i,o,s;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:r=sf(e),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(e,t){var n,r=Mr(e),i=zr.now(),o=t.reduce((function(e,t){return e.add(t.key)}),aa());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Mn.pn(e,o).next((function(o){n=o;for(var a=[],s=0,u=t;s<u.length;s++){var c=u[s],l=Ro(c,n.get(c.key));null!=l&&a.push(new Lo(c.key,l,Oi(l.value.mapValue),To.exists(!0)))}return r._n.addMutationBatch(e,i,a,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(r.localStore,t)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new Ko(Br)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(r,i.batchId,n),[4,Gl(r,i.changes)];case 3:return a.sent(),[4,Xc(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=cl(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}function Nl(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r;return(0,a.Jh)(this,(function(i){switch(i.label){case 0:n=Mr(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Zu(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){var r=n.Co.get(t);r&&(jr(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?jr(r.bo):e.removedDocuments.size>0&&(jr(r.bo),r.bo=!1))})),[4,Gl(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,pu(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function jl(e,t,n){var r=Mr(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(e,n){var r=n.view.zr(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Mr(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(t)&&(r=!0)})),r&&bl(n)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Ml(e,t,n){return(0,a.mG)(this,void 0,void 0,(function(){var r,i,o,s,u,c;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return(r=Mr(e)).sharedClientState.updateQueryState(t,"rejected",n),i=r.Co.get(t),(o=i&&i.key)?(s=(s=new Ko(ci.comparator)).insert(o,Ci.newNoDocument(o,qr.min())),u=aa().add(o),c=new ca(qr.min(),new Map,new $o(Br),s,u),[4,Nl(r,c)]):[3,2];case 1:return a.sent(),r.Do=r.Do.remove(o),r.Co.delete(t),Wl(r),[3,4];case 2:return[4,Ku(r.localStore,t,!1).then((function(){return zl(r,t,n)})).catch(pu)];case 3:a.sent(),a.label=4;case 4:return[2]}}))}))}function Ll(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,a.Jh)(this,(function(o){switch(o.label){case 0:n=Mr(e),r=t.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,zu(n.localStore,t)];case 2:return i=o.sent(),Vl(n,r,null),Ul(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Gl(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,pu(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Fl(e,t,n){return(0,a.mG)(this,void 0,void 0,(function(){var r,i;return(0,a.Jh)(this,(function(o){switch(o.label){case 0:r=Mr(e),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(e,t){var n=Mr(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n._n.lookupMutationBatch(e,t).next((function(t){return jr(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}(r.localStore,t)];case 2:return i=o.sent(),Vl(r,t,n),Ul(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,Gl(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,pu(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Bl(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r,i,o,s;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:Hc((n=Mr(e)).remoteStore)||Ir("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(e){var t=Mr(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t._n.getHighestUnacknowledgedBatchId(e)}))}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void t.resolve()]:((i=n.ko.get(r)||[]).push(t),n.ko.set(r,i),[3,4]);case 3:return o=a.sent(),s=cl(o,"Initialization of waitForPendingWrites() operation failed"),t.reject(s),[3,4];case 4:return[2]}}))}))}function Ul(e,t){(e.ko.get(t)||[]).forEach((function(e){e.resolve()})),e.ko.delete(t)}function Vl(e,t,n){var r=Mr(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function zl(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||ql(e,t)}))}function ql(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(Uc(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),Wl(e))}function Zl(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof xl?(e.No.addReference(o.key,t),Hl(e,o)):o instanceof Ol?(Ir("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||ql(e,o.key)):Nr()}}function Hl(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(Ir("SyncEngine","New document in limbo: "+n),e.So.add(r),Wl(e))}function Wl(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new ci(Kr.fromString(t)),r=e.Fo.next();e.Co.set(r,new Tl(n)),e.Do=e.Do.insert(n,r),Bc(e.remoteStore,new js(no(Ji(n.path)),r,2,Or.o))}}function Gl(e,t,n){return(0,a.mG)(this,void 0,void 0,(function(){var r,i,o,s;return(0,a.Jh)(this,(function(u){switch(u.label){case 0:return r=Mr(e),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(e,a){s.push(r.Oo(a,t,n).then((function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,e.fromCache?"not-current":"current"),i.push(e);var t=Lu.Pn(a.targetId,e);o.push(t)}})))})),[4,Promise.all(s)]);case 1:return u.sent(),r.vo._r(i),[4,function(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r,i,o,s,u,c,l,f;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:n=Mr(e),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return _s.forEach(t,(function(t){return _s.forEach(t.bn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return _s.forEach(t.vn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return a.sent(),[3,4];case 3:if(!Cs(r=a.sent()))throw r;return Ir("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=t;i<o.length;i++)s=o[i],u=s.targetId,s.fromCache||(c=n.kn.get(u),l=c.snapshotVersion,f=c.withLastLimboFreeSnapshotVersion(l),n.kn=n.kn.insert(u,f));return[2]}}))}))}(r.localStore,o)];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))}function Kl(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r;return(0,a.Jh)(this,(function(i){switch(i.label){case 0:return(n=Mr(e)).currentUser.isEqual(t)?[3,3]:(Ir("SyncEngine","User change. New user:",t.toKey()),[4,Vu(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(e,t){e.ko.forEach((function(e){e.forEach((function(e){e.reject(new kr(Cr.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,Gl(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Jl(e,t){var n=Mr(e),r=n.Co.get(t);if(r&&r.bo)return aa().add(r.key);var i=aa(),o=n.Vo.get(t);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function Yl(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,a.Jh)(this,(function(o){switch(o.label){case 0:return[4,Ju((n=Mr(e)).localStore,t.query,!0)];case 1:return r=o.sent(),i=t.view.Ao(r),[2,(n.isPrimaryClient&&Zl(n,t.targetId,i.To),i)]}}))}))}function $l(e){return(0,a.mG)(this,void 0,void 0,(function(){var t;return(0,a.Jh)(this,(function(n){return[2,$u((t=Mr(e)).localStore).then((function(e){return Gl(t,e)}))]}))}))}function Xl(e,t,n,r){return(0,a.mG)(this,void 0,void 0,(function(){var i,o;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return[4,function(e,t){var n=Mr(e),r=Mr(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.jt(e,t).next((function(t){return t?n.Mn.pn(e,t):_s.resolve(null)}))}))}((i=Mr(e)).localStore,t)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,Xc(i.remoteStore)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Vl(i,t,r||null),Ul(i,t),function(e,t){Mr(Mr(e)._n).Gt(t)}(i.localStore,t)):Nr(),a.label=4;case 4:return[4,Gl(i,o)];case 5:return a.sent(),[3,7];case 6:Ir("SyncEngine","Cannot apply mutation batch with id: "+t),a.label=7;case 7:return[2]}}))}))}function Ql(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r,i,o,s,u,c,l;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return af(n=Mr(e)),sf(n),!0!==t||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,ef(n,r.toArray())]);case 1:return i=a.sent(),n.$o=!0,[4,ol(n.remoteStore,!0)];case 2:for(a.sent(),o=0,s=i;o<s.length;o++)u=s[o],Bc(n.remoteStore,u);return[3,7];case 3:return!1!==t||!1===n.$o?[3,7]:(c=[],l=Promise.resolve(),n.Vo.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return zl(n,t),Ku(n.localStore,t,!0)})),Uc(n.remoteStore,t)})),[4,l]);case 4:return a.sent(),[4,ef(n,c)];case 5:return a.sent(),function(e){var t=Mr(e);t.Co.forEach((function(e,n){Uc(t.remoteStore,n)})),t.No.ts(),t.Co=new Map,t.Do=new Ko(ci.comparator)}(n),n.$o=!1,[4,ol(n.remoteStore,!1)];case 6:a.sent(),a.label=7;case 7:return[2]}}))}))}function ef(e,t,n){return(0,a.mG)(this,void 0,void 0,(function(){var n,r,i,o,s,u,c,l,f,d,h,p,v,m;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:n=Mr(e),r=[],i=[],o=0,s=t,a.label=1;case 1:return o<s.length?(u=s[o],c=void 0,(l=n.Vo.get(u))&&0!==l.length?[4,Gu(n.localStore,no(l[0]))]:[3,7]):[3,13];case 2:c=a.sent(),f=0,d=l,a.label=3;case 3:return f<d.length?(h=d[f],p=n.Po.get(h),[4,Yl(n,p)]):[3,6];case 4:(v=a.sent()).snapshot&&i.push(v.snapshot),a.label=5;case 5:return f++,[3,3];case 6:return[3,11];case 7:return[4,Yu(n.localStore,u)];case 8:return m=a.sent(),[4,Gu(n.localStore,m)];case 9:return c=a.sent(),[4,Dl(n,tf(m),u,!1)];case 10:a.sent(),a.label=11;case 11:r.push(c),a.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}}))}))}function tf(e){return Ki(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function nf(e){var t=Mr(e);return Mr(Mr(t.localStore).persistence).fn()}function rf(e,t,n,r){return(0,a.mG)(this,void 0,void 0,(function(){var i,o,s;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return(i=Mr(e)).$o?(Ir("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,$u(i.localStore)];case 3:return o=a.sent(),s=ca.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,Gl(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Ku(i.localStore,t,!0)];case 6:return a.sent(),zl(i,t,r),[3,8];case 7:Nr(),a.label=8;case 8:return[2]}}))}))}function of(e,t,n){return(0,a.mG)(this,void 0,void 0,(function(){var r,i,o,s,u,c,l,f,d,h;return(0,a.Jh)(this,(function(p){switch(p.label){case 0:if(!(r=af(e)).$o)return[3,10];i=0,o=t,p.label=1;case 1:return i<o.length?(s=o[i],r.Vo.has(s)?(Ir("SyncEngine","Adding an already active target "+s),[3,5]):[4,Yu(r.localStore,s)]):[3,6];case 2:return u=p.sent(),[4,Gu(r.localStore,u)];case 3:return c=p.sent(),[4,Dl(r,tf(u),c.targetId,!1)];case 4:p.sent(),Bc(r.remoteStore,c),p.label=5;case 5:return i++,[3,1];case 6:l=function(e){return(0,a.Jh)(this,(function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,Ku(r.localStore,e,!1).then((function(){Uc(r.remoteStore,e),zl(r,e)})).catch(pu)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},f=0,d=n,p.label=7;case 7:return f<d.length?(h=d[f],[5,l(h)]):[3,10];case 8:p.sent(),p.label=9;case 9:return f++,[3,7];case 10:return[2]}}))}))}function af(e){var t=Mr(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Nl.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Jl.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ml.bind(null,t),t.vo._r=gl.bind(null,t.eventManager),t.vo.Mo=yl.bind(null,t.eventManager),t}function sf(e){var t=Mr(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ll.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Fl.bind(null,t),t}var uf=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return(0,a.mG)(this,void 0,void 0,(function(){return(0,a.Jh)(this,(function(t){switch(t.label){case 0:return this.R=Ac(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}}))}))},e.prototype.Uo=function(e){return null},e.prototype.Ko=function(e){return Uu(this.persistence,new Fu,e.initialUser,this.R)},e.prototype.qo=function(e){return new uc(lc.bs,this.R)},e.prototype.Bo=function(e){return new _c},e.prototype.terminate=function(){return(0,a.mG)(this,void 0,void 0,(function(){return(0,a.Jh)(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),cf=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Qo=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,a.ZT)(t,e),t.prototype.initialize=function(t){return(0,a.mG)(this,void 0,void 0,(function(){var n=this;return(0,a.Jh)(this,(function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return r.sent(),[4,Xu(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,t)];case 3:return r.sent(),[4,sf(this.Qo.syncEngine)];case 4:return r.sent(),[4,Xc(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He((function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()}))];case 6:return r.sent(),[2]}}))}))},t.prototype.Ko=function(e){return Uu(this.persistence,new Fu,e.initialUser,this.R)},t.prototype.Uo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new gu(t,e.asyncQueue)},t.prototype.qo=function(e){var t=Nu(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?tu.withCacheSize(this.cacheSizeBytes):tu.DEFAULT;return new Du(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,kc(),Tc(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new _c},t}(uf),lf=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Qo=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,a.ZT)(t,e),t.prototype.initialize=function(t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r=this;return(0,a.Jh)(this,(function(i){switch(i.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return i.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof wc?(this.sharedClientState.syncEngine={ui:Xl.bind(null,n),ai:rf.bind(null,n),hi:of.bind(null,n),fn:nf.bind(null,n),ci:$l.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He((function(e){return(0,a.mG)(r,void 0,void 0,(function(){return(0,a.Jh)(this,(function(t){switch(t.label){case 0:return[4,Ql(this.Qo.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},t.prototype.Bo=function(e){var t=kc();if(!wc.yt(t))throw new kr(Cr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Nu(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new wc(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(cf),ff=function(){function e(){}return e.prototype.initialize=function(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n=this;return(0,a.Jh)(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return jl(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Kl.bind(null,this.syncEngine),[4,ol(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new pl},e.prototype.createDatastore=function(e){var t,n=Ac(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Cc(t));return function(e,t,n){return new Nc(e,t,n)}(e.credentials,r,n)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return jl(a.syncEngine,e,0)},o=Sc.yt()?new Sc:new Ec,new Mc(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){var s=new Al(e,t,n,r,i,o);return a&&(s.$o=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return(0,a.mG)(this,void 0,void 0,(function(){var t;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return t=Mr(e),Ir("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,Fc(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}();var df=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),hf=(function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new ws,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return(0,a.mG)(this,void 0,void 0,(function(){return(0,a.Jh)(this,(function(e){return[2,this.metadata.promise]}))}))},e.prototype.Lo=function(){return(0,a.mG)(this,void 0,void 0,(function(){return(0,a.Jh)(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}}))}))},e.prototype.Ho=function(){return(0,a.mG)(this,void 0,void 0,(function(){var e,t,n,r;return(0,a.Jh)(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(e=i.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new _l(JSON.parse(r),e.length+n)]}}))}))},e.prototype.Zo=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},e.prototype.Jo=function(){return(0,a.mG)(this,void 0,void 0,(function(){var e,t;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},e.prototype.Xo=function(e){return(0,a.mG)(this,void 0,void 0,(function(){var t;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return(0,a.mG)(this,void 0,void 0,(function(){var e,t;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))}}(),function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return(0,a.mG)(this,void 0,void 0,(function(){var t,n=this;return(0,a.Jh)(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new kr(Cr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r,i,o,s,u;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return n=Mr(e),r=Da(n.R)+"/documents",i={documents:t.map((function(e){return ka(n.R,e)}))},[4,n.$i("BatchGetDocuments",r,i)];case 1:return o=a.sent(),s=new Map,o.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){jr(!!t.found),t.found.name,t.found.updateTime;var n=Ta(e,t.found.name),r=xa(t.found.updateTime),i=new xi({mapValue:{fields:t.found.fields}});return Ci.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){jr(!!t.missing),jr(!!t.readTime);var n=Ta(e,t.missing),r=xa(t.readTime);return Ci.newNoDocument(n,r)}(e,t):Nr()}(n.R,e);s.set(t.key.toString(),t)})),u=[],[2,(t.forEach((function(e){var t=s.get(e.toString());jr(!!t),u.push(t)})),u)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){return n.recordVersion(e)})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new qo(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return(0,a.mG)(this,void 0,void 0,(function(){var e,t=this;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=ci.fromPath(n);t.mutations.push(new Zo(r,t.precondition(r)))})),[4,function(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,a.Jh)(this,(function(o){switch(o.label){case 0:return n=Mr(e),r=Da(n.R)+"/documents",i={writes:t.map((function(e){return ja(n.R,e)}))},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Nr();t=qr.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new kr(Cr.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?To.updateTime(t):To.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(qr.min()))throw new kr(Cr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return To.updateTime(t)}return To.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}()),pf=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Ic(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji((function(){return(0,a.mG)(e,void 0,void 0,(function(){var e,t,n=this;return(0,a.Jh)(this,(function(r){return e=new hf(this.datastore),(t=this.sc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.ic(e)}))}))})).catch((function(e){n.ic(e)})),[2]}))}))}))},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!ai(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Wo(t)}return!1},e}(),vf=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=fc.UNAUTHENTICATED,this.clientId=Fr.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,(function(e){return(0,a.mG)(r,void 0,void 0,(function(){return(0,a.Jh)(this,(function(t){switch(t.label){case 0:return Ir("FirestoreClient","Received user=",e.uid),[4,this.credentialListener(e)];case 1:return t.sent(),this.user=e,[2]}}))}))}))}return e.prototype.getConfiguration=function(){return(0,a.mG)(this,void 0,void 0,(function(){return(0,a.Jh)(this,(function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},e.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new kr(Cr.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new ws;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return(0,a.mG)(e,void 0,void 0,(function(){var e,n;return(0,a.Jh)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=cl(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();function mf(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r,i=this;return(0,a.Jh)(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),Ir("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=o.sent(),[4,t.initialize(n)];case 2:return o.sent(),r=n.initialUser,e.setCredentialChangeListener((function(e){return(0,a.mG)(i,void 0,void 0,(function(){return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return r.isEqual(e)?[3,2]:[4,Vu(t.localStore,e)];case 1:n.sent(),r=e,n.label=2;case 2:return[2]}}))}))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function gf(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r;return(0,a.Jh)(this,(function(i){switch(i.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,yf(e)];case 1:return n=i.sent(),Ir("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=i.sent(),[4,t.initialize(n,r)];case 3:return i.sent(),e.setCredentialChangeListener((function(e){return function(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r;return(0,a.Jh)(this,(function(i){switch(i.label){case 0:return(n=Mr(e)).asyncQueue.verifyOperationInProgress(),Ir("RemoteStore","RemoteStore received new credentials"),r=Hc(n),n.Or.add(3),[4,Fc(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.Or.delete(3),[4,Lc(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,e)})),e.onlineComponents=t,[2]}}))}))}function yf(e){return(0,a.mG)(this,void 0,void 0,(function(){return(0,a.Jh)(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(Ir("FirestoreClient","Using default OfflineComponentProvider"),[4,mf(e,new uf)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function bf(e){return(0,a.mG)(this,void 0,void 0,(function(){return(0,a.Jh)(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(Ir("FirestoreClient","Using default OnlineComponentProvider"),[4,gf(e,new ff)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function wf(e){return yf(e).then((function(e){return e.persistence}))}function _f(e){return yf(e).then((function(e){return e.localStore}))}function Ef(e){return bf(e).then((function(e){return e.remoteStore}))}function Sf(e){return bf(e).then((function(e){return e.syncEngine}))}function xf(e){return(0,a.mG)(this,void 0,void 0,(function(){var t,n;return(0,a.Jh)(this,(function(r){switch(r.label){case 0:return[4,bf(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=Il.bind(null,t.syncEngine),n.onUnlisten=Pl.bind(null,t.syncEngine),n)]}}))}))}function Of(e,t,n){var r=this;void 0===n&&(n={});var i=new ws;return e.asyncQueue.enqueueAndForget((function(){return(0,a.mG)(r,void 0,void 0,(function(){var r;return(0,a.Jh)(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new df({next:function(o){t.enqueueAndForget((function(){return ml(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new kr(Cr.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new kr(Cr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new wl(Ji(n.path),o,{includeMetadataChanges:!0,so:!0});return vl(e,a)},[4,xf(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}function Cf(e,t,n){var r=this;void 0===n&&(n={});var i=new ws;return e.asyncQueue.enqueueAndForget((function(){return(0,a.mG)(r,void 0,void 0,(function(){var r;return(0,a.Jh)(this,(function(o){switch(o.label){case 0:return r=function(e,t,n,r,i){var o=new df({next:function(n){t.enqueueAndForget((function(){return ml(e,a)})),n.fromCache&&"server"===r.source?i.reject(new kr(Cr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new wl(n,o,{includeMetadataChanges:!0,so:!0});return vl(e,a)},[4,xf(e)];case 1:return[2,r.apply(void 0,[o.sent(),e.asyncQueue,t,n,i])]}}))}))})),i.promise}var kf=function(e,t,n,r,i,o,a,s){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},Tf=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),Af=new Map,If=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},Df=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable((function(){return t(fc.UNAUTHENTICATED)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),Pf=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),Rf=function(){function e(e){var t=this;this.currentUser=fc.UNAUTHENTICATED,this.oc=new ws,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable((function(){return t.changeListener(t.currentUser)}))};var n=function(e){Ir("FirebaseCredentialsProvider","Auth detected"),t.auth=e,t.auth.addAuthTokenListener(t.uc)};e.onInit((function(e){return n(e)})),setTimeout((function(){if(!t.auth){var r=e.getImmediate({optional:!0});r?n(r):(Ir("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve())}}),0)}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.cc!==t?(Ir("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(jr("string"==typeof n.accessToken),new If(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e,t){var n=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable((function(){return(0,a.mG)(n,void 0,void 0,(function(){return(0,a.Jh)(this,(function(e){switch(e.label){case 0:return[4,this.oc.promise];case 1:return e.sent(),[4,t(this.currentUser)];case 2:return e.sent(),this.changeListener=t,[2]}}))}))}))},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return jr(null===e||"string"==typeof e),new fc(e)},e}(),Nf=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n,this.type="FirstParty",this.user=fc.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),e}(),jf=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n}return e.prototype.getToken=function(){return Promise.resolve(new Nf(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(e,t){e.enqueueRetryable((function(){return t(fc.FIRST_PARTY)}))},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function Mf(e,t,n){if(!n)throw new kr(Cr.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Lf(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new kr(Cr.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function Ff(e,t,n,r){if(!0===t&&!0===r)throw new kr(Cr.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function Bf(e){if(!ci.isDocumentKey(e))throw new kr(Cr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function Uf(e){if(ci.isDocumentKey(e))throw new kr(Cr.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function Vf(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":Nr()}function zf(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new kr(Cr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Vf(e);throw new kr(Cr.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function qf(e,t){if(t<=0)throw new kr(Cr.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var Zf=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new kr(Cr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new kr(Cr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Ff("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},e}(),Hf=function(){function e(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zf({}),this._settingsFrozen=!1,e instanceof Tf?(this._databaseId=e,this._credentials=new Df):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new kr(Cr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tf(e.options.projectId)}(e),this._credentials=new Rf(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new kr(Cr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new kr(Cr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zf(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new Df;switch(e.type){case"gapi":var t=e.client;return jr(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new jf(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new kr(Cr.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return this,(e=Af.get(this))&&(Ir("ComponentProvider","Removing Datastore"),Af.delete(this),e.terminate()),Promise.resolve();var e},e}(),Wf=function(){function e(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Kf(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),Gf=function(){function e(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Kf=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,Ji(r))||this)._path=r,i.type="collection",i}return(0,a.ZT)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Wf(this.firestore,null,new ci(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}(Gf);function Jf(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=(0,s.m9)(e),Mf("collection","path",t),e instanceof Hf)return Uf(n=Kr.fromString.apply(Kr,(0,a.ev)([t],r))),new Kf(e,null,n);if(!(e instanceof Wf||e instanceof Kf))throw new kr(Cr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Uf(n=Kr.fromString.apply(Kr,(0,a.ev)([e.path],r)).child(Kr.fromString(t))),new Kf(e.firestore,null,n)}function Yf(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(e=(0,s.m9)(e),1===arguments.length&&(t=Fr.u()),Mf("doc","path",t),e instanceof Hf)return Bf(n=Kr.fromString.apply(Kr,(0,a.ev)([t],r))),new Wf(e,null,new ci(n));if(!(e instanceof Wf||e instanceof Kf))throw new kr(Cr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Bf(n=e._path.child(Kr.fromString.apply(Kr,(0,a.ev)([t],r)))),new Wf(e.firestore,e instanceof Kf?e.converter:null,new ci(n))}function $f(e,t){return e=(0,s.m9)(e),t=(0,s.m9)(t),(e instanceof Wf||e instanceof Kf)&&(t instanceof Wf||t instanceof Kf)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Xf(e,t){return e=(0,s.m9)(e),t=(0,s.m9)(t),e instanceof Gf&&t instanceof Gf&&e.firestore===t.firestore&&io(e._query,t._query)&&e.converter===t.converter}var Qf=function(){function e(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Ic(this,"async_queue_retry"),this.Ic=function(){var t=Tc();t&&Ir("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=Tc();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},e.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var t=Tc();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(e){var t=this;if(this.Ac(),this._c)return new Promise((function(){}));var n=new ws;return this.Rc((function(){return t._c&&t.Ec?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.wc.push(e),t.bc()}))},e.prototype.bc=function(){return(0,a.mG)(this,void 0,void 0,(function(){var e,t=this;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Cs(e=n.sent()))throw e;return Ir("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return t.bc()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Rc=function(e){var t=this,n=this.dc.then((function(){return t.gc=!0,e().catch((function(e){throw t.yc=e,t.gc=!1,Dr("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.gc=!1,e}))}));return this.dc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Ac(),this.Tc.indexOf(e)>-1&&(t=0);var i=ul.createAndSchedule(this,e,t,n,(function(e){return r.vc(e)}));return this.mc.push(i),i},e.prototype.Ac=function(){this.yc&&Nr()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return(0,a.mG)(this,void 0,void 0,(function(){var e;return(0,a.Jh)(this,(function(t){switch(t.label){case 0:return[4,e=this.dc];case 1:t.sent(),t.label=2;case 2:if(e!==this.dc)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.Vc=function(e){for(var t=0,n=this.mc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Sc=function(e){var t=this;return this.Pc().then((function(){t.mc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.Pc()}))},e.prototype.Dc=function(e){this.Tc.push(e)},e.prototype.vc=function(e){var t=this.mc.indexOf(e);this.mc.splice(t,1)},e}();function ed(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}!function(){function e(){this._progressObserver={},this._taskCompletionResolver=new ws,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}();var td=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).type="firestore",r._queue=new Qf,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return(0,a.ZT)(t,e),t.prototype._terminate=function(){return this._firestoreClient||rd(this),this._firestoreClient.terminate()},t}(Hf);function nd(e){return e._firestoreClient||rd(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function rd(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new kf(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new vf(e._credentials,e._queue,r)}function id(e,t,n){var r=this,i=new ws;return e.asyncQueue.enqueue((function(){return(0,a.mG)(r,void 0,void 0,(function(){var r;return(0,a.Jh)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,mf(e,n)];case 1:return o.sent(),[4,gf(e,t)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===Cr.FAILED_PRECONDITION||e.code===Cr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function od(e){if(e._initialized||e._terminated)throw new kr(Cr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var ad=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new kr(Cr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yr(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),sd=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(Xr.fromBase64String(t))}catch(t){throw new kr(Cr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(Xr.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),ud=function(e){this._methodName=e},cd=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new kr(Cr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new kr(Cr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return Br(this._lat,e._lat)||Br(this._long,e._long)},e}(),ld=/^__.*__$/,fd=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new Lo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Mo(e,this.data,t,this.fieldTransforms)},e}(),dd=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new Lo(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function hd(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Nr()}}var pd=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.$c(e),r},e.prototype.Oc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.Cc(),r},e.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(e){return Nd(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},e.prototype.$c=function(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(hd(this.Nc)&&ld.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),vd=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||Ac(e)}return e.prototype.Uc=function(e,t,n,r){return void 0===r&&(r=!1),new pd({Nc:e,methodName:t,qc:n,path:Yr.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function md(e){var t=e._freezeSettings(),n=Ac(e._databaseId);return new vd(e._databaseId,!!t.ignoreUndefinedProperties,n)}function gd(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Uc(o.merge||o.mergeFields?2:0,t,n,i);Id("Data must be an object, but it was:",a,r);var s,u,c=Td(r,a);if(o.merge)s=new $r(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],f=0,d=o.mergeFields;f<d.length;f++){var h=Dd(t,d[f],n);if(!a.contains(h))throw new kr(Cr.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");jd(l,h)||l.push(h)}s=new $r(l),u=a.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=a.fieldTransforms;return new fd(new xi(c),s,u)}var yd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Nc)throw 1===e.Nc?e.Lc(this._methodName+"() can only appear at the top level of your update data"):e.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(ud);function bd(e,t,n){return new pd({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var wd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t.prototype._toFieldTransform=function(e){return new Co(e.path,new yo)},t.prototype.isEqual=function(e){return e instanceof t},t}(ud),_d=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return(0,a.ZT)(t,e),t.prototype._toFieldTransform=function(e){var t=bd(this,e,!0),n=this.Kc.map((function(e){return kd(e,t)})),r=new bo(n);return new Co(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(ud),Ed=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return(0,a.ZT)(t,e),t.prototype._toFieldTransform=function(e){var t=bd(this,e,!0),n=this.Kc.map((function(e){return kd(e,t)})),r=new _o(n);return new Co(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(ud),Sd=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Qc=n,r}return(0,a.ZT)(t,e),t.prototype._toFieldTransform=function(e){var t=new So(e.R,ho(e.R,this.Qc));return new Co(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(ud);function xd(e,t,n,r){var i=e.Uc(1,t,n);Id("Data must be an object, but it was:",i,r);var o=[],a=xi.empty();Hr(r,(function(e,r){var u=Rd(t,e,n);r=(0,s.m9)(r);var c=i.Oc(u);if(r instanceof yd)o.push(u);else{var l=kd(r,c);null!=l&&(o.push(u),a.set(u,l))}}));var u=new $r(o);return new dd(a,u,i.fieldTransforms)}function Od(e,t,n,r,i,o){var a=e.Uc(1,t,n),u=[Dd(t,r,n)],c=[i];if(o.length%2!=0)throw new kr(Cr.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<o.length;l+=2)u.push(Dd(t,o[l])),c.push(o[l+1]);for(var f=[],d=xi.empty(),h=u.length-1;h>=0;--h)if(!jd(f,u[h])){var p=u[h],v=c[h];v=(0,s.m9)(v);var m=a.Oc(p);if(v instanceof yd)f.push(p);else{var g=kd(v,m);null!=g&&(f.push(p),d.set(p,g))}}var y=new $r(f);return new dd(d,y,a.fieldTransforms)}function Cd(e,t,n,r){return void 0===r&&(r=!1),kd(n,e.Uc(r?4:3,t))}function kd(e,t){if(Ad(e=(0,s.m9)(e)))return Id("Unsupported field value:",t,e),Td(e,t);if(e instanceof ud)return function(e,t){if(!hd(t.Nc))throw t.Lc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Lc(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.Nc)throw t.Lc("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=kd(o[i],t.Mc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,s.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return ho(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=zr.fromDate(e);return{timestampValue:_a(t.R,n)}}if(e instanceof zr)return n=new zr(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:_a(t.R,n)};if(e instanceof cd)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof sd)return{bytesValue:Ea(t.R,e._byteString)};if(e instanceof Wf){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Oa(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Lc("Unsupported field value: "+Vf(e))}(e,t)}function Td(e,t){var n={};return Wr(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Hr(e,(function(e,r){var i=kd(r,t.kc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Ad(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof zr||e instanceof cd||e instanceof sd||e instanceof Wf||e instanceof ud)}function Id(e,t,n){if(!Ad(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Vf(n);throw"an object"===r?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function Dd(e,t,n){if((t=(0,s.m9)(t))instanceof ad)return t._internalPath;if("string"==typeof t)return Rd(e,t);throw Nd("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var Pd=new RegExp("[~\\*/\\[\\]]");function Rd(e,t,n){if(t.search(Pd)>=0)throw Nd("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(ad.bind.apply(ad,(0,a.ev)([void 0],t.split(".")))))._internalPath}catch(Lh){throw Nd("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function Nd(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new kr(Cr.INVALID_ARGUMENT,(s+=". ")+e+u)}function jd(e,t){return e.some((function(e){return e.isEqual(t)}))}var Md=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Wf(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new Ld(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(Fd("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),Ld=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(Md);function Fd(e,t){return"string"==typeof t?Rd(e,t):t instanceof ad?t._internalPath:t._delegate._internalPath}var Bd=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),Ud=function(e){function t(t,n,r,i,o,a){var s=this;return(s=e.call(this,t,n,r,i,a)||this)._firestore=t,s._firestoreImpl=t,s.metadata=o,s}return(0,a.ZT)(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new Vd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(Fd("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(Md),Vd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(Ud),zd=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Bd(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Vd(n._firestore,n._userDataWriter,r.key,r,new Bd(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new kr(Cr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new Vd(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Bd(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Vd(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Bd(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:qd(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function qd(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Nr()}}function Zd(e,t){return e instanceof Ud&&t instanceof Ud?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof zd&&t instanceof zd&&e._firestore===t._firestore&&Xf(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Hd(e){if($i(e)&&0===e.explicitOrderBy.length)throw new kr(Cr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Wd=function(){};function Gd(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var Kd=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).jc=t,i.Wc=n,i.Gc=r,i.type="where",i}return(0,a.ZT)(t,e),t.prototype._apply=function(e){var t=md(e.firestore),n=function(e,t,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new kr(Cr.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){th(a,o);for(var u=[],c=0,l=a;c<l.length;c++){var f=l[c];u.push(eh(r,e,f))}s={arrayValue:{values:u}}}else s=eh(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||th(a,o),s=Cd(n,"where",a,"in"===o||"not-in"===o);var d=Pi.create(i,o,s);return function(e,t){if(t.g()){var n=Qi(e);if(null!==n&&!n.isEqual(t.field))throw new kr(Cr.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=Xi(e);null!==r&&nh(e,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new kr(Cr.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new kr(Cr.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,d),d}(e._query,0,t,e.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Gf(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Gi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}(Wd),Jd=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).jc=t,r.zc=n,r.type="orderBy",r}return(0,a.ZT)(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new kr(Cr.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new kr(Cr.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new qi(t,n);return function(e,t){if(null===Xi(e)){var n=Qi(e);null!==n&&nh(e,n,t.field)}}(e,r),r}(e._query,this.jc,this.zc);return new Gf(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Gi(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}(Wd),Yd=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return(0,a.ZT)(t,e),t.prototype._apply=function(e){return new Gf(e.firestore,e.converter,ro(e._query,this.Hc,this.Jc))},t}(Wd),$d=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return(0,a.ZT)(t,e),t.prototype._apply=function(e){var t=Qd(e,this.type,this.Yc,this.Xc);return new Gf(e.firestore,e.converter,function(e,t){return new Gi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}(Wd),Xd=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return(0,a.ZT)(t,e),t.prototype._apply=function(e){var t=Qd(e,this.type,this.Yc,this.Xc);return new Gf(e.firestore,e.converter,function(e,t){return new Gi(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}(Wd);function Qd(e,t,n,r){if(n[0]=(0,s.m9)(n[0]),n[0]instanceof Md)return function(e,t,n,r,i){if(!r)throw new kr(Cr.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=to(e);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(gi(t,r.key));else{var c=r.data.field(u.field);if(ri(c))throw new kr(Cr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new kr(Cr.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Vi(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=md(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new kr(Cr.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new kr(Cr.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!eo(e)&&-1!==c.indexOf("/"))throw new kr(Cr.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(Kr.fromString(c));if(!ci.isDocumentKey(l))throw new kr(Cr.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var f=new ci(l);s.push(gi(t,f))}else{var d=Cd(n,r,c);s.push(d)}}return new Vi(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function eh(e,t,n){if("string"==typeof(n=(0,s.m9)(n))){if(""===n)throw new kr(Cr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!eo(t)&&-1!==n.indexOf("/"))throw new kr(Cr.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(Kr.fromString(n));if(!ci.isDocumentKey(r))throw new kr(Cr.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return gi(e,new ci(r))}if(n instanceof Wf)return gi(e,n._key);throw new kr(Cr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Vf(n)+".")}function th(e,t){if(!Array.isArray(e)||0===e.length)throw new kr(Cr.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new kr(Cr.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function nh(e,t,n){if(!n.isEqual(t))throw new kr(Cr.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var rh=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),li(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ti(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ni(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Nr()}},e.prototype.convertObject=function(e,t){var n=this,r={};return Hr(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertGeoPoint=function(e){return new cd(ti(e.latitude),ti(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=ii(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(oi(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=ei(e);return new zr(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=Kr.fromString(e);jr(Ya(n));var r=new Tf(n.get(1),n.get(3)),i=new ci(n.popFirst(5));return r.isEqual(t)||Dr("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();function ih(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var oh=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,a.ZT)(t,e),t.prototype.convertBytes=function(e){return new sd(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wf(this.firestore,null,t)},t}(rh),ah=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=md(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=sh(e,this._firestore),i=ih(r.converter,t,n),o=gd(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,To.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,a=sh(e,this._firestore);return o="string"==typeof(t=(0,s.m9)(t))||t instanceof ad?Od(this._dataReader,"WriteBatch.update",a._key,t,n,r):xd(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(o.toMutation(a._key,To.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=sh(e,this._firestore);return this._mutations=this._mutations.concat(new qo(t._key,To.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new kr(Cr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function sh(e,t){if((e=(0,s.m9)(e)).firestore!==t)throw new kr(Cr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var uh=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,a.ZT)(t,e),t.prototype.convertBytes=function(e){return new sd(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Wf(this.firestore,null,t)},t}(rh);function ch(e,t,n){e=zf(e,Wf);var r=zf(e.firestore,td),i=ih(e.converter,t,n);return dh(r,[gd(md(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,To.none())])}function lh(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=zf(e,Wf);var o=zf(e.firestore,td),a=md(o);return dh(o,[("string"==typeof(t=(0,s.m9)(t))||t instanceof ad?Od(a,"updateDoc",e._key,t,n,r):xd(a,"updateDoc",e._key,t)).toMutation(e._key,To.exists(!0))])}function fh(e){for(var t,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];e=(0,s.m9)(e);var u={includeMetadataChanges:!1},c=0;"object"!=typeof i[c]||ed(i[c])||(u=i[c],c++);var l,f,d,h={includeMetadataChanges:u.includeMetadataChanges};if(ed(i[c])){var p=i[c];i[c]=null===(t=p.next)||void 0===t?void 0:t.bind(p),i[c+1]=null===(n=p.error)||void 0===n?void 0:n.bind(p),i[c+2]=null===(r=p.complete)||void 0===r?void 0:r.bind(p)}if(e instanceof Wf)f=zf(e.firestore,td),d=Ji(e._key.path),l={next:function(t){i[c]&&i[c](hh(f,e,t))},error:i[c+1],complete:i[c+2]};else{var v=zf(e,Gf);f=zf(v.firestore,td),d=v._query;var m=new uh(f);l={next:function(e){i[c]&&i[c](new zd(f,m,v,e))},error:i[c+1],complete:i[c+2]},Hd(e._query)}return function(e,t,n,r){var i=this,o=new df(r),s=new wl(t,o,n);return e.asyncQueue.enqueueAndForget((function(){return(0,a.mG)(i,void 0,void 0,(function(){var t;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return t=vl,[4,xf(e)];case 1:return[2,t.apply(void 0,[n.sent(),s])]}}))}))})),function(){o.Wo(),e.asyncQueue.enqueueAndForget((function(){return(0,a.mG)(i,void 0,void 0,(function(){var t;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return t=ml,[4,xf(e)];case 1:return[2,t.apply(void 0,[n.sent(),s])]}}))}))}))}}(nd(f),d,h,l)}function dh(e,t){return function(e,t){var n=this,r=new ws;return e.asyncQueue.enqueueAndForget((function(){return(0,a.mG)(n,void 0,void 0,(function(){var n;return(0,a.Jh)(this,(function(i){switch(i.label){case 0:return n=Rl,[4,Sf(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(nd(e),t)}function hh(e,t,n){var r=n.docs.get(t._key),i=new uh(e);return new Ud(e,i,t._key,r,new Bd(n.hasPendingWrites,n.fromCache),t.converter)}var ph=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return(0,a.ZT)(t,e),t.prototype.get=function(t){var n=this,r=sh(t,this._firestore),i=new uh(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new Ud(n._firestore,i,r._key,e._document,new Bd(!1,!1),r.converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=md(e)}return e.prototype.get=function(e){var t=this,n=sh(e,this._firestore),r=new oh(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Nr();var i=e[0];if(i.isFoundDocument())return new Md(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Md(t._firestore,r,n._key,null,n.converter);throw Nr()}))},e.prototype.set=function(e,t,n){var r=sh(e,this._firestore),i=ih(r.converter,t,n),o=gd(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=sh(e,this._firestore);return o="string"==typeof(t=(0,s.m9)(t))||t instanceof ad?Od(this._dataReader,"Transaction.update",a._key,t,n,r):xd(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,o),this},e.prototype.delete=function(e){var t=sh(e,this._firestore);return this._transaction.delete(t._key),this},e}());function vh(){if("undefined"==typeof Uint8Array)throw new kr(Cr.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function mh(){if("undefined"==typeof atob)throw new kr(Cr.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var gh=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return mh(),new e(sd.fromBase64String(t))},e.fromUint8Array=function(t){return vh(),new e(sd.fromUint8Array(t))},e.prototype.toBase64=function(){return mh(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return vh(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),yh=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){od(e=zf(e,td));var n=nd(e),r=e._freezeSettings(),i=new ff;return id(n,i,new cf(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){od(e=zf(e,td));var t=nd(e),n=e._freezeSettings(),r=new ff;return id(t,r,new lf(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new kr(Cr.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new ws;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return(0,a.mG)(t,void 0,void 0,(function(){var t;return(0,a.Jh)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return(0,a.mG)(this,void 0,void 0,(function(){var t;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return Ss.yt()?(t=e+"main",[4,Ss.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(Nu(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),bh=function(){function e(e,t,n){var r=this;this._delegate=t,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof Tf||(this.tu=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Pr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){var i;void 0===r&&(r={});var o=(e=zf(e,Hf))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&Pr("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},o),{host:t+":"+n,ssl:!1})),r.mockUserToken){var a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=fc.MOCK_USER;else{a=(0,s.Sg)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);var c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new kr(Cr.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new fc(c)}e._credentials=new Pf(new If(a,u))}}(this._delegate,e,t,n)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return(0,a.mG)(t,void 0,void 0,(function(){var t,n;return(0,a.Jh)(this,(function(r){switch(r.label){case 0:return[4,wf(e)];case 1:return t=r.sent(),[4,Ef(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=Mr(e);return t.Or.delete(0),Lc(t)}(n))]}}))}))}))}(nd(zf(this._delegate,td)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return(0,a.mG)(t,void 0,void 0,(function(){var t,n;return(0,a.Jh)(this,(function(r){switch(r.label){case 0:return[4,wf(e)];case 1:return t=r.sent(),[4,Ef(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return(0,a.mG)(this,void 0,void 0,(function(){var t;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return(t=Mr(e)).Or.add(0),[4,Fc(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(nd(zf(this._delegate,td)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&Ff("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new ws;return e.asyncQueue.enqueueAndForget((function(){return(0,a.mG)(t,void 0,void 0,(function(){var t;return(0,a.Jh)(this,(function(r){switch(r.label){case 0:return t=Bl,[4,Sf(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(nd(zf(this._delegate,td)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,r=new df(t);return e.asyncQueue.enqueueAndForget((function(){return(0,a.mG)(n,void 0,void 0,(function(){var t;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return t=function(e,t){Mr(e).Gr.add(t),t.next()},[4,xf(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),e.asyncQueue.enqueueAndForget((function(){return(0,a.mG)(n,void 0,void 0,(function(){var t;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return t=function(e,t){Mr(e).Gr.delete(t)},[4,xf(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(nd(e=zf(e,td)),ed(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new kr(Cr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new Rh(this,Jf(this._delegate,e))}catch(e){throw Oh(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new xh(this,Yf(this._delegate,e))}catch(e){throw Oh(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new Ih(this,function(e,t){if(e=zf(e,Hf),Mf("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new kr(Cr.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Gf(e,null,function(e){return new Gi(Kr.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw Oh(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,r=new ws;return e.asyncQueue.enqueueAndForget((function(){return(0,a.mG)(n,void 0,void 0,(function(){var n;return(0,a.Jh)(this,(function(i){switch(i.label){case 0:return[4,function(e){return bf(e).then((function(e){return e.datastore}))}(e)];case 1:return n=i.sent(),new pf(e.asyncQueue,n,t,r).run(),[2]}}))}))})),r.promise}(nd(e),(function(n){return t(new ph(e,n))}))}(this._delegate,(function(n){return e(new _h(t,n))}))},e.prototype.batch=function(){var e=this;return nd(this._delegate),new Eh(new ah(this._delegate,(function(t){return dh(e._delegate,t)})))},e.prototype.loadBundle=function(e){throw new kr(Cr.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new kr(Cr.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),wh=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,a.ZT)(t,e),t.prototype.convertBytes=function(e){return new gh(new sd(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return xh.eu(t,this.firestore,null)},t}(rh);var _h=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new wh(e)}return e.prototype.get=function(e){var t=this,n=Nh(e);return this._delegate.get(n).then((function(e){return new Th(t._firestore,new Ud(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))},e.prototype.set=function(e,t,n){var r=Nh(e);return n?(Lf("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Nh(e);return 2===arguments.length?this._delegate.update(s,t):(r=this._delegate).update.apply(r,(0,a.ev)([s,t,n],i)),this},e.prototype.delete=function(e){var t=Nh(e);return this._delegate.delete(t),this},e}(),Eh=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=Nh(e);return n?(Lf("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Nh(e);return 2===arguments.length?this._delegate.update(s,t):(r=this._delegate).update.apply(r,(0,a.ev)([s,t,n],i)),this},e.prototype.delete=function(e){var t=Nh(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Sh=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new Vd(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ah(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new wh(t),n),i.set(n,o)),o},e}();Sh.su=new WeakMap;var xh=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new wh(e)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new kr(Cr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Wf(n._delegate,r,new ci(t)))},e.eu=function(t,n,r){return new e(n,new Wf(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Rh(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new Rh(this.firestore,Jf(this._delegate,e))}catch(e){throw Oh(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=(0,s.m9)(e))instanceof Wf&&$f(this._delegate,e)},e.prototype.set=function(e,t){t=Lf("DocumentReference.set",t);try{return t?ch(this._delegate,e,t):ch(this._delegate,e)}catch(e){throw Oh(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?lh(this._delegate,e):lh.apply(void 0,(0,a.ev)([this._delegate,e,t],n))}catch(e){throw Oh(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return dh(zf((e=this._delegate).firestore,td),[new qo(e._key,To.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Ch(t),i=kh(t,(function(t){return new Th(e.firestore,new Ud(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return fh(this._delegate,r,i)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=zf(e,Wf);var t=zf(e.firestore,td),n=nd(t),r=new uh(t);return function(e,t){var n=this,r=new ws;return e.asyncQueue.enqueueAndForget((function(){return(0,a.mG)(n,void 0,void 0,(function(){var n;return(0,a.Jh)(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return(0,a.mG)(this,void 0,void 0,(function(){var r,i;return(0,a.Jh)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(e,t){var n=Mr(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Mn.mn(e,t)}))}(e,t)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new kr(Cr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=cl(r,"Failed to get document '"+t+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,_f(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new Ud(t,r,e._key,n,new Bd(null!==n&&n.hasLocalMutations,!0),e.converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=zf(e,Wf);var t=zf(e.firestore,td);return Of(nd(t),e._key,{source:"server"}).then((function(n){return hh(t,e,n)}))}(this._delegate):function(e){e=zf(e,Wf);var t=zf(e.firestore,td);return Of(nd(t),e._key).then((function(n){return hh(t,e,n)}))}(this._delegate)).then((function(e){return new Th(t.firestore,new Ud(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Sh.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function Oh(e,t,n){return e.message=e.message.replace(t,n),e}function Ch(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!ed(r))return r}return{}}function kh(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=ed(e[0])?e[0]:ed(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Th=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new xh(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return Zd(this._delegate,e._delegate)},e}(),Ah=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.ZT)(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(Th),Ih=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new wh(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Gd(this._delegate,function(e,t,n){var r=t,i=Fd("where",e);return new Kd(i,r,n)}(t,n,r)))}catch(t){throw Oh(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Gd(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=Fd("orderBy",e);return new Jd(r,n)}(t,n)))}catch(t){throw Oh(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Gd(this._delegate,function(e){return qf("limit",e),new Yd("limit",e,"F")}(t)))}catch(t){throw Oh(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Gd(this._delegate,function(e){return qf("limitToLast",e),new Yd("limitToLast",e,"L")}(t)))}catch(t){throw Oh(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Gd(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new $d("startAt",e,!0)}.apply(void 0,t)))}catch(t){throw Oh(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Gd(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new $d("startAfter",e,!1)}.apply(void 0,t)))}catch(t){throw Oh(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Gd(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Xd("endBefore",e,!0)}.apply(void 0,t)))}catch(t){throw Oh(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Gd(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Xd("endAt",e,!1)}.apply(void 0,t)))}catch(t){throw Oh(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return Xf(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=zf(e,Gf);var t=zf(e.firestore,td),n=nd(t),r=new uh(t);return function(e,t){var n=this,r=new ws;return e.asyncQueue.enqueueAndForget((function(){return(0,a.mG)(n,void 0,void 0,(function(){var n;return(0,a.Jh)(this,(function(i){switch(i.label){case 0:return n=function(e,t,n){return(0,a.mG)(this,void 0,void 0,(function(){var r,i,o,s,u;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,Ju(e,t,!0)];case 1:return u=a.sent(),r=new Cl(t,u.Bn),i=r._o(u.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=a.sent(),u=cl(s,"Failed to execute query '"+t+" against cache"),n.reject(u),[3,3];case 3:return[2]}}))}))},[4,_f(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new zd(t,r,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=zf(e,Gf);var t=zf(e.firestore,td),n=nd(t),r=new uh(t);return Cf(n,e._query,{source:"server"}).then((function(n){return new zd(t,r,e,n)}))}(this._delegate):function(e){e=zf(e,Gf);var t=zf(e.firestore,td),n=nd(t),r=new uh(t);return Hd(e._query),Cf(n,e._query).then((function(n){return new zd(t,r,e,n)}))}(this._delegate)).then((function(e){return new Ph(t.firestore,new zd(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Ch(t),i=kh(t,(function(t){return new Ph(e.firestore,new zd(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return fh(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Sh.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),Dh=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Ah(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),Ph=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new Ih(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new Ah(e._firestore,t)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new Dh(t._firestore,e)}))},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new Ah(n._firestore,r))}))},e.prototype.isEqual=function(e){return Zd(this._delegate,e._delegate)},e}(),Rh=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return(0,a.ZT)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new xh(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new xh(this.firestore,void 0===e?Yf(this._delegate):Yf(this._delegate,e))}catch(e){throw Oh(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=zf(e.firestore,td),r=Yf(e),i=ih(e.converter,t);return dh(n,[gd(md(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,To.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new xh(t.firestore,e)}))},t.prototype.isEqual=function(e){return $f(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Sh.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(Ih);function Nh(e){return zf(e,Wf)}var jh=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(ad.bind.apply(ad,(0,a.ev)([void 0],e)))}return e.documentId=function(){return new e(Yr.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=(0,s.m9)(e))instanceof ad&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),Mh=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new wd("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new yd("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new _d("arrayUnion",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Ed("arrayRemove",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(e){return new Sd("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}();var Lh,Fh=n(32444),Bh={Firestore:bh,GeoPoint:cd,Timestamp:zr,Blob:gh,Transaction:_h,WriteBatch:Eh,DocumentReference:xh,DocumentSnapshot:Th,Query:Ih,QueryDocumentSnapshot:Ah,QuerySnapshot:Ph,CollectionReference:Rh,FieldPath:jh,FieldValue:Mh,setLogLevel:function(e){var t;t=e,Tr.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new Fh.wA("firestore",(function(e){return function(e,t){return new bh(e,new td(e,t),new yh)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Bh)))})(Lh=o.Z),Lh.registerVersion("@firebase/firestore","2.4.1");var Uh={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Vh=function(e){function t(n,r,i){var o=e.call(this,r)||this;return Object.setPrototypeOf(o,t.prototype),o.code=n,o.details=i,o}return(0,a.ZT)(t,e),t}(Error);var zh=function(){function e(e,t){var n=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then((function(e){return n.auth=e}),(function(){})),this.messaging||t.get().then((function(e){return n.messaging=e}),(function(){}))}return e.prototype.getAuthToken=function(){return(0,a.mG)(this,void 0,void 0,(function(){var e;return(0,a.Jh)(this,(function(t){switch(t.label){case 0:if(!this.auth)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(e=t.sent())?[2,e.accessToken]:[2,void 0];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getInstanceIdToken=function(){return(0,a.mG)(this,void 0,void 0,(function(){return(0,a.Jh)(this,(function(e){switch(e.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getContext=function(){return(0,a.mG)(this,void 0,void 0,(function(){var e,t;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return e=n.sent(),[4,this.getInstanceIdToken()];case 2:return t=n.sent(),[2,{authToken:e,instanceIdToken:t}]}}))}))},e}();function qh(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var Zh=function(){function e(){}return e.prototype.encode=function(e){var t=this;if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map((function(e){return t.encode(e)}));if("function"===typeof e||"object"===typeof e)return qh(e,(function(e){return t.encode(e)}));throw new Error("Data cannot be encoded in JSON: "+e)},e.prototype.decode=function(e){var t=this;if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(e.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+e);return n;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((function(e){return t.decode(e)})):"function"===typeof e||"object"===typeof e?qh(e,(function(e){return t.decode(e)})):e},e}();var Hh=function(){function e(e,t,n,r,i,o){var a=this;void 0===i&&(i="us-central1"),this.app_=e,this.appCheckProvider=r,this.fetchImpl=o,this.serializer=new Zh,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(a.deleteService())}},this.contextProvider=new zh(t,n),this.cancelAllRequests=new Promise((function(e){a.deleteService=function(){return e()}}));try{var s=new URL(i);this.customDomain=s.origin,this.region="us-central1"}catch(Lh){this.customDomain=null,this.region=i}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(e){var t=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+t+"/"+this.region+"/"+e:null!==this.customDomain?this.customDomain+"/"+e:"https://"+this.region+"-"+t+".cloudfunctions.net/"+e},e.prototype.useEmulator=function(e,t){this.emulatorOrigin="http://"+e+":"+t},e.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},e.prototype.httpsCallable=function(e,t){var n=this;return function(r){return n.call(e,r,t||{})}},e.prototype.postJSON=function(e,t,n){return(0,a.mG)(this,void 0,void 0,(function(){var r,i,o;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(r=a.sent())&&(n["X-Firebase-AppCheck"]=r),a.label=2;case 2:return a.trys.push([2,4,,5]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(t),headers:n})];case 3:return i=a.sent(),[3,5];case 4:return a.sent(),[2,{status:0,json:null}];case 5:o=null,a.label=6;case 6:return a.trys.push([6,8,,9]),[4,i.json()];case 7:return o=a.sent(),[3,9];case 8:return a.sent(),[3,9];case 9:return[2,{status:i.status,json:o}]}}))}))},e.prototype.getAppCheckToken=function(){return(0,a.mG)(this,void 0,void 0,(function(){var e;return(0,a.Jh)(this,(function(t){switch(t.label){case 0:return(e=this.appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype.call=function(e,t,n){return(0,a.mG)(this,void 0,void 0,(function(){var r,i,o,s,u,c,l,f,d,h,p;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return r=this._url(e),t=this.serializer.encode(t),i={data:t},o={},[4,this.contextProvider.getContext()];case 1:return(s=a.sent()).authToken&&(o.Authorization="Bearer "+s.authToken),s.instanceIdToken&&(o["Firebase-Instance-ID-Token"]=s.instanceIdToken),u=n.timeout||7e4,c=function(e){var t,n=new Promise((function(n,r){t=setTimeout((function(){r(new Vh("deadline-exceeded","deadline-exceeded"))}),e)}));return{timer:t,promise:n}}(u),l=c.timer,f=c.promise,[4,Promise.race([Wh(l,this.postJSON(r,i,o)),f,Wh(l,this.cancelAllRequests)])];case 2:if(!(d=a.sent()))throw new Vh("cancelled","Firebase Functions instance was deleted.");if(h=function(e,t,n){var r=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),i=r,o=void 0;try{var a=t&&t.error;if(a){var s=a.status;if("string"===typeof s){if(!Uh[s])return new Vh("internal","internal");r=Uh[s],i=s}var u=a.message;"string"===typeof u&&(i=u),void 0!==(o=a.details)&&(o=n.decode(o))}}catch(Lh){}return"ok"===r?null:new Vh(r,i,o)}(d.status,d.json,this.serializer),h)throw h;if(!d.json)throw new Vh("internal","Response is not valid JSON object.");if("undefined"===typeof(p=d.json.data)&&(p=d.json.result),"undefined"===typeof p)throw new Vh("internal","Response is missing data field.");return[2,{data:this.serializer.decode(p)}]}}))}))},e}();function Wh(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n;return(0,a.Jh)(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}}))}))}!function(e,t){var n={Functions:Hh};e.INTERNAL.registerComponent(new Fh.wA("functions",(function(e,n){var r=n.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal"),s=e.getProvider("messaging");return new Hh(i,o,s,a,r,t)}),"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}(o.Z,fetch.bind(self)),o.Z.registerVersion("@firebase/functions","0.6.16");n(99688);var Gh="firebasestorage.googleapis.com",Kh=function(e){function t(n,r){var i=e.call(this,Jh(n),"Firebase Storage: "+r+" ("+Jh(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return(0,a.ZT)(t,e),t.prototype._codeEquals=function(e){return Jh(e)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(s.ZR);function Jh(e){return"storage/"+e}function Yh(){return new Kh("unknown","An unknown error occurred, please check the error payload for server response.")}function $h(){return new Kh("canceled","User canceled the upload/download.")}function Xh(){return new Kh("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Qh(e){return new Kh("invalid-argument",e)}function ep(){return new Kh("app-deleted","The Firebase app was deleted.")}function tp(e){return new Kh("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function np(e,t){return new Kh("invalid-format","String does not match format '"+e+"': "+t)}function rp(e){throw new Kh("internal-error","Internal error: "+e)}var ip={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},op=function(e,t){this.data=e,this.contentType=t||null};function ap(e,t){switch(e){case ip.RAW:return new op(sp(t));case ip.BASE64:case ip.BASE64URL:return new op(up(e,t));case ip.DATA_URL:return new op(function(e){var t=new cp(e);return t.base64?up(ip.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(Lh){throw np(ip.DATA_URL,"Malformed data URL.")}return sp(t)}(t.rest)}(t),new cp(t).contentType)}throw Yh()}function sp(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function up(e,t){switch(e){case ip.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw np(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case ip.BASE64URL:var i=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(i||o)throw np(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(t)}catch(Lh){throw np(e,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var cp=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw np(ip.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=t[1]||null;null!=n&&(this.base64=(r=n,i=";base64",r.length>=i.length&&r.substring(r.length-i.length)===i),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1);var r,i};var lp,fp={STATE_CHANGED:"state_changed"},dp={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function hp(e){switch(e){case"running":case"pausing":case"canceling":return dp.RUNNING;case"paused":return dp.PAUSED;case"success":return dp.SUCCESS;case"canceled":return dp.CANCELED;default:return dp.ERROR}}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(lp||(lp={}));var pp=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=lp.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=lp.ABORT,t()})),e.xhr_.addEventListener("error",(function(){e.errorCode_=lp.NETWORK_ERROR,t()})),e.xhr_.addEventListener("load",(function(){t()}))}))}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw rp("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw rp("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw rp("cannot .getStatus() before sending");try{return this.xhr_.status}catch(Lh){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw rp("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},e}();var vp=function(){function e(){}return e.prototype.createConnection=function(){return new pp},e}(),mp=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(Lh){return new e(t,"")}if(""===r.path)return r;throw new Kh("invalid-default-bucket","Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var o=new RegExp("^gs://"+i+"(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:o,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:a},{regex:new RegExp("^https?://"+(n===Gh?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:a}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var d=f[l.indices.bucket],h=f[l.indices.path];h||(h=""),r=new e(d,h),l.postModify(r);break}}if(null==r)throw function(e){return new Kh("invalid-url","Invalid URL '"+e+"'.")}(t);return r},e}(),gp=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}();function yp(e){return"string"===typeof e||e instanceof String}function bp(e){return wp()&&e instanceof Blob}function wp(){return"undefined"!==typeof Blob}function _p(e,t,n,r){if(r<t)throw Qh("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw Qh("Invalid value for '"+e+"'. Expected "+n+" or less.")}function Ep(e,t){var n=t.match(/^(\w+):\/\/.+/),r=t;return null==(null===n||void 0===n?void 0:n[1])&&(r="https://"+t),r+"/v0"+e}function Sp(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}var xp=function(){function e(e,t,n,r,i,o,a,s,u,c,l){var f=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(e,t){f.resolve_=e,f.reject_=t,f.start_()}))}return e.prototype.start_=function(){var e=this;function t(t,n){var r,i=e.resolve_,o=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var s=e.callback_(a,a.getResponseText());!function(e){return void 0!==e}(s)?i():i(s)}catch(Lh){o(Lh)}else null!==a?((r=Yh()).serverResponse=a.getResponseText(),e.errorCallback_?o(e.errorCallback_(a,r)):o(r)):n.canceled?o(r=e.appDelete_?ep():$h()):o(r=new Kh("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new Op(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,o=!1,s=0;function u(){return 2===s}var c=!1;function l(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];c||(c=!0,t.apply(null,e))}function f(t){i=setTimeout((function(){i=null,e(d,u())}),t)}function d(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!c)if(e)l.call.apply(l,(0,a.ev)([null,e],t));else{var i;u()||o?l.call.apply(l,(0,a.ev)([null,e],t)):(r<64&&(r*=2),1===s?(s=2,i=0):i=1e3*(r+Math.random()),f(i))}}var h=!1;function p(e){h||(h=!0,c||(null!==i?(e||(s=2),clearTimeout(i),f(0)):e||(s=1)))}return f(0),setTimeout((function(){o=!0,p(!0)}),n),p}((function(t,n){if(n)t(!1,new Op(!1,null,!0));else{var r=e.pool_.createConnection();e.pendingConnection_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===lp.NO_ERROR,o=r.getStatus();if(n&&!e.isRetryStatusCode_(o)){var a=-1!==e.successCodes_.indexOf(o);t(!0,new Op(a,r))}else{var s=r.getErrorCode()===lp.ABORT;t(!1,new Op(!1,null,s))}}))}function i(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)}}),t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r},e}(),Op=function(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n};function Cp(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function kp(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Cp();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(wp())return new Blob(e);throw new Kh("unsupported-environment","This browser doesn't seem to support creating Blobs")}var Tp=function(){function e(e,t){var n=0,r="";bp(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(bp(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(wp()){var r=t.map((function(t){return t instanceof e?t.data_:t}));return new e(kp.apply(null,r))}var i=t.map((function(e){return yp(e)?ap(ip.RAW,e).data:e.data_})),o=0;i.forEach((function(e){o+=e.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]})),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}();function Ap(e){var t;try{t=JSON.parse(e)}catch(Lh){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function Ip(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Dp(e,t){return t}var Pp=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Dp},Rp=null;function Np(){if(Rp)return Rp;var e=[];e.push(new Pp("bucket")),e.push(new Pp("generation")),e.push(new Pp("metageneration")),e.push(new Pp("name","fullPath",!0));var t=new Pp("name");t.xform=function(e,t){return function(e){return!yp(e)||e.length<2?e:Ip(e)}(t)},e.push(t);var n=new Pp("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Pp("timeCreated")),e.push(new Pp("updated")),e.push(new Pp("md5Hash",null,!0)),e.push(new Pp("cacheControl",null,!0)),e.push(new Pp("contentDisposition",null,!0)),e.push(new Pp("contentEncoding",null,!0)),e.push(new Pp("contentLanguage",null,!0)),e.push(new Pp("contentType",null,!0)),e.push(new Pp("metadata","customMetadata",!0)),Rp=e}function jp(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new mp(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Mp(e,t,n){var r=Ap(t);return null===r?null:jp(e,r,n)}function Lp(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}function Fp(e,t,n){var r=Ap(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),s=e._makeStorageReference(new mp(t,a));r.prefixes.push(s)}if(n.items)for(var u=0,c=n.items;u<c.length;u++){var l=c[u];s=e._makeStorageReference(new mp(t,l.name)),r.items.push(s)}return r}(e,t,r)}var Bp=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function Up(e){if(!e)throw Yh()}function Vp(e,t){return function(n,r){var i=Mp(e,r,t);return Up(null!==i),i}}function zp(e,t){return function(n,r){var i=Mp(e,r,t);return Up(null!==i),function(e,t,n){var r=Ap(t);if(null===r)return null;if(!yp(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map((function(t){var r=e.bucket,i=e.fullPath;return Ep("/b/"+o(r)+"/o/"+o(i),n)+Sp({alt:"media",token:t})}))[0]}(i,r,e.host)}}function qp(e){return function(t,n){var r,i,o;return 401===t.getStatus()?r=t.getResponseText().includes("Firebase App Check token is invalid")?new Kh("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Kh("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new Kh("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Kh("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function Zp(e){var t=qp(e);return function(n,r){var i,o=t(n,r);return 404===n.getStatus()&&(i=e.path,o=new Kh("object-not-found","Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function Hp(e,t,n){var r=Ep(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new Bp(r,"GET",Vp(e,n),i);return o.errorHandler=Zp(t),o}function Wp(e,t,n,r,i){var o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=Ep(t.bucketOnlyServerUrl(),e.host),s=e.maxOperationRetryTime,u=new Bp(a,"GET",function(e,t){return function(n,r){var i=Fp(e,t,r);return Up(null!==i),i}}(e,t.bucket),s);return u.urlParams=o,u.errorHandler=qp(t),u}function Gp(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}var Kp=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function Jp(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(Lh){Up(!1)}return Up(!!n&&-1!==(t||["active"]).indexOf(n)),n}var Yp=262144;function $p(e,t,n,r,i,o,a,s){var u=new Kp(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new Kh("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var f=u.current,d=f+l,h={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":""+u.current},p=r.slice(f,d);if(null===p)throw Xh();var v=t.maxUploadRetryTime,m=new Bp(n,"POST",(function(e,n){var i,a=Jp(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?Vp(t,o)(e,n):null,new Kp(s,c,"final"===a,i)}),v);return m.headers=h,m.body=p.uploadData(),m.progressCallback=s||null,m.errorHandler=qp(e),m}var Xp=function(e,t,n){var r=function(e){return"function"===typeof e}(e)||null!=t||null!=n;if(r)this.next=e,this.error=t,this.complete=n;else{var i=e;this.next=i.next,this.error=i.error,this.complete=i.complete}};function Qp(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}var ev=function(){function e(e,t,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=Np(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return e.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}},e.prototype._shouldDoResumable=function(e){return e.size()>262144},e.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=n[0],i=n[1];switch(t._state){case"running":e(r,i);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))},e.prototype._createResumable=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a=Gp(t,r,i),s={name:a.fullPath},u=Ep(o,e.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=Lp(a,n),f=e.maxUploadRetryTime,d=new Bp(u,"POST",(function(e){var t;Jp(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(Lh){Up(!1)}return Up(yp(t)),t}),f);return d.urlParams=s,d.headers=c,d.body=l,d.errorHandler=qp(t),d}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))},e.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,o=new Bp(n,"POST",(function(e){var t=Jp(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(Lh){Up(!1)}n||Up(!1);var i=Number(n);return Up(!isNaN(i)),new Kp(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=qp(t),o}(e._ref.storage,e._ref._location,t,e._blob),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))},e.prototype._continueUpload=function(){var e=this,t=Yp*this._chunkMultiplier,n=new Kp(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,o){var a;try{a=$p(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(Lh){return e._error=Lh,void e._transition("error")}var s=e._ref.storage._makeRequest(a,i,o);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))},e.prototype._increaseMultiplier=function(){Yp*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var e=this;this._resolveToken((function(t,n){var r=Hp(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))},e.prototype._oneShotUpload=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=Gp(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Lp(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=Tp.getBlob(c,r,l);if(null===f)throw Xh();var d={name:u.fullPath},h=Ep(o,e.host),p=e.maxUploadRetryTime,v=new Bp(h,"POST",Vp(e,n),p);return v.urlParams=d,v.headers=a,v.body=f.uploadData(),v.errorHandler=qp(t),v}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))},e.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},e.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=$h(),this._state=e,this._notifyObservers()}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=hp(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t,n,r){var i=this,o=new Xp(t,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},e.prototype.then=function(e,t){return this._promise.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},e.prototype._removeObserver=function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)},e.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))},e.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(hp(this._state)){case dp.SUCCESS:Qp(this._resolve.bind(null,this.snapshot))();break;case dp.CANCELED:case dp.ERROR:Qp(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(e){switch(hp(this._state)){case dp.RUNNING:case dp.PAUSED:e.next&&Qp(e.next.bind(e,this.snapshot))();break;case dp.SUCCESS:e.complete&&Qp(e.complete.bind(e))();break;default:e.error&&Qp(e.error.bind(e,this._error))()}},e.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},e.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},e.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},e}(),tv=function(){function e(e,t){this._service=e,this._location=t instanceof mp?t:mp.makeFromUrl(t,e.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var e=new mp(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return Ip(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new mp(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(e){if(""===this._location.path)throw tp(e)},e}();function nv(e){var t={prefixes:[],items:[]};return rv(e,t).then((function(){return t}))}function rv(e,t,n){return(0,a.mG)(this,void 0,void 0,(function(){var r,i,o;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return[4,iv(e,{pageToken:n})];case 1:return r=a.sent(),(i=t.prefixes).push.apply(i,r.prefixes),(o=t.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,rv(e,t,r.nextPageToken)];case 2:a.sent(),a.label=3;case 3:return[2]}}))}))}function iv(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r;return(0,a.Jh)(this,(function(i){switch(i.label){case 0:return null!=t&&"number"===typeof t.maxResults&&_p("options.maxResults",1,1e3,t.maxResults),n=t||{},r=Wp(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}}))}))}function ov(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n;return(0,a.Jh)(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=function(e,t,n,r){var i=Ep(t.fullServerUrl(),e.host),o=Lp(n,r),a=e.maxOperationRetryTime,s=new Bp(i,"PATCH",Vp(e,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=Zp(t),s}(e.storage,e._location,t,Np()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}}))}))}function av(e){return(0,a.mG)(this,void 0,void 0,(function(){var t;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=function(e,t,n){var r=Ep(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new Bp(r,"GET",zp(e,n),i);return o.errorHandler=Zp(t),o}(e.storage,e._location,Np()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then((function(e){if(null===e)throw new Kh("no-download-url","The given file does not have any download URLs.");return e}))]}}))}))}function sv(e){return(0,a.mG)(this,void 0,void 0,(function(){var t;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=function(e,t){var n=Ep(t.fullServerUrl(),e.host),r=e.maxOperationRetryTime,i=new Bp(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=Zp(t),i}(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}function uv(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new mp(e._location.bucket,n);return new tv(e.storage,r)}function cv(e){return/^[A-Za-z]+:\/\//.test(e)}function lv(e,t){if(e instanceof hv){var n=e;if(null==n._bucket)throw new Kh("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new tv(n,n._bucket);return null!=t?lv(r,t):r}return void 0!==t?uv(e,t):e}function fv(e,t){if(t&&cv(t)){if(e instanceof hv)return new tv(e,t);throw Qh("To use ref(service, url), the first argument must be a Storage instance.")}return lv(e,t)}function dv(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:mp.makeFromBucketSpec(n,e)}var hv=function(){function e(e,t,n,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=Gh,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?mp.makeFromBucketSpec(i,this._host):dv(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=mp.makeFromBucketSpec(this._url,e):this._bucket=dv(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){_p("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){_p("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return(0,a.mG)(this,void 0,void 0,(function(){var e,t;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(t=n.sent()))return[2,t.accessToken];n.label=2;case 2:return[2,null]}}))}))},e.prototype._getAppCheckToken=function(){return(0,a.mG)(this,void 0,void 0,(function(){var e;return(0,a.Jh)(this,(function(t){switch(t.label){case 0:return(e=this._appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(e){return new tv(this,e)},e.prototype._makeRequest=function(e,t,n){var r=this;if(this._deleted)return new gp(ep());var i=function(e,t,n,r,i,o){var a=Sp(e.urlParams),s=e.url+a,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new xp(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,t,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((function(){return r._requests.delete(i)}),(function(){return r._requests.delete(i)})),i},e.prototype.makeRequestWithTokens=function(e){return(0,a.mG)(this,void 0,void 0,(function(){var t,n,r;return(0,a.Jh)(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return t=i.sent(),n=t[0],r=t[1],[2,this._makeRequest(e,n,r)]}}))}))},e}();function pv(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new ev(e,new Tp(t),n)}(e=(0,s.m9)(e),t,n)}function vv(e){return function(e){return(0,a.mG)(this,void 0,void 0,(function(){var t;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=Hp(e.storage,e._location,Np()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}(e=(0,s.m9)(e))}function mv(e,t){return fv(e=(0,s.m9)(e),t)}function gv(e,t,n,r){void 0===r&&(r={}),function(e,t,n,r){void 0===r&&(r={}),e.host="http://"+t+":"+n;var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:(0,s.Sg)(i,e.app.options.projectId))}(e,t,n,r)}var yv=function(){function e(e,t,n){this._delegate=e,this.task=t,this.ref=n}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}(),bv=function(){function e(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new yv(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new yv(t,n,n._ref))}),t)},e.prototype.on=function(e,t,n,r){var i=this,o=void 0;return t&&(o="function"===typeof t?function(e){return t(new yv(e,i,i._ref))}:{next:t.next?function(e){return t.next(new yv(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,n||void 0,r||void 0)},e}(),wv=function(){function e(e,t){this._delegate=e,this._service=t}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new _v(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var e=this;return this._delegate.items.map((function(t){return new _v(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}(),_v=function(){function e(e,t){this._delegate=e,this.storage=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=function(e,t){return uv(e,t)}(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(e,t){return this._throwIfRoot("put"),new bv(pv(this._delegate,e,t),this)},e.prototype.putString=function(e,t,n){void 0===t&&(t=ip.RAW),this._throwIfRoot("putString");var r=ap(t,e),i=(0,a.pi)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new bv(new ev(this._delegate,new Tp(r.data,!0),i),this)},e.prototype.listAll=function(){var e=this;return function(e){return nv(e=(0,s.m9)(e))}(this._delegate).then((function(t){return new wv(t,e.storage)}))},e.prototype.list=function(e){var t=this;return function(e,t){return iv(e=(0,s.m9)(e),t)}(this._delegate,e||void 0).then((function(e){return new wv(e,t.storage)}))},e.prototype.getMetadata=function(){return vv(this._delegate)},e.prototype.updateMetadata=function(e){return function(e,t){return ov(e=(0,s.m9)(e),t)}(this._delegate,e)},e.prototype.getDownloadURL=function(){return function(e){return av(e=(0,s.m9)(e))}(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),function(e){return sv(e=(0,s.m9)(e))}(this._delegate)},e.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw tp(e)},e}(),Ev=function(){function e(e,t){this.app=e,this._delegate=t}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(e){if(cv(e))throw Qh("ref() expected a child path but got a URL, use refFromURL instead.");return new _v(mv(this._delegate,e),this)},e.prototype.refFromURL=function(e){if(!cv(e))throw Qh("refFromURL() expected a full URL but got a child path, use ref() instead.");try{mp.makeFromUrl(e,this._delegate.host)}catch(Lh){throw Qh("refFromUrl() expected a valid full URL but got an invalid one.")}return new _v(mv(this._delegate,e),this)},e.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},e.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),gv(this._delegate,e,t,n)},e}();function Sv(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new Ev(r,new hv(r,i,a,new vp,n,o.Z.SDK_VERSION))}!function(e){var t={TaskState:dp,TaskEvent:fp,StringFormat:ip,Storage:hv,Reference:_v};e.INTERNAL.registerComponent(new Fh.wA("storage",Sv,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage","0.7.1")}(o.Z);var xv,Ov=n(70015),Cv="0.4.32",kv=1e4,Tv="w:0.4.32",Av="FIS_v2",Iv=36e5,Dv=((xv={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',xv["not-registered"]="Firebase Installation is not registered.",xv["installation-not-found"]="Firebase Installation not found.",xv["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',xv["app-offline"]="Could not process request. Application offline.",xv["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",xv),Pv=new s.LL("installations","Installations",Dv);function Rv(e){return e instanceof s.ZR&&e.code.includes("request-failed")}function Nv(e){return"https://firebaseinstallations.googleapis.com/v1/projects/"+e.projectId+"/installations"}function jv(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function Mv(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r;return(0,a.Jh)(this,(function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,Pv.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function Lv(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Fv(e,t){var n=t.refreshToken,r=Lv(e);return r.append("Authorization",function(e){return"FIS_v2 "+e}(n)),r}function Bv(e){return(0,a.mG)(this,void 0,void 0,(function(){var t;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return(t=n.sent()).status>=500&&t.status<600?[2,e()]:[2,t]}}))}))}function Uv(e,t){var n=t.fid;return(0,a.mG)(this,void 0,void 0,(function(){var t,r,i,o,s,u;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return t=Nv(e),r=Lv(e),i={fid:n,authVersion:Av,appId:e.appId,sdkVersion:Tv},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,Bv((function(){return fetch(t,o)}))];case 1:return(s=a.sent()).ok?[4,s.json()]:[3,3];case 2:return u=a.sent(),[2,{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:jv(u.authToken)}];case 3:return[4,Mv("Create Installation",s)];case 4:throw a.sent()}}))}))}function Vv(e){return new Promise((function(t){setTimeout(t,e)}))}var zv=/^[cdef][\w-]{21}$/;function qv(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,(0,a.ev)([],(0,a.CR)(t)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return zv.test(t)?t:""}catch(gd){return""}}function Zv(e){return e.appName+"!"+e.appId}var Hv=new Map;function Wv(e,t){var n=Zv(e);Gv(n,t),function(e,t){var n=Jv();n&&n.postMessage({key:e,fid:t});Yv()}(n,t)}function Gv(e,t){var n,r,i=Hv.get(e);if(i)try{for(var o=(0,a.XA)(i),s=o.next();!s.done;s=o.next()){(0,s.value)(t)}}catch(u){n={error:u}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var Kv=null;function Jv(){return!Kv&&"BroadcastChannel"in self&&((Kv=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){Gv(e.data.key,e.data.fid)}),Kv}function Yv(){0===Hv.size&&Kv&&(Kv.close(),Kv=null)}var $v,Xv="firebase-installations-store",Qv=null;function em(){return Qv||(Qv=(0,Ov.openDb)("firebase-installations-database",1,(function(e){if(0===e.oldVersion)e.createObjectStore(Xv)}))),Qv}function tm(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r,i,o,s;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return n=Zv(e),[4,em()];case 1:return r=a.sent(),i=r.transaction(Xv,"readwrite"),[4,(o=i.objectStore(Xv)).get(n)];case 2:return s=a.sent(),[4,o.put(t,n)];case 3:return a.sent(),[4,i.complete];case 4:return a.sent(),s&&s.fid===t.fid||Wv(e,t.fid),[2,t]}}))}))}function nm(e){return(0,a.mG)(this,void 0,void 0,(function(){var t,n,r;return(0,a.Jh)(this,(function(i){switch(i.label){case 0:return t=Zv(e),[4,em()];case 1:return n=i.sent(),[4,(r=n.transaction(Xv,"readwrite")).objectStore(Xv).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function rm(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r,i,o,s,u;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return n=Zv(e),[4,em()];case 1:return r=a.sent(),i=r.transaction(Xv,"readwrite"),[4,(o=i.objectStore(Xv)).get(n)];case 2:return s=a.sent(),void 0!==(u=t(s))?[3,4]:[4,o.delete(n)];case 3:return a.sent(),[3,6];case 4:return[4,o.put(u,n)];case 5:a.sent(),a.label=6;case 6:return[4,i.complete];case 7:return a.sent(),!u||s&&s.fid===u.fid||Wv(e,u.fid),[2,u]}}))}))}function im(e){return(0,a.mG)(this,void 0,void 0,(function(){var t,n,r;return(0,a.Jh)(this,(function(i){switch(i.label){case 0:return[4,rm(e,(function(n){var r=function(e){return sm(e||{fid:qv(),registrationStatus:0})}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(Pv.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r;return(0,a.Jh)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,Uv(e,t)];case 1:return n=i.sent(),[2,tm(e,n)];case 2:return Rv(r=i.sent())&&409===r.customData.serverCode?[4,nm(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,tm(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:om(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}}))}))}function om(e){return(0,a.mG)(this,void 0,void 0,(function(){var t,n,r,i;return(0,a.Jh)(this,(function(o){switch(o.label){case 0:return[4,am(e)];case 1:t=o.sent(),o.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,Vv(100)];case 3:return o.sent(),[4,am(e)];case 4:return t=o.sent(),[3,2];case 5:return 0!==t.registrationStatus?[3,7]:[4,im(e)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,t]}}))}))}function am(e){return rm(e,(function(e){if(!e)throw Pv.create("installation-not-found");return sm(e)}))}function sm(e){return 1===(t=e).registrationStatus&&t.registrationTime+kv<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function um(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return(0,a.mG)(this,void 0,void 0,(function(){var e,i,o,s,u,c,l;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return e=function(e,t){var n=t.fid;return Nv(e)+"/"+n+"/authTokens:generate"}(n,t),i=Fv(n,t),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),s={installation:{sdkVersion:Tv}},u={method:"POST",headers:i,body:JSON.stringify(s)},[4,Bv((function(){return fetch(e,u)}))];case 1:return(c=a.sent()).ok?[4,c.json()]:[3,3];case 2:return l=a.sent(),[2,jv(l)];case 3:return[4,Mv("Generate Auth Token",c)];case 4:throw a.sent()}}))}))}function cm(e,t){return void 0===t&&(t=!1),(0,a.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,a.Jh)(this,(function(o){switch(o.label){case 0:return[4,rm(e.appConfig,(function(r){if(!fm(r))throw Pv.create("not-registered");var i=r.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Iv}(e)}(i))return r;if(1===i.requestStatus)return n=function(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r;return(0,a.Jh)(this,(function(i){switch(i.label){case 0:return[4,lm(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,Vv(100)];case 3:return i.sent(),[4,lm(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,cm(e,t)]:[2,r]}}))}))}(e,t),r;if(!navigator.onLine)throw Pv.create("app-offline");var o=function(e){var t={requestStatus:1,requestTime:Date.now()};return(0,a.pi)((0,a.pi)({},e),{authToken:t})}(r);return n=function(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r,i;return(0,a.Jh)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,um(e,t)];case 1:return n=o.sent(),i=(0,a.pi)((0,a.pi)({},t),{authToken:n}),[4,tm(e.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!Rv(r=o.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,nm(e.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=(0,a.pi)((0,a.pi)({},t),{authToken:{requestStatus:0}}),[4,tm(e.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(e,o),o}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function lm(e){return rm(e,(function(e){if(!fm(e))throw Pv.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+kv<Date.now()?(0,a.pi)((0,a.pi)({},e),{authToken:{requestStatus:0}}):e}))}function fm(e){return void 0!==e&&2===e.registrationStatus}function dm(e){return(0,a.mG)(this,void 0,void 0,(function(){var t;return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return[4,im(e)];case 1:return(t=n.sent().registrationPromise)?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function hm(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n,r,i,o;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return n=function(e,t){var n=t.fid;return Nv(e)+"/"+n}(e,t),r=Fv(e,t),i={method:"DELETE",headers:r},[4,Bv((function(){return fetch(n,i)}))];case 1:return(o=a.sent()).ok?[3,3]:[4,Mv("Delete Installation",o)];case 2:throw a.sent();case 3:return[2]}}))}))}function pm(e,t){var n=e.appConfig;return function(e,t){Jv();var n=Zv(e),r=Hv.get(n);r||(r=new Set,Hv.set(n,r)),r.add(t)}(n,t),function(){!function(e,t){var n=Zv(e),r=Hv.get(n);r&&(r.delete(t),0===r.size&&Hv.delete(n),Yv())}(n,t)}}function vm(e){return Pv.create("missing-app-config-values",{valueName:e})}($v=o.Z).INTERNAL.registerComponent(new Fh.wA("installations",(function(e){var t=e.getProvider("app").getImmediate(),n=function(e){var t,n;if(!e||!e.options)throw vm("App Configuration");if(!e.name)throw vm("App Name");try{for(var r=(0,a.XA)(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!e.options[o])throw vm(o)}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),r={appConfig:n,platformLoggerProvider:e.getProvider("platform-logger")},i={app:t,getId:function(){return function(e){return(0,a.mG)(this,void 0,void 0,(function(){var t,n,r;return(0,a.Jh)(this,(function(i){switch(i.label){case 0:return[4,im(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,(r=t.registrationPromise)?r.catch(console.error):cm(e).catch(console.error),[2,n.fid]}}))}))}(r)},getToken:function(e){return function(e,t){return void 0===t&&(t=!1),(0,a.mG)(this,void 0,void 0,(function(){return(0,a.Jh)(this,(function(n){switch(n.label){case 0:return[4,dm(e.appConfig)];case 1:return n.sent(),[4,cm(e,t)];case 2:return[2,n.sent().token]}}))}))}(r,e)},delete:function(){return function(e){return(0,a.mG)(this,void 0,void 0,(function(){var t,n;return(0,a.Jh)(this,(function(r){switch(r.label){case 0:return[4,rm(t=e.appConfig,(function(e){if(!e||0!==e.registrationStatus)return e}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw Pv.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw Pv.create("app-offline");case 3:return[4,hm(t,n)];case 4:return r.sent(),[4,nm(t)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(r)},onIdChange:function(e){return pm(r,e)}};return i}),"PUBLIC")),$v.registerVersion("@firebase/installations",Cv);var mm,gm,ym="https://www.googletagmanager.com/gtag/js";!function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"}(mm||(mm={})),function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"}(gm||(gm={}));var bm,wm=new u.Yd("@firebase/analytics");function _m(e,t,n,r,i,o){return(0,a.mG)(this,void 0,void 0,(function(){var s,u,c,l;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:s=r[i],a.label=1;case 1:return a.trys.push([1,7,,8]),s?[4,t[s]]:[3,3];case 2:return a.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return u=a.sent(),c=u.find((function(e){return e.measurementId===i})),c?[4,t[c.appId]]:[3,6];case 5:a.sent(),a.label=6;case 6:return[3,8];case 7:return l=a.sent(),wm.error(l),[3,8];case 8:return e(mm.CONFIG,i,o),[2]}}))}))}function Em(e,t,n,r,i){return(0,a.mG)(this,void 0,void 0,(function(){var o,s,u,c,l,f,d,h;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,4,,5]),o=[],i&&i.send_to?(s=i.send_to,Array.isArray(s)||(s=[s]),[4,Promise.all(n)]):[3,2];case 1:for(u=a.sent(),c=function(e){var n=u.find((function(t){return t.measurementId===e})),r=n&&t[n.appId];if(!r)return o=[],"break";o.push(r)},l=0,f=s;l<f.length&&(d=f[l],"break"!==c(d));l++);a.label=2;case 2:return 0===o.length&&(o=Object.values(t)),[4,Promise.all(o)];case 3:return a.sent(),e(mm.EVENT,r,i||{}),[3,5];case 4:return h=a.sent(),wm.error(h),[3,5];case 5:return[2]}}))}))}function Sm(e,t,n,r,i){var o=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(o=window[i]),window[i]=function(e,t,n,r){return function(i,o,s){return(0,a.mG)(this,void 0,void 0,(function(){var u;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,6,,7]),i!==mm.EVENT?[3,2]:[4,Em(e,t,n,o,s)];case 1:return a.sent(),[3,5];case 2:return i!==mm.CONFIG?[3,4]:[4,_m(e,t,n,r,o,s)];case 3:return a.sent(),[3,5];case 4:e(mm.SET,o),a.label=5;case 5:return[3,7];case 6:return u=a.sent(),wm.error(u),[3,7];case 7:return[2]}}))}))}}(o,e,t,n),{gtagCore:o,wrappedGtag:window[i]}}var xm=((bm={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",bm["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",bm["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",bm["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",bm["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",bm["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",bm["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",bm["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',bm["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',bm),Om=new s.LL("analytics","Analytics",xm),Cm=new(function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t=1e3),this.throttleMetadata=e,this.intervalMillis=t}return e.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},e.prototype.setThrottleMetadata=function(e,t){this.throttleMetadata[e]=t},e.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},e}());function km(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function Tm(e){var t;return(0,a.mG)(this,void 0,void 0,(function(){var n,r,i,o,s,u,c;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:return n=e.appId,r=e.apiKey,i={method:"GET",headers:km(r)},o="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(o,i)];case 1:if(200===(s=a.sent()).status||304===s.status)return[3,6];u="",a.label=2;case 2:return a.trys.push([2,4,,5]),[4,s.json()];case 3:return c=a.sent(),(null===(t=c.error)||void 0===t?void 0:t.message)&&(u=c.error.message),[3,5];case 4:return a.sent(),[3,5];case 5:throw Om.create("config-fetch-failed",{httpStatus:s.status,responseMessage:u});case 6:return[2,s.json()]}}))}))}function Am(e,t,n,r){var i=t.throttleEndTimeMillis,o=t.backoffCount;return void 0===r&&(r=Cm),(0,a.mG)(this,void 0,void 0,(function(){var t,u,c,l,f,d,h;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:t=e.appId,u=e.measurementId,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,Im(n,i)];case 2:return a.sent(),[3,4];case 3:if(c=a.sent(),u)return wm.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+u+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:t,measurementId:u}];throw c;case 4:return a.trys.push([4,6,,7]),[4,Tm(e)];case 5:return l=a.sent(),r.deleteThrottleMetadata(t),[2,l];case 6:if(!function(e){if(!(e instanceof s.ZR)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(f=a.sent())){if(r.deleteThrottleMetadata(t),u)return wm.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+u+' provided in the "measurementId" field in the local Firebase config. ['+f.message+"]"),[2,{appId:t,measurementId:u}];throw f}return d=503===Number(f.customData.httpStatus)?(0,s.$s)(o,r.intervalMillis,30):(0,s.$s)(o,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+d,backoffCount:o+1},r.setThrottleMetadata(t,h),wm.debug("Calling attemptFetch again in "+d+" millis"),[2,Am(e,h,n,r)];case 7:return[2]}}))}))}function Im(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(Om.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var Dm=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}();function Pm(e,t,n,r,i,o){return(0,a.mG)(this,void 0,void 0,(function(){var u,c,l,f,d,h,p;return(0,a.Jh)(this,(function(v){switch(v.label){case 0:return u=function(e,t,n){return void 0===t&&(t=Cm),(0,a.mG)(this,void 0,void 0,(function(){var r,i,o,s,u,c,l=this;return(0,a.Jh)(this,(function(f){if(r=e.options,i=r.appId,o=r.apiKey,s=r.measurementId,!i)throw Om.create("no-app-id");if(!o){if(s)return[2,{measurementId:s,appId:i}];throw Om.create("no-api-key")}return u=t.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new Dm,setTimeout((function(){return(0,a.mG)(l,void 0,void 0,(function(){return(0,a.Jh)(this,(function(e){return c.abort(),[2]}))}))}),void 0!==n?n:6e4),[2,Am({appId:i,apiKey:o,measurementId:s},u,c,t)]}))}))}(e),u.then((function(t){n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&wm.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+") does not match the measurement ID fetched from the server ("+t.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return wm.error(e)})),t.push(u),c=function(){return(0,a.mG)(this,void 0,void 0,(function(){var e;return(0,a.Jh)(this,(function(t){switch(t.label){case 0:return(0,s.hl)()?[3,1]:(wm.warn(Om.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,(0,s.eu)()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),wm.warn(Om.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(e){return e?r.getId():void 0})),[4,Promise.all([u,c])];case 1:return l=v.sent(),f=l[0],d=l[1],function(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(ym))return r}return null}()||function(e,t){var n=document.createElement("script");n.src=ym+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}(o,f.measurementId),i("js",new Date),(p={}).origin="firebase",p.update=!0,h=p,null!=d&&(h.firebase_id=d),i(mm.CONFIG,f.measurementId,h),[2,f.measurementId]}}))}))}var Rm,Nm,jm={},Mm=[],Lm={},Fm="dataLayer",Bm="gtag",Um=!1;function Vm(e){if(Um)throw Om.create("already-initialized");e.dataLayerName&&(Fm=e.dataLayerName),e.gtagName&&(Bm=e.gtagName)}function zm(e,t){!function(){var e=[];if((0,s.ru)()&&e.push("This is a browser extension environment."),(0,s.zI)()||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"("+(t+1)+") "+e})).join(" "),n=Om.create("invalid-analytics-context",{errorInfo:t});wm.warn(n.message)}}();var n=e.options.appId;if(!n)throw Om.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Om.create("no-api-key");wm.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+e.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=jm[n])throw Om.create("already-exists",{id:n});if(!Um){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Fm);var r=Sm(jm,Mm,Lm,Fm,Bm),i=r.wrappedGtag,o=r.gtagCore;Nm=i,Rm=o,Um=!0}jm[n]=Pm(e,Mm,Lm,t,Rm,Fm);var u={app:e,logEvent:function(e,t,r){(function(e,t,n,r,i){return(0,a.mG)(this,void 0,void 0,(function(){var o,s;return(0,a.Jh)(this,(function(u){switch(u.label){case 0:return i&&i.global?(e(mm.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:o=u.sent(),s=(0,a.pi)((0,a.pi)({},r),{send_to:o}),e(mm.EVENT,n,s),u.label=3;case 3:return[2]}}))}))})(Nm,jm[n],e,t,r).catch((function(e){return wm.error(e)}))},setCurrentScreen:function(e,t){(function(e,t,n,r){return(0,a.mG)(this,void 0,void 0,(function(){var i;return(0,a.Jh)(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(mm.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(mm.CONFIG,i,{update:!0,screen_name:n}),o.label=3;case 3:return[2]}}))}))})(Nm,jm[n],e,t).catch((function(e){return wm.error(e)}))},setUserId:function(e,t){(function(e,t,n,r){return(0,a.mG)(this,void 0,void 0,(function(){var i;return(0,a.Jh)(this,(function(o){switch(o.label){case 0:return r&&r.global?(e(mm.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:i=o.sent(),e(mm.CONFIG,i,{update:!0,user_id:n}),o.label=3;case 3:return[2]}}))}))})(Nm,jm[n],e,t).catch((function(e){return wm.error(e)}))},setUserProperties:function(e,t){(function(e,t,n,r){return(0,a.mG)(this,void 0,void 0,(function(){var i,o,s,u,c;return(0,a.Jh)(this,(function(a){switch(a.label){case 0:if(!r||!r.global)return[3,1];for(i={},o=0,s=Object.keys(n);o<s.length;o++)u=s[o],i["user_properties."+u]=n[u];return e(mm.SET,i),[2,Promise.resolve()];case 1:return[4,t];case 2:c=a.sent(),e(mm.CONFIG,c,{update:!0,user_properties:n}),a.label=3;case 3:return[2]}}))}))})(Nm,jm[n],e,t).catch((function(e){return wm.error(e)}))},setAnalyticsCollectionEnabled:function(e){(function(e,t){return(0,a.mG)(this,void 0,void 0,(function(){var n;return(0,a.Jh)(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}}))}))})(jm[n],e).catch((function(e){return wm.error(e)}))},INTERNAL:{delete:function(){return delete jm[n],Promise.resolve()}}};return u}var qm="analytics";function Zm(){return(0,a.mG)(this,void 0,void 0,(function(){return(0,a.Jh)(this,(function(e){switch(e.label){case 0:if((0,s.ru)())return[2,!1];if(!(0,s.zI)())return[2,!1];if(!(0,s.hl)())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,(0,s.eu)()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,!1];case 4:return[2]}}))}))}!function(e){e.INTERNAL.registerComponent(new Fh.wA(qm,(function(e){return zm(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:Vm,EventName:gm,isSupported:Zm})),e.INTERNAL.registerComponent(new Fh.wA("analytics-internal",(function(e){try{return{logEvent:e.getProvider(qm).getImmediate().logEvent}}catch(Lh){throw Om.create("interop-component-reg-failed",{reason:Lh})}}),"PRIVATE")),e.registerVersion("@firebase/analytics","0.6.18")}(o.Z);var Hm,Wm,Gm,Km="0.4.18",Jm=Km,Ym="FB-PERF-TRACE-MEASURE",$m="_wt_",Xm="_fcp",Qm="_fid",eg="@firebase/performance/config",tg="@firebase/performance/configexpire",ng="Performance",rg=((Hm={})["trace started"]="Trace {$traceName} was started before.",Hm["trace stopped"]="Trace {$traceName} is not running.",Hm["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",Hm["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",Hm["no window"]="Window is not available.",Hm["no app id"]="App id is not available.",Hm["no project id"]="Project id is not available.",Hm["no api key"]="Api key is not available.",Hm["invalid cc log"]="Attempted to queue invalid cc event",Hm["FB not default"]="Performance can only start when Firebase app instance is the default one.",Hm["RC response not ok"]="RC response is not ok",Hm["invalid attribute name"]="Attribute name {$attributeName} is invalid.",Hm["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",Hm["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",Hm["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",Hm),ig=new s.LL("performance",ng,rg),og=new u.Yd(ng);og.logLevel=u.in.INFO;var ag,sg=function(){function e(e){if(this.window=e,!e)throw ig.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(e){this.performance&&this.performance.mark&&this.performance.mark(e)},e.prototype.measure=function(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)},e.prototype.getEntriesByType=function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]},e.prototype.getEntriesByName=function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!(0,s.hl)()||(og.info("IndexedDB is not supported by current browswer"),!1):(og.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},e.prototype.setupObserver=function(e,t){if(this.PerformanceObserver){var n=new this.PerformanceObserver((function(e){for(var n=0,r=e.getEntries();n<r.length;n++){var i=r[n];t(i)}}));n.observe({entryTypes:[e]})}},e.getInstance=function(){return void 0===Wm&&(Wm=new e(Gm)),Wm},e}();function ug(e,t){var n=e.length-t.length;if(n<0||n>1)throw ig.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}var cg,lg,fg=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=ug("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=ug("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw ig.create("no app id");return e},e.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw ig.create("no project id");return e},e.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw ig.create("no api key");return e},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return void 0===ag&&(ag=new e),ag},e}();function dg(){return cg}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"}(lg||(lg={}));var hg=["firebase_","google_","ga_"],pg=new RegExp("^[a-zA-Z]\\w*$");function vg(){var e=sg.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function mg(){switch(sg.getInstance().document.visibilityState){case"visible":return lg.VISIBLE;case"hidden":return lg.HIDDEN;default:return lg.UNKNOWN}}function gg(){var e=sg.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var yg="0.0.1",bg=!0,wg="FIREBASE_INSTALLATIONS_AUTH";function _g(e){var t=function(){var e=sg.getInstance().localStorage;if(!e)return;var t=e.getItem(tg);if(!t||(n=t,!(Number(n)>Date.now())))return;var n;var r=e.getItem(eg);if(!r)return;try{return JSON.parse(r)}catch(gd){return}}();return t?(Sg(t),Promise.resolve()):function(e){return function(){var e=fg.getInstance().installationsService.getToken();return e.then((function(e){})),e}().then((function(t){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+fg.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+fg.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:wg+" "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:fg.getInstance().getAppId(),app_version:Jm,sdk_version:yg})});return fetch(r).then((function(e){if(e.ok)return e.json();throw ig.create("RC response not ok")}))})).catch((function(){og.info(Eg)}))}(e).then(Sg).then((function(e){return function(e){var t=sg.getInstance().localStorage;if(!e||!t)return;t.setItem(eg,JSON.stringify(e)),t.setItem(tg,String(Date.now()+60*fg.getInstance().configTimeToLive*60*1e3))}(e)}),(function(){}))}var Eg="Could not fetch config, will use default configs";function Sg(e){if(!e)return e;var t=fg.getInstance(),n=e.entries||{};return void 0!==n.fpr_enabled?t.loggingEnabled="true"===String(n.fpr_enabled):t.loggingEnabled=bg,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=xg(t.tracesSamplingRate),t.logNetworkAfterSampling=xg(t.networkRequestsSamplingRate),e}function xg(e){return Math.random()<=e}var Og,Cg=1;function kg(){return Cg=2,Og=Og||function(){var e=sg.getInstance().document;return new Promise((function(t){if(e&&"complete"!==e.readyState){var n=function(){"complete"===e.readyState&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()}))}().then((function(){return function(){var e=fg.getInstance().installationsService.getId();return e.then((function(e){cg=e})),e}()})).then((function(e){return _g(e)})).then((function(){return Tg()}),(function(){return Tg()}))}function Tg(){Cg=3}var Ag,Ig=1e4,Dg=3,Pg=[],Rg=!1;function Ng(e){setTimeout((function(){if(0!==Dg)return Pg.length?void function(){var e=Pg.splice(0,1e3),t=e.map((function(e){return{source_extension_json_proto3:e.message,event_time_ms:String(e.eventTime)}}));(function(e,t){return function(e){var t=fg.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}(e).then((function(e){return e.ok||og.info("Call to Firebase backend failed."),e.json()})).then((function(e){var n=Number(e.nextRequestWaitMillis),r=Ig;isNaN(n)||(r=Math.max(n,r));var i=e.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(Pg=(0,a.ev)((0,a.ev)([],t),Pg),og.info("Retry transport request later.")),Dg=3,Ng(r)}))})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:fg.getInstance().logSource,log_event:t},e).catch((function(){Pg=(0,a.ev)((0,a.ev)([],e),Pg),Dg--,og.info("Tries left: "+Dg+"."),Ng(Ig)}))}():Ng(Ig)}),e)}function jg(e){if(!e.eventTime||!e.message)throw ig.create("invalid cc log");Pg=(0,a.ev)((0,a.ev)([],Pg),[e])}function Mg(e,t){Ag||(Ag=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];jg({message:e.apply(void 0,t),eventTime:Date.now()})}}(Bg)),Ag(e,t)}function Lg(e){var t=fg.getInstance();!t.instrumentationEnabled&&e.isAuto||(t.dataCollectionEnabled||e.isAuto)&&sg.getInstance().requiredApisAvailable()&&(e.isAuto&&mg()!==lg.VISIBLE||(3===Cg?Fg(e):kg().then((function(){return Fg(e)}),(function(){return Fg(e)}))))}function Fg(e){if(dg()){var t=fg.getInstance();t.loggingEnabled&&t.logTraceAfterSampling&&setTimeout((function(){return Mg(e,1)}),0)}}function Bg(e,t){return 0===t?function(e){var t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:Ug(),network_request_metric:t};return JSON.stringify(n)}(e):function(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};0!==Object.keys(e.counters).length&&(t.counters=e.counters);var n=e.getAttributes();0!==Object.keys(n).length&&(t.custom_attributes=n);var r={application_info:Ug(),trace_metric:t};return JSON.stringify(r)}(e)}function Ug(){return{google_app_id:fg.getInstance().getAppId(),app_instance_id:dg(),web_app_info:{sdk_version:Jm,page_url:sg.getInstance().getUrl(),service_worker_status:vg(),visibility_state:mg(),effective_connection_type:gg()},application_process_state:0}}var Vg=["_fp",Xm,Qm];var zg=function(){function e(e,t,n){void 0===t&&(t=!1),this.name=e,this.isAuto=t,this.state=1,this.customAttributes={},this.counters={},this.api=sg.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(1!==this.state)throw ig.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(2!==this.state)throw ig.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),Lg(this)},e.prototype.record=function(e,t,n){if(e<=0)throw ig.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw ig.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),n&&n.attributes&&(this.customAttributes=(0,a.pi)({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}Lg(this)},e.prototype.incrementMetric=function(e,t){void 0===t&&(t=1),void 0===this.counters[e]?this.putMetric(e,t):this.putMetric(e,this.counters[e]+t)},e.prototype.putMetric=function(e,t){if(n=e,r=this.name,0===n.length||n.length>100||!(r&&r.startsWith($m)&&Vg.indexOf(n)>-1)&&n.startsWith("_"))throw ig.create("invalid custom metric name",{customMetricName:e});var n,r;this.counters[e]=function(e){var t=Math.floor(e);return t<e&&og.info("Metric value should be an Integer, setting the value as : "+t+"."),t}(t)},e.prototype.getMetric=function(e){return this.counters[e]||0},e.prototype.putAttribute=function(e,t){var n,r=!(0===(n=e).length||n.length>40)&&!hg.some((function(e){return n.startsWith(e)}))&&!!n.match(pg),i=function(e){return 0!==e.length&&e.length<=100}(t);if(r&&i)this.customAttributes[e]=t;else{if(!r)throw ig.create("invalid attribute name",{attributeName:e});if(!i)throw ig.create("invalid attribute value",{attributeValue:t})}},e.prototype.getAttribute=function(e){return this.customAttributes[e]},e.prototype.removeAttribute=function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]},e.prototype.getAttributes=function(){return(0,a.pi)({},this.customAttributes)},e.prototype.setStartTime=function(e){this.startTimeUs=e},e.prototype.setDuration=function(e){this.durationUs=e},e.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))},e.createOobTrace=function(t,n,r){var i=sg.getInstance().getUrl();if(i){var o=new e($m+i,!0),a=Math.floor(1e3*sg.getInstance().getTimeOrigin());o.setStartTime(a),t&&t[0]&&(o.setDuration(Math.floor(1e3*t[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd)));if(n){var s=n.find((function(e){return"first-paint"===e.name}));s&&s.startTime&&o.putMetric("_fp",Math.floor(1e3*s.startTime));var u=n.find((function(e){return"first-contentful-paint"===e.name}));u&&u.startTime&&o.putMetric(Xm,Math.floor(1e3*u.startTime)),r&&o.putMetric(Qm,Math.floor(1e3*r))}Lg(o)}},e.createUserTimingTrace=function(t){Lg(new e(t,!1,t))},e}();function qg(e){var t=e;if(t&&void 0!==t.responseStart){var n=sg.getInstance().getTimeOrigin(),r=Math.floor(1e3*(t.startTime+n)),i=t.responseStart?Math.floor(1e3*(t.responseStart-t.startTime)):void 0,o=Math.floor(1e3*(t.responseEnd-t.startTime));!function(e){var t=fg.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&t.loggingEnabled&&t.logNetworkAfterSampling&&setTimeout((function(){return Mg(e,0)}),0)}}({url:t.name&&t.name.split("?")[0],responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}function Zg(){dg()&&(setTimeout((function(){return function(){var e=sg.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout((function(){zg.createOobTrace(t,n),r=void 0}),5e3);e.onFirstInputDelay((function(e){r&&(clearTimeout(r),zg.createOobTrace(t,n,e))}))}else zg.createOobTrace(t,n)}()}),0),setTimeout((function(){return function(){for(var e=sg.getInstance(),t=e.getEntriesByType("resource"),n=0,r=t;n<r.length;n++){qg(r[n])}e.setupObserver("resource",qg)}()}),0),setTimeout((function(){return function(){for(var e=sg.getInstance(),t=e.getEntriesByType("measure"),n=0,r=t;n<r.length;n++){Hg(r[n])}e.setupObserver("measure",Hg)}()}),0))}function Hg(e){var t=e.name;t.substring(0,Ym.length)!==Ym&&zg.createUserTimingTrace(t)}var Wg=function(){function e(e){this.app=e,sg.getInstance().requiredApisAvailable()&&(0,s.eu)().then((function(e){e&&(Rg||(Ng(5500),Rg=!0),kg().then(Zg,Zg))})).catch((function(e){og.info("Environment doesn't support IndexedDB: "+e)}))}return e.prototype.trace=function(e){return new zg(e)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return fg.getInstance().instrumentationEnabled},set:function(e){fg.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return fg.getInstance().dataCollectionEnabled},set:function(e){fg.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),e}();!function(e){var t=function(e,t){if("[DEFAULT]"!==e.name)throw ig.create("FB not default");if("undefined"===typeof window)throw ig.create("no window");return function(e){Gm=e}(window),fg.getInstance().firebaseAppInstance=e,fg.getInstance().installationsService=t,new Wg(e)};e.INTERNAL.registerComponent(new Fh.wA("performance",(function(e){var n=e.getProvider("app").getImmediate(),r=e.getProvider("installations").getImmediate();return t(n,r)}),"PUBLIC")),e.registerVersion("@firebase/performance",Km)}(o.Z);var Gg,Kg="Cypress"in window,Jg=i.wC.emulatorEnabled,Yg=i.wC.performanceEnabled,$g=(Gg="[DEFAULT]",r.Z.apps.find((function(e){return e.name===Gg}))||r.Z.initializeApp(i.wC,Gg)),Xg=$g.auth(),Qg=$g.firestore(),ey=$g.database(),ty=$g.functions(),ny=$g.storage();r.Z.firestore.setLogLevel(i.wC.logLevel),r.Z.database.enableLogging("debug"===i.wC.logLevel),Yg&&$g.performance(),Qg.settings({merge:!0,ignoreUndefinedProperties:!0,experimentalForceLongPolling:Kg||Jg,experimentalAutoDetectLongPolling:!(Kg||Jg)}),Jg&&(Xg.useEmulator("http://localhost:5001"),ty.useEmulator("localhost",5002),Qg.useEmulator("localhost",5003),ey.useEmulator("localhost",5004),ny.useEmulator("localhost",5006));var ry=r.Z},3213:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=function(e){return{get autoDiagramRequests(){return e.collection("auto-diagram-requests")},get autoDiagramElements(){return e.collection("auto-diagram-elements")},get aiOutlineRequests(){return e.collection("ai-outline-requests")},get users(){return e.collection("users")},get teams(){return e.collection("teams")},get profiles(){return e.collection("profiles")},get workspaces(){return e.collection("workspaces")},get workspaceVersions(){return e.collection("workspace-versions")},get templates(){return e.collection("templates")},get visitedWorkspaces(){return e.collection("visited-workspaces")},get templateCategories(){return e.collection("template-categories")},get workspaceIndexes(){return e.collection("workspace-indexes")},get workspaceIndexStatuses(){return e.collection("workspace-index-statuses")},get invites(){return e.collection("invites")},get publicEmailDomains(){return e.collection("public-email-domains")},get canvasLinks(){return e.collection("canvas-links")},get knownPeople(){return e.collection("known-people")},get commentThreads(){return e.collection("comment-threads")},get gitHubLogins(){return e.collection("gitHub-logins")},get gitHubRepositoryOperationStatuses(){return e.collection("gitHub-repository-sync-statuses")},get notionTokens(){return e.collection("notion-tokens")},get weeklyEmailSummaries(){return e.collection("pending-weekly-email-summaries")},get fileViews(){return e.collection("file-views")},get canvasCatalogs(){return e.collection("canvas-catalogs")},aiOutlineRequest:function(e){return this.aiOutlineRequests.doc(e)},autoDiagramRequest:function(e){return this.autoDiagramRequests.doc(e)},autoDiagramElement:function(e){return this.autoDiagramElements.doc(e)},config:function(t){return e.doc("config/".concat(t))},publicEmailDomain:function(e){return this.publicEmailDomains.doc(e)},canvasLink:function(e){return this.canvasLinks.doc(e)},user:function(e){return this.users.doc(e)},profile:function(e){return this.profiles.doc(e)},knownPerson:function(e){return this.knownPeople.doc(e)},userTeams:function(e){return this.user(e).collection("teams")},userTeam:function(e,t){return this.user(e).collection("teams").doc(t)},userCoachmarks:function(e){return this.user(e).collection("coachmarks")},userEventLog:function(e){return this.user(e).collection("eventLog")},team:function(e){return this.teams.doc(e)},teamMembers:function(e){return this.team(e).collection("members")},teamMember:function(e,t){return this.teamMembers(e).doc(t)},teamEventLog:function(e){return this.team(e).collection("eventLog")},teamGitHubOrganizations:function(e){return this.team(e).collection("gitHubOrganizations")},teamGitHubOrganization:function(e,t){return this.teamGitHubOrganizations(e).doc(t)},teamGitHubRepositories:function(e,t){return this.teamGitHubOrganization(e,t).collection("repositories")},teamGitHubRepository:function(e,t,n){return this.teamGitHubRepositories(e,t).doc(n)},visitedWorkspace:function(e,t){return this.visitedWorkspaces.doc("".concat(e,":").concat(t))},teamFolders:function(e){return this.team(e).collection("folders")},teamFolder:function(e,t){return this.teamFolders(e).doc(t)},invite:function(e){return this.invites.doc(e)},workspace:function(e){return this.workspaces.doc(e)},template:function(e){return this.templates.doc(e)},workspaceIndex:function(e){return this.workspaceIndexes.doc(e)},workspaceIndexStatus:function(e){return this.workspaceIndexStatuses.doc(e)},workspaceMembers:function(e){return this.workspace(e).collection("members")},workspaceMember:function(e,t){return this.workspaceMembers(e).doc(t)},workspaceCollaborators:function(e){return this.workspace(e).collection("collaborators")},workspaceCollaborator:function(e,t){return this.workspaceCollaborators(e).doc(t)},commentThread:function(e){return this.commentThreads.doc(e)},threadComments:function(e){return this.commentThread(e).collection("comments")},gitHubLogin:function(e){return this.gitHubLogins.doc(e)},gitHubRepositoryOperationStatus:function(e){return this.gitHubRepositoryOperationStatuses.doc(e)},notionToken:function(e,t){return t?this.notionTokens.doc("temporary:".concat(e)):this.notionTokens.doc(e)},emailSummaryForTeam:function(e){return this.weeklyEmailSummaries.doc(e)},canvasCatalog:function(e){return this.canvasCatalogs.doc(e)},canvasCatalogItems:function(e){return this.canvasCatalog(e).collection("items")},canvasCatalogItem:function(e,t){return this.canvasCatalogItems(e).doc(t)}}},i=r(n(57066).RZ)},97695:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||a(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}function s(e,t,n){return function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=r.limit,s=r.orderBy,u=e,c=!0,l=!1,f=void 0;try{for(var d,h=Object.entries(t)[Symbol.iterator]();!(c=(d=h.next()).done);c=!0){var p=i(d.value,2),v=p[0],m=p[1];if(Array.isArray(m)){var g,y=m;u=(g=u).where.apply(g,[v].concat(o(y)))}else{var b=m;u=u.where(v,"==",b)}}}catch(w){l=!0,f=w}finally{try{c||null==h.return||h.return()}finally{if(l)throw f}}return a&&(u=u.limit(a)),s&&(u=(n=u).orderBy.apply(n,o(s))),u}(e,t,n)}n.d(t,{J:function(){return s}})},7878:function(e,t,n){"use strict";n.d(t,{J:function(){return s},m:function(){return a}});var r=n(55632),i=n(91614);var o=i.jU&&i.IU?window.localStorage:null,a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._keyPrefix=function(e){var t=e.name,n=e.version,r=e.storeName;return"".concat(t,"/").concat(n,"/").concat(r,"/")}(t)}var t=e.prototype;return t.setItem=function(e,t){var n="".concat(this._keyPrefix).concat(e);null==t?null===o||void 0===o||o.removeItem(n):null===o||void 0===o||o.setItem(n,JSON.stringify(t))},t.getItem=function(e){var t,n=null===o||void 0===o?void 0:o.getItem("".concat(this._keyPrefix).concat(e));if(null==n)return null;try{t=JSON.parse(n)}catch(r){console.warn('Localstorage.getItem("'.concat(e,'") - ').concat(r.message)),t=null}return t},t.removeItem=function(e){null===o||void 0===o||o.removeItem("".concat(this._keyPrefix).concat(e))},t.clear=function(){null===o||void 0===o||o.clear()},e}(),s=new a(r.Wc)},96932:function(e,t,n){"use strict";n.d(t,{T:function(){return l}});var r=n(72983),i=n(57251),o=n(48156),a=n(17267);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){return null!=t&&"undefined"!==typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){s(e,t,n[t])}))}return e}var l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="",s=c({},t);if(u(e,i.tk)){if(e.isCaptured)return n;var l;e.isCaptured=!0,s.extra=c({},e.data,null!==(l=t.extra)&&void 0!==l?l:{})}if(null!=a.T){var f=(0,o.rj)(window.location.pathname);return f&&(s.extra=c({},s.extra,{workspaceId:f})),n=a.T.captureException(e,s),u(e,Error)&&(0,r.A)().then((function(t){t.captureException(e)})),n}return u(e,Error)&&e.cause?(console.error(e.cause),console.warn("The above error caused this error to be captured:",e)):console.error(e),Object.keys(s).length&&console.info("Capture context",s),n}},66924:function(e,t,n){"use strict";n.d(t,{TF:function(){return r.T},Tb:function(){return p.T},S1:function(){return d},AC:function(){return r.A}});var r=n(17267),i=n(94776),o=n.n(i),a=n(55632),s=n(49892),u=n(48775),c=n(34406);function l(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function f(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){l(o,r,i,a,s,"next",e)}function s(e){l(o,r,i,a,s,"throw",e)}a(void 0)}))}}function d(){return h.apply(this,arguments)}function h(){return(h=f(o().mark((function e(){var t,i,l,f,d,h;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((0,u.d)()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,r.A)();case 4:return t=e.sent,e.next=7,Promise.all([n.e(5222),n.e(274)]).then(n.bind(n,20274));case 7:return i=e.sent.Integrations,e.next=10,Promise.all([n.e(5222),n.e(4491)]).then(n.bind(n,84491));case 10:l=e.sent,f=l.ExtraErrorData,d=l.Offline,h=["permission_denied","@firebase/database: FIREBASE WARNING: transaction at","Missing or insufficient permissions","The caller does not have permission","PERMISSION_DENIED: Permission denied","INTERNAL ASSERTION FAILED:","INTERNAL UNHANDLED ERROR:","IndexedDbTransactionError:","Error enabling offline persistence","ConstraintError: Key already exists in the object store","FirebaseError: This platform is either missing IndexedDB or is known to have an incomplete implementation","FirebaseError: Connection failed","disconnect","@firebase/firestore: Firestore.Failed to obtain primary lease for action","@firebase/firestore: Firestore.Detected an update time that is in the future","@firebase/firestore: Firestore.Could not reach Cloud Firestore backend","@firebase/firestore: Firestore.Received WebStorage notification for local change","@firebase/firestore: Firestore.AsyncQueue Failed to persist write","Error: Client is offline","Error: A network error","ResizeObserver loop limit exceeded","LogRocket","@firebase/analytics","IndexedDB persistence is only available on platforms that support LocalStorage","ParseError","Parse error","[OPTIMIZELY]","this._mouseMoveEventMerger is not a function"],t.onLoad((function(){t.init({enabled:!c.env.STORYBOOK,environment:s.Wi,release:s.Ji,tracesSampleRate:a.D_.tracesSampleRate,autoSessionTracking:!0,integrations:[new f,new d,new i.BrowserTracing],ignoreErrors:h,beforeSend:function(e,t){var n=window.navigator.userAgent;return n.includes("Webflow")||n.includes("HeadlessChrome")?null:e}})}));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var p=n(96932)},48775:function(e,t,n){"use strict";n.d(t,{d:function(){return i}});var r=n(55632),i=function(){return!!r.D_.dsn}},17267:function(e,t,n){"use strict";n.d(t,{A:function(){return l},T:function(){return r}});var r,i=n(94776),o=n.n(i),a=n(80142),s=n(48775);function u(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){u(o,r,i,a,s,"next",e)}function s(e){u(o,r,i,a,s,"throw",e)}a(void 0)}))}}function l(){return f.apply(this,arguments)}function f(){return(f=c(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=window.Sentry,t=(0,s.d)();case 2:if(!t||r){e.next=8;break}return e.next=5,(0,a.Z)(100);case 5:r=window.Sentry,e.next=2;break;case 8:return e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},2738:function(e,t,n){"use strict";n.d(t,{GX:function(){return s},H0:function(){return a},aX:function(){return u},pc:function(){return o}});var r=n(24721),i=n(74665);function o(e){var t=null===e||void 0===e?void 0:e.role;return t===i.i.Admin||t===i.i.Member}function a(e){return(null===e||void 0===e?void 0:e.role)===i.i.Admin}function s(e,t,n){return!(!t||!(null===e||void 0===e?void 0:e.length))&&e.some((function(e){return e.id===t&&(!n||n(e))}))}function u(e){var t,n;return(null!==(n=null===(t=e.plan)||void 0===t?void 0:t.planType)&&void 0!==n?n:r.k9.Free)===r.k9.Free}},71523:function(e,t,n){"use strict";var r=n(94608),i=n(3213),o=n(7867),a=n(90396);t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.Z.teamMembers(e).withConverter(r.q0);return t.internalOnly&&(n=n.where("role","in",["admin","member"])),(0,o.BS)(n).pipe((0,a.pA)([]),(0,a.Fb)([]))}},24132:function(e,t,n){"use strict";var r=n(94776),i=n.n(r);function o(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){o(a,r,i,s,u,"next",e)}function u(e){o(a,r,i,s,u,"throw",e)}s(void 0)}))}}var s=500;function u(){return u=a(i().mark((function e(t,n){var r,o,u,c,l,f,d,h=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=function(e){return c.apply(this,arguments)},c=function(){return(c=a(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.batch(),e.next=3,Promise.all(t.map((function(e,t){return n(r,e,t)})));case 3:return e.next=5,r.commit();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)},r=h.length>2&&void 0!==h[2]?h[2]:s,o=t.firestore,e.next=8,t.limit(r).get();case 8:l=e.sent,f=l.size,d=l.docs[l.docs.length-1];case 11:if(!(f>0)){e.next=21;break}return e.next=14,u(l.docs);case 14:return e.next=16,t.limit(r).startAfter(d).get();case 16:l=e.sent,f=l.size,d=l.docs[l.docs.length-1],e.next=11;break;case 21:case"end":return e.stop()}}),e)}))),u.apply(this,arguments)}!function(){var e=a(i().mark((function e(t,n){var r,o,s,u,c,l,f,d,h,p,v=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=v.length>2&&void 0!==v[2]?v[2]:500,o=v.length>3&&void 0!==v[3]?v[3]:{},t=t.orderByKey(),s=function(){var e=a(i().mark((function e(t,r){var a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},e.next=3,Promise.all(Object.keys(r).map((function(e){return n(a,r[e],e)})));case 3:if(!o.onBeforeUpdate){e.next=6;break}return e.next=6,o.onBeforeUpdate(r);case 6:return e.next=8,t.update(a);case 8:if(!o.onAfterUpdate){e.next=11;break}return e.next=11,o.onAfterUpdate(r);case 11:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),u=function(e){var t=e.val(),n=e.numChildren();return{value:t,size:n,cursor:t?Object.keys(t)[n-1]:""}},e.next=6,t.limitToFirst(r).get();case 6:c=e.sent,l=u(c),f=l.value,d=l.size,h=l.cursor;case 8:if(!(d>0)){e.next=18;break}return e.next=11,s(c.ref,f);case 11:return e.next=13,t.limitToFirst(r).startAfter(h).get();case 13:c=e.sent,p=u(c),f=p.value,d=p.size,h=p.cursor,e.next=8;break;case 18:case"end":return e.stop()}}),e)})))}();t.ZP=function(e,t){return u.apply(this,arguments)}},28058:function(e,t){"use strict";t.Z=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(Boolean).join(" ")}},91614:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){r(e,t,n[t])}))}return e}function o(e){return!!e&&(!!["INPUT","TEXTAREA","SELECT"].includes(e.tagName)||!(!e.contentEditable||"true"!==e.contentEditable))}n.d(t,{IU:function(){return a},Jf:function(){return h},Nq:function(){return c},W6:function(){return p},b1:function(){return s},cK:function(){return o},iO:function(){return u},jU:function(){return l},zT:function(){return d}});var a=function(){try{return"undefined"!==typeof window.localStorage}catch(e){return!1}}(),s="ontouchstart"in window;function u(e){var t=e.offsetWidth,n=getComputedStyle(e);return[n.marginLeft,n.marginRight].map((function(e){return parseInt(e)})).reduce((function(e,t){return e+t}),t)}function c(){return!(!window.document||!window.document.createElement)}var l=c();var f={behavior:"smooth",block:"end",inline:"nearest"};function d(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;e&&setTimeout((function(){e.scrollIntoView(i({},f,t))}),n)}function h(e){for(;e.hasChildNodes();)e.removeChild(e.firstChild)}function p(e,t){if(!e)return!1;for(var n=e.parentElement;n;){if(n.hasAttribute(t))return!0;n=n.parentElement}return!1}},50949:function(e,t,n){"use strict";n.d(t,{VS:function(){return a}});var r=n(40199);n(61049);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){i(e,t,n[t])}))}return e}function a(e,t){return(0,r.backOff)(e,o({numOfAttempts:5,maxDelay:1e3,retry:function(e,t){return"internal"===(null===e||void 0===e?void 0:e.code)&&(console.info("".concat(t,"/5 Attempt failed, retrying..")),!0)}},t))}},47985:function(e,t,n){"use strict";n.d(t,{ZP:function(){return i},u6:function(){return o}});var r=/\.(?:aero|asia|ac|cat|coop|edu|gov|int|jobs|mil|museum|post|sch|tel|travel|xxx)(?:\.[a-z]{2,3})?$/;function i(e){return e.split("@")[1]}function o(e){if(!(null===e||void 0===e?void 0:e.email)||!(null===e||void 0===e?void 0:e.emailVerified))return"";var t=i(e.email);return function(e){return r.test(e)}(t)?"":function(e){if(!e)return!1;var t=/\D+\d{3,5}@/;if(e.includes("@gmail")||e.includes("@duck.com")||e.includes(".edu")||e.includes(".ac.")||e.includes(".sch.")||e.includes("@yahoo")||e.includes("mail.ru")||e.includes("qq.com")||e.includes("@hotmail")||e.includes("@googlemail")||e.includes("@outlook")||e.includes("proton.me")||e.includes("protonmail")||e.includes("icloud")||e.includes("@me.com")||e.includes("naver")||e.includes("onmicrosoft.com")||e.includes("@live.co")||e.includes("mozmail.com")||e.includes("gmx.de")||e.includes("yandex")||e.includes("live.com")||e.includes("@web.de")||e.includes("yopmail")||e.includes("gufum")||e.includes("passmail")||e.includes("mailinator")||e.includes("@hey.com")||t.test(e))return!1;return!0}(e.email)?t:""}},65233:function(e,t,n){"use strict";n.d(t,{ED:function(){return o},IJ:function(){return i},Um:function(){return r}});var r="undefined"!==typeof navigator&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),i="undefined"!==typeof navigator&&/Linux/.test(navigator.platform),o="undefined"!==typeof navigator&&/Win/i.test(navigator.platform)},48156:function(e,t,n){"use strict";function r(e,t){var n=e.pathname,r=e.query,i=new URLSearchParams(r);i.delete(t),e.replace({pathname:n,query:i.toString()},void 0,{shallow:!0})}n.d(t,{iO:function(){return r},rj:function(){return i},yT:function(){return o}});var i=function(e){if(!e)return i(window.location.pathname);var t=e.split("/"),n=""===t[0]?1:0;if("integration"===t[n]){var r=t[n+1],o=t[n+2];return"".concat(r,":").concat(o)}return"workspace"!==t[n]?null:t[n+1]},o=function(e){return e?i(e.pathname):null}},90396:function(e,t,n){"use strict";n.d(t,{VK:function(){return q},bJ:function(){return U},BX:function(){return B},jW:function(){return F},pA:function(){return V},Fb:function(){return z},Mh:function(){return R}});var r=n(94707),i=n(82808),o=n(47864),a=n(83746),s=n(17407),u=n(1118),c=n(67394);var l=n(62355),f=n(59126);var d=n(11348);function h(e,t){return Math.pow(2,e)*t}function p(e){var t="number"===typeof e?{initialInterval:e}:e,n=t.initialInterval,p=t.maxRetries,v=void 0===p?1/0:p,m=t.maxInterval,g=void 0===m?1/0:m,y=t.shouldRetry,b=void 0===y?function(){return!0}:y,w=t.resetOnSuccess,_=void 0!==w&&w,E=t.backoffDelay,S=void 0===E?h:E;return function(e){return(0,r.P)((function(){var t,r=0;return e.pipe((t=function(e){return e.pipe((t=function(e){var t=r++;return(0,i.s)((function(){return t<v&&b(e)}),(0,o.H)(function(e,t){return Math.min(e,t)}(S(t,n),g)),(0,a._)(e))},(0,f.m)(s)?(0,l.z)(t,s,1):(0,l.z)(t,1)));var t,s},(0,u.e)((function(e,n){var r,i,o=!1,a=function(){r=e.subscribe((0,c.x)(n,void 0,void 0,(function(e){i||(i=new s.x,t(i).subscribe((0,c.x)(n,(function(){return r?a():o=!0})))),i&&i.next(e)}))),o&&(r.unsubscribe(),r=null,o=!1,a())};a()}))),(0,d.b)((function(){_&&(r=0)})))}))}}var v=n(45455),m=n.n(v),g=n(35120),y=n(99054),b=n(77984),w=n(47009),_=n(9947),E=n(17080);function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function O(e,t){return!t||"object"!==k(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var k=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function T(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var i=x(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return O(this,n)}}var A={leading:!0,trailing:!1};var I=function(){function e(t,n,r,i,o){S(this,e),this._duration=t,this._compare=n,this._scheduler=r,this._leading=i,this._trailing=o}return e.prototype.call=function(e,t){return t.subscribe(new D(e,this._duration,this._compare,this._scheduler,this._leading,this._trailing))},e}(),D=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}(n,e);var t=T(n);function n(e,r,i,o,a,s){var u;return S(this,n),(u=t.call(this,e)).destination=e,u._duration=r,u._compare=i,u._scheduler=o,u._leading=a,u._trailing=s,u._hasTrailingValue=!1,u}var r=n.prototype;return r._next=function(e){this._prevValue&&!this._compare(this._prevValue,e)?(this.clearThrottle(),this.add(this._throttled=this._scheduler.schedule(P,this._duration,{subscriber:this})),this.destination.next(e)):this._throttled?this._trailing&&(this._trailingValue=e,this._hasTrailingValue=!0):(this.add(this._throttled=this._scheduler.schedule(P,this._duration,{subscriber:this})),this._leading?this.destination.next(e):this._trailing&&(this._trailingValue=e,this._hasTrailingValue=!0)),this._prevValue=e},r._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},r.clearThrottle=function(){var e=this._throttled;e&&(this._trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=void 0,this._hasTrailingValue=!1),e.unsubscribe(),this.remove(e),this._throttled=void 0)},n}(E.Lv);function P(e){e.subscriber.clearThrottle()}var R=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_.z,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:A;return function(i){return i.lift(new I(e,t,n,!!r.leading,!!r.trailing))}};function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j(e){return null!=e}function M(e){return null!==e&&void 0!==e}function L(e){return e.every(M)}function F(){return function(e){return e.pipe((0,y.h)(j))}}function B(){return function(e){return e.pipe((0,y.h)(M))}}function U(){return function(e){return e.pipe((0,y.h)(L))}}function V(e){return function(t){return t.pipe((0,b.U)((function(t){return m()(t)?e:t})))}}function z(e){return function(e,t){return function(n){return n.pipe((0,w.K)((function(n){return n.code===e?(0,g.of)(t):(0,a._)(n)})))}}("permission-denied",e)}function q(e){return function(t){return t.pipe(p(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){N(e,t,n[t])}))}return e}({initialInterval:100,maxRetries:5,maxInterval:1e3,resetOnSuccess:!0},e)))}}},7867:function(e,t,n){"use strict";n.d(t,{BS:function(){return d},_1:function(){return h}});var r=n(10732),i=n(83746),o=n(47009);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e){var t=e?e():new Error("observable thrown from context:");return function(e){return e.pipe((0,o.K)((function(e){return(0,i._)((function(){var n=new Error("Rethrowing observable error"),r=new Error(t.message);if(r.stack=t.stack,r.cause=n,i=e,null!=(o=Error)&&"undefined"!==typeof Symbol&&o[Symbol.hasInstance]?o[Symbol.hasInstance](i):i instanceof o)return e.cause=r,e;var i,o,a=new Error((null!==e&&void 0!==e?e:"unknown").toString());return a.cause=r,a}))})))}}function c(e){try{return JSON.stringify(e)}catch(t){return"{}"}}var l=function(e){var t,n,r,i;return null===(t=JSON.parse(c(e)))||void 0===t||null===(n=t._delegate)||void 0===n||null===(r=n._key)||void 0===r||null===(i=r.path)||void 0===i?void 0:i.segments},f=function(e){var t,n,r,i;return null===(t=JSON.parse(c(e)))||void 0===t||null===(n=t._delegate)||void 0===n||null===(r=n._query)||void 0===r||null===(i=r.path)||void 0===i?void 0:i.segments};function d(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.BS.apply(void 0,s(t)).pipe(u((function(){var e=JSON.stringify(f(t[0]));return new Error("Thrown from firestore collection ".concat(e))})))}function h(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r._1.apply(void 0,s(t)).pipe(u((function(){var e=JSON.stringify(l(t[0]));return new Error("Thrown from firestore doc ".concat(e))})))}},80142:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(94776),i=n.n(r);function o(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){o(a,r,i,s,u,"next",e)}function u(e){o(a,r,i,s,u,"throw",e)}s(void 0)}))}}function s(e){return u.apply(this,arguments)}function u(){return(u=a(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){setTimeout(e,t)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},54167:function(e,t,n){"use strict";n.d(t,{g:function(){return d}});var r,i,o=n(94776),a=n.n(o),s=n(41962),u=n(66924);function c(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){l(e,t,n[t])}))}return e}!function(e){e[e.Failed=0]="Failed",e[e.Initialized=1]="Initialized",e[e.Initializing=2]="Initializing",e[e.NotInitialized=3]="NotInitialized"}(i||(i={}));var d=function(){var e,t,n=i.NotInitialized,r=function(e){return f({teamId:t.teamId},e||{})};return{initialize:function(){var r,o=(r=a().mark((function r(o,c){return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(t=o,n=i.Initializing,!(e=s.ZP.createInstance(c))){r.next=7;break}return r.next=7,e.onReady({timeout:2e3}).then((function(e){var t=e.success;e.reason,n=t?i.Initialized:i.Failed})).catch((function(e){return(0,u.Tb)(e)}));case 7:case"end":return r.stop()}}),r)})),function(){var e=this,t=arguments;return new Promise((function(n,i){var o=r.apply(e,t);function a(e){c(o,n,i,a,s,"next",e)}function s(e){c(o,n,i,a,s,"throw",e)}a(void 0)}))});return function(e,t){return o.apply(this,arguments)}}(),isInitialized:function(){return n===i.Initialized},isFeatureEnabled:function(o,a){return n===i.Initialized&&(h?p[o]:e.isFeatureEnabled(o,t.userId,r(a)))},getFeatureVariables:function(o,a){return n!==i.Initialized?null:e.getAllFeatureVariables(o,t.userId,r(a))},updateUserContext:function(e){return t=f({},t,e)}}}();Boolean(window)&&(window.optimizelyService=d);var h=Boolean(null===(r=window)||void 0===r?void 0:r.Cypress),p={excalidrawstyles:!0,nextjsgithub:!0,commandKModal:!1,product_hunt_announcement:!1,customIcons:!1}},41092:function(e,t,n){"use strict";n.d(t,{B:function(){return s},R:function(){return u}});var r=n(2784),i=n(61710),o=n(80142),a=n(54167),s=function(e,t){var n=(0,r.useState)(!1),o=n[0],s=n[1];(0,r.useEffect)((function(){o?a.g.updateUserContext(e):(s("pending"),a.g.initialize(e,t).finally((function(){s(!0)})))}),[o,t,e]);var u=function(e){var t=e.areTeamsEmpty,n=e.areTeamsLoaded,r=e.isUserAnonymous,i=e.teamId,o=e.userId,a=i||t||n;return!(!o&&!r)&&!!a}(e);return(0,r.useEffect)((function(){u&&o&&(0,i.N)()}),[u,o]),u&&!0===o};var u=function(){var e=(0,r.useState)(),t=e[0],n=e[1];return(0,r.useEffect)((function(){if(!t){var e=a.g.initialize({isUserAnonymous:!0,userId:"",teamId:""},{logLevel:4,sdkKey:"X8uGG684qRdkxfjg7yDEx",datafileOptions:{autoUpdate:!1,updateInterval:void 0,urlTemplate:"/api/optimizely/datafile"}}),r=Promise.race([e,(0,o.Z)(1e3)]);n(r)}}),[t]),t}},71941:function(e,t,n){var r=n(48834).Buffer,i=n(34406);!function(){var t={8557:function(e,t,n){var r=t;r.bignum=n(6884),r.define=n(9636).define,r.base=n(2207),r.constants=n(3503),r.decoders=n(5133),r.encoders=n(9245)},9636:function(e,t,n){var r=n(8557),i=n(7526);function o(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}t.define=function(e,t){return new o(e,t)},o.prototype._createNamed=function(e){var t;try{t=n(6144).runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(e){t=function(e){this._initNamed(e)}}return i(t,e),t.prototype._initNamed=function(t){e.call(this,t)},new t(this)},o.prototype._getDecoder=function(e){return e=e||"der",this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(r.decoders[e])),this.decoders[e]},o.prototype.decode=function(e,t,n){return this._getDecoder(t).decode(e,n)},o.prototype._getEncoder=function(e){return e=e||"der",this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(r.encoders[e])),this.encoders[e]},o.prototype.encode=function(e,t,n){return this._getEncoder(t).encode(e,n)}},8483:function(e,t,n){var r=n(7526),i=n(2207).Reporter,o=n(4300).Buffer;function a(e,t){i.call(this,t),o.isBuffer(e)?(this.base=e,this.offset=0,this.length=e.length):this.error("Input not Buffer")}function s(e,t){if(Array.isArray(e))this.length=0,this.value=e.map((function(e){return e instanceof s||(e=new s(e,t)),this.length+=e.length,e}),this);else if("number"===typeof e){if(!(0<=e&&e<=255))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"===typeof e)this.value=e,this.length=o.byteLength(e);else{if(!o.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}r(a,i),t.C=a,a.prototype.save=function(){return{offset:this.offset,reporter:i.prototype.save.call(this)}},a.prototype.restore=function(e){var t=new a(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,i.prototype.restore.call(this,e.reporter),t},a.prototype.isEmpty=function(){return this.offset===this.length},a.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},a.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");var n=new a(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+e,this.offset+=e,n},a.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},t.R=s,s.prototype.join=function(e,t){return e||(e=new o(this.length)),t||(t=0),0===this.length||(Array.isArray(this.value)?this.value.forEach((function(n){n.join(e,t),t+=n.length})):("number"===typeof this.value?e[t]=this.value:"string"===typeof this.value?e.write(this.value,t):o.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length)),e}},2207:function(e,t,n){var r=t;r.Reporter=n(2148).b,r.DecoderBuffer=n(8483).C,r.EncoderBuffer=n(8483).R,r.Node=n(211)},211:function(e,t,n){var r=n(2207).Reporter,i=n(2207).EncoderBuffer,o=n(2207).DecoderBuffer,a=n(9036),s=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],u=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(s);function c(e,t){var n={};this._baseState=n,n.enc=e,n.parent=t||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}e.exports=c;var l=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];c.prototype.clone=function(){var e=this._baseState,t={};l.forEach((function(n){t[n]=e[n]}));var n=new this.constructor(t.parent);return n._baseState=t,n},c.prototype._wrap=function(){var e=this._baseState;u.forEach((function(t){this[t]=function(){var n=new this.constructor(this);return e.children.push(n),n[t].apply(n,arguments)}}),this)},c.prototype._init=function(e){var t=this._baseState;a(null===t.parent),e.call(this),t.children=t.children.filter((function(e){return e._baseState.parent===this}),this),a.equal(t.children.length,1,"Root node can have only one child")},c.prototype._useArgs=function(e){var t=this._baseState,n=e.filter((function(e){return e instanceof this.constructor}),this);e=e.filter((function(e){return!(e instanceof this.constructor)}),this),0!==n.length&&(a(null===t.children),t.children=n,n.forEach((function(e){e._baseState.parent=this}),this)),0!==e.length&&(a(null===t.args),t.args=e,t.reverseArgs=e.map((function(e){if("object"!==typeof e||e.constructor!==Object)return e;var t={};return Object.keys(e).forEach((function(n){n==(0|n)&&(n|=0);var r=e[n];t[r]=n})),t})))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach((function(e){c.prototype[e]=function(){var t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}})),s.forEach((function(e){c.prototype[e]=function(){var t=this._baseState,n=Array.prototype.slice.call(arguments);return a(null===t.tag),t.tag=e,this._useArgs(n),this}})),c.prototype.use=function(e){a(e);var t=this._baseState;return a(null===t.use),t.use=e,this},c.prototype.optional=function(){return this._baseState.optional=!0,this},c.prototype.def=function(e){var t=this._baseState;return a(null===t.default),t.default=e,t.optional=!0,this},c.prototype.explicit=function(e){var t=this._baseState;return a(null===t.explicit&&null===t.implicit),t.explicit=e,this},c.prototype.implicit=function(e){var t=this._baseState;return a(null===t.explicit&&null===t.implicit),t.implicit=e,this},c.prototype.obj=function(){var e=this._baseState,t=Array.prototype.slice.call(arguments);return e.obj=!0,0!==t.length&&this._useArgs(t),this},c.prototype.key=function(e){var t=this._baseState;return a(null===t.key),t.key=e,this},c.prototype.any=function(){return this._baseState.any=!0,this},c.prototype.choice=function(e){var t=this._baseState;return a(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map((function(t){return e[t]}))),this},c.prototype.contains=function(e){var t=this._baseState;return a(null===t.use),t.contains=e,this},c.prototype._decode=function(e,t){var n=this._baseState;if(null===n.parent)return e.wrapResult(n.children[0]._decode(e,t));var r,i=n.default,a=!0,s=null;if(null!==n.key&&(s=e.enterKey(n.key)),n.optional){var u=null;if(null!==n.explicit?u=n.explicit:null!==n.implicit?u=n.implicit:null!==n.tag&&(u=n.tag),null!==u||n.any){if(a=this._peekTag(e,u,n.any),e.isError(a))return a}else{var c=e.save();try{null===n.choice?this._decodeGeneric(n.tag,e,t):this._decodeChoice(e,t),a=!0}catch(e){a=!1}e.restore(c)}}if(n.obj&&a&&(r=e.enterObject()),a){if(null!==n.explicit){var l=this._decodeTag(e,n.explicit);if(e.isError(l))return l;e=l}var f=e.offset;if(null===n.use&&null===n.choice){if(n.any)c=e.save();var d=this._decodeTag(e,null!==n.implicit?n.implicit:n.tag,n.any);if(e.isError(d))return d;n.any?i=e.raw(c):e=d}if(t&&t.track&&null!==n.tag&&t.track(e.path(),f,e.length,"tagged"),t&&t.track&&null!==n.tag&&t.track(e.path(),e.offset,e.length,"content"),i=n.any?i:null===n.choice?this._decodeGeneric(n.tag,e,t):this._decodeChoice(e,t),e.isError(i))return i;if(n.any||null!==n.choice||null===n.children||n.children.forEach((function(n){n._decode(e,t)})),n.contains&&("octstr"===n.tag||"bitstr"===n.tag)){var h=new o(i);i=this._getUse(n.contains,e._reporterState.obj)._decode(h,t)}}return n.obj&&a&&(i=e.leaveObject(r)),null===n.key||null===i&&!0!==a?null!==s&&e.exitKey(s):e.leaveKey(s,n.key,i),i},c.prototype._decodeGeneric=function(e,t,n){var r=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,r.args[0],n):/str$/.test(e)?this._decodeStr(t,e,n):"objid"===e&&r.args?this._decodeObjid(t,r.args[0],r.args[1],n):"objid"===e?this._decodeObjid(t,null,null,n):"gentime"===e||"utctime"===e?this._decodeTime(t,e,n):"null_"===e?this._decodeNull(t,n):"bool"===e?this._decodeBool(t,n):"objDesc"===e?this._decodeStr(t,e,n):"int"===e||"enum"===e?this._decodeInt(t,r.args&&r.args[0],n):null!==r.use?this._getUse(r.use,t._reporterState.obj)._decode(t,n):t.error("unknown tag: "+e)},c.prototype._getUse=function(e,t){var n=this._baseState;return n.useDecoder=this._use(e,t),a(null===n.useDecoder._baseState.parent),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder},c.prototype._decodeChoice=function(e,t){var n=this._baseState,r=null,i=!1;return Object.keys(n.choice).some((function(o){var a=e.save(),s=n.choice[o];try{var u=s._decode(e,t);if(e.isError(u))return!1;r={type:o,value:u},i=!0}catch(t){return e.restore(a),!1}return!0}),this),i?r:e.error("Choice not matched")},c.prototype._createEncoderBuffer=function(e){return new i(e,this.reporter)},c.prototype._encode=function(e,t,n){var r=this._baseState;if(null===r.default||r.default!==e){var i=this._encodeValue(e,t,n);if(void 0!==i&&!this._skipDefault(i,t,n))return i}},c.prototype._encodeValue=function(e,t,n){var i=this._baseState;if(null===i.parent)return i.children[0]._encode(e,t||new r);var o=null;if(this.reporter=t,i.optional&&void 0===e){if(null===i.default)return;e=i.default}var a=null,s=!1;if(i.any)o=this._createEncoderBuffer(e);else if(i.choice)o=this._encodeChoice(e,t);else if(i.contains)a=this._getUse(i.contains,n)._encode(e,t),s=!0;else if(i.children)a=i.children.map((function(n){if("null_"===n._baseState.tag)return n._encode(null,t,e);if(null===n._baseState.key)return t.error("Child should have a key");var r=t.enterKey(n._baseState.key);if("object"!==typeof e)return t.error("Child expected, but input is not object");var i=n._encode(e[n._baseState.key],t,e);return t.leaveKey(r),i}),this).filter((function(e){return e})),a=this._createEncoderBuffer(a);else if("seqof"===i.tag||"setof"===i.tag){if(!i.args||1!==i.args.length)return t.error("Too many args for : "+i.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");var u=this.clone();u._baseState.implicit=null,a=this._createEncoderBuffer(e.map((function(n){var r=this._baseState;return this._getUse(r.args[0],e)._encode(n,t)}),u))}else null!==i.use?o=this._getUse(i.use,n)._encode(e,t):(a=this._encodePrimitive(i.tag,e),s=!0);if(!i.any&&null===i.choice){var c=null!==i.implicit?i.implicit:i.tag,l=null===i.implicit?"universal":"context";null===c?null===i.use&&t.error("Tag could be omitted only for .use()"):null===i.use&&(o=this._encodeComposite(c,s,l,a))}return null!==i.explicit&&(o=this._encodeComposite(i.explicit,!1,"context",o)),o},c.prototype._encodeChoice=function(e,t){var n=this._baseState,r=n.choice[e.type];return r||a(!1,e.type+" not found in "+JSON.stringify(Object.keys(n.choice))),r._encode(e.value,t)},c.prototype._encodePrimitive=function(e,t){var n=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&n.args)return this._encodeObjid(t,n.reverseArgs[0],n.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,n.args&&n.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);if("objDesc"===e)return this._encodeStr(t,e);throw new Error("Unsupported tag: "+e)},c.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},c.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(e)}},2148:function(e,t,n){var r=n(7526);function i(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function o(e,t){this.path=e,this.rethrow(t)}t.b=i,i.prototype.isError=function(e){return e instanceof o},i.prototype.save=function(){var e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},i.prototype.restore=function(e){var t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},i.prototype.enterKey=function(e){return this._reporterState.path.push(e)},i.prototype.exitKey=function(e){var t=this._reporterState;t.path=t.path.slice(0,e-1)},i.prototype.leaveKey=function(e,t,n){var r=this._reporterState;this.exitKey(e),null!==r.obj&&(r.obj[t]=n)},i.prototype.path=function(){return this._reporterState.path.join("/")},i.prototype.enterObject=function(){var e=this._reporterState,t=e.obj;return e.obj={},t},i.prototype.leaveObject=function(e){var t=this._reporterState,n=t.obj;return t.obj=e,n},i.prototype.error=function(e){var t,n=this._reporterState,r=e instanceof o;if(t=r?e:new o(n.path.map((function(e){return"["+JSON.stringify(e)+"]"})).join(""),e.message||e,e.stack),!n.options.partial)throw t;return r||n.errors.push(t),t},i.prototype.wrapResult=function(e){var t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},r(o,Error),o.prototype.rethrow=function(e){if(this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,o),!this.stack)try{throw new Error(this.message)}catch(e){this.stack=e.stack}return this}},8880:function(e,t,n){var r=n(3503);t.tagClass={0:"universal",1:"application",2:"context",3:"private"},t.tagClassByName=r._reverse(t.tagClass),t.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},t.tagByName=r._reverse(t.tag)},3503:function(e,t,n){var r=t;r._reverse=function(e){var t={};return Object.keys(e).forEach((function(n){(0|n)==n&&(n|=0);var r=e[n];t[r]=n})),t},r.der=n(8880)},359:function(e,t,n){var r=n(7526),i=n(8557),o=i.base,a=i.bignum,s=i.constants.der;function u(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new c,this.tree._init(e.body)}function c(e){o.Node.call(this,"der",e)}function l(e,t){var n=e.readUInt8(t);if(e.isError(n))return n;var r=s.tagClass[n>>6],i=0===(32&n);if(31===(31&n)){var o=n;for(n=0;128===(128&o);){if(o=e.readUInt8(t),e.isError(o))return o;n<<=7,n|=127&o}}else n&=31;return{cls:r,primitive:i,tag:n,tagStr:s.tag[n]}}function f(e,t,n){var r=e.readUInt8(n);if(e.isError(r))return r;if(!t&&128===r)return null;if(0===(128&r))return r;var i=127&r;if(i>4)return e.error("length octect is too long");r=0;for(var o=0;o<i;o++){r<<=8;var a=e.readUInt8(n);if(e.isError(a))return a;r|=a}return r}e.exports=u,u.prototype.decode=function(e,t){return e instanceof o.DecoderBuffer||(e=new o.DecoderBuffer(e,t)),this.tree._decode(e,t)},r(c,o.Node),c.prototype._peekTag=function(e,t,n){if(e.isEmpty())return!1;var r=e.save(),i=l(e,'Failed to peek tag: "'+t+'"');return e.isError(i)?i:(e.restore(r),i.tag===t||i.tagStr===t||i.tagStr+"of"===t||n)},c.prototype._decodeTag=function(e,t,n){var r=l(e,'Failed to decode tag of "'+t+'"');if(e.isError(r))return r;var i=f(e,r.primitive,'Failed to get length of "'+t+'"');if(e.isError(i))return i;if(!n&&r.tag!==t&&r.tagStr!==t&&r.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(r.primitive||null!==i)return e.skip(i,'Failed to match body of: "'+t+'"');var o=e.save(),a=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(a)?a:(i=e.offset-o.offset,e.restore(o),e.skip(i,'Failed to match body of: "'+t+'"'))},c.prototype._skipUntilEnd=function(e,t){for(;;){var n=l(e,t);if(e.isError(n))return n;var r,i=f(e,n.primitive,t);if(e.isError(i))return i;if(r=n.primitive||null!==i?e.skip(i):this._skipUntilEnd(e,t),e.isError(r))return r;if("end"===n.tagStr)break}},c.prototype._decodeList=function(e,t,n,r){for(var i=[];!e.isEmpty();){var o=this._peekTag(e,"end");if(e.isError(o))return o;var a=n.decode(e,"der",r);if(e.isError(a)&&o)break;i.push(a)}return i},c.prototype._decodeStr=function(e,t){if("bitstr"===t){var n=e.readUInt8();return e.isError(n)?n:{unused:n,data:e.raw()}}if("bmpstr"===t){var r=e.raw();if(r.length%2===1)return e.error("Decoding of string type: bmpstr length mismatch");for(var i="",o=0;o<r.length/2;o++)i+=String.fromCharCode(r.readUInt16BE(2*o));return i}if("numstr"===t){var a=e.raw().toString("ascii");return this._isNumstr(a)?a:e.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return e.raw();if("objDesc"===t)return e.raw();if("printstr"===t){var s=e.raw().toString("ascii");return this._isPrintstr(s)?s:e.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")},c.prototype._decodeObjid=function(e,t,n){for(var r,i=[],o=0;!e.isEmpty();){var a=e.readUInt8();o<<=7,o|=127&a,0===(128&a)&&(i.push(o),o=0)}128&a&&i.push(o);var s=i[0]/40|0,u=i[0]%40;if(r=n?i:[s,u].concat(i.slice(1)),t){var c=t[r.join(" ")];void 0===c&&(c=t[r.join(".")]),void 0!==c&&(r=c)}return r},c.prototype._decodeTime=function(e,t){var n=e.raw().toString();if("gentime"===t)var r=0|n.slice(0,4),i=0|n.slice(4,6),o=0|n.slice(6,8),a=0|n.slice(8,10),s=0|n.slice(10,12),u=0|n.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");r=0|n.slice(0,2),i=0|n.slice(2,4),o=0|n.slice(4,6),a=0|n.slice(6,8),s=0|n.slice(8,10),u=0|n.slice(10,12);r=r<70?2e3+r:1900+r}return Date.UTC(r,i-1,o,a,s,u,0)},c.prototype._decodeNull=function(e){return null},c.prototype._decodeBool=function(e){var t=e.readUInt8();return e.isError(t)?t:0!==t},c.prototype._decodeInt=function(e,t){var n=e.raw(),r=new a(n);return t&&(r=t[r.toString(10)]||r),r},c.prototype._use=function(e,t){return"function"===typeof e&&(e=e(t)),e._getDecoder("der").tree}},5133:function(e,t,n){var r=t;r.der=n(359),r.pem=n(1556)},1556:function(e,t,n){var r=n(7526),i=n(4300).Buffer,o=n(359);function a(e){o.call(this,e),this.enc="pem"}r(a,o),e.exports=a,a.prototype.decode=function(e,t){for(var n=e.toString().split(/[\r\n]+/g),r=t.label.toUpperCase(),a=/^-----(BEGIN|END) ([^-]+)-----$/,s=-1,u=-1,c=0;c<n.length;c++){var l=n[c].match(a);if(null!==l&&l[2]===r){if(-1!==s){if("END"!==l[1])break;u=c;break}if("BEGIN"!==l[1])break;s=c}}if(-1===s||-1===u)throw new Error("PEM section not found for: "+r);var f=n.slice(s+1,u).join("");f.replace(/[^a-z0-9\+\/=]+/gi,"");var d=new i(f,"base64");return o.prototype.decode.call(this,d,t)}},6125:function(e,t,n){var r=n(7526),i=n(4300).Buffer,o=n(8557),a=o.base,s=o.constants.der;function u(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new c,this.tree._init(e.body)}function c(e){a.Node.call(this,"der",e)}function l(e){return e<10?"0"+e:e}function f(e,t,n,r){var i;if("seqof"===e?e="seq":"setof"===e&&(e="set"),s.tagByName.hasOwnProperty(e))i=s.tagByName[e];else{if("number"!==typeof e||(0|e)!==e)return r.error("Unknown tag: "+e);i=e}return i>=31?r.error("Multi-octet tag encoding unsupported"):(t||(i|=32),i|=s.tagClassByName[n||"universal"]<<6)}e.exports=u,u.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},r(c,a.Node),c.prototype._encodeComposite=function(e,t,n,r){var o,a=f(e,t,n,this.reporter);if(r.length<128)return(o=new i(2))[0]=a,o[1]=r.length,this._createEncoderBuffer([o,r]);for(var s=1,u=r.length;u>=256;u>>=8)s++;(o=new i(2+s))[0]=a,o[1]=128|s;u=1+s;for(var c=r.length;c>0;u--,c>>=8)o[u]=255&c;return this._createEncoderBuffer([o,r])},c.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){for(var n=new i(2*e.length),r=0;r<e.length;r++)n.writeUInt16BE(e.charCodeAt(r),2*r);return this._createEncoderBuffer(n)}return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)||"objDesc"===t?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")},c.prototype._encodeObjid=function(e,t,n){if("string"===typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s\.]+/g);for(var r=0;r<e.length;r++)e[r]|=0}else if(Array.isArray(e)){e=e.slice();for(r=0;r<e.length;r++)e[r]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!n){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}var o=0;for(r=0;r<e.length;r++){var a=e[r];for(o++;a>=128;a>>=7)o++}var s=new i(o),u=s.length-1;for(r=e.length-1;r>=0;r--){a=e[r];for(s[u--]=127&a;(a>>=7)>0;)s[u--]=128|127&a}return this._createEncoderBuffer(s)},c.prototype._encodeTime=function(e,t){var n,r=new Date(e);return"gentime"===t?n=[l(r.getFullYear()),l(r.getUTCMonth()+1),l(r.getUTCDate()),l(r.getUTCHours()),l(r.getUTCMinutes()),l(r.getUTCSeconds()),"Z"].join(""):"utctime"===t?n=[l(r.getFullYear()%100),l(r.getUTCMonth()+1),l(r.getUTCDate()),l(r.getUTCHours()),l(r.getUTCMinutes()),l(r.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(n,"octstr")},c.prototype._encodeNull=function(){return this._createEncoderBuffer("")},c.prototype._encodeInt=function(e,t){if("string"===typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"!==typeof e&&!i.isBuffer(e)){var n=e.toArray();!e.sign&&128&n[0]&&n.unshift(0),e=new i(n)}if(i.isBuffer(e)){var r=e.length;0===e.length&&r++;var o=new i(r);return e.copy(o),0===e.length&&(o[0]=0),this._createEncoderBuffer(o)}if(e<128)return this._createEncoderBuffer(e);if(e<256)return this._createEncoderBuffer([0,e]);r=1;for(var a=e;a>=256;a>>=8)r++;for(a=(o=new Array(r)).length-1;a>=0;a--)o[a]=255&e,e>>=8;return 128&o[0]&&o.unshift(0),this._createEncoderBuffer(new i(o))},c.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},c.prototype._use=function(e,t){return"function"===typeof e&&(e=e(t)),e._getEncoder("der").tree},c.prototype._skipDefault=function(e,t,n){var r,i=this._baseState;if(null===i.default)return!1;var o=e.join();if(void 0===i.defaultBuffer&&(i.defaultBuffer=this._encodeValue(i.default,t,n).join()),o.length!==i.defaultBuffer.length)return!1;for(r=0;r<o.length;r++)if(o[r]!==i.defaultBuffer[r])return!1;return!0}},9245:function(e,t,n){var r=t;r.der=n(6125),r.pem=n(4599)},4599:function(e,t,n){var r=n(7526),i=n(6125);function o(e){i.call(this,e),this.enc="pem"}r(o,i),e.exports=o,o.prototype.encode=function(e,t){for(var n=i.prototype.encode.call(this,e).toString("base64"),r=["-----BEGIN "+t.label+"-----"],o=0;o<n.length;o+=64)r.push(n.slice(o,o+64));return r.push("-----END "+t.label+"-----"),r.join("\n")}},6884:function(e,t,n){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function o(e,t,n){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var a;"object"===typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{a=n(4300).Buffer}catch(e){}function s(e,t,n){for(var r=0,i=Math.min(e.length,n),o=t;o<i;o++){var a=e.charCodeAt(o)-48;r<<=4,r|=a>=49&&a<=54?a-49+10:a>=17&&a<=22?a-17+10:15&a}return r}function u(e,t,n,r){for(var i=0,o=Math.min(e.length,n),a=t;a<o;a++){var s=e.charCodeAt(a)-48;i*=r,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}o.isBN=function(e){return e instanceof o||null!==e&&"object"===typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,n){if("number"===typeof e)return this._initNumber(e,t,n);if("object"===typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&i++,16===t?this._parseHex(e,i):this._parseBase(e,t,i),"-"===e[0]&&(this.negative=1),this.strip(),"le"===n&&this._initArray(this.toArray(),t,n)},o.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},o.prototype._initArray=function(e,t,n){if(r("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=e.length-1,o=0;i>=0;i-=3)a=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<e.length;i+=3)a=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var r,i,o=0;for(n=e.length-6,r=0;n>=t;n-=6)i=s(e,n,n+6),this.words[r]|=i<<o&67108863,this.words[r+1]|=i>>>26-o&4194303,(o+=24)>=26&&(o-=26,r++);n+6!==t&&(i=s(e,t,n+6),this.words[r]|=i<<o&67108863,this.words[r+1]|=i>>>26-o&4194303),this.strip()},o.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=t)r++;r--,i=i/t|0;for(var o=e.length-n,a=o%r,s=Math.min(o,o-a)+n,c=0,l=n;l<s;l+=r)c=u(e,l,l+r,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==a){var f=1;for(c=u(e,l,e.length,t),l=0;l<a;l++)f*=t;this.imuln(f),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],l=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(e,t,n){n.negative=t.negative^e.negative;var r=e.length+t.length|0;n.length=r,r=r-1|0;var i=0|e.words[0],o=0|t.words[0],a=i*o,s=67108863&a,u=a/67108864|0;n.words[0]=s;for(var c=1;c<r;c++){for(var l=u>>>26,f=67108863&u,d=Math.min(c,t.length-1),h=Math.max(0,c-e.length+1);h<=d;h++){var p=c-h|0;l+=(a=(i=0|e.words[p])*(o=0|t.words[h])+f)/67108864|0,f=67108863&a}n.words[c]=0|f,u=0|l}return 0!==u?n.words[c]=0|u:n.length--,n.strip()}o.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<i|o)).toString(16);n=0!==(o=s>>>24-i&16777215)||a!==this.length-1?c[6-u.length]+u+n:u+n,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%t!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var d=l[e],h=f[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var v=p.modn(h).toString(e);n=(p=p.idivn(h)).isZero()?v+n:c[d-v.length]+v+n}for(this.isZero()&&(n="0"+n);n.length%t!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(e,t){return r("undefined"!==typeof a),this.toArrayLike(a,e,t)},o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},o.prototype.toArrayLike=function(e,t,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var a,s,u="le"===t,c=new e(o),l=this.clone();if(u){for(s=0;!l.isZero();s++)a=l.andln(255),l.iushrn(8),c[s]=a;for(;s<o;s++)c[s]=0}else{for(s=0;s<o-i;s++)c[s]=0;for(s=0;!l.isZero();s++)a=l.andln(255),l.iushrn(8),c[o-s-1]=a}return c},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0===(8191&t)&&(n+=13,t>>>=13),0===(127&t)&&(n+=7,t>>>=7),0===(15&t)&&(n+=4,t>>>=4),0===(3&t)&&(n+=2,t>>>=2),0===(1&t)&&n++,n},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},o.prototype.ior=function(e){return r(0===(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this.strip()},o.prototype.iand=function(e){return r(0===(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0;r<n.length;r++)this.words[r]=t.words[r]^n.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this.strip()},o.prototype.ixor=function(e){return r(0===(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){r("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){r("number"===typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},o.prototype.iadd=function(e){var t,n,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,r=e):(n=e,r=this);for(var i=0,o=0;o<r.length;o++)t=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<n.length;o++)t=(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,r,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=e):(n=e,r=this);for(var o=0,a=0;a<r.length;a++)o=(t=(0|n.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<n.length;a++)o=(t=(0|n.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var h=function(e,t,n){var r,i,o,a=e.words,s=t.words,u=n.words,c=0,l=0|a[0],f=8191&l,d=l>>>13,h=0|a[1],p=8191&h,v=h>>>13,m=0|a[2],g=8191&m,y=m>>>13,b=0|a[3],w=8191&b,_=b>>>13,E=0|a[4],S=8191&E,x=E>>>13,O=0|a[5],C=8191&O,k=O>>>13,T=0|a[6],A=8191&T,I=T>>>13,D=0|a[7],P=8191&D,R=D>>>13,N=0|a[8],j=8191&N,M=N>>>13,L=0|a[9],F=8191&L,B=L>>>13,U=0|s[0],V=8191&U,z=U>>>13,q=0|s[1],Z=8191&q,H=q>>>13,W=0|s[2],G=8191&W,K=W>>>13,J=0|s[3],Y=8191&J,$=J>>>13,X=0|s[4],Q=8191&X,ee=X>>>13,te=0|s[5],ne=8191&te,re=te>>>13,ie=0|s[6],oe=8191&ie,ae=ie>>>13,se=0|s[7],ue=8191&se,ce=se>>>13,le=0|s[8],fe=8191&le,de=le>>>13,he=0|s[9],pe=8191&he,ve=he>>>13;n.negative=e.negative^t.negative,n.length=19;var me=(c+(r=Math.imul(f,V))|0)+((8191&(i=(i=Math.imul(f,z))+Math.imul(d,V)|0))<<13)|0;c=((o=Math.imul(d,z))+(i>>>13)|0)+(me>>>26)|0,me&=67108863,r=Math.imul(p,V),i=(i=Math.imul(p,z))+Math.imul(v,V)|0,o=Math.imul(v,z);var ge=(c+(r=r+Math.imul(f,Z)|0)|0)+((8191&(i=(i=i+Math.imul(f,H)|0)+Math.imul(d,Z)|0))<<13)|0;c=((o=o+Math.imul(d,H)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(g,V),i=(i=Math.imul(g,z))+Math.imul(y,V)|0,o=Math.imul(y,z),r=r+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,H)|0)+Math.imul(v,Z)|0,o=o+Math.imul(v,H)|0;var ye=(c+(r=r+Math.imul(f,G)|0)|0)+((8191&(i=(i=i+Math.imul(f,K)|0)+Math.imul(d,G)|0))<<13)|0;c=((o=o+Math.imul(d,K)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(w,V),i=(i=Math.imul(w,z))+Math.imul(_,V)|0,o=Math.imul(_,z),r=r+Math.imul(g,Z)|0,i=(i=i+Math.imul(g,H)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,H)|0,r=r+Math.imul(p,G)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(v,G)|0,o=o+Math.imul(v,K)|0;var be=(c+(r=r+Math.imul(f,Y)|0)|0)+((8191&(i=(i=i+Math.imul(f,$)|0)+Math.imul(d,Y)|0))<<13)|0;c=((o=o+Math.imul(d,$)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(S,V),i=(i=Math.imul(S,z))+Math.imul(x,V)|0,o=Math.imul(x,z),r=r+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,H)|0)+Math.imul(_,Z)|0,o=o+Math.imul(_,H)|0,r=r+Math.imul(g,G)|0,i=(i=i+Math.imul(g,K)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,K)|0,r=r+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,$)|0)+Math.imul(v,Y)|0,o=o+Math.imul(v,$)|0;var we=(c+(r=r+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,ee)|0)+Math.imul(d,Q)|0))<<13)|0;c=((o=o+Math.imul(d,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(C,V),i=(i=Math.imul(C,z))+Math.imul(k,V)|0,o=Math.imul(k,z),r=r+Math.imul(S,Z)|0,i=(i=i+Math.imul(S,H)|0)+Math.imul(x,Z)|0,o=o+Math.imul(x,H)|0,r=r+Math.imul(w,G)|0,i=(i=i+Math.imul(w,K)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,K)|0,r=r+Math.imul(g,Y)|0,i=(i=i+Math.imul(g,$)|0)+Math.imul(y,Y)|0,o=o+Math.imul(y,$)|0,r=r+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(v,Q)|0,o=o+Math.imul(v,ee)|0;var _e=(c+(r=r+Math.imul(f,ne)|0)|0)+((8191&(i=(i=i+Math.imul(f,re)|0)+Math.imul(d,ne)|0))<<13)|0;c=((o=o+Math.imul(d,re)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(A,V),i=(i=Math.imul(A,z))+Math.imul(I,V)|0,o=Math.imul(I,z),r=r+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,H)|0)+Math.imul(k,Z)|0,o=o+Math.imul(k,H)|0,r=r+Math.imul(S,G)|0,i=(i=i+Math.imul(S,K)|0)+Math.imul(x,G)|0,o=o+Math.imul(x,K)|0,r=r+Math.imul(w,Y)|0,i=(i=i+Math.imul(w,$)|0)+Math.imul(_,Y)|0,o=o+Math.imul(_,$)|0,r=r+Math.imul(g,Q)|0,i=(i=i+Math.imul(g,ee)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,ee)|0,r=r+Math.imul(p,ne)|0,i=(i=i+Math.imul(p,re)|0)+Math.imul(v,ne)|0,o=o+Math.imul(v,re)|0;var Ee=(c+(r=r+Math.imul(f,oe)|0)|0)+((8191&(i=(i=i+Math.imul(f,ae)|0)+Math.imul(d,oe)|0))<<13)|0;c=((o=o+Math.imul(d,ae)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(P,V),i=(i=Math.imul(P,z))+Math.imul(R,V)|0,o=Math.imul(R,z),r=r+Math.imul(A,Z)|0,i=(i=i+Math.imul(A,H)|0)+Math.imul(I,Z)|0,o=o+Math.imul(I,H)|0,r=r+Math.imul(C,G)|0,i=(i=i+Math.imul(C,K)|0)+Math.imul(k,G)|0,o=o+Math.imul(k,K)|0,r=r+Math.imul(S,Y)|0,i=(i=i+Math.imul(S,$)|0)+Math.imul(x,Y)|0,o=o+Math.imul(x,$)|0,r=r+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,ee)|0,r=r+Math.imul(g,ne)|0,i=(i=i+Math.imul(g,re)|0)+Math.imul(y,ne)|0,o=o+Math.imul(y,re)|0,r=r+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,ae)|0)+Math.imul(v,oe)|0,o=o+Math.imul(v,ae)|0;var Se=(c+(r=r+Math.imul(f,ue)|0)|0)+((8191&(i=(i=i+Math.imul(f,ce)|0)+Math.imul(d,ue)|0))<<13)|0;c=((o=o+Math.imul(d,ce)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(j,V),i=(i=Math.imul(j,z))+Math.imul(M,V)|0,o=Math.imul(M,z),r=r+Math.imul(P,Z)|0,i=(i=i+Math.imul(P,H)|0)+Math.imul(R,Z)|0,o=o+Math.imul(R,H)|0,r=r+Math.imul(A,G)|0,i=(i=i+Math.imul(A,K)|0)+Math.imul(I,G)|0,o=o+Math.imul(I,K)|0,r=r+Math.imul(C,Y)|0,i=(i=i+Math.imul(C,$)|0)+Math.imul(k,Y)|0,o=o+Math.imul(k,$)|0,r=r+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(x,Q)|0,o=o+Math.imul(x,ee)|0,r=r+Math.imul(w,ne)|0,i=(i=i+Math.imul(w,re)|0)+Math.imul(_,ne)|0,o=o+Math.imul(_,re)|0,r=r+Math.imul(g,oe)|0,i=(i=i+Math.imul(g,ae)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,ae)|0,r=r+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,ce)|0)+Math.imul(v,ue)|0,o=o+Math.imul(v,ce)|0;var xe=(c+(r=r+Math.imul(f,fe)|0)|0)+((8191&(i=(i=i+Math.imul(f,de)|0)+Math.imul(d,fe)|0))<<13)|0;c=((o=o+Math.imul(d,de)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(F,V),i=(i=Math.imul(F,z))+Math.imul(B,V)|0,o=Math.imul(B,z),r=r+Math.imul(j,Z)|0,i=(i=i+Math.imul(j,H)|0)+Math.imul(M,Z)|0,o=o+Math.imul(M,H)|0,r=r+Math.imul(P,G)|0,i=(i=i+Math.imul(P,K)|0)+Math.imul(R,G)|0,o=o+Math.imul(R,K)|0,r=r+Math.imul(A,Y)|0,i=(i=i+Math.imul(A,$)|0)+Math.imul(I,Y)|0,o=o+Math.imul(I,$)|0,r=r+Math.imul(C,Q)|0,i=(i=i+Math.imul(C,ee)|0)+Math.imul(k,Q)|0,o=o+Math.imul(k,ee)|0,r=r+Math.imul(S,ne)|0,i=(i=i+Math.imul(S,re)|0)+Math.imul(x,ne)|0,o=o+Math.imul(x,re)|0,r=r+Math.imul(w,oe)|0,i=(i=i+Math.imul(w,ae)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,ae)|0,r=r+Math.imul(g,ue)|0,i=(i=i+Math.imul(g,ce)|0)+Math.imul(y,ue)|0,o=o+Math.imul(y,ce)|0,r=r+Math.imul(p,fe)|0,i=(i=i+Math.imul(p,de)|0)+Math.imul(v,fe)|0,o=o+Math.imul(v,de)|0;var Oe=(c+(r=r+Math.imul(f,pe)|0)|0)+((8191&(i=(i=i+Math.imul(f,ve)|0)+Math.imul(d,pe)|0))<<13)|0;c=((o=o+Math.imul(d,ve)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(F,Z),i=(i=Math.imul(F,H))+Math.imul(B,Z)|0,o=Math.imul(B,H),r=r+Math.imul(j,G)|0,i=(i=i+Math.imul(j,K)|0)+Math.imul(M,G)|0,o=o+Math.imul(M,K)|0,r=r+Math.imul(P,Y)|0,i=(i=i+Math.imul(P,$)|0)+Math.imul(R,Y)|0,o=o+Math.imul(R,$)|0,r=r+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,ee)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,ee)|0,r=r+Math.imul(C,ne)|0,i=(i=i+Math.imul(C,re)|0)+Math.imul(k,ne)|0,o=o+Math.imul(k,re)|0,r=r+Math.imul(S,oe)|0,i=(i=i+Math.imul(S,ae)|0)+Math.imul(x,oe)|0,o=o+Math.imul(x,ae)|0,r=r+Math.imul(w,ue)|0,i=(i=i+Math.imul(w,ce)|0)+Math.imul(_,ue)|0,o=o+Math.imul(_,ce)|0,r=r+Math.imul(g,fe)|0,i=(i=i+Math.imul(g,de)|0)+Math.imul(y,fe)|0,o=o+Math.imul(y,de)|0;var Ce=(c+(r=r+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ve)|0)+Math.imul(v,pe)|0))<<13)|0;c=((o=o+Math.imul(v,ve)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(F,G),i=(i=Math.imul(F,K))+Math.imul(B,G)|0,o=Math.imul(B,K),r=r+Math.imul(j,Y)|0,i=(i=i+Math.imul(j,$)|0)+Math.imul(M,Y)|0,o=o+Math.imul(M,$)|0,r=r+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(R,Q)|0,o=o+Math.imul(R,ee)|0,r=r+Math.imul(A,ne)|0,i=(i=i+Math.imul(A,re)|0)+Math.imul(I,ne)|0,o=o+Math.imul(I,re)|0,r=r+Math.imul(C,oe)|0,i=(i=i+Math.imul(C,ae)|0)+Math.imul(k,oe)|0,o=o+Math.imul(k,ae)|0,r=r+Math.imul(S,ue)|0,i=(i=i+Math.imul(S,ce)|0)+Math.imul(x,ue)|0,o=o+Math.imul(x,ce)|0,r=r+Math.imul(w,fe)|0,i=(i=i+Math.imul(w,de)|0)+Math.imul(_,fe)|0,o=o+Math.imul(_,de)|0;var ke=(c+(r=r+Math.imul(g,pe)|0)|0)+((8191&(i=(i=i+Math.imul(g,ve)|0)+Math.imul(y,pe)|0))<<13)|0;c=((o=o+Math.imul(y,ve)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(F,Y),i=(i=Math.imul(F,$))+Math.imul(B,Y)|0,o=Math.imul(B,$),r=r+Math.imul(j,Q)|0,i=(i=i+Math.imul(j,ee)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,ee)|0,r=r+Math.imul(P,ne)|0,i=(i=i+Math.imul(P,re)|0)+Math.imul(R,ne)|0,o=o+Math.imul(R,re)|0,r=r+Math.imul(A,oe)|0,i=(i=i+Math.imul(A,ae)|0)+Math.imul(I,oe)|0,o=o+Math.imul(I,ae)|0,r=r+Math.imul(C,ue)|0,i=(i=i+Math.imul(C,ce)|0)+Math.imul(k,ue)|0,o=o+Math.imul(k,ce)|0,r=r+Math.imul(S,fe)|0,i=(i=i+Math.imul(S,de)|0)+Math.imul(x,fe)|0,o=o+Math.imul(x,de)|0;var Te=(c+(r=r+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,ve)|0)+Math.imul(_,pe)|0))<<13)|0;c=((o=o+Math.imul(_,ve)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(F,Q),i=(i=Math.imul(F,ee))+Math.imul(B,Q)|0,o=Math.imul(B,ee),r=r+Math.imul(j,ne)|0,i=(i=i+Math.imul(j,re)|0)+Math.imul(M,ne)|0,o=o+Math.imul(M,re)|0,r=r+Math.imul(P,oe)|0,i=(i=i+Math.imul(P,ae)|0)+Math.imul(R,oe)|0,o=o+Math.imul(R,ae)|0,r=r+Math.imul(A,ue)|0,i=(i=i+Math.imul(A,ce)|0)+Math.imul(I,ue)|0,o=o+Math.imul(I,ce)|0,r=r+Math.imul(C,fe)|0,i=(i=i+Math.imul(C,de)|0)+Math.imul(k,fe)|0,o=o+Math.imul(k,de)|0;var Ae=(c+(r=r+Math.imul(S,pe)|0)|0)+((8191&(i=(i=i+Math.imul(S,ve)|0)+Math.imul(x,pe)|0))<<13)|0;c=((o=o+Math.imul(x,ve)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(F,ne),i=(i=Math.imul(F,re))+Math.imul(B,ne)|0,o=Math.imul(B,re),r=r+Math.imul(j,oe)|0,i=(i=i+Math.imul(j,ae)|0)+Math.imul(M,oe)|0,o=o+Math.imul(M,ae)|0,r=r+Math.imul(P,ue)|0,i=(i=i+Math.imul(P,ce)|0)+Math.imul(R,ue)|0,o=o+Math.imul(R,ce)|0,r=r+Math.imul(A,fe)|0,i=(i=i+Math.imul(A,de)|0)+Math.imul(I,fe)|0,o=o+Math.imul(I,de)|0;var Ie=(c+(r=r+Math.imul(C,pe)|0)|0)+((8191&(i=(i=i+Math.imul(C,ve)|0)+Math.imul(k,pe)|0))<<13)|0;c=((o=o+Math.imul(k,ve)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,r=Math.imul(F,oe),i=(i=Math.imul(F,ae))+Math.imul(B,oe)|0,o=Math.imul(B,ae),r=r+Math.imul(j,ue)|0,i=(i=i+Math.imul(j,ce)|0)+Math.imul(M,ue)|0,o=o+Math.imul(M,ce)|0,r=r+Math.imul(P,fe)|0,i=(i=i+Math.imul(P,de)|0)+Math.imul(R,fe)|0,o=o+Math.imul(R,de)|0;var De=(c+(r=r+Math.imul(A,pe)|0)|0)+((8191&(i=(i=i+Math.imul(A,ve)|0)+Math.imul(I,pe)|0))<<13)|0;c=((o=o+Math.imul(I,ve)|0)+(i>>>13)|0)+(De>>>26)|0,De&=67108863,r=Math.imul(F,ue),i=(i=Math.imul(F,ce))+Math.imul(B,ue)|0,o=Math.imul(B,ce),r=r+Math.imul(j,fe)|0,i=(i=i+Math.imul(j,de)|0)+Math.imul(M,fe)|0,o=o+Math.imul(M,de)|0;var Pe=(c+(r=r+Math.imul(P,pe)|0)|0)+((8191&(i=(i=i+Math.imul(P,ve)|0)+Math.imul(R,pe)|0))<<13)|0;c=((o=o+Math.imul(R,ve)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,r=Math.imul(F,fe),i=(i=Math.imul(F,de))+Math.imul(B,fe)|0,o=Math.imul(B,de);var Re=(c+(r=r+Math.imul(j,pe)|0)|0)+((8191&(i=(i=i+Math.imul(j,ve)|0)+Math.imul(M,pe)|0))<<13)|0;c=((o=o+Math.imul(M,ve)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863;var Ne=(c+(r=Math.imul(F,pe))|0)+((8191&(i=(i=Math.imul(F,ve))+Math.imul(B,pe)|0))<<13)|0;return c=((o=Math.imul(B,ve))+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,u[0]=me,u[1]=ge,u[2]=ye,u[3]=be,u[4]=we,u[5]=_e,u[6]=Ee,u[7]=Se,u[8]=xe,u[9]=Oe,u[10]=Ce,u[11]=ke,u[12]=Te,u[13]=Ae,u[14]=Ie,u[15]=De,u[16]=Pe,u[17]=Re,u[18]=Ne,0!==c&&(u[19]=c,n.length++),n};function p(e,t,n){return(new v).mulp(e,t,n)}function v(e,t){this.x=e,this.y=t}Math.imul||(h=d),o.prototype.mulTo=function(e,t){var n,r=this.length+e.length;return n=10===this.length&&10===e.length?h(this,e,t):r<63?d(this,e,t):r<1024?function(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var a=i;i=0;for(var s=67108863&r,u=Math.min(o,t.length-1),c=Math.max(0,o-e.length+1);c<=u;c++){var l=o-c,f=(0|e.words[l])*(0|t.words[c]),d=67108863&f;s=67108863&(d=d+s|0),i+=(a=(a=a+(f/67108864|0)|0)+(d>>>26)|0)>>>26,a&=67108863}n.words[o]=s,r=a,a=i}return 0!==r?n.words[o]=r:n.length--,n.strip()}(this,e,t):p(this,e,t),n},v.prototype.makeRBT=function(e){for(var t=new Array(e),n=o.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,n,e);return t},v.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var r=0,i=0;i<t;i++)r|=(1&e)<<t-i-1,e>>=1;return r},v.prototype.permute=function(e,t,n,r,i,o){for(var a=0;a<o;a++)r[a]=t[e[a]],i[a]=n[e[a]]},v.prototype.transform=function(e,t,n,r,i,o){this.permute(o,e,t,n,r,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),l=0;l<i;l+=s)for(var f=u,d=c,h=0;h<a;h++){var p=n[l+h],v=r[l+h],m=n[l+h+a],g=r[l+h+a],y=f*m-d*g;g=f*g+d*m,m=y,n[l+h]=p+m,r[l+h]=v+g,n[l+h+a]=p-m,r[l+h+a]=v-g,h!==s&&(y=u*f-c*d,d=u*d+c*f,f=y)}},v.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},v.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=e[r];e[r]=e[n-r-1],e[n-r-1]=i,i=t[r],t[r]=-t[n-r-1],t[n-r-1]=-i}},v.prototype.normalize13b=function(e,t){for(var n=0,r=0;r<t/2;r++){var i=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+n;e[r]=67108863&i,n=i<67108864?0:i/67108864|0}return e},v.prototype.convert13b=function(e,t,n,i){for(var o=0,a=0;a<t;a++)o+=0|e[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<i;++a)n[a]=0;r(0===o),r(0===(-8192&o))},v.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},v.prototype.mulp=function(e,t,n){var r=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(r),o=this.stub(r),a=new Array(r),s=new Array(r),u=new Array(r),c=new Array(r),l=new Array(r),f=new Array(r),d=n.words;d.length=r,this.convert13b(e.words,e.length,a,r),this.convert13b(t.words,t.length,c,r),this.transform(a,o,s,u,r,i),this.transform(c,o,l,f,r,i);for(var h=0;h<r;h++){var p=s[h]*l[h]-u[h]*f[h];u[h]=s[h]*f[h]+u[h]*l[h],s[h]=p}return this.conjugate(s,u,r),this.transform(s,u,d,o,r,i),this.conjugate(d,o,r),this.normalize13b(d,r),n.negative=e.negative^t.negative,n.length=e.length+t.length,n.strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),p(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){r("number"===typeof e),r(e<67108864);for(var t=0,n=0;n<this.length;n++){var i=(0|this.words[n])*e,o=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=o>>>26,this.words[n]=67108863&o}return 0!==t&&(this.words[n]=t,this.length++),this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var r=n/26|0,i=n%26;t[n]=(e.words[r]&1<<i)>>>i}return t}(e);if(0===t.length)return new o(1);for(var n=this,r=0;r<t.length&&0===t[r];r++,n=n.sqr());if(++r<t.length)for(var i=n.sqr();r<t.length;r++,i=i.sqr())0!==t[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(e){r("number"===typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,u=(0|this.words[t])-s<<n;this.words[t]=u|a,a=s>>>26-n}a&&(this.words[t]=a,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,n){var i;r("number"===typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,u=n;if(i-=a,i=Math.max(0,i),u){for(var c=0;c<a;c++)u.words[c]=this.words[c];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,c=0;c<this.length;c++)this.words[c]=this.words[c+a];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var f=0|this.words[c];this.words[c]=l<<26-o|f>>>o,l=f&s}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){r("number"===typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n)&&!!(this.words[n]&i)},o.prototype.imaskn=function(e){r("number"===typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return r("number"===typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(r("number"===typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,n){var i,o,a=e.length+n;this._expand(a);var s=0;for(i=0;i<e.length;i++){o=(0|this.words[i+n])+s;var u=(0|e.words[i])*t;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)s=(o=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&o;if(0===s)return this.strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this.strip()},o.prototype._wordDiv=function(e,t){var n=(this.length,e.length),r=this.clone(),i=e,a=0|i.words[i.length-1];0!==(n=26-this._countBits(a))&&(i=i.ushln(n),r.iushln(n),a=0|i.words[i.length-1]);var s,u=r.length-i.length;if("mod"!==t){(s=new o(null)).length=u+1,s.words=new Array(s.length);for(var c=0;c<s.length;c++)s.words[c]=0}var l=r.clone()._ishlnsubmul(i,1,u);0===l.negative&&(r=l,s&&(s.words[u]=1));for(var f=u-1;f>=0;f--){var d=67108864*(0|r.words[i.length+f])+(0|r.words[i.length+f-1]);for(d=Math.min(d/a|0,67108863),r._ishlnsubmul(i,d,f);0!==r.negative;)d--,r.negative=0,r._ishlnsubmul(i,1,f),r.isZero()||(r.negative^=1);s&&(s.words[f]=d)}return s&&s.strip(),r.strip(),"div"!==t&&0!==n&&r.iushrn(n),{div:s||null,mod:r}},o.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(i=s.div.neg()),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(e)),{div:i,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(i=s.div.neg()),{div:i,mod:s.mod}):0!==(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modn(e.words[0]))}:this._wordDiv(e,t);var i,a,s},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),i=e.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,n=0,i=this.length-1;i>=0;i--)n=(t*n+(0|this.words[i]))%e;return n},o.prototype.idivn=function(e){r(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*t;this.words[n]=i/e|0,t=i%e}return this.strip()},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),a=new o(0),s=new o(0),u=new o(1),c=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++c;for(var l=n.clone(),f=t.clone();!t.isZero();){for(var d=0,h=1;0===(t.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(l),a.isub(f)),i.iushrn(1),a.iushrn(1);for(var p=0,v=1;0===(n.words[0]&v)&&p<26;++p,v<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(l),u.isub(f)),s.iushrn(1),u.iushrn(1);t.cmp(n)>=0?(t.isub(n),i.isub(s),a.isub(u)):(n.isub(t),s.isub(i),u.isub(a))}return{a:s,b:u,gcd:n.iushln(c)}},o.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,a=new o(1),s=new o(0),u=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,l=1;0===(t.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(t.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var f=0,d=1;0===(n.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(n.iushrn(f);f-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(s)):(n.isub(t),s.isub(a))}return(i=0===t.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var r=0;t.isEven()&&n.isEven();r++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=t.cmp(n);if(i<0){var o=t;t=n,n=o}else if(0===i||0===n.cmpn(1))break;t.isub(n)}return n.iushln(r)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){r("number"===typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|e.words[n];if(r!==i){r<i?t=-1:r>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new E(e)},o.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var m={k256:null,p224:null,p192:null,p25519:null};function g(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function y(){g.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function b(){g.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function w(){g.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function _(){g.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function E(e){if("string"===typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function S(e){E.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}g.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},g.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},g.prototype.split=function(e,t){e.iushrn(this.n,0,t)},g.prototype.imulK=function(e){return e.imul(this.k)},i(y,g),y.prototype.split=function(e,t){for(var n=4194303,r=Math.min(e.length,9),i=0;i<r;i++)t.words[i]=e.words[i];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&n,i=10;i<e.length;i++){var a=0|e.words[i];e.words[i-10]=(a&n)<<4|o>>>22,o=a}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},y.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var r=0|e.words[n];t+=977*r,e.words[n]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(b,g),i(w,g),i(_,g),_.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var r=19*(0|e.words[n])+t,i=67108863&r;r>>>=26,e.words[n]=i,t=r}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(m[e])return m[e];var t;if("k256"===e)t=new y;else if("p224"===e)t=new b;else if("p192"===e)t=new w;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new _}return m[e]=t,t},E.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},E.prototype._verify2=function(e,t){r(0===(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},E.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},E.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},E.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},E.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},E.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},E.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},E.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},E.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},E.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},E.prototype.isqr=function(e){return this.imul(e,e.clone())},E.prototype.sqr=function(e){return this.mul(e,e)},E.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2===1),3===t){var n=this.m.add(new o(1)).iushrn(2);return this.pow(e,n)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);r(!i.isZero());var s=new o(1).toRed(this),u=s.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var f=this.pow(l,i),d=this.pow(e,i.addn(1).iushrn(1)),h=this.pow(e,i),p=a;0!==h.cmp(s);){for(var v=h,m=0;0!==v.cmp(s);m++)v=v.redSqr();r(m<p);var g=this.pow(f,new o(1).iushln(p-m-1));d=d.redMul(g),f=g.redSqr(),h=h.redMul(f),p=m}return d},E.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},E.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=e;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],e);var i=n[0],a=0,s=0,u=t.bitLength()%26;for(0===u&&(u=26),r=t.length-1;r>=0;r--){for(var c=t.words[r],l=u-1;l>=0;l--){var f=c>>l&1;i!==n[0]&&(i=this.sqr(i)),0!==f||0!==a?(a<<=1,a|=f,(4===++s||0===r&&0===l)&&(i=this.mul(i,n[a]),s=0,a=0)):s=0}u=26}return i},E.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},E.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new S(e)},i(S,E),S.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},S.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},S.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},S.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var n=e.mul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},S.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=n.nmd(e),this)},6069:function(e,t,n){var r;function i(e){this.rand=e}if(e.exports=function(e){return r||(r=new i(null)),r.generate(e)},e.exports.Rand=i,i.prototype.generate=function(e){return this._rand(e)},i.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),n=0;n<t.length;n++)t[n]=this.rand.getByte();return t},"object"===typeof self)self.crypto&&self.crypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?i.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"===typeof window&&(i.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=n(6113);if("function"!==typeof o.randomBytes)throw new Error("Not supported");i.prototype._rand=function(e){return o.randomBytes(e)}}catch(e){}},9725:function(e,t,n){var r=n(3118).Buffer;function i(e){r.isBuffer(e)||(e=r.from(e));for(var t=e.length/4|0,n=new Array(t),i=0;i<t;i++)n[i]=e.readUInt32BE(4*i);return n}function o(e){for(;0<e.length;e++)e[0]=0}function a(e,t,n,r,i){for(var o,a,s,u,c=n[0],l=n[1],f=n[2],d=n[3],h=e[0]^t[0],p=e[1]^t[1],v=e[2]^t[2],m=e[3]^t[3],g=4,y=1;y<i;y++)o=c[h>>>24]^l[p>>>16&255]^f[v>>>8&255]^d[255&m]^t[g++],a=c[p>>>24]^l[v>>>16&255]^f[m>>>8&255]^d[255&h]^t[g++],s=c[v>>>24]^l[m>>>16&255]^f[h>>>8&255]^d[255&p]^t[g++],u=c[m>>>24]^l[h>>>16&255]^f[p>>>8&255]^d[255&v]^t[g++],h=o,p=a,v=s,m=u;return o=(r[h>>>24]<<24|r[p>>>16&255]<<16|r[v>>>8&255]<<8|r[255&m])^t[g++],a=(r[p>>>24]<<24|r[v>>>16&255]<<16|r[m>>>8&255]<<8|r[255&h])^t[g++],s=(r[v>>>24]<<24|r[m>>>16&255]<<16|r[h>>>8&255]<<8|r[255&p])^t[g++],u=(r[m>>>24]<<24|r[h>>>16&255]<<16|r[p>>>8&255]<<8|r[255&v])^t[g++],[o>>>=0,a>>>=0,s>>>=0,u>>>=0]}var s=[0,1,2,4,8,16,32,64,128,27,54],u=function(){for(var e=new Array(256),t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;for(var n=[],r=[],i=[[],[],[],[]],o=[[],[],[],[]],a=0,s=0,u=0;u<256;++u){var c=s^s<<1^s<<2^s<<3^s<<4;c=c>>>8^255&c^99,n[a]=c,r[c]=a;var l=e[a],f=e[l],d=e[f],h=257*e[c]^16843008*c;i[0][a]=h<<24|h>>>8,i[1][a]=h<<16|h>>>16,i[2][a]=h<<8|h>>>24,i[3][a]=h,h=16843009*d^65537*f^257*l^16843008*a,o[0][c]=h<<24|h>>>8,o[1][c]=h<<16|h>>>16,o[2][c]=h<<8|h>>>24,o[3][c]=h,0===a?a=s=1:(a=l^e[e[e[d^l]]],s^=e[e[s]])}return{SBOX:n,INV_SBOX:r,SUB_MIX:i,INV_SUB_MIX:o}}();function c(e){this._key=i(e),this._reset()}c.blockSize=16,c.keySize=32,c.prototype.blockSize=c.blockSize,c.prototype.keySize=c.keySize,c.prototype._reset=function(){for(var e=this._key,t=e.length,n=t+6,r=4*(n+1),i=[],o=0;o<t;o++)i[o]=e[o];for(o=t;o<r;o++){var a=i[o-1];o%t===0?(a=a<<8|a>>>24,a=u.SBOX[a>>>24]<<24|u.SBOX[a>>>16&255]<<16|u.SBOX[a>>>8&255]<<8|u.SBOX[255&a],a^=s[o/t|0]<<24):t>6&&o%t===4&&(a=u.SBOX[a>>>24]<<24|u.SBOX[a>>>16&255]<<16|u.SBOX[a>>>8&255]<<8|u.SBOX[255&a]),i[o]=i[o-t]^a}for(var c=[],l=0;l<r;l++){var f=r-l,d=i[f-(l%4?0:4)];c[l]=l<4||f<=4?d:u.INV_SUB_MIX[0][u.SBOX[d>>>24]]^u.INV_SUB_MIX[1][u.SBOX[d>>>16&255]]^u.INV_SUB_MIX[2][u.SBOX[d>>>8&255]]^u.INV_SUB_MIX[3][u.SBOX[255&d]]}this._nRounds=n,this._keySchedule=i,this._invKeySchedule=c},c.prototype.encryptBlockRaw=function(e){return a(e=i(e),this._keySchedule,u.SUB_MIX,u.SBOX,this._nRounds)},c.prototype.encryptBlock=function(e){var t=this.encryptBlockRaw(e),n=r.allocUnsafe(16);return n.writeUInt32BE(t[0],0),n.writeUInt32BE(t[1],4),n.writeUInt32BE(t[2],8),n.writeUInt32BE(t[3],12),n},c.prototype.decryptBlock=function(e){var t=(e=i(e))[1];e[1]=e[3],e[3]=t;var n=a(e,this._invKeySchedule,u.INV_SUB_MIX,u.INV_SBOX,this._nRounds),o=r.allocUnsafe(16);return o.writeUInt32BE(n[0],0),o.writeUInt32BE(n[3],4),o.writeUInt32BE(n[2],8),o.writeUInt32BE(n[1],12),o},c.prototype.scrub=function(){o(this._keySchedule),o(this._invKeySchedule),o(this._key)},e.exports.AES=c},5112:function(e,t,n){var r=n(9725),i=n(3118).Buffer,o=n(8826),a=n(7526),s=n(7731),u=n(5653),c=n(4630);function l(e,t,n){if(12===t.length)return e._finID=i.concat([t,i.from([0,0,0,1])]),i.concat([t,i.from([0,0,0,2])]);var r=new s(n),o=t.length,a=o%16;r.update(t),a&&(a=16-a,r.update(i.alloc(a,0))),r.update(i.alloc(8,0));var u=8*o,l=i.alloc(8);l.writeUIntBE(u,0,8),r.update(l),e._finID=r.state;var f=i.from(e._finID);return c(f),f}function f(e,t,n,a){o.call(this);var u=i.alloc(4,0);this._cipher=new r.AES(t);var c=this._cipher.encryptBlock(u);this._ghash=new s(c),n=l(this,n,c),this._prev=i.from(n),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=a,this._alen=0,this._len=0,this._mode=e,this._authTag=null,this._called=!1}a(f,o),f.prototype._update=function(e){if(!this._called&&this._alen){var t=16-this._alen%16;t<16&&(t=i.alloc(t,0),this._ghash.update(t))}this._called=!0;var n=this._mode.encrypt(this,e);return this._decrypt?this._ghash.update(e):this._ghash.update(n),this._len+=e.length,n},f.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=u(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(e,t){var n=0;e.length!==t.length&&n++;for(var r=Math.min(e.length,t.length),i=0;i<r;++i)n+=e[i]^t[i];return n}(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=e,this._cipher.scrub()},f.prototype.getAuthTag=function(){if(this._decrypt||!i.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},f.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},f.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length},e.exports=f},7384:function(e,t,n){var r=n(9811),i=n(8552),o=n(9234);t.createCipher=t.Cipher=r.createCipher,t.createCipheriv=t.Cipheriv=r.createCipheriv,t.createDecipher=t.Decipher=i.createDecipher,t.createDecipheriv=t.Decipheriv=i.createDecipheriv,t.listCiphers=t.getCiphers=function(){return Object.keys(o)}},8552:function(e,t,n){var r=n(5112),i=n(3118).Buffer,o=n(8963),a=n(6255),s=n(8826),u=n(9725),c=n(7325);function l(e,t,n){s.call(this),this._cache=new f,this._last=void 0,this._cipher=new u.AES(t),this._prev=i.from(n),this._mode=e,this._autopadding=!0}function f(){this.cache=i.allocUnsafe(0)}function d(e,t,n){var s=o[e.toLowerCase()];if(!s)throw new TypeError("invalid suite type");if("string"===typeof n&&(n=i.from(n)),"GCM"!==s.mode&&n.length!==s.iv)throw new TypeError("invalid iv length "+n.length);if("string"===typeof t&&(t=i.from(t)),t.length!==s.key/8)throw new TypeError("invalid key length "+t.length);return"stream"===s.type?new a(s.module,t,n,!0):"auth"===s.type?new r(s.module,t,n,!0):new l(s.module,t,n)}n(7526)(l,s),l.prototype._update=function(e){var t,n;this._cache.add(e);for(var r=[];t=this._cache.get(this._autopadding);)n=this._mode.decrypt(this,t),r.push(n);return i.concat(r)},l.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return function(e){var t=e[15];if(t<1||t>16)throw new Error("unable to decrypt data");var n=-1;for(;++n<t;)if(e[n+(16-t)]!==t)throw new Error("unable to decrypt data");if(16===t)return;return e.slice(0,16-t)}(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},l.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},f.prototype.add=function(e){this.cache=i.concat([this.cache,e])},f.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},f.prototype.flush=function(){if(this.cache.length)return this.cache},t.createDecipher=function(e,t){var n=o[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var r=c(t,!1,n.key,n.iv);return d(e,r.key,r.iv)},t.createDecipheriv=d},9811:function(e,t,n){var r=n(8963),i=n(5112),o=n(3118).Buffer,a=n(6255),s=n(8826),u=n(9725),c=n(7325);function l(e,t,n){s.call(this),this._cache=new d,this._cipher=new u.AES(t),this._prev=o.from(n),this._mode=e,this._autopadding=!0}n(7526)(l,s),l.prototype._update=function(e){var t,n;this._cache.add(e);for(var r=[];t=this._cache.get();)n=this._mode.encrypt(this,t),r.push(n);return o.concat(r)};var f=o.alloc(16,16);function d(){this.cache=o.allocUnsafe(0)}function h(e,t,n){var s=r[e.toLowerCase()];if(!s)throw new TypeError("invalid suite type");if("string"===typeof t&&(t=o.from(t)),t.length!==s.key/8)throw new TypeError("invalid key length "+t.length);if("string"===typeof n&&(n=o.from(n)),"GCM"!==s.mode&&n.length!==s.iv)throw new TypeError("invalid iv length "+n.length);return"stream"===s.type?new a(s.module,t,n):"auth"===s.type?new i(s.module,t,n):new l(s.module,t,n)}l.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if(!e.equals(f))throw this._cipher.scrub(),new Error("data not multiple of block length")},l.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},d.prototype.add=function(e){this.cache=o.concat([this.cache,e])},d.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},d.prototype.flush=function(){for(var e=16-this.cache.length,t=o.allocUnsafe(e),n=-1;++n<e;)t.writeUInt8(e,n);return o.concat([this.cache,t])},t.createCipheriv=h,t.createCipher=function(e,t){var n=r[e.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var i=c(t,!1,n.key,n.iv);return h(e,i.key,i.iv)}},7731:function(e,t,n){var r=n(3118).Buffer,i=r.alloc(16,0);function o(e){var t=r.allocUnsafe(16);return t.writeUInt32BE(e[0]>>>0,0),t.writeUInt32BE(e[1]>>>0,4),t.writeUInt32BE(e[2]>>>0,8),t.writeUInt32BE(e[3]>>>0,12),t}function a(e){this.h=e,this.state=r.alloc(16,0),this.cache=r.allocUnsafe(0)}a.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()},a.prototype._multiply=function(){for(var e,t,n=function(e){return[e.readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)]}(this.h),r=[0,0,0,0],i=-1;++i<128;){for(0!==(this.state[~~(i/8)]&1<<7-i%8)&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),t=0!==(1&n[3]),e=3;e>0;e--)n[e]=n[e]>>>1|(1&n[e-1])<<31;n[0]=n[0]>>>1,t&&(n[0]=n[0]^225<<24)}this.state=o(r)},a.prototype.update=function(e){var t;for(this.cache=r.concat([this.cache,e]);this.cache.length>=16;)t=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(t)},a.prototype.final=function(e,t){return this.cache.length&&this.ghash(r.concat([this.cache,i],16)),this.ghash(o([0,e,0,t])),this.state},e.exports=a},4630:function(e){e.exports=function(e){for(var t,n=e.length;n--;){if(255!==(t=e.readUInt8(n))){t++,e.writeUInt8(t,n);break}e.writeUInt8(0,n)}}},4156:function(e,t,n){var r=n(5653);t.encrypt=function(e,t){var n=r(t,e._prev);return e._prev=e._cipher.encryptBlock(n),e._prev},t.decrypt=function(e,t){var n=e._prev;e._prev=t;var i=e._cipher.decryptBlock(t);return r(i,n)}},2509:function(e,t,n){var r=n(3118).Buffer,i=n(5653);function o(e,t,n){var o=t.length,a=i(t,e._cache);return e._cache=e._cache.slice(o),e._prev=r.concat([e._prev,n?t:a]),a}t.encrypt=function(e,t,n){for(var i,a=r.allocUnsafe(0);t.length;){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=r.allocUnsafe(0)),!(e._cache.length<=t.length)){a=r.concat([a,o(e,t,n)]);break}i=e._cache.length,a=r.concat([a,o(e,t.slice(0,i),n)]),t=t.slice(i)}return a}},9010:function(e,t,n){var r=n(3118).Buffer;function i(e,t,n){for(var r,i,a=-1,s=0;++a<8;)r=t&1<<7-a?128:0,s+=(128&(i=e._cipher.encryptBlock(e._prev)[0]^r))>>a%8,e._prev=o(e._prev,n?r:i);return s}function o(e,t){var n=e.length,i=-1,o=r.allocUnsafe(e.length);for(e=r.concat([e,r.from([t])]);++i<n;)o[i]=e[i]<<1|e[i+1]>>7;return o}t.encrypt=function(e,t,n){for(var o=t.length,a=r.allocUnsafe(o),s=-1;++s<o;)a[s]=i(e,t[s],n);return a}},3633:function(e,t,n){var r=n(3118).Buffer;function i(e,t,n){var i=e._cipher.encryptBlock(e._prev)[0]^t;return e._prev=r.concat([e._prev.slice(1),r.from([n?t:i])]),i}t.encrypt=function(e,t,n){for(var o=t.length,a=r.allocUnsafe(o),s=-1;++s<o;)a[s]=i(e,t[s],n);return a}},1739:function(e,t,n){var r=n(5653),i=n(3118).Buffer,o=n(4630);function a(e){var t=e._cipher.encryptBlockRaw(e._prev);return o(e._prev),t}t.encrypt=function(e,t){var n=Math.ceil(t.length/16),o=e._cache.length;e._cache=i.concat([e._cache,i.allocUnsafe(16*n)]);for(var s=0;s<n;s++){var u=a(e),c=o+16*s;e._cache.writeUInt32BE(u[0],c+0),e._cache.writeUInt32BE(u[1],c+4),e._cache.writeUInt32BE(u[2],c+8),e._cache.writeUInt32BE(u[3],c+12)}var l=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),r(t,l)}},8288:function(e,t){t.encrypt=function(e,t){return e._cipher.encryptBlock(t)},t.decrypt=function(e,t){return e._cipher.decryptBlock(t)}},8963:function(e,t,n){var r={ECB:n(8288),CBC:n(4156),CFB:n(2509),CFB8:n(3633),CFB1:n(9010),OFB:n(8036),CTR:n(1739),GCM:n(1739)},i=n(9234);for(var o in i)i[o].module=r[i[o].mode];e.exports=i},8036:function(e,t,n){var i=n(5653);function o(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}t.encrypt=function(e,t){for(;e._cache.length<t.length;)e._cache=r.concat([e._cache,o(e)]);var n=e._cache.slice(0,t.length);return e._cache=e._cache.slice(t.length),i(t,n)}},6255:function(e,t,n){var r=n(9725),i=n(3118).Buffer,o=n(8826);function a(e,t,n,a){o.call(this),this._cipher=new r.AES(t),this._prev=i.from(n),this._cache=i.allocUnsafe(0),this._secCache=i.allocUnsafe(0),this._decrypt=a,this._mode=e}n(7526)(a,o),a.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},a.prototype._final=function(){this._cipher.scrub()},e.exports=a},57:function(e,t,n){var r=n(9917),i=n(7384),o=n(8963),a=n(2334),s=n(7325);function u(e,t,n){if(e=e.toLowerCase(),o[e])return i.createCipheriv(e,t,n);if(a[e])return new r({key:t,iv:n,mode:e});throw new TypeError("invalid suite type")}function c(e,t,n){if(e=e.toLowerCase(),o[e])return i.createDecipheriv(e,t,n);if(a[e])return new r({key:t,iv:n,mode:e,decrypt:!0});throw new TypeError("invalid suite type")}t.createCipher=t.Cipher=function(e,t){var n,r;if(e=e.toLowerCase(),o[e])n=o[e].key,r=o[e].iv;else{if(!a[e])throw new TypeError("invalid suite type");n=8*a[e].key,r=a[e].iv}var i=s(t,!1,n,r);return u(e,i.key,i.iv)},t.createCipheriv=t.Cipheriv=u,t.createDecipher=t.Decipher=function(e,t){var n,r;if(e=e.toLowerCase(),o[e])n=o[e].key,r=o[e].iv;else{if(!a[e])throw new TypeError("invalid suite type");n=8*a[e].key,r=a[e].iv}var i=s(t,!1,n,r);return c(e,i.key,i.iv)},t.createDecipheriv=t.Decipheriv=c,t.listCiphers=t.getCiphers=function(){return Object.keys(a).concat(i.getCiphers())}},9917:function(e,t,n){var r=n(8826),i=n(7795),o=n(7526),a=n(3118).Buffer,s={"des-ede3-cbc":i.CBC.instantiate(i.EDE),"des-ede3":i.EDE,"des-ede-cbc":i.CBC.instantiate(i.EDE),"des-ede":i.EDE,"des-cbc":i.CBC.instantiate(i.DES),"des-ecb":i.DES};function u(e){r.call(this);var t,n=e.mode.toLowerCase(),i=s[n];t=e.decrypt?"decrypt":"encrypt";var o=e.key;a.isBuffer(o)||(o=a.from(o)),"des-ede"!==n&&"des-ede-cbc"!==n||(o=a.concat([o,o.slice(0,8)]));var u=e.iv;a.isBuffer(u)||(u=a.from(u)),this._des=i.create({key:o,iv:u,type:t})}s.des=s["des-cbc"],s.des3=s["des-ede3-cbc"],e.exports=u,o(u,r),u.prototype._update=function(e){return a.from(this._des.update(e))},u.prototype._final=function(){return a.from(this._des.final())}},2334:function(e,t){t["des-ecb"]={key:8,iv:0},t["des-cbc"]=t.des={key:8,iv:8},t["des-ede3-cbc"]=t.des3={key:24,iv:8},t["des-ede3"]={key:24,iv:0},t["des-ede-cbc"]={key:16,iv:8},t["des-ede"]={key:16,iv:0}},6236:function(e,t,n){var i=n(6884),o=n(2711);function a(e,t){var n=function(e){var t=s(e);return{blinder:t.toRed(i.mont(e.modulus)).redPow(new i(e.publicExponent)).fromRed(),unblinder:t.invm(e.modulus)}}(t),o=t.modulus.byteLength(),a=(i.mont(t.modulus),new i(e).mul(n.blinder).umod(t.modulus)),u=a.toRed(i.mont(t.prime1)),c=a.toRed(i.mont(t.prime2)),l=t.coefficient,f=t.prime1,d=t.prime2,h=u.redPow(t.exponent1),p=c.redPow(t.exponent2);h=h.fromRed(),p=p.fromRed();var v=h.isub(p).imul(l).umod(f);return v.imul(d),p.iadd(v),new r(p.imul(n.unblinder).umod(t.modulus).toArray(!1,o))}function s(e){for(var t=e.modulus.byteLength(),n=new i(o(t));n.cmp(e.modulus)>=0||!n.umod(e.prime1)||!n.umod(e.prime2);)n=new i(o(t));return n}e.exports=a,a.getr=s},5703:function(e,t,n){e.exports=n(26)},1265:function(e,t,n){var r=n(3118).Buffer,i=n(2539),o=n(6572),a=n(7526),s=n(3596),u=n(9204),c=n(26);function l(e){o.Writable.call(this);var t=c[e];if(!t)throw new Error("Unknown message digest");this._hashType=t.hash,this._hash=i(t.hash),this._tag=t.id,this._signType=t.sign}function f(e){o.Writable.call(this);var t=c[e];if(!t)throw new Error("Unknown message digest");this._hash=i(t.hash),this._tag=t.id,this._signType=t.sign}function d(e){return new l(e)}function h(e){return new f(e)}Object.keys(c).forEach((function(e){c[e].id=r.from(c[e].id,"hex"),c[e.toLowerCase()]=c[e]})),a(l,o.Writable),l.prototype._write=function(e,t,n){this._hash.update(e),n()},l.prototype.update=function(e,t){return"string"===typeof e&&(e=r.from(e,t)),this._hash.update(e),this},l.prototype.sign=function(e,t){this.end();var n=this._hash.digest(),r=s(n,e,this._hashType,this._signType,this._tag);return t?r.toString(t):r},a(f,o.Writable),f.prototype._write=function(e,t,n){this._hash.update(e),n()},f.prototype.update=function(e,t){return"string"===typeof e&&(e=r.from(e,t)),this._hash.update(e),this},f.prototype.verify=function(e,t,n){"string"===typeof t&&(t=r.from(t,n)),this.end();var i=this._hash.digest();return u(t,i,e,this._signType,this._tag)},e.exports={Sign:d,Verify:h,createSign:d,createVerify:h}},3596:function(e,t,n){var r=n(3118).Buffer,i=n(2730),o=n(6236),a=n(8818).ec,s=n(5410),u=n(569),c=n(9167);function l(e,t){var n=c[t.curve.join(".")];if(!n)throw new Error("unknown curve "+t.curve.join("."));var i=new a(n).keyFromPrivate(t.privateKey).sign(e);return r.from(i.toDER())}function f(e,t,n){for(var r,i=t.params.priv_key,o=t.params.p,a=t.params.q,u=t.params.g,c=new s(0),l=p(e,a).mod(a),f=!1,g=h(i,a,e,n);!1===f;)c=m(u,r=v(a,g,n),o,a),0===(f=r.invm(a).imul(l.add(i.mul(c))).mod(a)).cmpn(0)&&(f=!1,c=new s(0));return d(c,f)}function d(e,t){e=e.toArray(),t=t.toArray(),128&e[0]&&(e=[0].concat(e)),128&t[0]&&(t=[0].concat(t));var n=[48,e.length+t.length+4,2,e.length];return n=n.concat(e,[2,t.length],t),r.from(n)}function h(e,t,n,o){if((e=r.from(e.toArray())).length<t.byteLength()){var a=r.alloc(t.byteLength()-e.length);e=r.concat([a,e])}var s=n.length,u=function(e,t){e=(e=p(e,t)).mod(t);var n=r.from(e.toArray());if(n.length<t.byteLength()){var i=r.alloc(t.byteLength()-n.length);n=r.concat([i,n])}return n}(n,t),c=r.alloc(s);c.fill(1);var l=r.alloc(s);return l=i(o,l).update(c).update(r.from([0])).update(e).update(u).digest(),c=i(o,l).update(c).digest(),{k:l=i(o,l).update(c).update(r.from([1])).update(e).update(u).digest(),v:c=i(o,l).update(c).digest()}}function p(e,t){var n=new s(e),r=(e.length<<3)-t.bitLength();return r>0&&n.ishrn(r),n}function v(e,t,n){var o,a;do{for(o=r.alloc(0);8*o.length<e.bitLength();)t.v=i(n,t.k).update(t.v).digest(),o=r.concat([o,t.v]);a=p(o,e),t.k=i(n,t.k).update(t.v).update(r.from([0])).digest(),t.v=i(n,t.k).update(t.v).digest()}while(-1!==a.cmp(e));return a}function m(e,t,n,r){return e.toRed(s.mont(n)).redPow(t).fromRed().mod(r)}e.exports=function(e,t,n,i,a){var s=u(t);if(s.curve){if("ecdsa"!==i&&"ecdsa/rsa"!==i)throw new Error("wrong private key type");return l(e,s)}if("dsa"===s.type){if("dsa"!==i)throw new Error("wrong private key type");return f(e,s,n)}if("rsa"!==i&&"ecdsa/rsa"!==i)throw new Error("wrong private key type");e=r.concat([a,e]);for(var c=s.modulus.byteLength(),d=[0,1];e.length+d.length+1<c;)d.push(255);d.push(0);for(var h=-1;++h<e.length;)d.push(e[h]);return o(d,s)},e.exports.getKey=h,e.exports.makeKey=v},9204:function(e,t,n){var r=n(3118).Buffer,i=n(5410),o=n(8818).ec,a=n(569),s=n(9167);function u(e,t,n){var r=s[n.data.algorithm.curve.join(".")];if(!r)throw new Error("unknown curve "+n.data.algorithm.curve.join("."));var i=new o(r),a=n.data.subjectPrivateKey.data;return i.verify(t,e,a)}function c(e,t){if(e.cmpn(0)<=0)throw new Error("invalid sig");if(e.cmp(t)>=t)throw new Error("invalid sig")}e.exports=function(e,t,n,o,s){var l=a(n);if("ec"===l.type){if("ecdsa"!==o&&"ecdsa/rsa"!==o)throw new Error("wrong public key type");return u(e,t,l)}if("dsa"===l.type){if("dsa"!==o)throw new Error("wrong public key type");return function(e,t,n){var r=n.data.p,o=n.data.q,s=n.data.g,u=n.data.pub_key,l=a.signature.decode(e,"der"),f=l.s,d=l.r;c(f,o),c(d,o);var h=i.mont(r),p=f.invm(o);return 0===s.toRed(h).redPow(new i(t).mul(p).mod(o)).fromRed().mul(u.toRed(h).redPow(d.mul(p).mod(o)).fromRed()).mod(r).mod(o).cmp(d)}(e,t,l)}if("rsa"!==o&&"ecdsa/rsa"!==o)throw new Error("wrong public key type");t=r.concat([s,t]);for(var f=l.modulus.byteLength(),d=[1],h=0;t.length+d.length+2<f;)d.push(255),h++;d.push(0);for(var p=-1;++p<t.length;)d.push(t[p]);d=r.from(d);var v=i.mont(l.modulus);e=(e=new i(e).toRed(v)).redPow(new i(l.publicExponent)),e=r.from(e.fromRed().toArray());var m=h<8?1:0;for(f=Math.min(e.length,d.length),e.length!==d.length&&(m=1),p=-1;++p<f;)m|=e[p]^d[p];return 0===m}},5410:function(e,t,n){!function(e,t){"use strict";function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function i(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}function o(e,t,n){if(o.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(n=t,t=10),this._init(e||0,t||10,n||"be"))}var a;"object"===typeof e?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;try{a=n(4300).Buffer}catch(e){}function s(e,t,n){for(var i=0,o=Math.min(e.length,n),a=0,s=t;s<o;s++){var u,c=e.charCodeAt(s)-48;i<<=4,i|=u=c>=49&&c<=54?c-49+10:c>=17&&c<=22?c-17+10:c,a|=u}return r(!(240&a),"Invalid character in "+e),i}function u(e,t,n,i){for(var o=0,a=0,s=Math.min(e.length,n),u=t;u<s;u++){var c=e.charCodeAt(u)-48;o*=i,a=c>=49?c-49+10:c>=17?c-17+10:c,r(c>=0&&a<i,"Invalid character"),o+=a}return o}function c(e,t){e.words=t.words,e.length=t.length,e.negative=t.negative,e.red=t.red}function l(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}o.isBN=function(e){return e instanceof o||null!==e&&"object"===typeof e&&e.constructor.wordSize===o.wordSize&&Array.isArray(e.words)},o.max=function(e,t){return e.cmp(t)>0?e:t},o.min=function(e,t){return e.cmp(t)<0?e:t},o.prototype._init=function(e,t,n){if("number"===typeof e)return this._initNumber(e,t,n);if("object"===typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&i++,16===t?this._parseHex(e,i):this._parseBase(e,t,i),"-"===e[0]&&(this.negative=1),this._strip(),"le"===n&&this._initArray(this.toArray(),t,n)},o.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},o.prototype._initArray=function(e,t,n){if(r("number"===typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=e.length-1,o=0;i>=0;i-=3)a=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<e.length;i+=3)a=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this._strip()},o.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var r,i,o=0;for(n=e.length-6,r=0;n>=t;n-=6)i=s(e,n,n+6),this.words[r]|=i<<o&67108863,this.words[r+1]|=i>>>26-o&4194303,(o+=24)>=26&&(o-=26,r++);n+6!==t&&(i=s(e,t,n+6),this.words[r]|=i<<o&67108863,this.words[r+1]|=i>>>26-o&4194303),this._strip()},o.prototype._parseBase=function(e,t,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=t)r++;r--,i=i/t|0;for(var o=e.length-n,a=o%r,s=Math.min(o,o-a)+n,c=0,l=n;l<s;l+=r)c=u(e,l,l+r,t),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==a){var f=1;for(c=u(e,l,e.length,t),l=0;l<a;l++)f*=t;this.imuln(f),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}},o.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},o.prototype._move=function(e){c(e,this)},o.prototype.clone=function(){var e=new o(null);return this.copy(e),e},o.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!==typeof Symbol&&"function"===typeof Symbol.for?o.prototype[Symbol.for("nodejs.util.inspect.custom")]=l:o.prototype.inspect=l;var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],d=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],h=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<i|o)).toString(16);n=0!==(o=s>>>24-i&16777215)||a!==this.length-1?f[6-u.length]+u+n:u+n,(i+=2)>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%t!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var c=d[e],l=h[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var v=p.modrn(l).toString(e);n=(p=p.idivn(l)).isZero()?v+n:f[c-v.length]+v+n}for(this.isZero()&&(n="0"+n);n.length%t!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},o.prototype.toJSON=function(){return this.toString(16,2)},a&&(o.prototype.toBuffer=function(e,t){return this.toArrayLike(a,e,t)}),o.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)};function p(e,t,n){n.negative=t.negative^e.negative;var r=e.length+t.length|0;n.length=r,r=r-1|0;var i=0|e.words[0],o=0|t.words[0],a=i*o,s=67108863&a,u=a/67108864|0;n.words[0]=s;for(var c=1;c<r;c++){for(var l=u>>>26,f=67108863&u,d=Math.min(c,t.length-1),h=Math.max(0,c-e.length+1);h<=d;h++){var p=c-h|0;l+=(a=(i=0|e.words[p])*(o=0|t.words[h])+f)/67108864|0,f=67108863&a}n.words[c]=0|f,u=0|l}return 0!==u?n.words[c]=0|u:n.length--,n._strip()}o.prototype.toArrayLike=function(e,t,n){this._strip();var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0");var a=function(e,t){return e.allocUnsafe?e.allocUnsafe(t):new e(t)}(e,o);return this["_toArrayLike"+("le"===t?"LE":"BE")](a,i),a},o.prototype._toArrayLikeLE=function(e,t){for(var n=0,r=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|r;e[n++]=255&a,n<e.length&&(e[n++]=a>>8&255),n<e.length&&(e[n++]=a>>16&255),6===o?(n<e.length&&(e[n++]=a>>24&255),r=0,o=0):(r=a>>>24,o+=2)}if(n<e.length)for(e[n++]=r;n<e.length;)e[n++]=0},o.prototype._toArrayLikeBE=function(e,t){for(var n=e.length-1,r=0,i=0,o=0;i<this.length;i++){var a=this.words[i]<<o|r;e[n--]=255&a,n>=0&&(e[n--]=a>>8&255),n>=0&&(e[n--]=a>>16&255),6===o?(n>=0&&(e[n--]=a>>24&255),r=0,o=0):(r=a>>>24,o+=2)}if(n>=0)for(e[n--]=r;n>=0;)e[n--]=0},Math.clz32?o.prototype._countBits=function(e){return 32-Math.clz32(e)}:o.prototype._countBits=function(e){var t=e,n=0;return t>=4096&&(n+=13,t>>>=13),t>=64&&(n+=7,t>>>=7),t>=8&&(n+=4,t>>>=4),t>=2&&(n+=2,t>>>=2),n+t},o.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,n=0;return 0===(8191&t)&&(n+=13,t>>>=13),0===(127&t)&&(n+=7,t>>>=7),0===(15&t)&&(n+=4,t>>>=4),0===(3&t)&&(n+=2,t>>>=2),0===(1&t)&&n++,n},o.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var n=this._zeroBits(this.words[t]);if(e+=n,26!==n)break}return e},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},o.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this._strip()},o.prototype.ior=function(e){return r(0===(this.negative|e.negative)),this.iuor(e)},o.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},o.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},o.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var n=0;n<t.length;n++)this.words[n]=this.words[n]&e.words[n];return this.length=t.length,this._strip()},o.prototype.iand=function(e){return r(0===(this.negative|e.negative)),this.iuand(e)},o.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},o.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},o.prototype.iuxor=function(e){var t,n;this.length>e.length?(t=this,n=e):(t=e,n=this);for(var r=0;r<n.length;r++)this.words[r]=t.words[r]^n.words[r];if(this!==t)for(;r<t.length;r++)this.words[r]=t.words[r];return this.length=t.length,this._strip()},o.prototype.ixor=function(e){return r(0===(this.negative|e.negative)),this.iuxor(e)},o.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},o.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},o.prototype.inotn=function(e){r("number"===typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this._strip()},o.prototype.notn=function(e){return this.clone().inotn(e)},o.prototype.setn=function(e,t){r("number"===typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this._strip()},o.prototype.iadd=function(e){var t,n,r;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(n=this,r=e):(n=e,r=this);for(var i=0,o=0;o<r.length;o++)t=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&t,i=t>>>26;for(;0!==i&&o<n.length;o++)t=(0|n.words[o])+i,this.words[o]=67108863&t,i=t>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},o.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var n,r,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(n=this,r=e):(n=e,r=this);for(var o=0,a=0;a<r.length;a++)o=(t=(0|n.words[a])-(0|r.words[a])+o)>>26,this.words[a]=67108863&t;for(;0!==o&&a<n.length;a++)o=(t=(0|n.words[a])+o)>>26,this.words[a]=67108863&t;if(0===o&&a<n.length&&n!==this)for(;a<n.length;a++)this.words[a]=n.words[a];return this.length=Math.max(this.length,a),n!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(e){return this.clone().isub(e)};var v=function(e,t,n){var r,i,o,a=e.words,s=t.words,u=n.words,c=0,l=0|a[0],f=8191&l,d=l>>>13,h=0|a[1],p=8191&h,v=h>>>13,m=0|a[2],g=8191&m,y=m>>>13,b=0|a[3],w=8191&b,_=b>>>13,E=0|a[4],S=8191&E,x=E>>>13,O=0|a[5],C=8191&O,k=O>>>13,T=0|a[6],A=8191&T,I=T>>>13,D=0|a[7],P=8191&D,R=D>>>13,N=0|a[8],j=8191&N,M=N>>>13,L=0|a[9],F=8191&L,B=L>>>13,U=0|s[0],V=8191&U,z=U>>>13,q=0|s[1],Z=8191&q,H=q>>>13,W=0|s[2],G=8191&W,K=W>>>13,J=0|s[3],Y=8191&J,$=J>>>13,X=0|s[4],Q=8191&X,ee=X>>>13,te=0|s[5],ne=8191&te,re=te>>>13,ie=0|s[6],oe=8191&ie,ae=ie>>>13,se=0|s[7],ue=8191&se,ce=se>>>13,le=0|s[8],fe=8191&le,de=le>>>13,he=0|s[9],pe=8191&he,ve=he>>>13;n.negative=e.negative^t.negative,n.length=19;var me=(c+(r=Math.imul(f,V))|0)+((8191&(i=(i=Math.imul(f,z))+Math.imul(d,V)|0))<<13)|0;c=((o=Math.imul(d,z))+(i>>>13)|0)+(me>>>26)|0,me&=67108863,r=Math.imul(p,V),i=(i=Math.imul(p,z))+Math.imul(v,V)|0,o=Math.imul(v,z);var ge=(c+(r=r+Math.imul(f,Z)|0)|0)+((8191&(i=(i=i+Math.imul(f,H)|0)+Math.imul(d,Z)|0))<<13)|0;c=((o=o+Math.imul(d,H)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,r=Math.imul(g,V),i=(i=Math.imul(g,z))+Math.imul(y,V)|0,o=Math.imul(y,z),r=r+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,H)|0)+Math.imul(v,Z)|0,o=o+Math.imul(v,H)|0;var ye=(c+(r=r+Math.imul(f,G)|0)|0)+((8191&(i=(i=i+Math.imul(f,K)|0)+Math.imul(d,G)|0))<<13)|0;c=((o=o+Math.imul(d,K)|0)+(i>>>13)|0)+(ye>>>26)|0,ye&=67108863,r=Math.imul(w,V),i=(i=Math.imul(w,z))+Math.imul(_,V)|0,o=Math.imul(_,z),r=r+Math.imul(g,Z)|0,i=(i=i+Math.imul(g,H)|0)+Math.imul(y,Z)|0,o=o+Math.imul(y,H)|0,r=r+Math.imul(p,G)|0,i=(i=i+Math.imul(p,K)|0)+Math.imul(v,G)|0,o=o+Math.imul(v,K)|0;var be=(c+(r=r+Math.imul(f,Y)|0)|0)+((8191&(i=(i=i+Math.imul(f,$)|0)+Math.imul(d,Y)|0))<<13)|0;c=((o=o+Math.imul(d,$)|0)+(i>>>13)|0)+(be>>>26)|0,be&=67108863,r=Math.imul(S,V),i=(i=Math.imul(S,z))+Math.imul(x,V)|0,o=Math.imul(x,z),r=r+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,H)|0)+Math.imul(_,Z)|0,o=o+Math.imul(_,H)|0,r=r+Math.imul(g,G)|0,i=(i=i+Math.imul(g,K)|0)+Math.imul(y,G)|0,o=o+Math.imul(y,K)|0,r=r+Math.imul(p,Y)|0,i=(i=i+Math.imul(p,$)|0)+Math.imul(v,Y)|0,o=o+Math.imul(v,$)|0;var we=(c+(r=r+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,ee)|0)+Math.imul(d,Q)|0))<<13)|0;c=((o=o+Math.imul(d,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,r=Math.imul(C,V),i=(i=Math.imul(C,z))+Math.imul(k,V)|0,o=Math.imul(k,z),r=r+Math.imul(S,Z)|0,i=(i=i+Math.imul(S,H)|0)+Math.imul(x,Z)|0,o=o+Math.imul(x,H)|0,r=r+Math.imul(w,G)|0,i=(i=i+Math.imul(w,K)|0)+Math.imul(_,G)|0,o=o+Math.imul(_,K)|0,r=r+Math.imul(g,Y)|0,i=(i=i+Math.imul(g,$)|0)+Math.imul(y,Y)|0,o=o+Math.imul(y,$)|0,r=r+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(v,Q)|0,o=o+Math.imul(v,ee)|0;var _e=(c+(r=r+Math.imul(f,ne)|0)|0)+((8191&(i=(i=i+Math.imul(f,re)|0)+Math.imul(d,ne)|0))<<13)|0;c=((o=o+Math.imul(d,re)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,r=Math.imul(A,V),i=(i=Math.imul(A,z))+Math.imul(I,V)|0,o=Math.imul(I,z),r=r+Math.imul(C,Z)|0,i=(i=i+Math.imul(C,H)|0)+Math.imul(k,Z)|0,o=o+Math.imul(k,H)|0,r=r+Math.imul(S,G)|0,i=(i=i+Math.imul(S,K)|0)+Math.imul(x,G)|0,o=o+Math.imul(x,K)|0,r=r+Math.imul(w,Y)|0,i=(i=i+Math.imul(w,$)|0)+Math.imul(_,Y)|0,o=o+Math.imul(_,$)|0,r=r+Math.imul(g,Q)|0,i=(i=i+Math.imul(g,ee)|0)+Math.imul(y,Q)|0,o=o+Math.imul(y,ee)|0,r=r+Math.imul(p,ne)|0,i=(i=i+Math.imul(p,re)|0)+Math.imul(v,ne)|0,o=o+Math.imul(v,re)|0;var Ee=(c+(r=r+Math.imul(f,oe)|0)|0)+((8191&(i=(i=i+Math.imul(f,ae)|0)+Math.imul(d,oe)|0))<<13)|0;c=((o=o+Math.imul(d,ae)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,r=Math.imul(P,V),i=(i=Math.imul(P,z))+Math.imul(R,V)|0,o=Math.imul(R,z),r=r+Math.imul(A,Z)|0,i=(i=i+Math.imul(A,H)|0)+Math.imul(I,Z)|0,o=o+Math.imul(I,H)|0,r=r+Math.imul(C,G)|0,i=(i=i+Math.imul(C,K)|0)+Math.imul(k,G)|0,o=o+Math.imul(k,K)|0,r=r+Math.imul(S,Y)|0,i=(i=i+Math.imul(S,$)|0)+Math.imul(x,Y)|0,o=o+Math.imul(x,$)|0,r=r+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(_,Q)|0,o=o+Math.imul(_,ee)|0,r=r+Math.imul(g,ne)|0,i=(i=i+Math.imul(g,re)|0)+Math.imul(y,ne)|0,o=o+Math.imul(y,re)|0,r=r+Math.imul(p,oe)|0,i=(i=i+Math.imul(p,ae)|0)+Math.imul(v,oe)|0,o=o+Math.imul(v,ae)|0;var Se=(c+(r=r+Math.imul(f,ue)|0)|0)+((8191&(i=(i=i+Math.imul(f,ce)|0)+Math.imul(d,ue)|0))<<13)|0;c=((o=o+Math.imul(d,ce)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,r=Math.imul(j,V),i=(i=Math.imul(j,z))+Math.imul(M,V)|0,o=Math.imul(M,z),r=r+Math.imul(P,Z)|0,i=(i=i+Math.imul(P,H)|0)+Math.imul(R,Z)|0,o=o+Math.imul(R,H)|0,r=r+Math.imul(A,G)|0,i=(i=i+Math.imul(A,K)|0)+Math.imul(I,G)|0,o=o+Math.imul(I,K)|0,r=r+Math.imul(C,Y)|0,i=(i=i+Math.imul(C,$)|0)+Math.imul(k,Y)|0,o=o+Math.imul(k,$)|0,r=r+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(x,Q)|0,o=o+Math.imul(x,ee)|0,r=r+Math.imul(w,ne)|0,i=(i=i+Math.imul(w,re)|0)+Math.imul(_,ne)|0,o=o+Math.imul(_,re)|0,r=r+Math.imul(g,oe)|0,i=(i=i+Math.imul(g,ae)|0)+Math.imul(y,oe)|0,o=o+Math.imul(y,ae)|0,r=r+Math.imul(p,ue)|0,i=(i=i+Math.imul(p,ce)|0)+Math.imul(v,ue)|0,o=o+Math.imul(v,ce)|0;var xe=(c+(r=r+Math.imul(f,fe)|0)|0)+((8191&(i=(i=i+Math.imul(f,de)|0)+Math.imul(d,fe)|0))<<13)|0;c=((o=o+Math.imul(d,de)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,r=Math.imul(F,V),i=(i=Math.imul(F,z))+Math.imul(B,V)|0,o=Math.imul(B,z),r=r+Math.imul(j,Z)|0,i=(i=i+Math.imul(j,H)|0)+Math.imul(M,Z)|0,o=o+Math.imul(M,H)|0,r=r+Math.imul(P,G)|0,i=(i=i+Math.imul(P,K)|0)+Math.imul(R,G)|0,o=o+Math.imul(R,K)|0,r=r+Math.imul(A,Y)|0,i=(i=i+Math.imul(A,$)|0)+Math.imul(I,Y)|0,o=o+Math.imul(I,$)|0,r=r+Math.imul(C,Q)|0,i=(i=i+Math.imul(C,ee)|0)+Math.imul(k,Q)|0,o=o+Math.imul(k,ee)|0,r=r+Math.imul(S,ne)|0,i=(i=i+Math.imul(S,re)|0)+Math.imul(x,ne)|0,o=o+Math.imul(x,re)|0,r=r+Math.imul(w,oe)|0,i=(i=i+Math.imul(w,ae)|0)+Math.imul(_,oe)|0,o=o+Math.imul(_,ae)|0,r=r+Math.imul(g,ue)|0,i=(i=i+Math.imul(g,ce)|0)+Math.imul(y,ue)|0,o=o+Math.imul(y,ce)|0,r=r+Math.imul(p,fe)|0,i=(i=i+Math.imul(p,de)|0)+Math.imul(v,fe)|0,o=o+Math.imul(v,de)|0;var Oe=(c+(r=r+Math.imul(f,pe)|0)|0)+((8191&(i=(i=i+Math.imul(f,ve)|0)+Math.imul(d,pe)|0))<<13)|0;c=((o=o+Math.imul(d,ve)|0)+(i>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,r=Math.imul(F,Z),i=(i=Math.imul(F,H))+Math.imul(B,Z)|0,o=Math.imul(B,H),r=r+Math.imul(j,G)|0,i=(i=i+Math.imul(j,K)|0)+Math.imul(M,G)|0,o=o+Math.imul(M,K)|0,r=r+Math.imul(P,Y)|0,i=(i=i+Math.imul(P,$)|0)+Math.imul(R,Y)|0,o=o+Math.imul(R,$)|0,r=r+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,ee)|0)+Math.imul(I,Q)|0,o=o+Math.imul(I,ee)|0,r=r+Math.imul(C,ne)|0,i=(i=i+Math.imul(C,re)|0)+Math.imul(k,ne)|0,o=o+Math.imul(k,re)|0,r=r+Math.imul(S,oe)|0,i=(i=i+Math.imul(S,ae)|0)+Math.imul(x,oe)|0,o=o+Math.imul(x,ae)|0,r=r+Math.imul(w,ue)|0,i=(i=i+Math.imul(w,ce)|0)+Math.imul(_,ue)|0,o=o+Math.imul(_,ce)|0,r=r+Math.imul(g,fe)|0,i=(i=i+Math.imul(g,de)|0)+Math.imul(y,fe)|0,o=o+Math.imul(y,de)|0;var Ce=(c+(r=r+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ve)|0)+Math.imul(v,pe)|0))<<13)|0;c=((o=o+Math.imul(v,ve)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,r=Math.imul(F,G),i=(i=Math.imul(F,K))+Math.imul(B,G)|0,o=Math.imul(B,K),r=r+Math.imul(j,Y)|0,i=(i=i+Math.imul(j,$)|0)+Math.imul(M,Y)|0,o=o+Math.imul(M,$)|0,r=r+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(R,Q)|0,o=o+Math.imul(R,ee)|0,r=r+Math.imul(A,ne)|0,i=(i=i+Math.imul(A,re)|0)+Math.imul(I,ne)|0,o=o+Math.imul(I,re)|0,r=r+Math.imul(C,oe)|0,i=(i=i+Math.imul(C,ae)|0)+Math.imul(k,oe)|0,o=o+Math.imul(k,ae)|0,r=r+Math.imul(S,ue)|0,i=(i=i+Math.imul(S,ce)|0)+Math.imul(x,ue)|0,o=o+Math.imul(x,ce)|0,r=r+Math.imul(w,fe)|0,i=(i=i+Math.imul(w,de)|0)+Math.imul(_,fe)|0,o=o+Math.imul(_,de)|0;var ke=(c+(r=r+Math.imul(g,pe)|0)|0)+((8191&(i=(i=i+Math.imul(g,ve)|0)+Math.imul(y,pe)|0))<<13)|0;c=((o=o+Math.imul(y,ve)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,r=Math.imul(F,Y),i=(i=Math.imul(F,$))+Math.imul(B,Y)|0,o=Math.imul(B,$),r=r+Math.imul(j,Q)|0,i=(i=i+Math.imul(j,ee)|0)+Math.imul(M,Q)|0,o=o+Math.imul(M,ee)|0,r=r+Math.imul(P,ne)|0,i=(i=i+Math.imul(P,re)|0)+Math.imul(R,ne)|0,o=o+Math.imul(R,re)|0,r=r+Math.imul(A,oe)|0,i=(i=i+Math.imul(A,ae)|0)+Math.imul(I,oe)|0,o=o+Math.imul(I,ae)|0,r=r+Math.imul(C,ue)|0,i=(i=i+Math.imul(C,ce)|0)+Math.imul(k,ue)|0,o=o+Math.imul(k,ce)|0,r=r+Math.imul(S,fe)|0,i=(i=i+Math.imul(S,de)|0)+Math.imul(x,fe)|0,o=o+Math.imul(x,de)|0;var Te=(c+(r=r+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,ve)|0)+Math.imul(_,pe)|0))<<13)|0;c=((o=o+Math.imul(_,ve)|0)+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,r=Math.imul(F,Q),i=(i=Math.imul(F,ee))+Math.imul(B,Q)|0,o=Math.imul(B,ee),r=r+Math.imul(j,ne)|0,i=(i=i+Math.imul(j,re)|0)+Math.imul(M,ne)|0,o=o+Math.imul(M,re)|0,r=r+Math.imul(P,oe)|0,i=(i=i+Math.imul(P,ae)|0)+Math.imul(R,oe)|0,o=o+Math.imul(R,ae)|0,r=r+Math.imul(A,ue)|0,i=(i=i+Math.imul(A,ce)|0)+Math.imul(I,ue)|0,o=o+Math.imul(I,ce)|0,r=r+Math.imul(C,fe)|0,i=(i=i+Math.imul(C,de)|0)+Math.imul(k,fe)|0,o=o+Math.imul(k,de)|0;var Ae=(c+(r=r+Math.imul(S,pe)|0)|0)+((8191&(i=(i=i+Math.imul(S,ve)|0)+Math.imul(x,pe)|0))<<13)|0;c=((o=o+Math.imul(x,ve)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,r=Math.imul(F,ne),i=(i=Math.imul(F,re))+Math.imul(B,ne)|0,o=Math.imul(B,re),r=r+Math.imul(j,oe)|0,i=(i=i+Math.imul(j,ae)|0)+Math.imul(M,oe)|0,o=o+Math.imul(M,ae)|0,r=r+Math.imul(P,ue)|0,i=(i=i+Math.imul(P,ce)|0)+Math.imul(R,ue)|0,o=o+Math.imul(R,ce)|0,r=r+Math.imul(A,fe)|0,i=(i=i+Math.imul(A,de)|0)+Math.imul(I,fe)|0,o=o+Math.imul(I,de)|0;var Ie=(c+(r=r+Math.imul(C,pe)|0)|0)+((8191&(i=(i=i+Math.imul(C,ve)|0)+Math.imul(k,pe)|0))<<13)|0;c=((o=o+Math.imul(k,ve)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,r=Math.imul(F,oe),i=(i=Math.imul(F,ae))+Math.imul(B,oe)|0,o=Math.imul(B,ae),r=r+Math.imul(j,ue)|0,i=(i=i+Math.imul(j,ce)|0)+Math.imul(M,ue)|0,o=o+Math.imul(M,ce)|0,r=r+Math.imul(P,fe)|0,i=(i=i+Math.imul(P,de)|0)+Math.imul(R,fe)|0,o=o+Math.imul(R,de)|0;var De=(c+(r=r+Math.imul(A,pe)|0)|0)+((8191&(i=(i=i+Math.imul(A,ve)|0)+Math.imul(I,pe)|0))<<13)|0;c=((o=o+Math.imul(I,ve)|0)+(i>>>13)|0)+(De>>>26)|0,De&=67108863,r=Math.imul(F,ue),i=(i=Math.imul(F,ce))+Math.imul(B,ue)|0,o=Math.imul(B,ce),r=r+Math.imul(j,fe)|0,i=(i=i+Math.imul(j,de)|0)+Math.imul(M,fe)|0,o=o+Math.imul(M,de)|0;var Pe=(c+(r=r+Math.imul(P,pe)|0)|0)+((8191&(i=(i=i+Math.imul(P,ve)|0)+Math.imul(R,pe)|0))<<13)|0;c=((o=o+Math.imul(R,ve)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,r=Math.imul(F,fe),i=(i=Math.imul(F,de))+Math.imul(B,fe)|0,o=Math.imul(B,de);var Re=(c+(r=r+Math.imul(j,pe)|0)|0)+((8191&(i=(i=i+Math.imul(j,ve)|0)+Math.imul(M,pe)|0))<<13)|0;c=((o=o+Math.imul(M,ve)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863;var Ne=(c+(r=Math.imul(F,pe))|0)+((8191&(i=(i=Math.imul(F,ve))+Math.imul(B,pe)|0))<<13)|0;return c=((o=Math.imul(B,ve))+(i>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,u[0]=me,u[1]=ge,u[2]=ye,u[3]=be,u[4]=we,u[5]=_e,u[6]=Ee,u[7]=Se,u[8]=xe,u[9]=Oe,u[10]=Ce,u[11]=ke,u[12]=Te,u[13]=Ae,u[14]=Ie,u[15]=De,u[16]=Pe,u[17]=Re,u[18]=Ne,0!==c&&(u[19]=c,n.length++),n};function m(e,t,n){n.negative=t.negative^e.negative,n.length=e.length+t.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var a=i;i=0;for(var s=67108863&r,u=Math.min(o,t.length-1),c=Math.max(0,o-e.length+1);c<=u;c++){var l=o-c,f=(0|e.words[l])*(0|t.words[c]),d=67108863&f;s=67108863&(d=d+s|0),i+=(a=(a=a+(f/67108864|0)|0)+(d>>>26)|0)>>>26,a&=67108863}n.words[o]=s,r=a,a=i}return 0!==r?n.words[o]=r:n.length--,n._strip()}function g(e,t,n){return m(e,t,n)}function y(e,t){this.x=e,this.y=t}Math.imul||(v=p),o.prototype.mulTo=function(e,t){var n=this.length+e.length;return 10===this.length&&10===e.length?v(this,e,t):n<63?p(this,e,t):n<1024?m(this,e,t):g(this,e,t)},y.prototype.makeRBT=function(e){for(var t=new Array(e),n=o.prototype._countBits(e)-1,r=0;r<e;r++)t[r]=this.revBin(r,n,e);return t},y.prototype.revBin=function(e,t,n){if(0===e||e===n-1)return e;for(var r=0,i=0;i<t;i++)r|=(1&e)<<t-i-1,e>>=1;return r},y.prototype.permute=function(e,t,n,r,i,o){for(var a=0;a<o;a++)r[a]=t[e[a]],i[a]=n[e[a]]},y.prototype.transform=function(e,t,n,r,i,o){this.permute(o,e,t,n,r,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),l=0;l<i;l+=s)for(var f=u,d=c,h=0;h<a;h++){var p=n[l+h],v=r[l+h],m=n[l+h+a],g=r[l+h+a],y=f*m-d*g;g=f*g+d*m,m=y,n[l+h]=p+m,r[l+h]=v+g,n[l+h+a]=p-m,r[l+h+a]=v-g,h!==s&&(y=u*f-c*d,d=u*d+c*f,f=y)}},y.prototype.guessLen13b=function(e,t){var n=1|Math.max(t,e),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},y.prototype.conjugate=function(e,t,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=e[r];e[r]=e[n-r-1],e[n-r-1]=i,i=t[r],t[r]=-t[n-r-1],t[n-r-1]=-i}},y.prototype.normalize13b=function(e,t){for(var n=0,r=0;r<t/2;r++){var i=8192*Math.round(e[2*r+1]/t)+Math.round(e[2*r]/t)+n;e[r]=67108863&i,n=i<67108864?0:i/67108864|0}return e},y.prototype.convert13b=function(e,t,n,i){for(var o=0,a=0;a<t;a++)o+=0|e[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*t;a<i;++a)n[a]=0;r(0===o),r(0===(-8192&o))},y.prototype.stub=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=0;return t},y.prototype.mulp=function(e,t,n){var r=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(r),o=this.stub(r),a=new Array(r),s=new Array(r),u=new Array(r),c=new Array(r),l=new Array(r),f=new Array(r),d=n.words;d.length=r,this.convert13b(e.words,e.length,a,r),this.convert13b(t.words,t.length,c,r),this.transform(a,o,s,u,r,i),this.transform(c,o,l,f,r,i);for(var h=0;h<r;h++){var p=s[h]*l[h]-u[h]*f[h];u[h]=s[h]*f[h]+u[h]*l[h],s[h]=p}return this.conjugate(s,u,r),this.transform(s,u,d,o,r,i),this.conjugate(d,o,r),this.normalize13b(d,r),n.negative=e.negative^t.negative,n.length=e.length+t.length,n._strip()},o.prototype.mul=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},o.prototype.mulf=function(e){var t=new o(null);return t.words=new Array(this.length+e.length),g(this,e,t)},o.prototype.imul=function(e){return this.clone().mulTo(e,this)},o.prototype.imuln=function(e){var t=e<0;t&&(e=-e),r("number"===typeof e),r(e<67108864);for(var n=0,i=0;i<this.length;i++){var o=(0|this.words[i])*e,a=(67108863&o)+(67108863&n);n>>=26,n+=o/67108864|0,n+=a>>>26,this.words[i]=67108863&a}return 0!==n&&(this.words[i]=n,this.length++),t?this.ineg():this},o.prototype.muln=function(e){return this.clone().imuln(e)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),n=0;n<t.length;n++){var r=n/26|0,i=n%26;t[n]=e.words[r]>>>i&1}return t}(e);if(0===t.length)return new o(1);for(var n=this,r=0;r<t.length&&0===t[r];r++,n=n.sqr());if(++r<t.length)for(var i=n.sqr();r<t.length;r++,i=i.sqr())0!==t[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(e){r("number"===typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(t=0;t<this.length;t++){var s=this.words[t]&o,u=(0|this.words[t])-s<<n;this.words[t]=u|a,a=s>>>26-n}a&&(this.words[t]=a,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this._strip()},o.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},o.prototype.iushrn=function(e,t,n){var i;r("number"===typeof e&&e>=0),i=t?(t-t%26)/26:0;var o=e%26,a=Math.min((e-o)/26,this.length),s=67108863^67108863>>>o<<o,u=n;if(i-=a,i=Math.max(0,i),u){for(var c=0;c<a;c++)u.words[c]=this.words[c];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,c=0;c<this.length;c++)this.words[c]=this.words[c+a];else this.words[0]=0,this.length=1;var l=0;for(c=this.length-1;c>=0&&(0!==l||c>=i);c--){var f=0|this.words[c];this.words[c]=l<<26-o|f>>>o,l=f&s}return u&&0!==l&&(u.words[u.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},o.prototype.shln=function(e){return this.clone().ishln(e)},o.prototype.ushln=function(e){return this.clone().iushln(e)},o.prototype.shrn=function(e){return this.clone().ishrn(e)},o.prototype.ushrn=function(e){return this.clone().iushrn(e)},o.prototype.testn=function(e){r("number"===typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n)&&!!(this.words[n]&i)},o.prototype.imaskn=function(e){r("number"===typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this._strip()},o.prototype.maskn=function(e){return this.clone().imaskn(e)},o.prototype.iaddn=function(e){return r("number"===typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<=e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},o.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},o.prototype.isubn=function(e){if(r("number"===typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this._strip()},o.prototype.addn=function(e){return this.clone().iaddn(e)},o.prototype.subn=function(e){return this.clone().isubn(e)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(e,t,n){var i,o,a=e.length+n;this._expand(a);var s=0;for(i=0;i<e.length;i++){o=(0|this.words[i+n])+s;var u=(0|e.words[i])*t;s=((o-=67108863&u)>>26)-(u/67108864|0),this.words[i+n]=67108863&o}for(;i<this.length-n;i++)s=(o=(0|this.words[i+n])+s)>>26,this.words[i+n]=67108863&o;if(0===s)return this._strip();for(r(-1===s),s=0,i=0;i<this.length;i++)s=(o=-(0|this.words[i])+s)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},o.prototype._wordDiv=function(e,t){var n=(this.length,e.length),r=this.clone(),i=e,a=0|i.words[i.length-1];0!==(n=26-this._countBits(a))&&(i=i.ushln(n),r.iushln(n),a=0|i.words[i.length-1]);var s,u=r.length-i.length;if("mod"!==t){(s=new o(null)).length=u+1,s.words=new Array(s.length);for(var c=0;c<s.length;c++)s.words[c]=0}var l=r.clone()._ishlnsubmul(i,1,u);0===l.negative&&(r=l,s&&(s.words[u]=1));for(var f=u-1;f>=0;f--){var d=67108864*(0|r.words[i.length+f])+(0|r.words[i.length+f-1]);for(d=Math.min(d/a|0,67108863),r._ishlnsubmul(i,d,f);0!==r.negative;)d--,r.negative=0,r._ishlnsubmul(i,1,f),r.isZero()||(r.negative^=1);s&&(s.words[f]=d)}return s&&s._strip(),r._strip(),"div"!==t&&0!==n&&r.iushrn(n),{div:s||null,mod:r}},o.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:0!==this.negative&&0===e.negative?(s=this.neg().divmod(e,t),"mod"!==t&&(i=s.div.neg()),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(e)),{div:i,mod:a}):0===this.negative&&0!==e.negative?(s=this.divmod(e.neg(),t),"mod"!==t&&(i=s.div.neg()),{div:i,mod:s.mod}):0!==(this.negative&e.negative)?(s=this.neg().divmod(e.neg(),t),"div"!==t&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(e)),{div:s.div,mod:a}):e.length>this.length||this.cmp(e)<0?{div:new o(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new o(this.modrn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new o(this.modrn(e.words[0]))}:this._wordDiv(e,t);var i,a,s},o.prototype.div=function(e){return this.divmod(e,"div",!1).div},o.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},o.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},o.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var n=0!==t.div.negative?t.mod.isub(e):t.mod,r=e.ushrn(1),i=e.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},o.prototype.modrn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=(1<<26)%e,i=0,o=this.length-1;o>=0;o--)i=(n*i+(0|this.words[o]))%e;return t?-i:i},o.prototype.modn=function(e){return this.modrn(e)},o.prototype.idivn=function(e){var t=e<0;t&&(e=-e),r(e<=67108863);for(var n=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*n;this.words[i]=o/e|0,n=o%e}return this._strip(),t?this.ineg():this},o.prototype.divn=function(e){return this.clone().idivn(e)},o.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i=new o(1),a=new o(0),s=new o(0),u=new o(1),c=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++c;for(var l=n.clone(),f=t.clone();!t.isZero();){for(var d=0,h=1;0===(t.words[0]&h)&&d<26;++d,h<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(l),a.isub(f)),i.iushrn(1),a.iushrn(1);for(var p=0,v=1;0===(n.words[0]&v)&&p<26;++p,v<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(l),u.isub(f)),s.iushrn(1),u.iushrn(1);t.cmp(n)>=0?(t.isub(n),i.isub(s),a.isub(u)):(n.isub(t),s.isub(i),u.isub(a))}return{a:s,b:u,gcd:n.iushln(c)}},o.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var i,a=new o(1),s=new o(0),u=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var c=0,l=1;0===(t.words[0]&l)&&c<26;++c,l<<=1);if(c>0)for(t.iushrn(c);c-- >0;)a.isOdd()&&a.iadd(u),a.iushrn(1);for(var f=0,d=1;0===(n.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(n.iushrn(f);f-- >0;)s.isOdd()&&s.iadd(u),s.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(s)):(n.isub(t),s.isub(a))}return(i=0===t.cmpn(1)?a:s).cmpn(0)<0&&i.iadd(e),i},o.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),n=e.clone();t.negative=0,n.negative=0;for(var r=0;t.isEven()&&n.isEven();r++)t.iushrn(1),n.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=t.cmp(n);if(i<0){var o=t;t=n,n=o}else if(0===i||0===n.cmpn(1))break;t.isub(n)}return n.iushln(r)},o.prototype.invm=function(e){return this.egcd(e).a.umod(e)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(e){return this.words[0]&e},o.prototype.bincn=function(e){r("number"===typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];o=(s+=o)>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this._strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},o.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},o.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|e.words[n];if(r!==i){r<i?t=-1:r>i&&(t=1);break}}return t},o.prototype.gtn=function(e){return 1===this.cmpn(e)},o.prototype.gt=function(e){return 1===this.cmp(e)},o.prototype.gten=function(e){return this.cmpn(e)>=0},o.prototype.gte=function(e){return this.cmp(e)>=0},o.prototype.ltn=function(e){return-1===this.cmpn(e)},o.prototype.lt=function(e){return-1===this.cmp(e)},o.prototype.lten=function(e){return this.cmpn(e)<=0},o.prototype.lte=function(e){return this.cmp(e)<=0},o.prototype.eqn=function(e){return 0===this.cmpn(e)},o.prototype.eq=function(e){return 0===this.cmp(e)},o.red=function(e){return new O(e)},o.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(e){return this.red=e,this},o.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},o.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},o.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},o.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},o.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},o.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},o.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},o.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var b={k256:null,p224:null,p192:null,p25519:null};function w(e,t){this.name=e,this.p=new o(t,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function _(){w.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function E(){w.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function S(){w.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function x(){w.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function O(e){if("string"===typeof e){var t=o._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function C(e){O.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}w.prototype._tmp=function(){var e=new o(null);return e.words=new Array(Math.ceil(this.n/13)),e},w.prototype.ireduce=function(e){var t,n=e;do{this.split(n,this.tmp),t=(n=(n=this.imulK(n)).iadd(this.tmp)).bitLength()}while(t>this.n);var r=t<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):void 0!==n.strip?n.strip():n._strip(),n},w.prototype.split=function(e,t){e.iushrn(this.n,0,t)},w.prototype.imulK=function(e){return e.imul(this.k)},i(_,w),_.prototype.split=function(e,t){for(var n=4194303,r=Math.min(e.length,9),i=0;i<r;i++)t.words[i]=e.words[i];if(t.length=r,e.length<=9)return e.words[0]=0,void(e.length=1);var o=e.words[9];for(t.words[t.length++]=o&n,i=10;i<e.length;i++){var a=0|e.words[i];e.words[i-10]=(a&n)<<4|o>>>22,o=a}o>>>=22,e.words[i-10]=o,0===o&&e.length>10?e.length-=10:e.length-=9},_.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,n=0;n<e.length;n++){var r=0|e.words[n];t+=977*r,e.words[n]=67108863&t,t=64*r+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},i(E,w),i(S,w),i(x,w),x.prototype.imulK=function(e){for(var t=0,n=0;n<e.length;n++){var r=19*(0|e.words[n])+t,i=67108863&r;r>>>=26,e.words[n]=i,t=r}return 0!==t&&(e.words[e.length++]=t),e},o._prime=function(e){if(b[e])return b[e];var t;if("k256"===e)t=new _;else if("p224"===e)t=new E;else if("p192"===e)t=new S;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new x}return b[e]=t,t},O.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},O.prototype._verify2=function(e,t){r(0===(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},O.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):(c(e,e.umod(this.m)._forceRed(this)),e)},O.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},O.prototype.add=function(e,t){this._verify2(e,t);var n=e.add(t);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},O.prototype.iadd=function(e,t){this._verify2(e,t);var n=e.iadd(t);return n.cmp(this.m)>=0&&n.isub(this.m),n},O.prototype.sub=function(e,t){this._verify2(e,t);var n=e.sub(t);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},O.prototype.isub=function(e,t){this._verify2(e,t);var n=e.isub(t);return n.cmpn(0)<0&&n.iadd(this.m),n},O.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},O.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},O.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},O.prototype.isqr=function(e){return this.imul(e,e.clone())},O.prototype.sqr=function(e){return this.mul(e,e)},O.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2===1),3===t){var n=this.m.add(new o(1)).iushrn(2);return this.pow(e,n)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);r(!i.isZero());var s=new o(1).toRed(this),u=s.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);0!==this.pow(l,c).cmp(u);)l.redIAdd(u);for(var f=this.pow(l,i),d=this.pow(e,i.addn(1).iushrn(1)),h=this.pow(e,i),p=a;0!==h.cmp(s);){for(var v=h,m=0;0!==v.cmp(s);m++)v=v.redSqr();r(m<p);var g=this.pow(f,new o(1).iushln(p-m-1));d=d.redMul(g),f=g.redSqr(),h=h.redMul(f),p=m}return d},O.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},O.prototype.pow=function(e,t){if(t.isZero())return new o(1).toRed(this);if(0===t.cmpn(1))return e.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=e;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],e);var i=n[0],a=0,s=0,u=t.bitLength()%26;for(0===u&&(u=26),r=t.length-1;r>=0;r--){for(var c=t.words[r],l=u-1;l>=0;l--){var f=c>>l&1;i!==n[0]&&(i=this.sqr(i)),0!==f||0!==a?(a<<=1,a|=f,(4===++s||0===r&&0===l)&&(i=this.mul(i,n[a]),s=0,a=0)):s=0}u=26}return i},O.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},O.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},o.mont=function(e){return new C(e)},i(C,O),C.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},C.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},C.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var n=e.imul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},C.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new o(0)._forceRed(this);var n=e.mul(t),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},C.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=n.nmd(e),this)},42:function(e){"use strict";const t={};function n(e,n,r){function i(e,t,r){return"string"===typeof n?n:n(e,t,r)}r||(r=Error);class o extends r{constructor(e,t,n){super(i(e,t,n))}}o.prototype.name=r.name,o.prototype.code=e,t[e]=o}function r(e,t){if(Array.isArray(e)){const n=e.length;return e=e.map((e=>String(e))),n>2?`one of ${t} ${e.slice(0,n-1).join(", ")}, or `+e[n-1]:2===n?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}return`of ${t} ${String(e)}`}n("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),n("ERR_INVALID_ARG_TYPE",(function(e,t,n){let i,o;if("string"===typeof t&&function(e,t,n){return e.substr(!n||n<0?0:+n,t.length)===t}(t,"not ")?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))o=`The ${e} ${i} ${r(t,"type")}`;else{const n=function(e,t,n){return"number"!==typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}(e,".")?"property":"argument";o=`The "${e}" ${n} ${i} ${r(t,"type")}`}return o+=". Received type "+typeof n,o}),TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},6744:function(e,t,n){"use strict";var r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=l;var o=n(8318),a=n(3877);n(7526)(l,o);for(var s=r(a.prototype),u=0;u<s.length;u++){var c=s[u];l.prototype[c]||(l.prototype[c]=a.prototype[c])}function l(e){if(!(this instanceof l))return new l(e);o.call(this,e),a.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",f)))}function f(){this._writableState.ended||i.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},6609:function(e,t,n){"use strict";e.exports=i;var r=n(9482);function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}n(7526)(i,r),i.prototype._transform=function(e,t,n){n(null,e)}},8318:function(e,t,r){"use strict";var o;e.exports=C,C.ReadableState=O;r(2361).EventEmitter;var a=function(e,t){return e.listeners(t).length},s=r(1727),u=r(4300).Buffer,c=n.g.Uint8Array||function(){};var l,f=r(3837);l=f&&f.debuglog?f.debuglog("stream"):function(){};var d,h,p,v=r(8469),m=r(9666),g=r(894).getHighWaterMark,y=r(42).q,b=y.ERR_INVALID_ARG_TYPE,w=y.ERR_STREAM_PUSH_AFTER_EOF,_=y.ERR_METHOD_NOT_IMPLEMENTED,E=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(7526)(C,s);var S=m.errorOrDestroy,x=["error","close","destroy","pause","resume"];function O(e,t,n){o=o||r(6744),e=e||{},"boolean"!==typeof n&&(n=t instanceof o),this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=g(this,e,"readableHighWaterMark",n),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(d||(d=r(5673).s),this.decoder=new d(e.encoding),this.encoding=e.encoding)}function C(e){if(o=o||r(6744),!(this instanceof C))return new C(e);var t=this instanceof o;this._readableState=new O(e,this,t),this.readable=!0,e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy)),s.call(this)}function k(e,t,n,r,i){l("readableAddChunk",t);var o,a=e._readableState;if(null===t)a.reading=!1,function(e,t){if(l("onEofChunk"),t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?D(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,P(e)))}(e,a);else if(i||(o=function(e,t){var n;(function(e){return u.isBuffer(e)||e instanceof c})(t)||"string"===typeof t||void 0===t||e.objectMode||(n=new b("chunk",["string","Buffer","Uint8Array"],t));return n}(a,t)),o)S(e,o);else if(a.objectMode||t&&t.length>0)if("string"===typeof t||a.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),r)a.endEmitted?S(e,new E):T(e,a,t,!0);else if(a.ended)S(e,new w);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?T(e,a,t,!1):R(e,a)):T(e,a,t,!1)}else r||(a.reading=!1,R(e,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function T(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&D(e)),R(e,t)}Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),C.prototype.destroy=m.destroy,C.prototype._undestroy=m.undestroy,C.prototype._destroy=function(e,t){t(e)},C.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"===typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=u.from(e,t),t=""),n=!0),k(this,e,t,!1,n)},C.prototype.unshift=function(e){return k(this,e,null,!0,!1)},C.prototype.isPaused=function(){return!1===this._readableState.flowing},C.prototype.setEncoding=function(e){d||(d=r(5673).s);var t=new d(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var A=1073741824;function I(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=A?e=A:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function D(e){var t=e._readableState;l("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(l("emitReadable",t.flowing),t.emittedReadable=!0,i.nextTick(P,e))}function P(e){var t=e._readableState;l("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,F(e)}function R(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(N,e,t))}function N(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(l("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function j(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function M(e){l("readable nexttick read 0"),e.read(0)}function L(e,t){l("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),F(e),t.flowing&&!t.reading&&e.read(0)}function F(e){var t=e._readableState;for(l("flow",t.flowing);t.flowing&&null!==e.read(););}function B(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function U(e){var t=e._readableState;l("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,i.nextTick(V,t,e))}function V(e,t){if(l("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function z(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}C.prototype.read=function(e){l("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return l("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?U(this):D(this),null;if(0===(e=I(e,t))&&t.ended)return 0===t.length&&U(this),null;var r,i=t.needReadable;return l("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&l("length less than watermark",i=!0),t.ended||t.reading?l("reading or ended",i=!1):i&&(l("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=I(n,t))),null===(r=e>0?B(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&U(this)),null!==r&&this.emit("data",r),r},C.prototype._read=function(e){S(this,new _("_read()"))},C.prototype.pipe=function(e,t){var n=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=e;break;case 1:r.pipes=[r.pipes,e];break;default:r.pipes.push(e)}r.pipesCount+=1,l("pipe count=%d opts=%j",r.pipesCount,t);var o=(!t||!1!==t.end)&&e!==i.stdout&&e!==i.stderr?u:g;function s(e,t){l("onunpipe"),e===n&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,d())}function u(){l("onend"),e.end()}r.endEmitted?i.nextTick(o):n.once("end",o),e.on("unpipe",s);var c=function(e){return function(){var t=e._readableState;l("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,F(e))}}(n);e.on("drain",c);var f=!1;function d(){l("cleanup"),e.removeListener("close",v),e.removeListener("finish",m),e.removeListener("drain",c),e.removeListener("error",p),e.removeListener("unpipe",s),n.removeListener("end",u),n.removeListener("end",g),n.removeListener("data",h),f=!0,!r.awaitDrain||e._writableState&&!e._writableState.needDrain||c()}function h(t){l("ondata");var i=e.write(t);l("dest.write",i),!1===i&&((1===r.pipesCount&&r.pipes===e||r.pipesCount>1&&-1!==z(r.pipes,e))&&!f&&(l("false write response, pause",r.awaitDrain),r.awaitDrain++),n.pause())}function p(t){l("onerror",t),g(),e.removeListener("error",p),0===a(e,"error")&&S(e,t)}function v(){e.removeListener("finish",m),g()}function m(){l("onfinish"),e.removeListener("close",v),g()}function g(){l("unpipe"),n.unpipe(e)}return n.on("data",h),function(e,t,n){if("function"===typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",p),e.once("close",v),e.once("finish",m),e.emit("pipe",n),r.flowing||(l("pipe resume"),n.resume()),e},C.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=z(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},C.prototype.on=function(e,t){var n=s.prototype.on.call(this,e,t),r=this._readableState;return"data"===e?(r.readableListening=this.listenerCount("readable")>0,!1!==r.flowing&&this.resume()):"readable"===e&&(r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,l("on readable",r.length,r.reading),r.length?D(this):r.reading||i.nextTick(M,this))),n},C.prototype.addListener=C.prototype.on,C.prototype.removeListener=function(e,t){var n=s.prototype.removeListener.call(this,e,t);return"readable"===e&&i.nextTick(j,this),n},C.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||i.nextTick(j,this),t},C.prototype.resume=function(){var e=this._readableState;return e.flowing||(l("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(L,e,t))}(this,e)),e.paused=!1,this},C.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},C.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(l("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(l("wrapped data"),n.decoder&&(i=n.decoder.write(i)),!n.objectMode||null!==i&&void 0!==i)&&((n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause())))})),e)void 0===this[i]&&"function"===typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<x.length;o++)e.on(x[o],this.emit.bind(this,x[o]));return this._read=function(t){l("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"===typeof Symbol&&(C.prototype[Symbol.asyncIterator]=function(){return void 0===h&&(h=r(509)),h(this)}),Object.defineProperty(C.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(C.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(C.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),C._fromList=B,Object.defineProperty(C.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"===typeof Symbol&&(C.from=function(e,t){return void 0===p&&(p=r(6171)),p(C,e,t)})},9482:function(e,t,n){"use strict";e.exports=l;var r=n(42).q,i=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,a=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=r.ERR_TRANSFORM_WITH_LENGTH_0,u=n(6744);function c(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new o);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);u.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",f)}function f(){var e=this;"function"!==typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush((function(t,n){d(e,t,n)}))}function d(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new s;if(e._transformState.transforming)throw new a;return e.push(null)}n(7526)(l,u),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,n){n(new i("_transform()"))},l.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,(function(e){t(e)}))}},3877:function(e,t,r){"use strict";function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}var a;e.exports=C,C.WritableState=O;var s={deprecate:r(5121)},u=r(1727),c=r(4300).Buffer,l=n.g.Uint8Array||function(){};var f,d=r(9666),h=r(894).getHighWaterMark,p=r(42).q,v=p.ERR_INVALID_ARG_TYPE,m=p.ERR_METHOD_NOT_IMPLEMENTED,g=p.ERR_MULTIPLE_CALLBACK,y=p.ERR_STREAM_CANNOT_PIPE,b=p.ERR_STREAM_DESTROYED,w=p.ERR_STREAM_NULL_VALUES,_=p.ERR_STREAM_WRITE_AFTER_END,E=p.ERR_UNKNOWN_ENCODING,S=d.errorOrDestroy;function x(){}function O(e,t,n){a=a||r(6744),e=e||{},"boolean"!==typeof n&&(n=t instanceof a),this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=h(this,e,"writableHighWaterMark",n),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,o=n.writecb;if("function"!==typeof o)throw new g;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,o){--t.pendingcb,n?(i.nextTick(o,r),i.nextTick(R,e,t),e._writableState.errorEmitted=!0,S(e,r)):(o(r),e._writableState.errorEmitted=!0,S(e,r),R(e,t))}(e,n,r,t,o);else{var a=D(n)||e.destroyed;a||n.corked||n.bufferProcessing||!n.bufferedRequest||I(e,n),r?i.nextTick(A,e,n,a,o):A(e,n,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function C(e){var t=this instanceof(a=a||r(6744));if(!t&&!f.call(C,this))return new C(e);this._writableState=new O(e,this,t),this.writable=!0,e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final)),u.call(this)}function k(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!==typeof t||(t=c.from(t,n)),t}function T(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new b("write")):n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function A(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),R(e,t)}function I(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),a=t.corkedRequestsFree;a.entry=n;for(var s=0,u=!0;n;)i[s]=n,n.isBuf||(u=!1),n=n.next,s+=1;i.allBuffers=u,T(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,l=n.encoding,f=n.callback;if(T(e,t,!1,t.objectMode?1:c.length,c,l,f),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function D(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function P(e,t){e._final((function(n){t.pendingcb--,n&&S(e,n),t.prefinished=!0,e.emit("prefinish"),R(e,t)}))}function R(e,t){var n=D(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!==typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,i.nextTick(P,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var r=e._readableState;(!r||r.autoDestroy&&r.endEmitted)&&e.destroy()}return n}r(7526)(C,u),O.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(O.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(e){return!!f.call(this,e)||this===C&&(e&&e._writableState instanceof O)}})):f=function(e){return e instanceof this},C.prototype.pipe=function(){S(this,new y)},C.prototype.write=function(e,t,n){var r=this._writableState,o=!1,a=!r.objectMode&&function(e){return c.isBuffer(e)||e instanceof l}(e);return a&&!c.isBuffer(e)&&(e=function(e){return c.from(e)}(e)),"function"===typeof t&&(n=t,t=null),a?t="buffer":t||(t=r.defaultEncoding),"function"!==typeof n&&(n=x),r.ending?function(e,t){var n=new _;S(e,n),i.nextTick(t,n)}(this,n):(a||function(e,t,n,r){var o;return null===n?o=new w:"string"===typeof n||t.objectMode||(o=new v("chunk",["string","Buffer"],n)),!o||(S(e,o),i.nextTick(r,o),!1)}(this,r,e,n))&&(r.pendingcb++,o=function(e,t,n,r,i,o){if(!n){var a=k(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else T(e,t,!1,s,r,i,o);return u}(this,r,a,e,t,n)),o},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||I(this,e))},C.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new E(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(C.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),C.prototype._write=function(e,t,n){n(new m("_write()"))},C.prototype._writev=null,C.prototype.end=function(e,t,n){var r=this._writableState;return"function"===typeof e?(n=e,e=null,t=null):"function"===typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||function(e,t,n){t.ending=!0,R(e,t),n&&(t.finished?i.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,r,n),this},Object.defineProperty(C.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),C.prototype.destroy=d.destroy,C.prototype._undestroy=d.undestroy,C.prototype._destroy=function(e,t){t(e)}},509:function(e,t,n){"use strict";var r;function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(1785),s=Symbol("lastResolve"),u=Symbol("lastReject"),c=Symbol("error"),l=Symbol("ended"),f=Symbol("lastPromise"),d=Symbol("handlePromise"),h=Symbol("stream");function p(e,t){return{value:e,done:t}}function v(e){var t=e[s];if(null!==t){var n=e[h].read();null!==n&&(e[f]=null,e[s]=null,e[u]=null,t(p(n,!1)))}}function m(e){i.nextTick(v,e)}var g=Object.getPrototypeOf((function(){})),y=Object.setPrototypeOf((r={get stream(){return this[h]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[l])return Promise.resolve(p(void 0,!0));if(this[h].destroyed)return new Promise((function(t,n){i.nextTick((function(){e[c]?n(e[c]):t(p(void 0,!0))}))}));var n,r=this[f];if(r)n=new Promise(function(e,t){return function(n,r){e.then((function(){t[l]?n(p(void 0,!0)):t[d](n,r)}),r)}}(r,this));else{var o=this[h].read();if(null!==o)return Promise.resolve(p(o,!1));n=new Promise(this[d])}return this[f]=n,n}},o(r,Symbol.asyncIterator,(function(){return this})),o(r,"return",(function(){var e=this;return new Promise((function(t,n){e[h].destroy(null,(function(e){e?n(e):t(p(void 0,!0))}))}))})),r),g);e.exports=function(e){var t,n=Object.create(y,(o(t={},h,{value:e,writable:!0}),o(t,s,{value:null,writable:!0}),o(t,u,{value:null,writable:!0}),o(t,c,{value:null,writable:!0}),o(t,l,{value:e._readableState.endEmitted,writable:!0}),o(t,d,{value:function(e,t){var r=n[h].read();r?(n[f]=null,n[s]=null,n[u]=null,e(p(r,!1))):(n[s]=e,n[u]=t)},writable:!0}),t));return n[f]=null,a(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[u];return null!==t&&(n[f]=null,n[s]=null,n[u]=null,t(e)),void(n[c]=e)}var r=n[s];null!==r&&(n[f]=null,n[s]=null,n[u]=null,r(p(void 0,!0))),n[l]=!0})),e.on("readable",m.bind(null,n)),n}},8469:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=n(4300).Buffer,s=n(3837).inspect,u=s&&s.custom||"inspect";function c(e,t,n){a.prototype.copy.call(e,t,n)}e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(e,[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return a.alloc(0);for(var t=a.allocUnsafe(e>>>0),n=this.head,r=0;n;)c(n.data,t,r),r+=n.data.length,n=n.next;return t}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?r+=i:r+=i.slice(0,e),0===(e-=o)){o===i.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(e){var t=a.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var i=n.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0===(e-=o)){o===i.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=i.slice(o));break}++r}return this.length-=r,t}},{key:u,value:function(e,t){return s(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}]),e}()},9666:function(e){"use strict";function t(e,t){r(e,t),n(e)}function n(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function r(e,t){e.emit("error",t)}e.exports={destroy:function(e,o){var a=this,s=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return s||u?(o?o(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(r,this,e)):i.nextTick(r,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!o&&e?a._writableState?a._writableState.errorEmitted?i.nextTick(n,a):(a._writableState.errorEmitted=!0,i.nextTick(t,a,e)):i.nextTick(t,a,e):o?(i.nextTick(n,a),o(e)):i.nextTick(n,a)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}}},1785:function(e,t,n){"use strict";var r=n(42).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,n,o){if("function"===typeof n)return e(t,null,n);n||(n={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}}(o||i);var a=n.readable||!1!==n.readable&&t.readable,s=n.writable||!1!==n.writable&&t.writable,u=function(){t.writable||l()},c=t._writableState&&t._writableState.finished,l=function(){s=!1,c=!0,a||o.call(t)},f=t._readableState&&t._readableState.endEmitted,d=function(){a=!1,f=!0,s||o.call(t)},h=function(e){o.call(t,e)},p=function(){var e;return a&&!f?(t._readableState&&t._readableState.ended||(e=new r),o.call(t,e)):s&&!c?(t._writableState&&t._writableState.ended||(e=new r),o.call(t,e)):void 0},v=function(){t.req.on("finish",l)};return!function(e){return e.setHeader&&"function"===typeof e.abort}(t)?s&&!t._writableState&&(t.on("end",u),t.on("close",u)):(t.on("complete",l),t.on("abort",p),t.req?v():t.on("request",v)),t.on("end",d),t.on("finish",l),!1!==n.error&&t.on("error",h),t.on("close",p),function(){t.removeListener("complete",l),t.removeListener("abort",p),t.removeListener("request",v),t.req&&t.req.removeListener("finish",l),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",l),t.removeListener("end",d),t.removeListener("error",h),t.removeListener("close",p)}}},6171:function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,u,"next",e)}function u(e){r(a,i,o,s,u,"throw",e)}s(void 0)}))}}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n(42).q.ERR_INVALID_ARG_TYPE;e.exports=function(e,t,n){var r;if(t&&"function"===typeof t.next)r=t;else if(t&&t[Symbol.asyncIterator])r=t[Symbol.asyncIterator]();else{if(!t||!t[Symbol.iterator])throw new s("iterable",["Iterable"],t);r=t[Symbol.iterator]()}var u=new e(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({objectMode:!0},n)),c=!1;function l(){return f.apply(this,arguments)}function f(){return f=i((function*(){try{var e=yield r.next(),t=e.value;e.done?u.push(null):u.push(yield t)?l():c=!1}catch(e){u.destroy(e)}})),f.apply(this,arguments)}return u._read=function(){c||(c=!0,l())},u}},7612:function(e,t,n){"use strict";var r;var i=n(42).q,o=i.ERR_MISSING_ARGS,a=i.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function u(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var s=!1;e.on("close",(function(){s=!0})),void 0===r&&(r=n(1785)),r(e,{readable:t,writable:i},(function(e){if(e)return o(e);s=!0,o()}));var u=!1;return function(t){if(!s&&!u)return u=!0,function(e){return e.setHeader&&"function"===typeof e.abort}(e)?e.abort():"function"===typeof e.destroy?e.destroy():void o(t||new a("pipe"))}}function c(e){e()}function l(e,t){return e.pipe(t)}function f(e){return e.length?"function"!==typeof e[e.length-1]?s:e.pop():s}e.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=f(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var a=t.map((function(e,n){var o=n<t.length-1;return u(e,o,n>0,(function(e){r||(r=e),e&&a.forEach(c),o||(a.forEach(c),i(r))}))}));return t.reduce(l)}},894:function(e,t,n){"use strict";var r=n(42).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,n,i){var o=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,i,n);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new r(i?n:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},1727:function(e,t,n){e.exports=n(2781)},6572:function(e,t,n){var r=n(2781);"disable"===i.env.READABLE_STREAM&&r?(e.exports=r.Readable,Object.assign(e.exports,r),e.exports.Stream=r):((t=e.exports=n(8318)).Stream=r||t,t.Readable=t,t.Writable=n(3877),t.Duplex=n(6744),t.Transform=n(9482),t.PassThrough=n(6609),t.finished=n(1785),t.pipeline=n(7612))},5673:function(e,t,n){"use strict";var r=n(3118).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!==typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=f,t=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function a(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!==(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2===0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function l(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.s=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},o.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=a(t[r]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=a(t[r]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=a(t[r]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},5653:function(e){e.exports=function(e,t){for(var n=Math.min(e.length,t.length),i=new r(n),o=0;o<n;++o)i[o]=e[o]^t[o];return i}},8826:function(e,t,n){var r=n(3118).Buffer,i=n(2781).Transform,o=n(1576).StringDecoder;function a(e){i.call(this),this.hashMode="string"===typeof e,this.hashMode?this[e]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}n(7526)(a,i),a.prototype.update=function(e,t,n){"string"===typeof e&&(e=r.from(e,t));var i=this._update(e);return this.hashMode?this:(n&&(i=this._toString(i,n)),i)},a.prototype.setAutoPadding=function(){},a.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},a.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},a.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},a.prototype._transform=function(e,t,n){var r;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(e){r=e}finally{n(r)}},a.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)},a.prototype._finalOrDigest=function(e){var t=this.__final()||r.alloc(0);return e&&(t=this._toString(t,e,!0)),t},a.prototype._toString=function(e,t,n){if(this._decoder||(this._decoder=new o(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var r=this._decoder.write(e);return n&&(r+=this._decoder.end()),r},e.exports=a},7354:function(e,t,n){var i=n(8818),o=n(6884);e.exports=function(e){return new s(e)};var a={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function s(e){this.curveType=a[e],this.curveType||(this.curveType={name:e}),this.curve=new i.ec(this.curveType.name),this.keys=void 0}function u(e,t,n){Array.isArray(e)||(e=e.toArray());var i=new r(e);if(n&&i.length<n){var o=new r(n-i.length);o.fill(0),i=r.concat([o,i])}return t?i.toString(t):i}a.p224=a.secp224r1,a.p256=a.secp256r1=a.prime256v1,a.p192=a.secp192r1=a.prime192v1,a.p384=a.secp384r1,a.p521=a.secp521r1,s.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},s.prototype.computeSecret=function(e,t,n){return t=t||"utf8",r.isBuffer(e)||(e=new r(e,t)),u(this.curve.keyFromPublic(e).getPublic().mul(this.keys.getPrivate()).getX(),n,this.curveType.byteLength)},s.prototype.getPublicKey=function(e,t){var n=this.keys.getPublic("compressed"===t,!0);return"hybrid"===t&&(n[n.length-1]%2?n[0]=7:n[0]=6),u(n,e)},s.prototype.getPrivateKey=function(e){return u(this.keys.getPrivate(),e)},s.prototype.setPublicKey=function(e,t){return t=t||"utf8",r.isBuffer(e)||(e=new r(e,t)),this.keys._importPublic(e),this},s.prototype.setPrivateKey=function(e,t){t=t||"utf8",r.isBuffer(e)||(e=new r(e,t));var n=new o(e);return n=n.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(n),this}},2539:function(e,t,n){"use strict";var r=n(7526),i=n(4125),o=n(7455),a=n(1862),s=n(8826);function u(e){s.call(this,"digest"),this._hash=e}r(u,s),u.prototype._update=function(e){this._hash.update(e)},u.prototype._final=function(){return this._hash.digest()},e.exports=function(e){return"md5"===(e=e.toLowerCase())?new i:"rmd160"===e||"ripemd160"===e?new o:new u(a(e))}},355:function(e,t,n){var r=n(4125);e.exports=function(e){return(new r).update(e).digest()}},2730:function(e,t,n){"use strict";var r=n(7526),i=n(2734),o=n(8826),a=n(3118).Buffer,s=n(355),u=n(7455),c=n(1862),l=a.alloc(128);function f(e,t){o.call(this,"digest"),"string"===typeof t&&(t=a.from(t));var n="sha512"===e||"sha384"===e?128:64;(this._alg=e,this._key=t,t.length>n)?t=("rmd160"===e?new u:c(e)).update(t).digest():t.length<n&&(t=a.concat([t,l],n));for(var r=this._ipad=a.allocUnsafe(n),i=this._opad=a.allocUnsafe(n),s=0;s<n;s++)r[s]=54^t[s],i[s]=92^t[s];this._hash="rmd160"===e?new u:c(e),this._hash.update(r)}r(f,o),f.prototype._update=function(e){this._hash.update(e)},f.prototype._final=function(){var e=this._hash.digest();return("rmd160"===this._alg?new u:c(this._alg)).update(this._opad).update(e).digest()},e.exports=function(e,t){return"rmd160"===(e=e.toLowerCase())||"ripemd160"===e?new f("rmd160",t):"md5"===e?new i(s,t):new f(e,t)}},2734:function(e,t,n){"use strict";var r=n(7526),i=n(3118).Buffer,o=n(8826),a=i.alloc(128),s=64;function u(e,t){o.call(this,"digest"),"string"===typeof t&&(t=i.from(t)),this._alg=e,this._key=t,t.length>s?t=e(t):t.length<s&&(t=i.concat([t,a],s));for(var n=this._ipad=i.allocUnsafe(s),r=this._opad=i.allocUnsafe(s),u=0;u<s;u++)n[u]=54^t[u],r[u]=92^t[u];this._hash=[n]}r(u,o),u.prototype._update=function(e){this._hash.push(e)},u.prototype._final=function(){var e=this._alg(i.concat(this._hash));return this._alg(i.concat([this._opad,e]))},e.exports=u},7795:function(e,t,n){"use strict";t.utils=n(6843),t.Cipher=n(1020),t.DES=n(9670),t.CBC=n(4065),t.EDE=n(2635)},4065:function(e,t,n){"use strict";var r=n(9036),i=n(7526),o={};function a(e){r.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=e[t]}t.instantiate=function(e){function t(t){e.call(this,t),this._cbcInit()}i(t,e);for(var n=Object.keys(o),r=0;r<n.length;r++){var a=n[r];t.prototype[a]=o[a]}return t.create=function(e){return new t(e)},t},o._cbcInit=function(){var e=new a(this.options.iv);this._cbcState=e},o._update=function(e,t,n,r){var i=this._cbcState,o=this.constructor.super_.prototype,a=i.iv;if("encrypt"===this.type){for(var s=0;s<this.blockSize;s++)a[s]^=e[t+s];o._update.call(this,a,0,n,r);for(s=0;s<this.blockSize;s++)a[s]=n[r+s]}else{o._update.call(this,e,t,n,r);for(s=0;s<this.blockSize;s++)n[r+s]^=a[s];for(s=0;s<this.blockSize;s++)a[s]=e[t+s]}}},1020:function(e,t,n){"use strict";var r=n(9036);function i(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}e.exports=i,i.prototype._init=function(){},i.prototype.update=function(e){return 0===e.length?[]:"decrypt"===this.type?this._updateDecrypt(e):this._updateEncrypt(e)},i.prototype._buffer=function(e,t){for(var n=Math.min(this.buffer.length-this.bufferOff,e.length-t),r=0;r<n;r++)this.buffer[this.bufferOff+r]=e[t+r];return this.bufferOff+=n,n},i.prototype._flushBuffer=function(e,t){return this._update(this.buffer,0,e,t),this.bufferOff=0,this.blockSize},i.prototype._updateEncrypt=function(e){var t=0,n=0,r=(this.bufferOff+e.length)/this.blockSize|0,i=new Array(r*this.blockSize);0!==this.bufferOff&&(t+=this._buffer(e,t),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(i,n)));for(var o=e.length-(e.length-t)%this.blockSize;t<o;t+=this.blockSize)this._update(e,t,i,n),n+=this.blockSize;for(;t<e.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=e[t];return i},i.prototype._updateDecrypt=function(e){for(var t=0,n=0,r=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,i=new Array(r*this.blockSize);r>0;r--)t+=this._buffer(e,t),n+=this._flushBuffer(i,n);return t+=this._buffer(e,t),i},i.prototype.final=function(e){var t,n;return e&&(t=this.update(e)),n="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),t?t.concat(n):n},i.prototype._pad=function(e,t){if(0===t)return!1;for(;t<e.length;)e[t++]=0;return!0},i.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e},i.prototype._unpad=function(e){return e},i.prototype._finalDecrypt=function(){r.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}},9670:function(e,t,n){"use strict";var r=n(9036),i=n(7526),o=n(6843),a=n(1020);function s(){this.tmp=new Array(2),this.keys=null}function u(e){a.call(this,e);var t=new s;this._desState=t,this.deriveKeys(t,e.key)}i(u,a),e.exports=u,u.create=function(e){return new u(e)};var c=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];u.prototype.deriveKeys=function(e,t){e.keys=new Array(32),r.equal(t.length,this.blockSize,"Invalid key length");var n=o.readUInt32BE(t,0),i=o.readUInt32BE(t,4);o.pc1(n,i,e.tmp,0),n=e.tmp[0],i=e.tmp[1];for(var a=0;a<e.keys.length;a+=2){var s=c[a>>>1];n=o.r28shl(n,s),i=o.r28shl(i,s),o.pc2(n,i,e.keys,a)}},u.prototype._update=function(e,t,n,r){var i=this._desState,a=o.readUInt32BE(e,t),s=o.readUInt32BE(e,t+4);o.ip(a,s,i.tmp,0),a=i.tmp[0],s=i.tmp[1],"encrypt"===this.type?this._encrypt(i,a,s,i.tmp,0):this._decrypt(i,a,s,i.tmp,0),a=i.tmp[0],s=i.tmp[1],o.writeUInt32BE(n,a,r),o.writeUInt32BE(n,s,r+4)},u.prototype._pad=function(e,t){for(var n=e.length-t,r=t;r<e.length;r++)e[r]=n;return!0},u.prototype._unpad=function(e){for(var t=e[e.length-1],n=e.length-t;n<e.length;n++)r.equal(e[n],t);return e.slice(0,e.length-t)},u.prototype._encrypt=function(e,t,n,r,i){for(var a=t,s=n,u=0;u<e.keys.length;u+=2){var c=e.keys[u],l=e.keys[u+1];o.expand(s,e.tmp,0),c^=e.tmp[0],l^=e.tmp[1];var f=o.substitute(c,l),d=s;s=(a^o.permute(f))>>>0,a=d}o.rip(s,a,r,i)},u.prototype._decrypt=function(e,t,n,r,i){for(var a=n,s=t,u=e.keys.length-2;u>=0;u-=2){var c=e.keys[u],l=e.keys[u+1];o.expand(a,e.tmp,0),c^=e.tmp[0],l^=e.tmp[1];var f=o.substitute(c,l),d=a;a=(s^o.permute(f))>>>0,s=d}o.rip(a,s,r,i)}},2635:function(e,t,n){"use strict";var r=n(9036),i=n(7526),o=n(1020),a=n(9670);function s(e,t){r.equal(t.length,24,"Invalid key length");var n=t.slice(0,8),i=t.slice(8,16),o=t.slice(16,24);this.ciphers="encrypt"===e?[a.create({type:"encrypt",key:n}),a.create({type:"decrypt",key:i}),a.create({type:"encrypt",key:o})]:[a.create({type:"decrypt",key:o}),a.create({type:"encrypt",key:i}),a.create({type:"decrypt",key:n})]}function u(e){o.call(this,e);var t=new s(this.type,this.options.key);this._edeState=t}i(u,o),e.exports=u,u.create=function(e){return new u(e)},u.prototype._update=function(e,t,n,r){var i=this._edeState;i.ciphers[0]._update(e,t,n,r),i.ciphers[1]._update(n,r,n,r),i.ciphers[2]._update(n,r,n,r)},u.prototype._pad=a.prototype._pad,u.prototype._unpad=a.prototype._unpad},6843:function(e,t){"use strict";t.readUInt32BE=function(e,t){return(e[0+t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t])>>>0},t.writeUInt32BE=function(e,t,n){e[0+n]=t>>>24,e[1+n]=t>>>16&255,e[2+n]=t>>>8&255,e[3+n]=255&t},t.ip=function(e,t,n,r){for(var i=0,o=0,a=6;a>=0;a-=2){for(var s=0;s<=24;s+=8)i<<=1,i|=t>>>s+a&1;for(s=0;s<=24;s+=8)i<<=1,i|=e>>>s+a&1}for(a=6;a>=0;a-=2){for(s=1;s<=25;s+=8)o<<=1,o|=t>>>s+a&1;for(s=1;s<=25;s+=8)o<<=1,o|=e>>>s+a&1}n[r+0]=i>>>0,n[r+1]=o>>>0},t.rip=function(e,t,n,r){for(var i=0,o=0,a=0;a<4;a++)for(var s=24;s>=0;s-=8)i<<=1,i|=t>>>s+a&1,i<<=1,i|=e>>>s+a&1;for(a=4;a<8;a++)for(s=24;s>=0;s-=8)o<<=1,o|=t>>>s+a&1,o<<=1,o|=e>>>s+a&1;n[r+0]=i>>>0,n[r+1]=o>>>0},t.pc1=function(e,t,n,r){for(var i=0,o=0,a=7;a>=5;a--){for(var s=0;s<=24;s+=8)i<<=1,i|=t>>s+a&1;for(s=0;s<=24;s+=8)i<<=1,i|=e>>s+a&1}for(s=0;s<=24;s+=8)i<<=1,i|=t>>s+a&1;for(a=1;a<=3;a++){for(s=0;s<=24;s+=8)o<<=1,o|=t>>s+a&1;for(s=0;s<=24;s+=8)o<<=1,o|=e>>s+a&1}for(s=0;s<=24;s+=8)o<<=1,o|=e>>s+a&1;n[r+0]=i>>>0,n[r+1]=o>>>0},t.r28shl=function(e,t){return e<<t&268435455|e>>>28-t};var n=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];t.pc2=function(e,t,r,i){for(var o=0,a=0,s=n.length>>>1,u=0;u<s;u++)o<<=1,o|=e>>>n[u]&1;for(u=s;u<n.length;u++)a<<=1,a|=t>>>n[u]&1;r[i+0]=o>>>0,r[i+1]=a>>>0},t.expand=function(e,t,n){var r=0,i=0;r=(1&e)<<5|e>>>27;for(var o=23;o>=15;o-=4)r<<=6,r|=e>>>o&63;for(o=11;o>=3;o-=4)i|=e>>>o&63,i<<=6;i|=(31&e)<<1|e>>>31,t[n+0]=r>>>0,t[n+1]=i>>>0};var r=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];t.substitute=function(e,t){for(var n=0,i=0;i<4;i++){n<<=4,n|=r[64*i+(e>>>18-6*i&63)]}for(i=0;i<4;i++){n<<=4,n|=r[256+64*i+(t>>>18-6*i&63)]}return n>>>0};var i=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];t.permute=function(e){for(var t=0,n=0;n<i.length;n++)t<<=1,t|=e>>>i[n]&1;return t>>>0},t.padSplit=function(e,t,n){for(var r=e.toString(2);r.length<t;)r="0"+r;for(var i=[],o=0;o<t;o+=n)i.push(r.slice(o,o+n));return i.join(" ")}},9977:function(e,t,n){var i=n(8053),o=n(3418),a=n(8346);var s={binary:!0,hex:!0,base64:!0};t.DiffieHellmanGroup=t.createDiffieHellmanGroup=t.getDiffieHellman=function(e){var t=new r(o[e].prime,"hex"),n=new r(o[e].gen,"hex");return new a(t,n)},t.createDiffieHellman=t.DiffieHellman=function e(t,n,o,u){return r.isBuffer(n)||void 0===s[n]?e(t,"binary",n,o):(n=n||"binary",u=u||"binary",o=o||new r([2]),r.isBuffer(o)||(o=new r(o,u)),"number"===typeof t?new a(i(t,o),o,!0):(r.isBuffer(t)||(t=new r(t,n)),new a(t,o,!0)))}},8346:function(e,t,n){var i=n(6884),o=new(n(148)),a=new i(24),s=new i(11),u=new i(10),c=new i(3),l=new i(7),f=n(8053),d=n(2711);function h(e,t){return t=t||"utf8",r.isBuffer(e)||(e=new r(e,t)),this._pub=new i(e),this}function p(e,t){return t=t||"utf8",r.isBuffer(e)||(e=new r(e,t)),this._priv=new i(e),this}e.exports=m;var v={};function m(e,t,n){this.setGenerator(t),this.__prime=new i(e),this._prime=i.mont(this.__prime),this._primeLen=e.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,n?(this.setPublicKey=h,this.setPrivateKey=p):this._primeCode=8}function g(e,t){var n=new r(e.toArray());return t?n.toString(t):n}Object.defineProperty(m.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!==typeof this._primeCode&&(this._primeCode=function(e,t){var n=t.toString("hex"),r=[n,e.toString(16)].join("_");if(r in v)return v[r];var i,d=0;if(e.isEven()||!f.simpleSieve||!f.fermatTest(e)||!o.test(e))return d+=1,d+="02"===n||"05"===n?8:4,v[r]=d,d;switch(o.test(e.shrn(1))||(d+=2),n){case"02":e.mod(a).cmp(s)&&(d+=8);break;case"05":(i=e.mod(u)).cmp(c)&&i.cmp(l)&&(d+=8);break;default:d+=4}return v[r]=d,d}(this.__prime,this.__gen)),this._primeCode}}),m.prototype.generateKeys=function(){return this._priv||(this._priv=new i(d(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},m.prototype.computeSecret=function(e){var t=(e=(e=new i(e)).toRed(this._prime)).redPow(this._priv).fromRed(),n=new r(t.toArray()),o=this.getPrime();if(n.length<o.length){var a=new r(o.length-n.length);a.fill(0),n=r.concat([a,n])}return n},m.prototype.getPublicKey=function(e){return g(this._pub,e)},m.prototype.getPrivateKey=function(e){return g(this._priv,e)},m.prototype.getPrime=function(e){return g(this.__prime,e)},m.prototype.getGenerator=function(e){return g(this._gen,e)},m.prototype.setGenerator=function(e,t){return t=t||"utf8",r.isBuffer(e)||(e=new r(e,t)),this.__gen=e,this._gen=new i(e),this}},8053:function(e,t,n){var r=n(2711);e.exports=g,g.simpleSieve=v,g.fermatTest=m;var i=n(6884),o=new i(24),a=new(n(148)),s=new i(1),u=new i(2),c=new i(5),l=(new i(16),new i(8),new i(10)),f=new i(3),d=(new i(7),new i(11)),h=new i(4),p=(new i(12),null);function v(e){for(var t=function(){if(null!==p)return p;var e=[];e[0]=2;for(var t=1,n=3;n<1048576;n+=2){for(var r=Math.ceil(Math.sqrt(n)),i=0;i<t&&e[i]<=r&&n%e[i]!==0;i++);t!==i&&e[i]<=r||(e[t++]=n)}return p=e,e}(),n=0;n<t.length;n++)if(0===e.modn(t[n]))return 0===e.cmpn(t[n]);return!0}function m(e){var t=i.mont(e);return 0===u.toRed(t).redPow(e.subn(1)).fromRed().cmpn(1)}function g(e,t){if(e<16)return new i(2===t||5===t?[140,123]:[140,39]);var n,p;for(t=new i(t);;){for(n=new i(r(Math.ceil(e/8)));n.bitLength()>e;)n.ishrn(1);if(n.isEven()&&n.iadd(s),n.testn(1)||n.iadd(u),t.cmp(u)){if(!t.cmp(c))for(;n.mod(l).cmp(f);)n.iadd(h)}else for(;n.mod(o).cmp(d);)n.iadd(h);if(v(p=n.shrn(1))&&v(n)&&m(p)&&m(n)&&a.test(p)&&a.test(n))return n}}},8818:function(e,t,n){"use strict";var r=t;r.version=n(763).i8,r.utils=n(8454),r.rand=n(6069),r.curve=n(954),r.curves=n(2998),r.ec=n(2081),r.eddsa=n(2298)},3005:function(e,t,n){"use strict";var r=n(6884),i=n(8454),o=i.getNAF,a=i.getJSF,s=i.assert;function u(e,t){this.type=e,this.p=new r(t.p,16),this.red=t.prime?r.red(t.prime):r.mont(this.p),this.zero=new r(0).toRed(this.red),this.one=new r(1).toRed(this.red),this.two=new r(2).toRed(this.red),this.n=t.n&&new r(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function c(e,t){this.curve=e,this.type=t,this.precomputed=null}e.exports=u,u.prototype.point=function(){throw new Error("Not implemented")},u.prototype.validate=function(){throw new Error("Not implemented")},u.prototype._fixedNafMul=function(e,t){s(e.precomputed);var n=e._getDoubles(),r=o(t,1,this._bitLength),i=(1<<n.step+1)-(n.step%2===0?2:1);i/=3;for(var a=[],u=0;u<r.length;u+=n.step){var c=0;for(t=u+n.step-1;t>=u;t--)c=(c<<1)+r[t];a.push(c)}for(var l=this.jpoint(null,null,null),f=this.jpoint(null,null,null),d=i;d>0;d--){for(u=0;u<a.length;u++){(c=a[u])===d?f=f.mixedAdd(n.points[u]):c===-d&&(f=f.mixedAdd(n.points[u].neg()))}l=l.add(f)}return l.toP()},u.prototype._wnafMul=function(e,t){var n=4,r=e._getNAFPoints(n);n=r.wnd;for(var i=r.points,a=o(t,n,this._bitLength),u=this.jpoint(null,null,null),c=a.length-1;c>=0;c--){for(t=0;c>=0&&0===a[c];c--)t++;if(c>=0&&t++,u=u.dblp(t),c<0)break;var l=a[c];s(0!==l),u="affine"===e.type?l>0?u.mixedAdd(i[l-1>>1]):u.mixedAdd(i[-l-1>>1].neg()):l>0?u.add(i[l-1>>1]):u.add(i[-l-1>>1].neg())}return"affine"===e.type?u.toP():u},u.prototype._wnafMulAdd=function(e,t,n,r,i){for(var s=this._wnafT1,u=this._wnafT2,c=this._wnafT3,l=0,f=0;f<r;f++){var d=(O=t[f])._getNAFPoints(e);s[f]=d.wnd,u[f]=d.points}for(f=r-1;f>=1;f-=2){var h=f-1,p=f;if(1===s[h]&&1===s[p]){var v=[t[h],null,null,t[p]];0===t[h].y.cmp(t[p].y)?(v[1]=t[h].add(t[p]),v[2]=t[h].toJ().mixedAdd(t[p].neg())):0===t[h].y.cmp(t[p].y.redNeg())?(v[1]=t[h].toJ().mixedAdd(t[p]),v[2]=t[h].add(t[p].neg())):(v[1]=t[h].toJ().mixedAdd(t[p]),v[2]=t[h].toJ().mixedAdd(t[p].neg()));var m=[-3,-1,-5,-7,0,7,5,1,3],g=a(n[h],n[p]);l=Math.max(g[0].length,l),c[h]=new Array(l),c[p]=new Array(l);for(var y=0;y<l;y++){var b=0|g[0][y],w=0|g[1][y];c[h][y]=m[3*(b+1)+(w+1)],c[p][y]=0,u[h]=v}}else c[h]=o(n[h],s[h],this._bitLength),c[p]=o(n[p],s[p],this._bitLength),l=Math.max(c[h].length,l),l=Math.max(c[p].length,l)}var _=this.jpoint(null,null,null),E=this._wnafT4;for(f=l;f>=0;f--){for(var S=0;f>=0;){var x=!0;for(y=0;y<r;y++)E[y]=0|c[y][f],0!==E[y]&&(x=!1);if(!x)break;S++,f--}if(f>=0&&S++,_=_.dblp(S),f<0)break;for(y=0;y<r;y++){var O,C=E[y];0!==C&&(C>0?O=u[y][C-1>>1]:C<0&&(O=u[y][-C-1>>1].neg()),_="affine"===O.type?_.mixedAdd(O):_.add(O))}}for(f=0;f<r;f++)u[f]=null;return i?_:_.toP()},u.BasePoint=c,c.prototype.eq=function(){throw new Error("Not implemented")},c.prototype.validate=function(){return this.curve.validate(this)},u.prototype.decodePoint=function(e,t){e=i.toArray(e,t);var n=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1===2*n)return 6===e[0]?s(e[e.length-1]%2===0):7===e[0]&&s(e[e.length-1]%2===1),this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));if((2===e[0]||3===e[0])&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),3===e[0]);throw new Error("Unknown point format")},c.prototype.encodeCompressed=function(e){return this.encode(e,!0)},c.prototype._encode=function(e){var t=this.curve.p.byteLength(),n=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",t))},c.prototype.encode=function(e,t){return i.encode(this._encode(t),e)},c.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},c.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},c.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],r=this,i=0;i<t;i+=e){for(var o=0;o<e;o++)r=r.dbl();n.push(r)}return{step:e,points:n}},c.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],n=(1<<e)-1,r=1===n?null:this.dbl(),i=1;i<n;i++)t[i]=t[i-1].add(r);return{wnd:e,points:t}},c.prototype._getBeta=function(){return null},c.prototype.dblp=function(e){for(var t=this,n=0;n<e;n++)t=t.dbl();return t}},9224:function(e,t,n){"use strict";var r=n(8454),i=n(6884),o=n(7526),a=n(3005),s=r.assert;function u(e){this.twisted=1!==(0|e.a),this.mOneA=this.twisted&&-1===(0|e.a),this.extended=this.mOneA,a.call(this,"edwards",e),this.a=new i(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new i(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new i(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),s(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1===(0|e.c)}function c(e,t,n,r,o){a.BasePoint.call(this,e,"projective"),null===t&&null===n&&null===r?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new i(t,16),this.y=new i(n,16),this.z=r?new i(r,16):this.curve.one,this.t=o&&new i(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}o(u,a),e.exports=u,u.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},u.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},u.prototype.jpoint=function(e,t,n,r){return this.point(e,t,n,r)},u.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr(),r=this.c2.redSub(this.a.redMul(n)),o=this.one.redSub(this.c2.redMul(this.d).redMul(n)),a=r.redMul(o.redInvm()),s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");var u=s.fromRed().isOdd();return(t&&!u||!t&&u)&&(s=s.redNeg()),this.point(e,s)},u.prototype.pointFromY=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr(),r=n.redSub(this.c2),o=n.redMul(this.d).redMul(this.c2).redSub(this.a),a=r.redMul(o.redInvm());if(0===a.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");return s.fromRed().isOdd()!==t&&(s=s.redNeg()),this.point(s,e)},u.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),n=e.y.redSqr(),r=t.redMul(this.a).redAdd(n),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(n)));return 0===r.cmp(i)},o(c,a.BasePoint),u.prototype.pointFromJSON=function(e){return c.fromJSON(this,e)},u.prototype.point=function(e,t,n,r){return new c(this,e,t,n,r)},c.fromJSON=function(e,t){return new c(e,t[0],t[1],t[2])},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},c.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var r=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),o=r.redAdd(t),a=o.redSub(n),s=r.redSub(t),u=i.redMul(a),c=o.redMul(s),l=i.redMul(s),f=a.redMul(o);return this.curve.point(u,c,f,l)},c.prototype._projDbl=function(){var e,t,n,r=this.x.redAdd(this.y).redSqr(),i=this.x.redSqr(),o=this.y.redSqr();if(this.curve.twisted){var a=(c=this.curve._mulA(i)).redAdd(o);if(this.zOne)e=r.redSub(i).redSub(o).redMul(a.redSub(this.curve.two)),t=a.redMul(c.redSub(o)),n=a.redSqr().redSub(a).redSub(a);else{var s=this.z.redSqr(),u=a.redSub(s).redISub(s);e=r.redSub(i).redISub(o).redMul(u),t=a.redMul(c.redSub(o)),n=a.redMul(u)}}else{var c=i.redAdd(o);s=this.curve._mulC(this.z).redSqr(),u=c.redSub(s).redSub(s);e=this.curve._mulC(r.redISub(c)).redMul(u),t=this.curve._mulC(c).redMul(i.redISub(o)),n=c.redMul(u)}return this.curve.point(e,t,n)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},c.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),r=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),o=n.redSub(t),a=i.redSub(r),s=i.redAdd(r),u=n.redAdd(t),c=o.redMul(a),l=s.redMul(u),f=o.redMul(u),d=a.redMul(s);return this.curve.point(c,l,d,f)},c.prototype._projAdd=function(e){var t,n,r=this.z.redMul(e.z),i=r.redSqr(),o=this.x.redMul(e.x),a=this.y.redMul(e.y),s=this.curve.d.redMul(o).redMul(a),u=i.redSub(s),c=i.redAdd(s),l=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(o).redISub(a),f=r.redMul(u).redMul(l);return this.curve.twisted?(t=r.redMul(c).redMul(a.redSub(this.curve._mulA(o))),n=u.redMul(c)):(t=r.redMul(c).redMul(a.redSub(o)),n=this.curve._mulC(u).redMul(c)),this.curve.point(f,t,n)},c.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},c.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},c.prototype.mulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!1)},c.prototype.jmulAdd=function(e,t,n){return this.curve._wnafMulAdd(1,[this,t],[e,n],2,!0)},c.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},c.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()},c.prototype.getY=function(){return this.normalize(),this.y.fromRed()},c.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},c.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var n=e.clone(),r=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(r),0===this.x.cmp(t))return!0}},c.prototype.toP=c.prototype.normalize,c.prototype.mixedAdd=c.prototype.add},954:function(e,t,n){"use strict";var r=t;r.base=n(3005),r.short=n(401),r.mont=n(6103),r.edwards=n(9224)},6103:function(e,t,n){"use strict";var r=n(6884),i=n(7526),o=n(3005),a=n(8454);function s(e){o.call(this,"mont",e),this.a=new r(e.a,16).toRed(this.red),this.b=new r(e.b,16).toRed(this.red),this.i4=new r(4).toRed(this.red).redInvm(),this.two=new r(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function u(e,t,n){o.BasePoint.call(this,e,"projective"),null===t&&null===n?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new r(t,16),this.z=new r(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}i(s,o),e.exports=s,s.prototype.validate=function(e){var t=e.normalize().x,n=t.redSqr(),r=n.redMul(t).redAdd(n.redMul(this.a)).redAdd(t);return 0===r.redSqrt().redSqr().cmp(r)},i(u,o.BasePoint),s.prototype.decodePoint=function(e,t){return this.point(a.toArray(e,t),1)},s.prototype.point=function(e,t){return new u(this,e,t)},s.prototype.pointFromJSON=function(e){return u.fromJSON(this,e)},u.prototype.precompute=function(){},u.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},u.fromJSON=function(e,t){return new u(e,t[0],t[1]||e.one)},u.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},u.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},u.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),n=e.redSub(t),r=e.redMul(t),i=n.redMul(t.redAdd(this.curve.a24.redMul(n)));return this.curve.point(r,i)},u.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.diffAdd=function(e,t){var n=this.x.redAdd(this.z),r=this.x.redSub(this.z),i=e.x.redAdd(e.z),o=e.x.redSub(e.z).redMul(n),a=i.redMul(r),s=t.z.redMul(o.redAdd(a).redSqr()),u=t.x.redMul(o.redISub(a).redSqr());return this.curve.point(s,u)},u.prototype.mul=function(e){for(var t=e.clone(),n=this,r=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var o=i.length-1;o>=0;o--)0===i[o]?(n=n.diffAdd(r,this),r=r.dbl()):(r=n.diffAdd(r,this),n=n.dbl());return r},u.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},u.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},u.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},u.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},401:function(e,t,n){"use strict";var r=n(8454),i=n(6884),o=n(7526),a=n(3005),s=r.assert;function u(e){a.call(this,"short",e),this.a=new i(e.a,16).toRed(this.red),this.b=new i(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function c(e,t,n,r){a.BasePoint.call(this,e,"affine"),null===t&&null===n?(this.x=null,this.y=null,this.inf=!0):(this.x=new i(t,16),this.y=new i(n,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function l(e,t,n,r){a.BasePoint.call(this,e,"jacobian"),null===t&&null===n&&null===r?(this.x=this.curve.one,this.y=this.curve.one,this.z=new i(0)):(this.x=new i(t,16),this.y=new i(n,16),this.z=new i(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}o(u,a),e.exports=u,u.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,n;if(e.beta)t=new i(e.beta,16).toRed(this.red);else{var r=this._getEndoRoots(this.p);t=(t=r[0].cmp(r[1])<0?r[0]:r[1]).toRed(this.red)}if(e.lambda)n=new i(e.lambda,16);else{var o=this._getEndoRoots(this.n);0===this.g.mul(o[0]).x.cmp(this.g.x.redMul(t))?n=o[0]:(n=o[1],s(0===this.g.mul(n).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:n,basis:e.basis?e.basis.map((function(e){return{a:new i(e.a,16),b:new i(e.b,16)}})):this._getEndoBasis(n)}}},u.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:i.mont(e),n=new i(2).toRed(t).redInvm(),r=n.redNeg(),o=new i(3).toRed(t).redNeg().redSqrt().redMul(n);return[r.redAdd(o).fromRed(),r.redSub(o).fromRed()]},u.prototype._getEndoBasis=function(e){for(var t,n,r,o,a,s,u,c,l,f=this.n.ushrn(Math.floor(this.n.bitLength()/2)),d=e,h=this.n.clone(),p=new i(1),v=new i(0),m=new i(0),g=new i(1),y=0;0!==d.cmpn(0);){var b=h.div(d);c=h.sub(b.mul(d)),l=m.sub(b.mul(p));var w=g.sub(b.mul(v));if(!r&&c.cmp(f)<0)t=u.neg(),n=p,r=c.neg(),o=l;else if(r&&2===++y)break;u=c,h=d,d=c,m=p,p=l,g=v,v=w}a=c.neg(),s=l;var _=r.sqr().add(o.sqr());return a.sqr().add(s.sqr()).cmp(_)>=0&&(a=t,s=n),r.negative&&(r=r.neg(),o=o.neg()),a.negative&&(a=a.neg(),s=s.neg()),[{a:r,b:o},{a:a,b:s}]},u.prototype._endoSplit=function(e){var t=this.endo.basis,n=t[0],r=t[1],i=r.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=i.mul(n.a),s=o.mul(r.a),u=i.mul(n.b),c=o.mul(r.b);return{k1:e.sub(a).sub(s),k2:u.add(c).neg()}},u.prototype.pointFromX=function(e,t){(e=new i(e,16)).red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),r=n.redSqrt();if(0!==r.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");var o=r.fromRed().isOdd();return(t&&!o||!t&&o)&&(r=r.redNeg()),this.point(e,r)},u.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,n=e.y,r=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(r).redIAdd(this.b);return 0===n.redSqr().redISub(i).cmpn(0)},u.prototype._endoWnafMulAdd=function(e,t,n){for(var r=this._endoWnafT1,i=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(t[o]),s=e[o],u=s._getBeta();a.k1.negative&&(a.k1.ineg(),s=s.neg(!0)),a.k2.negative&&(a.k2.ineg(),u=u.neg(!0)),r[2*o]=s,r[2*o+1]=u,i[2*o]=a.k1,i[2*o+1]=a.k2}for(var c=this._wnafMulAdd(1,r,i,2*o,n),l=0;l<2*o;l++)r[l]=null,i[l]=null;return c},o(c,a.BasePoint),u.prototype.point=function(e,t,n){return new c(this,e,t,n)},u.prototype.pointFromJSON=function(e,t){return c.fromJSON(this,e,t)},c.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,r=function(e){return n.point(e.x.redMul(n.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(r)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(r)}}}return t}},c.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},c.fromJSON=function(e,t,n){"string"===typeof t&&(t=JSON.parse(t));var r=e.point(t[0],t[1],n);if(!t[2])return r;function i(t){return e.point(t[0],t[1],n)}var o=t[2];return r.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[r].concat(o.doubles.points.map(i))},naf:o.naf&&{wnd:o.naf.wnd,points:[r].concat(o.naf.points.map(i))}},r},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.inf},c.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var n=t.redSqr().redISub(this.x).redISub(e.x),r=t.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,r)},c.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,n=this.x.redSqr(),r=e.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(t).redMul(r),o=i.redSqr().redISub(this.x.redAdd(this.x)),a=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)},c.prototype.getX=function(){return this.x.fromRed()},c.prototype.getY=function(){return this.y.fromRed()},c.prototype.mul=function(e){return e=new i(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},c.prototype.mulAdd=function(e,t,n){var r=[this,t],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i):this.curve._wnafMulAdd(1,r,i,2)},c.prototype.jmulAdd=function(e,t,n){var r=[this,t],i=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i,!0):this.curve._wnafMulAdd(1,r,i,2,!0)},c.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},c.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,r=function(e){return e.neg()};t.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(r)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(r)}}}return t},c.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},o(l,a.BasePoint),u.prototype.jpoint=function(e,t,n){return new l(this,e,t,n)},l.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),n=this.x.redMul(t),r=this.y.redMul(t).redMul(e);return this.curve.point(n,r)},l.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},l.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),n=this.z.redSqr(),r=this.x.redMul(t),i=e.x.redMul(n),o=this.y.redMul(t.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),s=r.redSub(i),u=o.redSub(a);if(0===s.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=s.redSqr(),l=c.redMul(s),f=r.redMul(c),d=u.redSqr().redIAdd(l).redISub(f).redISub(f),h=u.redMul(f.redISub(d)).redISub(o.redMul(l)),p=this.z.redMul(e.z).redMul(s);return this.curve.jpoint(d,h,p)},l.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),n=this.x,r=e.x.redMul(t),i=this.y,o=e.y.redMul(t).redMul(this.z),a=n.redSub(r),s=i.redSub(o);if(0===a.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),c=u.redMul(a),l=n.redMul(u),f=s.redSqr().redIAdd(c).redISub(l).redISub(l),d=s.redMul(l.redISub(f)).redISub(i.redMul(c)),h=this.z.redMul(a);return this.curve.jpoint(f,d,h)},l.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var t=this,n=0;n<e;n++)t=t.dbl();return t}var r=this.curve.a,i=this.curve.tinv,o=this.x,a=this.y,s=this.z,u=s.redSqr().redSqr(),c=a.redAdd(a);for(n=0;n<e;n++){var l=o.redSqr(),f=c.redSqr(),d=f.redSqr(),h=l.redAdd(l).redIAdd(l).redIAdd(r.redMul(u)),p=o.redMul(f),v=h.redSqr().redISub(p.redAdd(p)),m=p.redISub(v),g=h.redMul(m);g=g.redIAdd(g).redISub(d);var y=c.redMul(s);n+1<e&&(u=u.redMul(d)),o=v,s=y,c=g}return this.curve.jpoint(o,c.redMul(i),s)},l.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},l.prototype._zeroDbl=function(){var e,t,n;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(r).redISub(o);a=a.redIAdd(a);var s=r.redAdd(r).redIAdd(r),u=s.redSqr().redISub(a).redISub(a),c=o.redIAdd(o);c=(c=c.redIAdd(c)).redIAdd(c),e=u,t=s.redMul(a.redISub(u)).redISub(c),n=this.y.redAdd(this.y)}else{var l=this.x.redSqr(),f=this.y.redSqr(),d=f.redSqr(),h=this.x.redAdd(f).redSqr().redISub(l).redISub(d);h=h.redIAdd(h);var p=l.redAdd(l).redIAdd(l),v=p.redSqr(),m=d.redIAdd(d);m=(m=m.redIAdd(m)).redIAdd(m),e=v.redISub(h).redISub(h),t=p.redMul(h.redISub(e)).redISub(m),n=(n=this.y.redMul(this.z)).redIAdd(n)}return this.curve.jpoint(e,t,n)},l.prototype._threeDbl=function(){var e,t,n;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(r).redISub(o);a=a.redIAdd(a);var s=r.redAdd(r).redIAdd(r).redIAdd(this.curve.a),u=s.redSqr().redISub(a).redISub(a);e=u;var c=o.redIAdd(o);c=(c=c.redIAdd(c)).redIAdd(c),t=s.redMul(a.redISub(u)).redISub(c),n=this.y.redAdd(this.y)}else{var l=this.z.redSqr(),f=this.y.redSqr(),d=this.x.redMul(f),h=this.x.redSub(l).redMul(this.x.redAdd(l));h=h.redAdd(h).redIAdd(h);var p=d.redIAdd(d),v=(p=p.redIAdd(p)).redAdd(p);e=h.redSqr().redISub(v),n=this.y.redAdd(this.z).redSqr().redISub(f).redISub(l);var m=f.redSqr();m=(m=(m=m.redIAdd(m)).redIAdd(m)).redIAdd(m),t=h.redMul(p.redISub(e)).redISub(m)}return this.curve.jpoint(e,t,n)},l.prototype._dbl=function(){var e=this.curve.a,t=this.x,n=this.y,r=this.z,i=r.redSqr().redSqr(),o=t.redSqr(),a=n.redSqr(),s=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(i)),u=t.redAdd(t),c=(u=u.redIAdd(u)).redMul(a),l=s.redSqr().redISub(c.redAdd(c)),f=c.redISub(l),d=a.redSqr();d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var h=s.redMul(f).redISub(d),p=n.redAdd(n).redMul(r);return this.curve.jpoint(l,h,p)},l.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),n=this.z.redSqr(),r=t.redSqr(),i=e.redAdd(e).redIAdd(e),o=i.redSqr(),a=this.x.redAdd(t).redSqr().redISub(e).redISub(r),s=(a=(a=(a=a.redIAdd(a)).redAdd(a).redIAdd(a)).redISub(o)).redSqr(),u=r.redIAdd(r);u=(u=(u=u.redIAdd(u)).redIAdd(u)).redIAdd(u);var c=i.redIAdd(a).redSqr().redISub(o).redISub(s).redISub(u),l=t.redMul(c);l=(l=l.redIAdd(l)).redIAdd(l);var f=this.x.redMul(s).redISub(l);f=(f=f.redIAdd(f)).redIAdd(f);var d=this.y.redMul(c.redMul(u.redISub(c)).redISub(a.redMul(s)));d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var h=this.z.redAdd(a).redSqr().redISub(n).redISub(s);return this.curve.jpoint(f,d,h)},l.prototype.mul=function(e,t){return e=new i(e,t),this.curve._wnafMul(this,e)},l.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),n=e.z.redSqr();if(0!==this.x.redMul(n).redISub(e.x.redMul(t)).cmpn(0))return!1;var r=t.redMul(this.z),i=n.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(r)).cmpn(0)},l.prototype.eqXToP=function(e){var t=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(n))return!0;for(var r=e.clone(),i=this.curve.redN.redMul(t);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),0===this.x.cmp(n))return!0}},l.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},l.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},2998:function(e,t,n){"use strict";var r,i=t,o=n(9767),a=n(954),s=n(8454).assert;function u(e){"short"===e.type?this.curve=new a.short(e):"edwards"===e.type?this.curve=new a.edwards(e):this.curve=new a.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function c(e,t){Object.defineProperty(i,e,{configurable:!0,enumerable:!0,get:function(){var n=new u(t);return Object.defineProperty(i,e,{configurable:!0,enumerable:!0,value:n}),n}})}i.PresetCurve=u,c("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:o.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),c("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:o.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),c("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:o.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),c("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:o.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),c("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:o.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),c("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["9"]}),c("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:o.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{r=n(7759)}catch(e){r=void 0}c("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:o.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})},2081:function(e,t,n){"use strict";var r=n(6884),i=n(8242),o=n(8454),a=n(2998),s=n(6069),u=o.assert,c=n(7044),l=n(8020);function f(e){if(!(this instanceof f))return new f(e);"string"===typeof e&&(u(a.hasOwnProperty(e),"Unknown curve "+e),e=a[e]),e instanceof a.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}e.exports=f,f.prototype.keyPair=function(e){return new c(this,e)},f.prototype.keyFromPrivate=function(e,t){return c.fromPrivate(this,e,t)},f.prototype.keyFromPublic=function(e,t){return c.fromPublic(this,e,t)},f.prototype.genKeyPair=function(e){e||(e={});for(var t=new i({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||s(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),o=this.n.sub(new r(2));;){var a=new r(t.generate(n));if(!(a.cmp(o)>0))return a.iaddn(1),this.keyFromPrivate(a)}},f.prototype._truncateToN=function(e,t){var n=8*e.byteLength()-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},f.prototype.sign=function(e,t,n,o){"object"===typeof n&&(o=n,n=null),o||(o={}),t=this.keyFromPrivate(t,n),e=this._truncateToN(new r(e,16));for(var a=this.n.byteLength(),s=t.getPrivate().toArray("be",a),u=e.toArray("be",a),c=new i({hash:this.hash,entropy:s,nonce:u,pers:o.pers,persEnc:o.persEnc||"utf8"}),f=this.n.sub(new r(1)),d=0;;d++){var h=o.k?o.k(d):new r(c.generate(this.n.byteLength()));if(!((h=this._truncateToN(h,!0)).cmpn(1)<=0||h.cmp(f)>=0)){var p=this.g.mul(h);if(!p.isInfinity()){var v=p.getX(),m=v.umod(this.n);if(0!==m.cmpn(0)){var g=h.invm(this.n).mul(m.mul(t.getPrivate()).iadd(e));if(0!==(g=g.umod(this.n)).cmpn(0)){var y=(p.getY().isOdd()?1:0)|(0!==v.cmp(m)?2:0);return o.canonical&&g.cmp(this.nh)>0&&(g=this.n.sub(g),y^=1),new l({r:m,s:g,recoveryParam:y})}}}}}},f.prototype.verify=function(e,t,n,i){e=this._truncateToN(new r(e,16)),n=this.keyFromPublic(n,i);var o=(t=new l(t,"hex")).r,a=t.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var s,u=a.invm(this.n),c=u.mul(e).umod(this.n),f=u.mul(o).umod(this.n);return this.curve._maxwellTrick?!(s=this.g.jmulAdd(c,n.getPublic(),f)).isInfinity()&&s.eqXToP(o):!(s=this.g.mulAdd(c,n.getPublic(),f)).isInfinity()&&0===s.getX().umod(this.n).cmp(o)},f.prototype.recoverPubKey=function(e,t,n,i){u((3&n)===n,"The recovery param is more than two bits"),t=new l(t,i);var o=this.n,a=new r(e),s=t.r,c=t.s,f=1&n,d=n>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&d)throw new Error("Unable to find sencond key candinate");s=d?this.curve.pointFromX(s.add(this.curve.n),f):this.curve.pointFromX(s,f);var h=t.r.invm(o),p=o.sub(a).mul(h).umod(o),v=c.mul(h).umod(o);return this.g.mulAdd(p,s,v)},f.prototype.getKeyRecoveryParam=function(e,t,n,r){if(null!==(t=new l(t,r)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(e,t,i)}catch(e){continue}if(o.eq(n))return i}throw new Error("Unable to find valid recovery factor")}},7044:function(e,t,n){"use strict";var r=n(6884),i=n(8454).assert;function o(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}e.exports=o,o.fromPublic=function(e,t,n){return t instanceof o?t:new o(e,{pub:t,pubEnc:n})},o.fromPrivate=function(e,t,n){return t instanceof o?t:new o(e,{priv:t,privEnc:n})},o.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},o.prototype.getPublic=function(e,t){return"string"===typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},o.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},o.prototype._importPrivate=function(e,t){this.priv=new r(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},o.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?i(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||i(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},o.prototype.derive=function(e){return e.mul(this.priv).getX()},o.prototype.sign=function(e,t,n){return this.ec.sign(e,this,t,n)},o.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},o.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},8020:function(e,t,n){"use strict";var r=n(6884),i=n(8454),o=i.assert;function a(e,t){if(e instanceof a)return e;this._importDER(e,t)||(o(e.r&&e.s,"Signature without r or s"),this.r=new r(e.r,16),this.s=new r(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}function s(){this.place=0}function u(e,t){var n=e[t.place++];if(!(128&n))return n;var r=15&n;if(0===r||r>4)return!1;for(var i=0,o=0,a=t.place;o<r;o++,a++)i<<=8,i|=e[a],i>>>=0;return!(i<=127)&&(t.place=a,i)}function c(e){for(var t=0,n=e.length-1;!e[t]&&!(128&e[t+1])&&t<n;)t++;return 0===t?e:e.slice(t)}function l(e,t){if(t<128)e.push(t);else{var n=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|n);--n;)e.push(t>>>(n<<3)&255);e.push(t)}}e.exports=a,a.prototype._importDER=function(e,t){e=i.toArray(e,t);var n=new s;if(48!==e[n.place++])return!1;var o=u(e,n);if(!1===o)return!1;if(o+n.place!==e.length)return!1;if(2!==e[n.place++])return!1;var a=u(e,n);if(!1===a)return!1;var c=e.slice(n.place,a+n.place);if(n.place+=a,2!==e[n.place++])return!1;var l=u(e,n);if(!1===l)return!1;if(e.length!==l+n.place)return!1;var f=e.slice(n.place,l+n.place);if(0===c[0]){if(!(128&c[1]))return!1;c=c.slice(1)}if(0===f[0]){if(!(128&f[1]))return!1;f=f.slice(1)}return this.r=new r(c),this.s=new r(f),this.recoveryParam=null,!0},a.prototype.toDER=function(e){var t=this.r.toArray(),n=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&n[0]&&(n=[0].concat(n)),t=c(t),n=c(n);!n[0]&&!(128&n[1]);)n=n.slice(1);var r=[2];l(r,t.length),(r=r.concat(t)).push(2),l(r,n.length);var o=r.concat(n),a=[48];return l(a,o.length),a=a.concat(o),i.encode(a,e)}},2298:function(e,t,n){"use strict";var r=n(9767),i=n(2998),o=n(8454),a=o.assert,s=o.parseBytes,u=n(9285),c=n(3883);function l(e){if(a("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof l))return new l(e);e=i[e].curve;this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=r.sha512}e.exports=l,l.prototype.sign=function(e,t){e=s(e);var n=this.keyFromSecret(t),r=this.hashInt(n.messagePrefix(),e),i=this.g.mul(r),o=this.encodePoint(i),a=this.hashInt(o,n.pubBytes(),e).mul(n.priv()),u=r.add(a).umod(this.curve.n);return this.makeSignature({R:i,S:u,Rencoded:o})},l.prototype.verify=function(e,t,n){e=s(e),t=this.makeSignature(t);var r=this.keyFromPublic(n),i=this.hashInt(t.Rencoded(),r.pubBytes(),e),o=this.g.mul(t.S());return t.R().add(r.pub().mul(i)).eq(o)},l.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return o.intFromLE(e.digest()).umod(this.curve.n)},l.prototype.keyFromPublic=function(e){return u.fromPublic(this,e)},l.prototype.keyFromSecret=function(e){return u.fromSecret(this,e)},l.prototype.makeSignature=function(e){return e instanceof c?e:new c(this,e)},l.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},l.prototype.decodePoint=function(e){var t=(e=o.parseBytes(e)).length-1,n=e.slice(0,t).concat(-129&e[t]),r=0!==(128&e[t]),i=o.intFromLE(n);return this.curve.pointFromY(i,r)},l.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},l.prototype.decodeInt=function(e){return o.intFromLE(e)},l.prototype.isPoint=function(e){return e instanceof this.pointClass}},9285:function(e,t,n){"use strict";var r=n(8454),i=r.assert,o=r.parseBytes,a=r.cachedProperty;function s(e,t){this.eddsa=e,this._secret=o(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=o(t.pub)}s.fromPublic=function(e,t){return t instanceof s?t:new s(e,{pub:t})},s.fromSecret=function(e,t){return t instanceof s?t:new s(e,{secret:t})},s.prototype.secret=function(){return this._secret},a(s,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),a(s,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),a(s,"privBytes",(function(){var e=this.eddsa,t=this.hash(),n=e.encodingLength-1,r=t.slice(0,e.encodingLength);return r[0]&=248,r[n]&=127,r[n]|=64,r})),a(s,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),a(s,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),a(s,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),s.prototype.sign=function(e){return i(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},s.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},s.prototype.getSecret=function(e){return i(this._secret,"KeyPair is public only"),r.encode(this.secret(),e)},s.prototype.getPublic=function(e){return r.encode(this.pubBytes(),e)},e.exports=s},3883:function(e,t,n){"use strict";var r=n(6884),i=n(8454),o=i.assert,a=i.cachedProperty,s=i.parseBytes;function u(e,t){this.eddsa=e,"object"!==typeof t&&(t=s(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),o(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof r&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}a(u,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),a(u,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),a(u,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),a(u,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),u.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},u.prototype.toHex=function(){return i.encode(this.toBytes(),"hex").toUpperCase()},e.exports=u},7759:function(e){e.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},8454:function(e,t,n){"use strict";var r=t,i=n(6884),o=n(9036),a=n(6249);r.assert=o,r.toArray=a.toArray,r.zero2=a.zero2,r.toHex=a.toHex,r.encode=a.encode,r.getNAF=function(e,t,n){var r=new Array(Math.max(e.bitLength(),n)+1);r.fill(0);for(var i=1<<t+1,o=e.clone(),a=0;a<r.length;a++){var s,u=o.andln(i-1);o.isOdd()?(s=u>(i>>1)-1?(i>>1)-u:u,o.isubn(s)):s=0,r[a]=s,o.iushrn(1)}return r},r.getJSF=function(e,t){var n=[[],[]];e=e.clone(),t=t.clone();for(var r=0,i=0;e.cmpn(-r)>0||t.cmpn(-i)>0;){var o,a,s,u=e.andln(3)+r&3,c=t.andln(3)+i&3;if(3===u&&(u=-1),3===c&&(c=-1),0===(1&u))o=0;else o=3!==(s=e.andln(7)+r&7)&&5!==s||2!==c?u:-u;if(n[0].push(o),0===(1&c))a=0;else a=3!==(s=t.andln(7)+i&7)&&5!==s||2!==u?c:-c;n[1].push(a),2*r===o+1&&(r=1-r),2*i===a+1&&(i=1-i),e.iushrn(1),t.iushrn(1)}return n},r.cachedProperty=function(e,t,n){var r="_"+t;e.prototype[t]=function(){return void 0!==this[r]?this[r]:this[r]=n.call(this)}},r.parseBytes=function(e){return"string"===typeof e?r.toArray(e,"hex"):e},r.intFromLE=function(e){return new i(e,"hex","le")}},7325:function(e,t,n){var r=n(3118).Buffer,i=n(4125);e.exports=function(e,t,n,o){if(r.isBuffer(e)||(e=r.from(e,"binary")),t&&(r.isBuffer(t)||(t=r.from(t,"binary")),8!==t.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var a=n/8,s=r.alloc(a),u=r.alloc(o||0),c=r.alloc(0);a>0||o>0;){var l=new i;l.update(c),l.update(e),t&&l.update(t),c=l.digest();var f=0;if(a>0){var d=s.length-a;f=Math.min(a,c.length),c.copy(s,d,0,f),a-=f}if(f<c.length&&o>0){var h=u.length-o,p=Math.min(o,c.length-f);c.copy(u,h,f,f+p),o-=p}}return c.fill(0),{key:s,iv:u}}},3421:function(e,t,n){"use strict";var r=n(3118).Buffer,i=n(5098).Transform;function o(e){i.call(this),this._block=r.allocUnsafe(e),this._blockSize=e,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}n(7526)(o,i),o.prototype._transform=function(e,t,n){var r=null;try{this.update(e,t)}catch(e){r=e}n(r)},o.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)},o.prototype.update=function(e,t){if(function(e,t){if(!r.isBuffer(e)&&"string"!==typeof e)throw new TypeError(t+" must be a string or a buffer")}(e,"Data"),this._finalized)throw new Error("Digest already called");r.isBuffer(e)||(e=r.from(e,t));for(var n=this._block,i=0;this._blockOffset+e.length-i>=this._blockSize;){for(var o=this._blockOffset;o<this._blockSize;)n[o++]=e[i++];this._update(),this._blockOffset=0}for(;i<e.length;)n[this._blockOffset++]=e[i++];for(var a=0,s=8*e.length;s>0;++a)this._length[a]+=s,(s=this._length[a]/4294967296|0)>0&&(this._length[a]-=4294967296*s);return this},o.prototype._update=function(){throw new Error("_update is not implemented")},o.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var t=this._digest();void 0!==e&&(t=t.toString(e)),this._block.fill(0),this._blockOffset=0;for(var n=0;n<4;++n)this._length[n]=0;return t},o.prototype._digest=function(){throw new Error("_digest is not implemented")},e.exports=o},519:function(e){"use strict";const t={};function n(e,n,r){function i(e,t,r){return"string"===typeof n?n:n(e,t,r)}r||(r=Error);class o extends r{constructor(e,t,n){super(i(e,t,n))}}o.prototype.name=r.name,o.prototype.code=e,t[e]=o}function r(e,t){if(Array.isArray(e)){const n=e.length;return e=e.map((e=>String(e))),n>2?`one of ${t} ${e.slice(0,n-1).join(", ")}, or `+e[n-1]:2===n?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}return`of ${t} ${String(e)}`}n("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),n("ERR_INVALID_ARG_TYPE",(function(e,t,n){let i,o;if("string"===typeof t&&function(e,t,n){return e.substr(!n||n<0?0:+n,t.length)===t}(t,"not ")?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))o=`The ${e} ${i} ${r(t,"type")}`;else{const n=function(e,t,n){return"number"!==typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}(e,".")?"property":"argument";o=`The "${e}" ${n} ${i} ${r(t,"type")}`}return o+=". Received type "+typeof n,o}),TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},5077:function(e,t,n){"use strict";var r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=l;var o=n(279),a=n(3582);n(7526)(l,o);for(var s=r(a.prototype),u=0;u<s.length;u++){var c=s[u];l.prototype[c]||(l.prototype[c]=a.prototype[c])}function l(e){if(!(this instanceof l))return new l(e);o.call(this,e),a.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",f)))}function f(){this._writableState.ended||i.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},3880:function(e,t,n){"use strict";e.exports=i;var r=n(6821);function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}n(7526)(i,r),i.prototype._transform=function(e,t,n){n(null,e)}},279:function(e,t,r){"use strict";var o;e.exports=C,C.ReadableState=O;r(2361).EventEmitter;var a=function(e,t){return e.listeners(t).length},s=r(3917),u=r(4300).Buffer,c=n.g.Uint8Array||function(){};var l,f=r(3837);l=f&&f.debuglog?f.debuglog("stream"):function(){};var d,h,p,v=r(5206),m=r(8956),g=r(4292).getHighWaterMark,y=r(519).q,b=y.ERR_INVALID_ARG_TYPE,w=y.ERR_STREAM_PUSH_AFTER_EOF,_=y.ERR_METHOD_NOT_IMPLEMENTED,E=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(7526)(C,s);var S=m.errorOrDestroy,x=["error","close","destroy","pause","resume"];function O(e,t,n){o=o||r(5077),e=e||{},"boolean"!==typeof n&&(n=t instanceof o),this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=g(this,e,"readableHighWaterMark",n),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(d||(d=r(9573).s),this.decoder=new d(e.encoding),this.encoding=e.encoding)}function C(e){if(o=o||r(5077),!(this instanceof C))return new C(e);var t=this instanceof o;this._readableState=new O(e,this,t),this.readable=!0,e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy)),s.call(this)}function k(e,t,n,r,i){l("readableAddChunk",t);var o,a=e._readableState;if(null===t)a.reading=!1,function(e,t){if(l("onEofChunk"),t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?D(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,P(e)))}(e,a);else if(i||(o=function(e,t){var n;(function(e){return u.isBuffer(e)||e instanceof c})(t)||"string"===typeof t||void 0===t||e.objectMode||(n=new b("chunk",["string","Buffer","Uint8Array"],t));return n}(a,t)),o)S(e,o);else if(a.objectMode||t&&t.length>0)if("string"===typeof t||a.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),r)a.endEmitted?S(e,new E):T(e,a,t,!0);else if(a.ended)S(e,new w);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?T(e,a,t,!1):R(e,a)):T(e,a,t,!1)}else r||(a.reading=!1,R(e,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function T(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&D(e)),R(e,t)}Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),C.prototype.destroy=m.destroy,C.prototype._undestroy=m.undestroy,C.prototype._destroy=function(e,t){t(e)},C.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"===typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=u.from(e,t),t=""),n=!0),k(this,e,t,!1,n)},C.prototype.unshift=function(e){return k(this,e,null,!0,!1)},C.prototype.isPaused=function(){return!1===this._readableState.flowing},C.prototype.setEncoding=function(e){d||(d=r(9573).s);var t=new d(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var A=1073741824;function I(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=A?e=A:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function D(e){var t=e._readableState;l("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(l("emitReadable",t.flowing),t.emittedReadable=!0,i.nextTick(P,e))}function P(e){var t=e._readableState;l("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,F(e)}function R(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(N,e,t))}function N(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(l("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function j(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function M(e){l("readable nexttick read 0"),e.read(0)}function L(e,t){l("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),F(e),t.flowing&&!t.reading&&e.read(0)}function F(e){var t=e._readableState;for(l("flow",t.flowing);t.flowing&&null!==e.read(););}function B(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function U(e){var t=e._readableState;l("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,i.nextTick(V,t,e))}function V(e,t){if(l("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function z(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}C.prototype.read=function(e){l("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return l("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?U(this):D(this),null;if(0===(e=I(e,t))&&t.ended)return 0===t.length&&U(this),null;var r,i=t.needReadable;return l("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&l("length less than watermark",i=!0),t.ended||t.reading?l("reading or ended",i=!1):i&&(l("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=I(n,t))),null===(r=e>0?B(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&U(this)),null!==r&&this.emit("data",r),r},C.prototype._read=function(e){S(this,new _("_read()"))},C.prototype.pipe=function(e,t){var n=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=e;break;case 1:r.pipes=[r.pipes,e];break;default:r.pipes.push(e)}r.pipesCount+=1,l("pipe count=%d opts=%j",r.pipesCount,t);var o=(!t||!1!==t.end)&&e!==i.stdout&&e!==i.stderr?u:g;function s(e,t){l("onunpipe"),e===n&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,d())}function u(){l("onend"),e.end()}r.endEmitted?i.nextTick(o):n.once("end",o),e.on("unpipe",s);var c=function(e){return function(){var t=e._readableState;l("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,F(e))}}(n);e.on("drain",c);var f=!1;function d(){l("cleanup"),e.removeListener("close",v),e.removeListener("finish",m),e.removeListener("drain",c),e.removeListener("error",p),e.removeListener("unpipe",s),n.removeListener("end",u),n.removeListener("end",g),n.removeListener("data",h),f=!0,!r.awaitDrain||e._writableState&&!e._writableState.needDrain||c()}function h(t){l("ondata");var i=e.write(t);l("dest.write",i),!1===i&&((1===r.pipesCount&&r.pipes===e||r.pipesCount>1&&-1!==z(r.pipes,e))&&!f&&(l("false write response, pause",r.awaitDrain),r.awaitDrain++),n.pause())}function p(t){l("onerror",t),g(),e.removeListener("error",p),0===a(e,"error")&&S(e,t)}function v(){e.removeListener("finish",m),g()}function m(){l("onfinish"),e.removeListener("close",v),g()}function g(){l("unpipe"),n.unpipe(e)}return n.on("data",h),function(e,t,n){if("function"===typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",p),e.once("close",v),e.once("finish",m),e.emit("pipe",n),r.flowing||(l("pipe resume"),n.resume()),e},C.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=z(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},C.prototype.on=function(e,t){var n=s.prototype.on.call(this,e,t),r=this._readableState;return"data"===e?(r.readableListening=this.listenerCount("readable")>0,!1!==r.flowing&&this.resume()):"readable"===e&&(r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,l("on readable",r.length,r.reading),r.length?D(this):r.reading||i.nextTick(M,this))),n},C.prototype.addListener=C.prototype.on,C.prototype.removeListener=function(e,t){var n=s.prototype.removeListener.call(this,e,t);return"readable"===e&&i.nextTick(j,this),n},C.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||i.nextTick(j,this),t},C.prototype.resume=function(){var e=this._readableState;return e.flowing||(l("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(L,e,t))}(this,e)),e.paused=!1,this},C.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},C.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(l("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(l("wrapped data"),n.decoder&&(i=n.decoder.write(i)),!n.objectMode||null!==i&&void 0!==i)&&((n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause())))})),e)void 0===this[i]&&"function"===typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<x.length;o++)e.on(x[o],this.emit.bind(this,x[o]));return this._read=function(t){l("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"===typeof Symbol&&(C.prototype[Symbol.asyncIterator]=function(){return void 0===h&&(h=r(1439)),h(this)}),Object.defineProperty(C.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(C.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(C.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),C._fromList=B,Object.defineProperty(C.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"===typeof Symbol&&(C.from=function(e,t){return void 0===p&&(p=r(1514)),p(C,e,t)})},6821:function(e,t,n){"use strict";e.exports=l;var r=n(519).q,i=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,a=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=r.ERR_TRANSFORM_WITH_LENGTH_0,u=n(5077);function c(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new o);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);u.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",f)}function f(){var e=this;"function"!==typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush((function(t,n){d(e,t,n)}))}function d(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new s;if(e._transformState.transforming)throw new a;return e.push(null)}n(7526)(l,u),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,n){n(new i("_transform()"))},l.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,(function(e){t(e)}))}},3582:function(e,t,r){"use strict";function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}var a;e.exports=C,C.WritableState=O;var s={deprecate:r(5121)},u=r(3917),c=r(4300).Buffer,l=n.g.Uint8Array||function(){};var f,d=r(8956),h=r(4292).getHighWaterMark,p=r(519).q,v=p.ERR_INVALID_ARG_TYPE,m=p.ERR_METHOD_NOT_IMPLEMENTED,g=p.ERR_MULTIPLE_CALLBACK,y=p.ERR_STREAM_CANNOT_PIPE,b=p.ERR_STREAM_DESTROYED,w=p.ERR_STREAM_NULL_VALUES,_=p.ERR_STREAM_WRITE_AFTER_END,E=p.ERR_UNKNOWN_ENCODING,S=d.errorOrDestroy;function x(){}function O(e,t,n){a=a||r(5077),e=e||{},"boolean"!==typeof n&&(n=t instanceof a),this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=h(this,e,"writableHighWaterMark",n),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,o=n.writecb;if("function"!==typeof o)throw new g;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,o){--t.pendingcb,n?(i.nextTick(o,r),i.nextTick(R,e,t),e._writableState.errorEmitted=!0,S(e,r)):(o(r),e._writableState.errorEmitted=!0,S(e,r),R(e,t))}(e,n,r,t,o);else{var a=D(n)||e.destroyed;a||n.corked||n.bufferProcessing||!n.bufferedRequest||I(e,n),r?i.nextTick(A,e,n,a,o):A(e,n,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function C(e){var t=this instanceof(a=a||r(5077));if(!t&&!f.call(C,this))return new C(e);this._writableState=new O(e,this,t),this.writable=!0,e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final)),u.call(this)}function k(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!==typeof t||(t=c.from(t,n)),t}function T(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new b("write")):n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function A(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),R(e,t)}function I(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),a=t.corkedRequestsFree;a.entry=n;for(var s=0,u=!0;n;)i[s]=n,n.isBuf||(u=!1),n=n.next,s+=1;i.allBuffers=u,T(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,l=n.encoding,f=n.callback;if(T(e,t,!1,t.objectMode?1:c.length,c,l,f),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function D(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function P(e,t){e._final((function(n){t.pendingcb--,n&&S(e,n),t.prefinished=!0,e.emit("prefinish"),R(e,t)}))}function R(e,t){var n=D(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!==typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,i.nextTick(P,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var r=e._readableState;(!r||r.autoDestroy&&r.endEmitted)&&e.destroy()}return n}r(7526)(C,u),O.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(O.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(e){return!!f.call(this,e)||this===C&&(e&&e._writableState instanceof O)}})):f=function(e){return e instanceof this},C.prototype.pipe=function(){S(this,new y)},C.prototype.write=function(e,t,n){var r=this._writableState,o=!1,a=!r.objectMode&&function(e){return c.isBuffer(e)||e instanceof l}(e);return a&&!c.isBuffer(e)&&(e=function(e){return c.from(e)}(e)),"function"===typeof t&&(n=t,t=null),a?t="buffer":t||(t=r.defaultEncoding),"function"!==typeof n&&(n=x),r.ending?function(e,t){var n=new _;S(e,n),i.nextTick(t,n)}(this,n):(a||function(e,t,n,r){var o;return null===n?o=new w:"string"===typeof n||t.objectMode||(o=new v("chunk",["string","Buffer"],n)),!o||(S(e,o),i.nextTick(r,o),!1)}(this,r,e,n))&&(r.pendingcb++,o=function(e,t,n,r,i,o){if(!n){var a=k(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else T(e,t,!1,s,r,i,o);return u}(this,r,a,e,t,n)),o},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||I(this,e))},C.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new E(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(C.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),C.prototype._write=function(e,t,n){n(new m("_write()"))},C.prototype._writev=null,C.prototype.end=function(e,t,n){var r=this._writableState;return"function"===typeof e?(n=e,e=null,t=null):"function"===typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||function(e,t,n){t.ending=!0,R(e,t),n&&(t.finished?i.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,r,n),this},Object.defineProperty(C.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),C.prototype.destroy=d.destroy,C.prototype._undestroy=d.undestroy,C.prototype._destroy=function(e,t){t(e)}},1439:function(e,t,n){"use strict";var r;function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(9830),s=Symbol("lastResolve"),u=Symbol("lastReject"),c=Symbol("error"),l=Symbol("ended"),f=Symbol("lastPromise"),d=Symbol("handlePromise"),h=Symbol("stream");function p(e,t){return{value:e,done:t}}function v(e){var t=e[s];if(null!==t){var n=e[h].read();null!==n&&(e[f]=null,e[s]=null,e[u]=null,t(p(n,!1)))}}function m(e){i.nextTick(v,e)}var g=Object.getPrototypeOf((function(){})),y=Object.setPrototypeOf((r={get stream(){return this[h]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[l])return Promise.resolve(p(void 0,!0));if(this[h].destroyed)return new Promise((function(t,n){i.nextTick((function(){e[c]?n(e[c]):t(p(void 0,!0))}))}));var n,r=this[f];if(r)n=new Promise(function(e,t){return function(n,r){e.then((function(){t[l]?n(p(void 0,!0)):t[d](n,r)}),r)}}(r,this));else{var o=this[h].read();if(null!==o)return Promise.resolve(p(o,!1));n=new Promise(this[d])}return this[f]=n,n}},o(r,Symbol.asyncIterator,(function(){return this})),o(r,"return",(function(){var e=this;return new Promise((function(t,n){e[h].destroy(null,(function(e){e?n(e):t(p(void 0,!0))}))}))})),r),g);e.exports=function(e){var t,n=Object.create(y,(o(t={},h,{value:e,writable:!0}),o(t,s,{value:null,writable:!0}),o(t,u,{value:null,writable:!0}),o(t,c,{value:null,writable:!0}),o(t,l,{value:e._readableState.endEmitted,writable:!0}),o(t,d,{value:function(e,t){var r=n[h].read();r?(n[f]=null,n[s]=null,n[u]=null,e(p(r,!1))):(n[s]=e,n[u]=t)},writable:!0}),t));return n[f]=null,a(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[u];return null!==t&&(n[f]=null,n[s]=null,n[u]=null,t(e)),void(n[c]=e)}var r=n[s];null!==r&&(n[f]=null,n[s]=null,n[u]=null,r(p(void 0,!0))),n[l]=!0})),e.on("readable",m.bind(null,n)),n}},5206:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=n(4300).Buffer,s=n(3837).inspect,u=s&&s.custom||"inspect";function c(e,t,n){a.prototype.copy.call(e,t,n)}e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(e,[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return a.alloc(0);for(var t=a.allocUnsafe(e>>>0),n=this.head,r=0;n;)c(n.data,t,r),r+=n.data.length,n=n.next;return t}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?r+=i:r+=i.slice(0,e),0===(e-=o)){o===i.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(e){var t=a.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var i=n.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0===(e-=o)){o===i.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=i.slice(o));break}++r}return this.length-=r,t}},{key:u,value:function(e,t){return s(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}]),e}()},8956:function(e){"use strict";function t(e,t){r(e,t),n(e)}function n(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function r(e,t){e.emit("error",t)}e.exports={destroy:function(e,o){var a=this,s=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return s||u?(o?o(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(r,this,e)):i.nextTick(r,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!o&&e?a._writableState?a._writableState.errorEmitted?i.nextTick(n,a):(a._writableState.errorEmitted=!0,i.nextTick(t,a,e)):i.nextTick(t,a,e):o?(i.nextTick(n,a),o(e)):i.nextTick(n,a)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}}},9830:function(e,t,n){"use strict";var r=n(519).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,n,o){if("function"===typeof n)return e(t,null,n);n||(n={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}}(o||i);var a=n.readable||!1!==n.readable&&t.readable,s=n.writable||!1!==n.writable&&t.writable,u=function(){t.writable||l()},c=t._writableState&&t._writableState.finished,l=function(){s=!1,c=!0,a||o.call(t)},f=t._readableState&&t._readableState.endEmitted,d=function(){a=!1,f=!0,s||o.call(t)},h=function(e){o.call(t,e)},p=function(){var e;return a&&!f?(t._readableState&&t._readableState.ended||(e=new r),o.call(t,e)):s&&!c?(t._writableState&&t._writableState.ended||(e=new r),o.call(t,e)):void 0},v=function(){t.req.on("finish",l)};return!function(e){return e.setHeader&&"function"===typeof e.abort}(t)?s&&!t._writableState&&(t.on("end",u),t.on("close",u)):(t.on("complete",l),t.on("abort",p),t.req?v():t.on("request",v)),t.on("end",d),t.on("finish",l),!1!==n.error&&t.on("error",h),t.on("close",p),function(){t.removeListener("complete",l),t.removeListener("abort",p),t.removeListener("request",v),t.req&&t.req.removeListener("finish",l),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",l),t.removeListener("end",d),t.removeListener("error",h),t.removeListener("close",p)}}},1514:function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,u,"next",e)}function u(e){r(a,i,o,s,u,"throw",e)}s(void 0)}))}}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n(519).q.ERR_INVALID_ARG_TYPE;e.exports=function(e,t,n){var r;if(t&&"function"===typeof t.next)r=t;else if(t&&t[Symbol.asyncIterator])r=t[Symbol.asyncIterator]();else{if(!t||!t[Symbol.iterator])throw new s("iterable",["Iterable"],t);r=t[Symbol.iterator]()}var u=new e(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({objectMode:!0},n)),c=!1;function l(){return f.apply(this,arguments)}function f(){return f=i((function*(){try{var e=yield r.next(),t=e.value;e.done?u.push(null):u.push(yield t)?l():c=!1}catch(e){u.destroy(e)}})),f.apply(this,arguments)}return u._read=function(){c||(c=!0,l())},u}},1586:function(e,t,n){"use strict";var r;var i=n(519).q,o=i.ERR_MISSING_ARGS,a=i.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function u(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var s=!1;e.on("close",(function(){s=!0})),void 0===r&&(r=n(9830)),r(e,{readable:t,writable:i},(function(e){if(e)return o(e);s=!0,o()}));var u=!1;return function(t){if(!s&&!u)return u=!0,function(e){return e.setHeader&&"function"===typeof e.abort}(e)?e.abort():"function"===typeof e.destroy?e.destroy():void o(t||new a("pipe"))}}function c(e){e()}function l(e,t){return e.pipe(t)}function f(e){return e.length?"function"!==typeof e[e.length-1]?s:e.pop():s}e.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=f(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var a=t.map((function(e,n){var o=n<t.length-1;return u(e,o,n>0,(function(e){r||(r=e),e&&a.forEach(c),o||(a.forEach(c),i(r))}))}));return t.reduce(l)}},4292:function(e,t,n){"use strict";var r=n(519).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,n,i){var o=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,i,n);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new r(i?n:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},3917:function(e,t,n){e.exports=n(2781)},5098:function(e,t,n){var r=n(2781);"disable"===i.env.READABLE_STREAM&&r?(e.exports=r.Readable,Object.assign(e.exports,r),e.exports.Stream=r):((t=e.exports=n(279)).Stream=r||t,t.Readable=t,t.Writable=n(3582),t.Duplex=n(5077),t.Transform=n(6821),t.PassThrough=n(3880),t.finished=n(9830),t.pipeline=n(1586))},9573:function(e,t,n){"use strict";var r=n(3118).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!==typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=f,t=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function a(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!==(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2===0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function l(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.s=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},o.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=a(t[r]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=a(t[r]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=a(t[r]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},9767:function(e,t,n){var r=t;r.utils=n(8911),r.common=n(5169),r.sha=n(9417),r.ripemd=n(5282),r.hmac=n(7890),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160},5169:function(e,t,n){"use strict";var r=n(8911),i=n(9036);function o(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=o,o.prototype.update=function(e,t){if(e=r.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var n=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-n,e.length),0===this.pending.length&&(this.pending=null),e=r.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},o.prototype.digest=function(e){return this.update(this._pad()),i(null===this.pending),this._digest(e)},o.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,n=t-(e+this.padLength)%t,r=new Array(n+this.padLength);r[0]=128;for(var i=1;i<n;i++)r[i]=0;if(e<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)r[i++]=0;r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=e>>>24&255,r[i++]=e>>>16&255,r[i++]=e>>>8&255,r[i++]=255&e}else for(r[i++]=255&e,r[i++]=e>>>8&255,r[i++]=e>>>16&255,r[i++]=e>>>24&255,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,o=8;o<this.padLength;o++)r[i++]=0;return r}},7890:function(e,t,n){"use strict";var r=n(8911),i=n(9036);function o(e,t,n){if(!(this instanceof o))return new o(e,t,n);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(r.toArray(t,n))}e.exports=o,o.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),i(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},o.prototype.update=function(e,t){return this.inner.update(e,t),this},o.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},5282:function(e,t,n){"use strict";var r=n(8911),i=n(5169),o=r.rotl32,a=r.sum32,s=r.sum32_3,u=r.sum32_4,c=i.BlockHash;function l(){if(!(this instanceof l))return new l;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function f(e,t,n,r){return e<=15?t^n^r:e<=31?t&n|~t&r:e<=47?(t|~n)^r:e<=63?t&r|n&~r:t^(n|~r)}function d(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function h(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}r.inherits(l,c),t.ripemd160=l,l.blockSize=512,l.outSize=160,l.hmacStrength=192,l.padLength=64,l.prototype._update=function(e,t){for(var n=this.h[0],r=this.h[1],i=this.h[2],c=this.h[3],l=this.h[4],y=n,b=r,w=i,_=c,E=l,S=0;S<80;S++){var x=a(o(u(n,f(S,r,i,c),e[p[S]+t],d(S)),m[S]),l);n=l,l=c,c=o(i,10),i=r,r=x,x=a(o(u(y,f(79-S,b,w,_),e[v[S]+t],h(S)),g[S]),E),y=E,E=_,_=o(w,10),w=b,b=x}x=s(this.h[1],i,_),this.h[1]=s(this.h[2],c,E),this.h[2]=s(this.h[3],l,y),this.h[3]=s(this.h[4],n,b),this.h[4]=s(this.h[0],r,w),this.h[0]=x},l.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"little"):r.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],v=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],g=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},9417:function(e,t,n){"use strict";t.sha1=n(8097),t.sha224=n(9777),t.sha256=n(6072),t.sha384=n(5132),t.sha512=n(5983)},8097:function(e,t,n){"use strict";var r=n(8911),i=n(5169),o=n(6509),a=r.rotl32,s=r.sum32,u=r.sum32_5,c=o.ft_1,l=i.BlockHash,f=[1518500249,1859775393,2400959708,3395469782];function d(){if(!(this instanceof d))return new d;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}r.inherits(d,l),e.exports=d,d.blockSize=512,d.outSize=160,d.hmacStrength=80,d.padLength=64,d.prototype._update=function(e,t){for(var n=this.W,r=0;r<16;r++)n[r]=e[t+r];for(;r<n.length;r++)n[r]=a(n[r-3]^n[r-8]^n[r-14]^n[r-16],1);var i=this.h[0],o=this.h[1],l=this.h[2],d=this.h[3],h=this.h[4];for(r=0;r<n.length;r++){var p=~~(r/20),v=u(a(i,5),c(p,o,l,d),h,n[r],f[p]);h=d,d=l,l=a(o,30),o=i,i=v}this.h[0]=s(this.h[0],i),this.h[1]=s(this.h[1],o),this.h[2]=s(this.h[2],l),this.h[3]=s(this.h[3],d),this.h[4]=s(this.h[4],h)},d.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},9777:function(e,t,n){"use strict";var r=n(8911),i=n(6072);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}r.inherits(o,i),e.exports=o,o.blockSize=512,o.outSize=224,o.hmacStrength=192,o.padLength=64,o.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h.slice(0,7),"big"):r.split32(this.h.slice(0,7),"big")}},6072:function(e,t,n){"use strict";var r=n(8911),i=n(5169),o=n(6509),a=n(9036),s=r.sum32,u=r.sum32_4,c=r.sum32_5,l=o.ch32,f=o.maj32,d=o.s0_256,h=o.s1_256,p=o.g0_256,v=o.g1_256,m=i.BlockHash,g=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function y(){if(!(this instanceof y))return new y;m.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=g,this.W=new Array(64)}r.inherits(y,m),e.exports=y,y.blockSize=512,y.outSize=256,y.hmacStrength=192,y.padLength=64,y.prototype._update=function(e,t){for(var n=this.W,r=0;r<16;r++)n[r]=e[t+r];for(;r<n.length;r++)n[r]=u(v(n[r-2]),n[r-7],p(n[r-15]),n[r-16]);var i=this.h[0],o=this.h[1],m=this.h[2],g=this.h[3],y=this.h[4],b=this.h[5],w=this.h[6],_=this.h[7];for(a(this.k.length===n.length),r=0;r<n.length;r++){var E=c(_,h(y),l(y,b,w),this.k[r],n[r]),S=s(d(i),f(i,o,m));_=w,w=b,b=y,y=s(g,E),g=m,m=o,o=i,i=s(E,S)}this.h[0]=s(this.h[0],i),this.h[1]=s(this.h[1],o),this.h[2]=s(this.h[2],m),this.h[3]=s(this.h[3],g),this.h[4]=s(this.h[4],y),this.h[5]=s(this.h[5],b),this.h[6]=s(this.h[6],w),this.h[7]=s(this.h[7],_)},y.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},5132:function(e,t,n){"use strict";var r=n(8911),i=n(5983);function o(){if(!(this instanceof o))return new o;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}r.inherits(o,i),e.exports=o,o.blockSize=1024,o.outSize=384,o.hmacStrength=192,o.padLength=128,o.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h.slice(0,12),"big"):r.split32(this.h.slice(0,12),"big")}},5983:function(e,t,n){"use strict";var r=n(8911),i=n(5169),o=n(9036),a=r.rotr64_hi,s=r.rotr64_lo,u=r.shr64_hi,c=r.shr64_lo,l=r.sum64,f=r.sum64_hi,d=r.sum64_lo,h=r.sum64_4_hi,p=r.sum64_4_lo,v=r.sum64_5_hi,m=r.sum64_5_lo,g=i.BlockHash,y=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function b(){if(!(this instanceof b))return new b;g.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=y,this.W=new Array(160)}function w(e,t,n,r,i){var o=e&n^~e&i;return o<0&&(o+=4294967296),o}function _(e,t,n,r,i,o){var a=t&r^~t&o;return a<0&&(a+=4294967296),a}function E(e,t,n,r,i){var o=e&n^e&i^n&i;return o<0&&(o+=4294967296),o}function S(e,t,n,r,i,o){var a=t&r^t&o^r&o;return a<0&&(a+=4294967296),a}function x(e,t){var n=a(e,t,28)^a(t,e,2)^a(t,e,7);return n<0&&(n+=4294967296),n}function O(e,t){var n=s(e,t,28)^s(t,e,2)^s(t,e,7);return n<0&&(n+=4294967296),n}function C(e,t){var n=a(e,t,14)^a(e,t,18)^a(t,e,9);return n<0&&(n+=4294967296),n}function k(e,t){var n=s(e,t,14)^s(e,t,18)^s(t,e,9);return n<0&&(n+=4294967296),n}function T(e,t){var n=a(e,t,1)^a(e,t,8)^u(e,t,7);return n<0&&(n+=4294967296),n}function A(e,t){var n=s(e,t,1)^s(e,t,8)^c(e,t,7);return n<0&&(n+=4294967296),n}function I(e,t){var n=a(e,t,19)^a(t,e,29)^u(e,t,6);return n<0&&(n+=4294967296),n}function D(e,t){var n=s(e,t,19)^s(t,e,29)^c(e,t,6);return n<0&&(n+=4294967296),n}r.inherits(b,g),e.exports=b,b.blockSize=1024,b.outSize=512,b.hmacStrength=192,b.padLength=128,b.prototype._prepareBlock=function(e,t){for(var n=this.W,r=0;r<32;r++)n[r]=e[t+r];for(;r<n.length;r+=2){var i=I(n[r-4],n[r-3]),o=D(n[r-4],n[r-3]),a=n[r-14],s=n[r-13],u=T(n[r-30],n[r-29]),c=A(n[r-30],n[r-29]),l=n[r-32],f=n[r-31];n[r]=h(i,o,a,s,u,c,l,f),n[r+1]=p(i,o,a,s,u,c,l,f)}},b.prototype._update=function(e,t){this._prepareBlock(e,t);var n=this.W,r=this.h[0],i=this.h[1],a=this.h[2],s=this.h[3],u=this.h[4],c=this.h[5],h=this.h[6],p=this.h[7],g=this.h[8],y=this.h[9],b=this.h[10],T=this.h[11],A=this.h[12],I=this.h[13],D=this.h[14],P=this.h[15];o(this.k.length===n.length);for(var R=0;R<n.length;R+=2){var N=D,j=P,M=C(g,y),L=k(g,y),F=w(g,y,b,T,A),B=_(g,y,b,T,A,I),U=this.k[R],V=this.k[R+1],z=n[R],q=n[R+1],Z=v(N,j,M,L,F,B,U,V,z,q),H=m(N,j,M,L,F,B,U,V,z,q);N=x(r,i),j=O(r,i),M=E(r,i,a,s,u),L=S(r,i,a,s,u,c);var W=f(N,j,M,L),G=d(N,j,M,L);D=A,P=I,A=b,I=T,b=g,T=y,g=f(h,p,Z,H),y=d(p,p,Z,H),h=u,p=c,u=a,c=s,a=r,s=i,r=f(Z,H,W,G),i=d(Z,H,W,G)}l(this.h,0,r,i),l(this.h,2,a,s),l(this.h,4,u,c),l(this.h,6,h,p),l(this.h,8,g,y),l(this.h,10,b,T),l(this.h,12,A,I),l(this.h,14,D,P)},b.prototype._digest=function(e){return"hex"===e?r.toHex32(this.h,"big"):r.split32(this.h,"big")}},6509:function(e,t,n){"use strict";var r=n(8911).rotr32;function i(e,t,n){return e&t^~e&n}function o(e,t,n){return e&t^e&n^t&n}function a(e,t,n){return e^t^n}t.ft_1=function(e,t,n,r){return 0===e?i(t,n,r):1===e||3===e?a(t,n,r):2===e?o(t,n,r):void 0},t.ch32=i,t.maj32=o,t.p32=a,t.s0_256=function(e){return r(e,2)^r(e,13)^r(e,22)},t.s1_256=function(e){return r(e,6)^r(e,11)^r(e,25)},t.g0_256=function(e){return r(e,7)^r(e,18)^e>>>3},t.g1_256=function(e){return r(e,17)^r(e,19)^e>>>10}},8911:function(e,t,n){"use strict";var r=n(9036),i=n(7526);function o(e,t){return 55296===(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320===(64512&e.charCodeAt(t+1)))}function a(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function s(e){return 1===e.length?"0"+e:e}function u(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=i,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"===typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e),i=0;i<e.length;i+=2)n.push(parseInt(e[i]+e[i+1],16))}else for(var r=0,i=0;i<e.length;i++){var a=e.charCodeAt(i);a<128?n[r++]=a:a<2048?(n[r++]=a>>6|192,n[r++]=63&a|128):o(e,i)?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++i)),n[r++]=a>>18|240,n[r++]=a>>12&63|128,n[r++]=a>>6&63|128,n[r++]=63&a|128):(n[r++]=a>>12|224,n[r++]=a>>6&63|128,n[r++]=63&a|128)}else for(i=0;i<e.length;i++)n[i]=0|e[i];return n},t.toHex=function(e){for(var t="",n=0;n<e.length;n++)t+=s(e[n].toString(16));return t},t.htonl=a,t.toHex32=function(e,t){for(var n="",r=0;r<e.length;r++){var i=e[r];"little"===t&&(i=a(i)),n+=u(i.toString(16))}return n},t.zero2=s,t.zero8=u,t.join32=function(e,t,n,i){var o=n-t;r(o%4===0);for(var a=new Array(o/4),s=0,u=t;s<a.length;s++,u+=4){var c;c="big"===i?e[u]<<24|e[u+1]<<16|e[u+2]<<8|e[u+3]:e[u+3]<<24|e[u+2]<<16|e[u+1]<<8|e[u],a[s]=c>>>0}return a},t.split32=function(e,t){for(var n=new Array(4*e.length),r=0,i=0;r<e.length;r++,i+=4){var o=e[r];"big"===t?(n[i]=o>>>24,n[i+1]=o>>>16&255,n[i+2]=o>>>8&255,n[i+3]=255&o):(n[i+3]=o>>>24,n[i+2]=o>>>16&255,n[i+1]=o>>>8&255,n[i]=255&o)}return n},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,n){return e+t+n>>>0},t.sum32_4=function(e,t,n,r){return e+t+n+r>>>0},t.sum32_5=function(e,t,n,r,i){return e+t+n+r+i>>>0},t.sum64=function(e,t,n,r){var i=e[t],o=r+e[t+1]>>>0,a=(o<r?1:0)+n+i;e[t]=a>>>0,e[t+1]=o},t.sum64_hi=function(e,t,n,r){return(t+r>>>0<t?1:0)+e+n>>>0},t.sum64_lo=function(e,t,n,r){return t+r>>>0},t.sum64_4_hi=function(e,t,n,r,i,o,a,s){var u=0,c=t;return u+=(c=c+r>>>0)<t?1:0,u+=(c=c+o>>>0)<o?1:0,e+n+i+a+(u+=(c=c+s>>>0)<s?1:0)>>>0},t.sum64_4_lo=function(e,t,n,r,i,o,a,s){return t+r+o+s>>>0},t.sum64_5_hi=function(e,t,n,r,i,o,a,s,u,c){var l=0,f=t;return l+=(f=f+r>>>0)<t?1:0,l+=(f=f+o>>>0)<o?1:0,l+=(f=f+s>>>0)<s?1:0,e+n+i+a+u+(l+=(f=f+c>>>0)<c?1:0)>>>0},t.sum64_5_lo=function(e,t,n,r,i,o,a,s,u,c){return t+r+o+s+c>>>0},t.rotr64_hi=function(e,t,n){return(t<<32-n|e>>>n)>>>0},t.rotr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0},t.shr64_hi=function(e,t,n){return e>>>n},t.shr64_lo=function(e,t,n){return(e<<32-n|t>>>n)>>>0}},8242:function(e,t,n){"use strict";var r=n(9767),i=n(6249),o=n(9036);function a(e){if(!(this instanceof a))return new a(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=i.toArray(e.entropy,e.entropyEnc||"hex"),n=i.toArray(e.nonce,e.nonceEnc||"hex"),r=i.toArray(e.pers,e.persEnc||"hex");o(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,n,r)}e.exports=a,a.prototype._init=function(e,t,n){var r=e.concat(t).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(r),this._reseed=1,this.reseedInterval=281474976710656},a.prototype._hmac=function(){return new r.hmac(this.hash,this.K)},a.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},a.prototype.reseed=function(e,t,n,r){"string"!==typeof t&&(r=n,n=t,t=null),e=i.toArray(e,t),n=i.toArray(n,r),o(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1},a.prototype.generate=function(e,t,n,r){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!==typeof t&&(r=n,n=t,t=null),n&&(n=i.toArray(n,r||"hex"),this._update(n));for(var o=[];o.length<e;)this.V=this._hmac().update(this.V).digest(),o=o.concat(this.V);var a=o.slice(0,e);return this._update(n),this._reseed++,i.encode(a,t)}},7526:function(e){"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},4125:function(e,t,n){"use strict";var r=n(7526),i=n(3421),o=n(3118).Buffer,a=new Array(16);function s(){i.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function u(e,t){return e<<t|e>>>32-t}function c(e,t,n,r,i,o,a){return u(e+(t&n|~t&r)+i+o|0,a)+t|0}function l(e,t,n,r,i,o,a){return u(e+(t&r|n&~r)+i+o|0,a)+t|0}function f(e,t,n,r,i,o,a){return u(e+(t^n^r)+i+o|0,a)+t|0}function d(e,t,n,r,i,o,a){return u(e+(n^(t|~r))+i+o|0,a)+t|0}r(s,i),s.prototype._update=function(){for(var e=a,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);var n=this._a,r=this._b,i=this._c,o=this._d;n=c(n,r,i,o,e[0],3614090360,7),o=c(o,n,r,i,e[1],3905402710,12),i=c(i,o,n,r,e[2],606105819,17),r=c(r,i,o,n,e[3],3250441966,22),n=c(n,r,i,o,e[4],4118548399,7),o=c(o,n,r,i,e[5],1200080426,12),i=c(i,o,n,r,e[6],2821735955,17),r=c(r,i,o,n,e[7],4249261313,22),n=c(n,r,i,o,e[8],1770035416,7),o=c(o,n,r,i,e[9],2336552879,12),i=c(i,o,n,r,e[10],4294925233,17),r=c(r,i,o,n,e[11],2304563134,22),n=c(n,r,i,o,e[12],1804603682,7),o=c(o,n,r,i,e[13],4254626195,12),i=c(i,o,n,r,e[14],2792965006,17),n=l(n,r=c(r,i,o,n,e[15],1236535329,22),i,o,e[1],4129170786,5),o=l(o,n,r,i,e[6],3225465664,9),i=l(i,o,n,r,e[11],643717713,14),r=l(r,i,o,n,e[0],3921069994,20),n=l(n,r,i,o,e[5],3593408605,5),o=l(o,n,r,i,e[10],38016083,9),i=l(i,o,n,r,e[15],3634488961,14),r=l(r,i,o,n,e[4],3889429448,20),n=l(n,r,i,o,e[9],568446438,5),o=l(o,n,r,i,e[14],3275163606,9),i=l(i,o,n,r,e[3],4107603335,14),r=l(r,i,o,n,e[8],1163531501,20),n=l(n,r,i,o,e[13],2850285829,5),o=l(o,n,r,i,e[2],4243563512,9),i=l(i,o,n,r,e[7],1735328473,14),n=f(n,r=l(r,i,o,n,e[12],2368359562,20),i,o,e[5],4294588738,4),o=f(o,n,r,i,e[8],2272392833,11),i=f(i,o,n,r,e[11],1839030562,16),r=f(r,i,o,n,e[14],4259657740,23),n=f(n,r,i,o,e[1],2763975236,4),o=f(o,n,r,i,e[4],1272893353,11),i=f(i,o,n,r,e[7],4139469664,16),r=f(r,i,o,n,e[10],3200236656,23),n=f(n,r,i,o,e[13],681279174,4),o=f(o,n,r,i,e[0],3936430074,11),i=f(i,o,n,r,e[3],3572445317,16),r=f(r,i,o,n,e[6],76029189,23),n=f(n,r,i,o,e[9],3654602809,4),o=f(o,n,r,i,e[12],3873151461,11),i=f(i,o,n,r,e[15],530742520,16),n=d(n,r=f(r,i,o,n,e[2],3299628645,23),i,o,e[0],4096336452,6),o=d(o,n,r,i,e[7],1126891415,10),i=d(i,o,n,r,e[14],2878612391,15),r=d(r,i,o,n,e[5],4237533241,21),n=d(n,r,i,o,e[12],1700485571,6),o=d(o,n,r,i,e[3],2399980690,10),i=d(i,o,n,r,e[10],4293915773,15),r=d(r,i,o,n,e[1],2240044497,21),n=d(n,r,i,o,e[8],1873313359,6),o=d(o,n,r,i,e[15],4264355552,10),i=d(i,o,n,r,e[6],2734768916,15),r=d(r,i,o,n,e[13],1309151649,21),n=d(n,r,i,o,e[4],4149444226,6),o=d(o,n,r,i,e[11],3174756917,10),i=d(i,o,n,r,e[2],718787259,15),r=d(r,i,o,n,e[9],3951481745,21),this._a=this._a+n|0,this._b=this._b+r|0,this._c=this._c+i|0,this._d=this._d+o|0},s.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=o.allocUnsafe(16);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e},e.exports=s},148:function(e,t,n){var r=n(6884),i=n(6069);function o(e){this.rand=e||new i.Rand}e.exports=o,o.create=function(e){return new o(e)},o.prototype._randbelow=function(e){var t=e.bitLength(),n=Math.ceil(t/8);do{var i=new r(this.rand.generate(n))}while(i.cmp(e)>=0);return i},o.prototype._randrange=function(e,t){var n=t.sub(e);return e.add(this._randbelow(n))},o.prototype.test=function(e,t,n){var i=e.bitLength(),o=r.mont(e),a=new r(1).toRed(o);t||(t=Math.max(1,i/48|0));for(var s=e.subn(1),u=0;!s.testn(u);u++);for(var c=e.shrn(u),l=s.toRed(o);t>0;t--){var f=this._randrange(new r(2),s);n&&n(f);var d=f.toRed(o).redPow(c);if(0!==d.cmp(a)&&0!==d.cmp(l)){for(var h=1;h<u;h++){if(0===(d=d.redSqr()).cmp(a))return!1;if(0===d.cmp(l))break}if(h===u)return!1}}return!0},o.prototype.getDivisor=function(e,t){var n=e.bitLength(),i=r.mont(e),o=new r(1).toRed(i);t||(t=Math.max(1,n/48|0));for(var a=e.subn(1),s=0;!a.testn(s);s++);for(var u=e.shrn(s),c=a.toRed(i);t>0;t--){var l=this._randrange(new r(2),a),f=e.gcd(l);if(0!==f.cmpn(1))return f;var d=l.toRed(i).redPow(u);if(0!==d.cmp(o)&&0!==d.cmp(c)){for(var h=1;h<s;h++){if(0===(d=d.redSqr()).cmp(o))return d.fromRed().subn(1).gcd(e);if(0===d.cmp(c))break}if(h===s)return(d=d.redSqr()).fromRed().subn(1).gcd(e)}}return!1}},9036:function(e){function t(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=t,t.equal=function(e,t,n){if(e!=t)throw new Error(n||"Assertion failed: "+e+" != "+t)}},6249:function(e,t){"use strict";var n=t;function r(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",n=0;n<e.length;n++)t+=r(e[n].toString(16));return t}n.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var n=[];if("string"!==typeof e){for(var r=0;r<e.length;r++)n[r]=0|e[r];return n}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e);for(r=0;r<e.length;r+=2)n.push(parseInt(e[r]+e[r+1],16))}else for(r=0;r<e.length;r++){var i=e.charCodeAt(r),o=i>>8,a=255&i;o?n.push(o,a):n.push(a)}return n},n.zero2=r,n.toHex=i,n.encode=function(e,t){return"hex"===t?i(e):e}},9913:function(e,t,n){"use strict";var r=n(8557);t.certificate=n(8657);var i=r.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())}));t.RSAPrivateKey=i;var o=r.define("RSAPublicKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())}));t.RSAPublicKey=o;var a=r.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())}));t.PublicKey=a;var s=r.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())})),u=r.define("PrivateKeyInfo",(function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(s),this.key("subjectPrivateKey").octstr())}));t.PrivateKey=u;var c=r.define("EncryptedPrivateKeyInfo",(function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())}));t.EncryptedPrivateKey=c;var l=r.define("DSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())}));t.DSAPrivateKey=l,t.DSAparam=r.define("DSAparam",(function(){this.int()}));var f=r.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(d),this.key("publicKey").optional().explicit(1).bitstr())}));t.ECPrivateKey=f;var d=r.define("ECParameters",(function(){this.choice({namedCurve:this.objid()})}));t.signature=r.define("signature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())}))},8657:function(e,t,n){"use strict";var r=n(8557),i=r.define("Time",(function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})})),o=r.define("AttributeTypeValue",(function(){this.seq().obj(this.key("type").objid(),this.key("value").any())})),a=r.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())})),s=r.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())})),u=r.define("RelativeDistinguishedName",(function(){this.setof(o)})),c=r.define("RDNSequence",(function(){this.seqof(u)})),l=r.define("Name",(function(){this.choice({rdnSequence:this.use(c)})})),f=r.define("Validity",(function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))})),d=r.define("Extension",(function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())})),h=r.define("TBSCertificate",(function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(a),this.key("issuer").use(l),this.key("validity").use(f),this.key("subject").use(l),this.key("subjectPublicKeyInfo").use(s),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(d).optional())})),p=r.define("X509Certificate",(function(){this.seq().obj(this.key("tbsCertificate").use(h),this.key("signatureAlgorithm").use(a),this.key("signatureValue").bitstr())}));e.exports=p},4803:function(e,t,n){var r=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r\+\/\=]+)[\n\r]+/m,i=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,o=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r\+\/\=]+)-----END \1-----$/m,a=n(7325),s=n(7384),u=n(3118).Buffer;e.exports=function(e,t){var n,c=e.toString(),l=c.match(r);if(l){var f="aes"+l[1],d=u.from(l[2],"hex"),h=u.from(l[3].replace(/[\r\n]/g,""),"base64"),p=a(t,d.slice(0,8),parseInt(l[1],10)).key,v=[],m=s.createDecipheriv(f,p,d);v.push(m.update(h)),v.push(m.final()),n=u.concat(v)}else{var g=c.match(o);n=new u(g[2].replace(/[\r\n]/g,""),"base64")}return{tag:c.match(i)[1],data:n}}},569:function(e,t,n){var r=n(9913),i=n(8675),o=n(4803),a=n(7384),s=n(785),u=n(3118).Buffer;function c(e){var t;"object"!==typeof e||u.isBuffer(e)||(t=e.passphrase,e=e.key),"string"===typeof e&&(e=u.from(e));var n,i,a=o(e,t),s=a.tag,c=a.data;switch(s){case"CERTIFICATE":i=r.certificate.decode(c,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(i||(i=r.PublicKey.decode(c,"der")),n=i.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return r.RSAPublicKey.decode(i.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return i.subjectPrivateKey=i.subjectPublicKey,{type:"ec",data:i};case"1.2.840.10040.4.1":return i.algorithm.params.pub_key=r.DSAparam.decode(i.subjectPublicKey.data,"der"),{type:"dsa",data:i.algorithm.params};default:throw new Error("unknown key id "+n)}throw new Error("unknown key type "+s);case"ENCRYPTED PRIVATE KEY":c=l(c=r.EncryptedPrivateKey.decode(c,"der"),t);case"PRIVATE KEY":switch(n=(i=r.PrivateKey.decode(c,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return r.RSAPrivateKey.decode(i.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:i.algorithm.curve,privateKey:r.ECPrivateKey.decode(i.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return i.algorithm.params.priv_key=r.DSAparam.decode(i.subjectPrivateKey,"der"),{type:"dsa",params:i.algorithm.params};default:throw new Error("unknown key id "+n)}throw new Error("unknown key type "+s);case"RSA PUBLIC KEY":return r.RSAPublicKey.decode(c,"der");case"RSA PRIVATE KEY":return r.RSAPrivateKey.decode(c,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:r.DSAPrivateKey.decode(c,"der")};case"EC PRIVATE KEY":return{curve:(c=r.ECPrivateKey.decode(c,"der")).parameters.value,privateKey:c.privateKey};default:throw new Error("unknown key type "+s)}}function l(e,t){var n=e.algorithm.decrypt.kde.kdeparams.salt,r=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),o=i[e.algorithm.decrypt.cipher.algo.join(".")],c=e.algorithm.decrypt.cipher.iv,l=e.subjectPrivateKey,f=parseInt(o.split("-")[1],10)/8,d=s.pbkdf2Sync(t,n,r,f,"sha1"),h=a.createDecipheriv(o,d,c),p=[];return p.push(h.update(l)),p.push(h.final()),u.concat(p)}e.exports=c,c.signature=r.signature},785:function(e,t,n){var r=n(6113),i=n(721),o=n(908),a=n(7409);r.pbkdf2Sync&&-1!==r.pbkdf2Sync.toString().indexOf("keylen, digest")?(t.pbkdf2Sync=function(e,t,n,s,u){return i(n,s),e=a(e,o,"Password"),t=a(t,o,"Salt"),u=u||"sha1",r.pbkdf2Sync(e,t,n,s,u)},t.pbkdf2=function(e,t,n,s,u,c){if(i(n,s),e=a(e,o,"Password"),t=a(t,o,"Salt"),"function"===typeof u&&(c=u,u="sha1"),"function"!==typeof c)throw new Error("No callback provided to pbkdf2");return r.pbkdf2(e,t,n,s,u,c)}):(t.pbkdf2Sync=n(2419),t.pbkdf2=n(5539))},5539:function(e,t,r){var o,a=r(3118).Buffer,s=r(721),u=r(908),c=r(2419),l=r(7409),f=n.g.crypto&&n.g.crypto.subtle,d={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},h=[];function p(e){if(n.g.process&&!n.g.process.browser)return Promise.resolve(!1);if(!f||!f.importKey||!f.deriveBits)return Promise.resolve(!1);if(void 0!==h[e])return h[e];var t=v(o=o||a.alloc(8),o,10,128,e).then((function(){return!0})).catch((function(){return!1}));return h[e]=t,t}function v(e,t,n,r,i){return f.importKey("raw",e,{name:"PBKDF2"},!1,["deriveBits"]).then((function(e){return f.deriveBits({name:"PBKDF2",salt:t,iterations:n,hash:{name:i}},e,r<<3)})).then((function(e){return a.from(e)}))}e.exports=function(e,t,r,o,a,f){"function"===typeof a&&(f=a,a=void 0);var h=d[(a=a||"sha1").toLowerCase()];if(!h||"function"!==typeof n.g.Promise)return i.nextTick((function(){var n;try{n=c(e,t,r,o,a)}catch(e){return f(e)}f(null,n)}));if(s(r,o),e=l(e,u,"Password"),t=l(t,u,"Salt"),"function"!==typeof f)throw new Error("No callback provided to pbkdf2");!function(e,t){e.then((function(e){i.nextTick((function(){t(null,e)}))}),(function(e){i.nextTick((function(){t(e)}))}))}(p(h).then((function(n){return n?v(e,t,r,o,h):c(e,t,r,o,a)})),f)}},908:function(e){var t;t="utf-8",e.exports=t},721:function(e){var t=Math.pow(2,30)-1;e.exports=function(e,n){if("number"!==typeof e)throw new TypeError("Iterations not a number");if(e<0)throw new TypeError("Bad iterations");if("number"!==typeof n)throw new TypeError("Key length not a number");if(n<0||n>t||n!==n)throw new TypeError("Bad key length")}},2419:function(e,t,n){var r={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20},i=n(2730),o=n(3118).Buffer,a=n(721),s=n(908),u=n(7409);e.exports=function(e,t,n,c,l){a(n,c),e=u(e,s,"Password"),t=u(t,s,"Salt"),l=l||"sha1";var f=o.allocUnsafe(c),d=o.allocUnsafe(t.length+4);t.copy(d,0,0,t.length);for(var h=0,p=r[l],v=Math.ceil(c/p),m=1;m<=v;m++){d.writeUInt32BE(m,t.length);for(var g=i(l,e).update(d).digest(),y=g,b=1;b<n;b++){y=i(l,e).update(y).digest();for(var w=0;w<p;w++)g[w]^=y[w]}g.copy(f,h),h+=p}return f}},7409:function(e,t,n){var r=n(3118).Buffer;e.exports=function(e,t,n){if(r.isBuffer(e))return e;if("string"===typeof e)return r.from(e,t);if(ArrayBuffer.isView(e))return r.from(e.buffer);throw new TypeError(n+" must be a string, a Buffer, a typed array or a DataView")}},3501:function(e,t,n){t.publicEncrypt=n(3922),t.privateDecrypt=n(2402),t.privateEncrypt=function(e,n){return t.publicEncrypt(e,n,!0)},t.publicDecrypt=function(e,n){return t.privateDecrypt(e,n,!0)}},22:function(e,t,n){var r=n(2539),i=n(3118).Buffer;function o(e){var t=i.allocUnsafe(4);return t.writeUInt32BE(e,0),t}e.exports=function(e,t){for(var n,a=i.alloc(0),s=0;a.length<t;)n=o(s++),a=i.concat([a,r("sha1").update(e).update(n).digest()]);return a.slice(0,t)}},2402:function(e,t,n){var r=n(569),i=n(22),o=n(9973),a=n(6884),s=n(6236),u=n(2539),c=n(8992),l=n(3118).Buffer;function f(e,t){var n=e.modulus.byteLength(),r=u("sha1").update(l.alloc(0)).digest(),a=r.length;if(0!==t[0])throw new Error("decryption error");var s=t.slice(1,a+1),c=t.slice(a+1),f=o(s,i(c,a)),d=o(c,i(f,n-a-1));if(function(e,t){e=l.from(e),t=l.from(t);var n=0,r=e.length;e.length!==t.length&&(n++,r=Math.min(e.length,t.length));var i=-1;for(;++i<r;)n+=e[i]^t[i];return n}(r,d.slice(0,a)))throw new Error("decryption error");for(var h=a;0===d[h];)h++;if(1!==d[h++])throw new Error("decryption error");return d.slice(h)}e.exports=function(e,t,n){var i;i=e.padding?e.padding:n?1:4;var o,u=r(e),d=u.modulus.byteLength();if(t.length>d||new a(t).cmp(u.modulus)>=0)throw new Error("decryption error");o=n?c(new a(t),u):s(t,u);var h=l.alloc(d-o.length);if(o=l.concat([h,o],d),4===i)return f(u,o);if(1===i)return function(e,t,n){var r=t.slice(0,2),i=2,o=0;for(;0!==t[i++];)if(i>=t.length){o++;break}var a=t.slice(2,i-1);("0002"!==r.toString("hex")&&!n||"0001"!==r.toString("hex")&&n)&&o++;a.length<8&&o++;if(o)throw new Error("decryption error");return t.slice(i)}(0,o,n);if(3===i)return o;throw new Error("unknown padding")}},3922:function(e,t,n){var r=n(569),i=n(2711),o=n(2539),a=n(22),s=n(9973),u=n(6884),c=n(8992),l=n(6236),f=n(3118).Buffer;function d(e,t){var n=e.modulus.byteLength(),r=t.length,c=o("sha1").update(f.alloc(0)).digest(),l=c.length,d=2*l;if(r>n-d-2)throw new Error("message too long");var h=f.alloc(n-r-d-2),p=n-l-1,v=i(l),m=s(f.concat([c,h,f.alloc(1,1),t],p),a(v,p)),g=s(v,a(m,l));return new u(f.concat([f.alloc(1),g,m],n))}function h(e){for(var t,n=f.allocUnsafe(e),r=0,o=i(2*e),a=0;r<e;)a===o.length&&(o=i(2*e),a=0),(t=o[a++])&&(n[r++]=t);return n}e.exports=function(e,t,n){var i;i=e.padding?e.padding:n?1:4;var o,a=r(e);if(4===i)o=d(a,t);else if(1===i)o=function(e,t,n){var r,i=t.length,o=e.modulus.byteLength();if(i>o-11)throw new Error("message too long");r=n?f.alloc(o-i-3,255):h(o-i-3);return new u(f.concat([f.from([0,n?1:2]),r,f.alloc(1),t],o))}(a,t,n);else{if(3!==i)throw new Error("unknown padding");if((o=new u(t)).cmp(a.modulus)>=0)throw new Error("data too long for modulus")}return n?l(o,a):c(o,a)}},8992:function(e,t,n){var r=n(6884),i=n(3118).Buffer;e.exports=function(e,t){return i.from(e.toRed(r.mont(t.modulus)).redPow(new r(t.publicExponent)).fromRed().toArray())}},9973:function(e){e.exports=function(e,t){for(var n=e.length,r=-1;++r<n;)e[r]^=t[r];return e}},2711:function(e,t,r){"use strict";var o=65536,a=4294967295;var s=r(3118).Buffer,u=n.g.crypto||n.g.msCrypto;u&&u.getRandomValues?e.exports=function(e,t){if(e>a)throw new RangeError("requested too many random bytes");var n=s.allocUnsafe(e);if(e>0)if(e>o)for(var r=0;r<e;r+=o)u.getRandomValues(n.slice(r,r+o));else u.getRandomValues(n);if("function"===typeof t)return i.nextTick((function(){t(null,n)}));return n}:e.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}},9534:function(e,t,r){"use strict";function o(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}var a=r(3118),s=(r(2711),a.Buffer),u=a.kMaxLength,c=n.g.crypto||n.g.msCrypto,l=Math.pow(2,32)-1;function f(e,t){if("number"!==typeof e||e!==e)throw new TypeError("offset must be a number");if(e>l||e<0)throw new TypeError("offset must be a uint32");if(e>u||e>t)throw new RangeError("offset out of range")}function d(e,t,n){if("number"!==typeof e||e!==e)throw new TypeError("size must be a number");if(e>l||e<0)throw new TypeError("size must be a uint32");if(e+t>n||e>u)throw new RangeError("buffer too small")}function h(e,t,n,r){var o=e.buffer,a=new Uint8Array(o,t,n);return c.getRandomValues(a),r?void i.nextTick((function(){r(null,e)})):e}c&&c.getRandomValues?(t.randomFill=function(e,t,r,i){if(!s.isBuffer(e)&&!(e instanceof n.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"===typeof t)i=t,t=0,r=e.length;else if("function"===typeof r)i=r,r=e.length-t;else if("function"!==typeof i)throw new TypeError('"cb" argument must be a function');return f(t,e.length),d(r,t,e.length),h(e,t,r,i)},t.randomFillSync=function(e,t,r){"undefined"===typeof t&&(t=0);if(!s.isBuffer(e)&&!(e instanceof n.g.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');f(t,e.length),void 0===r&&(r=e.length-t);return d(r,t,e.length),h(e,t,r)}):(t.randomFill=o,t.randomFillSync=o)},7455:function(e,t,n){"use strict";var r=n(4300).Buffer,i=n(7526),o=n(3421),a=new Array(16),s=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],u=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],c=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],l=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],f=[0,1518500249,1859775393,2400959708,2840853838],d=[1352829926,1548603684,1836072691,2053994217,0];function h(){o.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function p(e,t){return e<<t|e>>>32-t}function v(e,t,n,r,i,o,a,s){return p(e+(t^n^r)+o+a|0,s)+i|0}function m(e,t,n,r,i,o,a,s){return p(e+(t&n|~t&r)+o+a|0,s)+i|0}function g(e,t,n,r,i,o,a,s){return p(e+((t|~n)^r)+o+a|0,s)+i|0}function y(e,t,n,r,i,o,a,s){return p(e+(t&r|n&~r)+o+a|0,s)+i|0}function b(e,t,n,r,i,o,a,s){return p(e+(t^(n|~r))+o+a|0,s)+i|0}i(h,o),h.prototype._update=function(){for(var e=a,t=0;t<16;++t)e[t]=this._block.readInt32LE(4*t);for(var n=0|this._a,r=0|this._b,i=0|this._c,o=0|this._d,h=0|this._e,w=0|this._a,_=0|this._b,E=0|this._c,S=0|this._d,x=0|this._e,O=0;O<80;O+=1){var C,k;O<16?(C=v(n,r,i,o,h,e[s[O]],f[0],c[O]),k=b(w,_,E,S,x,e[u[O]],d[0],l[O])):O<32?(C=m(n,r,i,o,h,e[s[O]],f[1],c[O]),k=y(w,_,E,S,x,e[u[O]],d[1],l[O])):O<48?(C=g(n,r,i,o,h,e[s[O]],f[2],c[O]),k=g(w,_,E,S,x,e[u[O]],d[2],l[O])):O<64?(C=y(n,r,i,o,h,e[s[O]],f[3],c[O]),k=m(w,_,E,S,x,e[u[O]],d[3],l[O])):(C=b(n,r,i,o,h,e[s[O]],f[4],c[O]),k=v(w,_,E,S,x,e[u[O]],d[4],l[O])),n=h,h=o,o=p(i,10),i=r,r=C,w=x,x=S,S=p(E,10),E=_,_=k}var T=this._b+i+S|0;this._b=this._c+o+x|0,this._c=this._d+h+w|0,this._d=this._e+n+_|0,this._e=this._a+r+E|0,this._a=T},h.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var e=r.alloc?r.alloc(20):new r(20);return e.writeInt32LE(this._a,0),e.writeInt32LE(this._b,4),e.writeInt32LE(this._c,8),e.writeInt32LE(this._d,12),e.writeInt32LE(this._e,16),e},e.exports=h},3118:function(e,t,n){var r=n(4300),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"===typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},7782:function(e,t,n){var r=n(3118).Buffer;function i(e,t){this._block=r.alloc(e),this._finalSize=t,this._blockSize=e,this._len=0}i.prototype.update=function(e,t){"string"===typeof e&&(t=t||"utf8",e=r.from(e,t));for(var n=this._block,i=this._blockSize,o=e.length,a=this._len,s=0;s<o;){for(var u=a%i,c=Math.min(o-s,i-u),l=0;l<c;l++)n[u+l]=e[s+l];s+=c,(a+=c)%i===0&&this._update(n)}return this._len+=o,this},i.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128,this._block.fill(0,t+1),t>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var r=(4294967295&n)>>>0,i=(n-r)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var o=this._hash();return e?o.toString(e):o},i.prototype._update=function(){throw new Error("_update must be implemented by subclass")},e.exports=i},1862:function(e,t,n){var r=e.exports=function(e){e=e.toLowerCase();var t=r[e];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t};r.sha=n(2003),r.sha1=n(5645),r.sha224=n(7741),r.sha256=n(9642),r.sha384=n(3869),r.sha512=n(3741)},2003:function(e,t,n){var r=n(7526),i=n(7782),o=n(3118).Buffer,a=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function u(){this.init(),this._w=s,i.call(this,64,56)}function c(e){return e<<5|e>>>27}function l(e){return e<<30|e>>>2}function f(e,t,n,r){return 0===e?t&n|~t&r:2===e?t&n|t&r|n&r:t^n^r}r(u,i),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(e){for(var t=this._w,n=0|this._a,r=0|this._b,i=0|this._c,o=0|this._d,s=0|this._e,u=0;u<16;++u)t[u]=e.readInt32BE(4*u);for(;u<80;++u)t[u]=t[u-3]^t[u-8]^t[u-14]^t[u-16];for(var d=0;d<80;++d){var h=~~(d/20),p=c(n)+f(h,r,i,o)+s+t[d]+a[h]|0;s=o,o=i,i=l(r),r=n,n=p}this._a=n+this._a|0,this._b=r+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0},u.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=u},5645:function(e,t,n){var r=n(7526),i=n(7782),o=n(3118).Buffer,a=[1518500249,1859775393,-1894007588,-899497514],s=new Array(80);function u(){this.init(),this._w=s,i.call(this,64,56)}function c(e){return e<<1|e>>>31}function l(e){return e<<5|e>>>27}function f(e){return e<<30|e>>>2}function d(e,t,n,r){return 0===e?t&n|~t&r:2===e?t&n|t&r|n&r:t^n^r}r(u,i),u.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},u.prototype._update=function(e){for(var t=this._w,n=0|this._a,r=0|this._b,i=0|this._c,o=0|this._d,s=0|this._e,u=0;u<16;++u)t[u]=e.readInt32BE(4*u);for(;u<80;++u)t[u]=c(t[u-3]^t[u-8]^t[u-14]^t[u-16]);for(var h=0;h<80;++h){var p=~~(h/20),v=l(n)+d(p,r,i,o)+s+t[h]+a[p]|0;s=o,o=i,i=f(r),r=n,n=v}this._a=n+this._a|0,this._b=r+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0},u.prototype._hash=function(){var e=o.allocUnsafe(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},e.exports=u},7741:function(e,t,n){var r=n(7526),i=n(9642),o=n(7782),a=n(3118).Buffer,s=new Array(64);function u(){this.init(),this._w=s,o.call(this,64,56)}r(u,i),u.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},u.prototype._hash=function(){var e=a.allocUnsafe(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},e.exports=u},9642:function(e,t,n){var r=n(7526),i=n(7782),o=n(3118).Buffer,a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],s=new Array(64);function u(){this.init(),this._w=s,i.call(this,64,56)}function c(e,t,n){return n^e&(t^n)}function l(e,t,n){return e&t|n&(e|t)}function f(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function d(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function h(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function p(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}r(u,i),u.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},u.prototype._update=function(e){for(var t=this._w,n=0|this._a,r=0|this._b,i=0|this._c,o=0|this._d,s=0|this._e,u=0|this._f,v=0|this._g,m=0|this._h,g=0;g<16;++g)t[g]=e.readInt32BE(4*g);for(;g<64;++g)t[g]=p(t[g-2])+t[g-7]+h(t[g-15])+t[g-16]|0;for(var y=0;y<64;++y){var b=m+d(s)+c(s,u,v)+a[y]+t[y]|0,w=f(n)+l(n,r,i)|0;m=v,v=u,u=s,s=o+b|0,o=i,i=r,r=n,n=b+w|0}this._a=n+this._a|0,this._b=r+this._b|0,this._c=i+this._c|0,this._d=o+this._d|0,this._e=s+this._e|0,this._f=u+this._f|0,this._g=v+this._g|0,this._h=m+this._h|0},u.prototype._hash=function(){var e=o.allocUnsafe(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},e.exports=u},3869:function(e,t,n){var r=n(7526),i=n(3741),o=n(7782),a=n(3118).Buffer,s=new Array(160);function u(){this.init(),this._w=s,o.call(this,128,112)}r(u,i),u.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},u.prototype._hash=function(){var e=a.allocUnsafe(48);function t(t,n,r){e.writeInt32BE(t,r),e.writeInt32BE(n,r+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},e.exports=u},3741:function(e,t,n){var r=n(7526),i=n(7782),o=n(3118).Buffer,a=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],s=new Array(160);function u(){this.init(),this._w=s,i.call(this,128,112)}function c(e,t,n){return n^e&(t^n)}function l(e,t,n){return e&t|n&(e|t)}function f(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function d(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function h(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function p(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function v(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function m(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function g(e,t){return e>>>0<t>>>0?1:0}r(u,i),u.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},u.prototype._update=function(e){for(var t=this._w,n=0|this._ah,r=0|this._bh,i=0|this._ch,o=0|this._dh,s=0|this._eh,u=0|this._fh,y=0|this._gh,b=0|this._hh,w=0|this._al,_=0|this._bl,E=0|this._cl,S=0|this._dl,x=0|this._el,O=0|this._fl,C=0|this._gl,k=0|this._hl,T=0;T<32;T+=2)t[T]=e.readInt32BE(4*T),t[T+1]=e.readInt32BE(4*T+4);for(;T<160;T+=2){var A=t[T-30],I=t[T-30+1],D=h(A,I),P=p(I,A),R=v(A=t[T-4],I=t[T-4+1]),N=m(I,A),j=t[T-14],M=t[T-14+1],L=t[T-32],F=t[T-32+1],B=P+M|0,U=D+j+g(B,P)|0;U=(U=U+R+g(B=B+N|0,N)|0)+L+g(B=B+F|0,F)|0,t[T]=U,t[T+1]=B}for(var V=0;V<160;V+=2){U=t[V],B=t[V+1];var z=l(n,r,i),q=l(w,_,E),Z=f(n,w),H=f(w,n),W=d(s,x),G=d(x,s),K=a[V],J=a[V+1],Y=c(s,u,y),$=c(x,O,C),X=k+G|0,Q=b+W+g(X,k)|0;Q=(Q=(Q=Q+Y+g(X=X+$|0,$)|0)+K+g(X=X+J|0,J)|0)+U+g(X=X+B|0,B)|0;var ee=H+q|0,te=Z+z+g(ee,H)|0;b=y,k=C,y=u,C=O,u=s,O=x,s=o+Q+g(x=S+X|0,S)|0,o=i,S=E,i=r,E=_,r=n,_=w,n=Q+te+g(w=X+ee|0,X)|0}this._al=this._al+w|0,this._bl=this._bl+_|0,this._cl=this._cl+E|0,this._dl=this._dl+S|0,this._el=this._el+x|0,this._fl=this._fl+O|0,this._gl=this._gl+C|0,this._hl=this._hl+k|0,this._ah=this._ah+n+g(this._al,w)|0,this._bh=this._bh+r+g(this._bl,_)|0,this._ch=this._ch+i+g(this._cl,E)|0,this._dh=this._dh+o+g(this._dl,S)|0,this._eh=this._eh+s+g(this._el,x)|0,this._fh=this._fh+u+g(this._fl,O)|0,this._gh=this._gh+y+g(this._gl,C)|0,this._hh=this._hh+b+g(this._hl,k)|0},u.prototype._hash=function(){var e=o.allocUnsafe(64);function t(t,n,r){e.writeInt32BE(t,r),e.writeInt32BE(n,r+4)}return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},e.exports=u},5121:function(e){function t(e){try{if(!n.g.localStorage)return!1}catch(e){return!1}var t=n.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,n){if(t("noDeprecation"))return e;var r=!1;return function(){if(!r){if(t("throwDeprecation"))throw new Error(n);t("traceDeprecation")?console.trace(n):console.warn(n),r=!0}return e.apply(this,arguments)}}},4300:function(e){"use strict";e.exports=n(48834)},6113:function(e){"use strict";e.exports=n(71941)},2361:function(e){"use strict";e.exports=n(22699)},2781:function(e){"use strict";e.exports=n(37518)},1576:function(e){"use strict";e.exports=n(30214)},3837:function(e){"use strict";e.exports=n(43335)},6144:function(e){"use strict";e.exports=n(64339)},9234:function(e){"use strict";e.exports=JSON.parse('{"aes-128-ecb":{"cipher":"AES","key":128,"iv":0,"mode":"ECB","type":"block"},"aes-192-ecb":{"cipher":"AES","key":192,"iv":0,"mode":"ECB","type":"block"},"aes-256-ecb":{"cipher":"AES","key":256,"iv":0,"mode":"ECB","type":"block"},"aes-128-cbc":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes-192-cbc":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes-256-cbc":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes128":{"cipher":"AES","key":128,"iv":16,"mode":"CBC","type":"block"},"aes192":{"cipher":"AES","key":192,"iv":16,"mode":"CBC","type":"block"},"aes256":{"cipher":"AES","key":256,"iv":16,"mode":"CBC","type":"block"},"aes-128-cfb":{"cipher":"AES","key":128,"iv":16,"mode":"CFB","type":"stream"},"aes-192-cfb":{"cipher":"AES","key":192,"iv":16,"mode":"CFB","type":"stream"},"aes-256-cfb":{"cipher":"AES","key":256,"iv":16,"mode":"CFB","type":"stream"},"aes-128-cfb8":{"cipher":"AES","key":128,"iv":16,"mode":"CFB8","type":"stream"},"aes-192-cfb8":{"cipher":"AES","key":192,"iv":16,"mode":"CFB8","type":"stream"},"aes-256-cfb8":{"cipher":"AES","key":256,"iv":16,"mode":"CFB8","type":"stream"},"aes-128-cfb1":{"cipher":"AES","key":128,"iv":16,"mode":"CFB1","type":"stream"},"aes-192-cfb1":{"cipher":"AES","key":192,"iv":16,"mode":"CFB1","type":"stream"},"aes-256-cfb1":{"cipher":"AES","key":256,"iv":16,"mode":"CFB1","type":"stream"},"aes-128-ofb":{"cipher":"AES","key":128,"iv":16,"mode":"OFB","type":"stream"},"aes-192-ofb":{"cipher":"AES","key":192,"iv":16,"mode":"OFB","type":"stream"},"aes-256-ofb":{"cipher":"AES","key":256,"iv":16,"mode":"OFB","type":"stream"},"aes-128-ctr":{"cipher":"AES","key":128,"iv":16,"mode":"CTR","type":"stream"},"aes-192-ctr":{"cipher":"AES","key":192,"iv":16,"mode":"CTR","type":"stream"},"aes-256-ctr":{"cipher":"AES","key":256,"iv":16,"mode":"CTR","type":"stream"},"aes-128-gcm":{"cipher":"AES","key":128,"iv":12,"mode":"GCM","type":"auth"},"aes-192-gcm":{"cipher":"AES","key":192,"iv":12,"mode":"GCM","type":"auth"},"aes-256-gcm":{"cipher":"AES","key":256,"iv":12,"mode":"GCM","type":"auth"}}')},26:function(e){"use strict";e.exports=JSON.parse('{"sha224WithRSAEncryption":{"sign":"rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"RSA-SHA224":{"sign":"ecdsa/rsa","hash":"sha224","id":"302d300d06096086480165030402040500041c"},"sha256WithRSAEncryption":{"sign":"rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"RSA-SHA256":{"sign":"ecdsa/rsa","hash":"sha256","id":"3031300d060960864801650304020105000420"},"sha384WithRSAEncryption":{"sign":"rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"RSA-SHA384":{"sign":"ecdsa/rsa","hash":"sha384","id":"3041300d060960864801650304020205000430"},"sha512WithRSAEncryption":{"sign":"rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA512":{"sign":"ecdsa/rsa","hash":"sha512","id":"3051300d060960864801650304020305000440"},"RSA-SHA1":{"sign":"rsa","hash":"sha1","id":"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{"sign":"ecdsa","hash":"sha1","id":""},"sha256":{"sign":"ecdsa","hash":"sha256","id":""},"sha224":{"sign":"ecdsa","hash":"sha224","id":""},"sha384":{"sign":"ecdsa","hash":"sha384","id":""},"sha512":{"sign":"ecdsa","hash":"sha512","id":""},"DSA-SHA":{"sign":"dsa","hash":"sha1","id":""},"DSA-SHA1":{"sign":"dsa","hash":"sha1","id":""},"DSA":{"sign":"dsa","hash":"sha1","id":""},"DSA-WITH-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-SHA224":{"sign":"dsa","hash":"sha224","id":""},"DSA-WITH-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-SHA256":{"sign":"dsa","hash":"sha256","id":""},"DSA-WITH-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-SHA384":{"sign":"dsa","hash":"sha384","id":""},"DSA-WITH-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-SHA512":{"sign":"dsa","hash":"sha512","id":""},"DSA-RIPEMD160":{"sign":"dsa","hash":"rmd160","id":""},"ripemd160WithRSA":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"RSA-RIPEMD160":{"sign":"rsa","hash":"rmd160","id":"3021300906052b2403020105000414"},"md5WithRSAEncryption":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"},"RSA-MD5":{"sign":"rsa","hash":"md5","id":"3020300c06082a864886f70d020505000410"}}')},9167:function(e){"use strict";e.exports=JSON.parse('{"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}')},3418:function(e){"use strict";e.exports=JSON.parse('{"modp1":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},"modp2":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},"modp5":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},"modp14":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},"modp15":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},"modp16":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},"modp17":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},"modp18":{"gen":"02","prime":"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}')},763:function(e){"use strict";e.exports={i8:"6.5.3"}},8675:function(e){"use strict";e.exports=JSON.parse('{"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}')}},o={};function a(e){var n=o[e];if(void 0!==n)return n.exports;var r=o[e]={id:e,loaded:!1,exports:{}},i=!0;try{t[e].call(r.exports,r,r.exports,a),i=!1}finally{i&&delete o[e]}return r.loaded=!0,r.exports}a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},a.ab="//";var s={};!function(){"use strict";var e=s;e.randomBytes=e.rng=e.pseudoRandomBytes=e.prng=a(2711),e.createHash=e.Hash=a(2539),e.createHmac=e.Hmac=a(2730);var t=a(5703),n=Object.keys(t),r=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(n);e.getHashes=function(){return r};var i=a(785);e.pbkdf2=i.pbkdf2,e.pbkdf2Sync=i.pbkdf2Sync;var o=a(57);e.Cipher=o.Cipher,e.createCipher=o.createCipher,e.Cipheriv=o.Cipheriv,e.createCipheriv=o.createCipheriv,e.Decipher=o.Decipher,e.createDecipher=o.createDecipher,e.Decipheriv=o.Decipheriv,e.createDecipheriv=o.createDecipheriv,e.getCiphers=o.getCiphers,e.listCiphers=o.listCiphers;var u=a(9977);e.DiffieHellmanGroup=u.DiffieHellmanGroup,e.createDiffieHellmanGroup=u.createDiffieHellmanGroup,e.getDiffieHellman=u.getDiffieHellman,e.createDiffieHellman=u.createDiffieHellman,e.DiffieHellman=u.DiffieHellman;var c=a(1265);e.createSign=c.createSign,e.Sign=c.Sign,e.createVerify=c.createVerify,e.Verify=c.Verify,e.createECDH=a(7354);var l=a(3501);e.publicEncrypt=l.publicEncrypt,e.privateEncrypt=l.privateEncrypt,e.publicDecrypt=l.publicDecrypt,e.privateDecrypt=l.privateDecrypt;var f=a(9534);e.randomFill=f.randomFill,e.randomFillSync=f.randomFillSync,e.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},e.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}}(),e.exports=s}()},77170:function(e){e.exports={announcement:"ProductHuntAnnouncement_announcement__iKICp",title:"ProductHuntAnnouncement_title__DEDBh",footer:"ProductHuntAnnouncement_footer__3N1gq",button:"ProductHuntAnnouncement_button__wJ9cz",confetti:"ProductHuntAnnouncement_confetti__Zq7a0",confettiPiece:"ProductHuntAnnouncement_confettiPiece__eA4_S",makeItRain:"ProductHuntAnnouncement_makeItRain__x8kph"}},60034:function(e){e.exports={authFlowFormError:"AuthFlowFormError_authFlowFormError__23he9"}},79959:function(e){e.exports={authFlowViewLayout:"AuthFlowViewLayout_authFlowViewLayout__LsuXS",content:"AuthFlowViewLayout_content__KcAPm",footer:"AuthFlowViewLayout_footer__uwOHC",eraserLogo:"AuthFlowViewLayout_eraserLogo__gVBCx",label:"AuthFlowViewLayout_label__QbLU8"}},35112:function(e){e.exports={authFormLayout:"AuthFormLayout_authFormLayout__Djnmv"}},30313:function(e){e.exports={authViewActionButtons:"AuthViewActionButtons_authViewActionButtons__EVu76"}},33273:function(e){e.exports={joinTeamSelection:"JoinTeamSelection_joinTeamSelection__iUDrv",team:"JoinTeamSelection_team__wCu6U",selected:"JoinTeamSelection_selected__ktt71"}},20871:function(e){e.exports={ssoButtons:"SSOButtons_ssoButtons__cszRd",button:"SSOButtons_button__VaO1C"}},90792:function(e){e.exports={resetPassword:"SignInForm_resetPassword__t7x9q"}},96384:function(e){e.exports={signInView:"SignInView_signInView__2T3vn",signInForm:"SignInView_signInForm__1tDK0",resetPasswordForm:"SignInView_resetPasswordForm__Z8f_D",ssoButtons:"SignInView_ssoButtons__gMo6A"}},68223:function(e){e.exports={signUpView:"SignUpView_signUpView__bl4VM",ssoButtons:"SignUpView_ssoButtons__RxV8o",signInLink:"SignUpView_signInLink__7zpHb"}},45185:function(e){e.exports={teamJoinModal:"TeamJoinModal_teamJoinModal__Hx3BH",teams:"TeamJoinModal_teams__klxDh",buttons:"TeamJoinModal_buttons__o4L_r"}},94850:function(e){e.exports={errorCtaButton:"ErrorCtaButton_errorCtaButton__MPzRm",isOutline:"ErrorCtaButton_isOutline__Xe57B"}},2607:function(e){e.exports={errorViewLayout:"ErrorViewLayout_errorViewLayout__9aibB",content:"ErrorViewLayout_content__5wmOa",label:"ErrorViewLayout_label__7Z0e6",footer:"ErrorViewLayout_footer__qjgTF"}},7048:function(e){e.exports={filesSearch:"FilesSearch_filesSearch__FKRWy",wrapper:"FilesSearch_wrapper__Gr75w",searchInput:"FilesSearch_searchInput__2QHd1",content:"FilesSearch_content__yiy0e",fullSearchSuggestion:"FilesSearch_fullSearchSuggestion__zO55_",shortcuts:"FilesSearch_shortcuts__XG2kq",keys:"FilesSearch_keys__ESV2m"}},9315:function(e){e.exports={filesSearchResult:"FilesSearchResult_filesSearchResult__qdA7u",title:"FilesSearchResult_title__sr8NO",subtitle:"FilesSearchResult_subtitle__MbJt1",filePath:"FilesSearchResult_filePath__XAkR_",gitHubSubtitle:"FilesSearchResult_gitHubSubtitle__DeWJj",isActive:"FilesSearchResult_isActive__9Pm2C"}},48291:function(e){e.exports={skeletonWrapper:"FilesSearchResultSkeleton_skeletonWrapper__TqW8j",isActive:"FilesSearchResultSkeleton_isActive__QIl1x",folder:"FilesSearchResultSkeleton_folder__I3bno"}},72840:function(e){e.exports={container:"HelpCenter_container__Mzr5Z",stickyLeft:"HelpCenter_stickyLeft__bzLd_",stickyRight:"HelpCenter_stickyRight__eGxTp",isOpen:"HelpCenter_isOpen__iuNL2",icon:"HelpCenter_icon__zhG_4",label:"HelpCenter_label___4Xfj"}},8501:function(e){e.exports={navContainer:"KeyboardShortcutsModal_navContainer__pvr9U",navHeader:"KeyboardShortcutsModal_navHeader__kMcmC",noResults:"KeyboardShortcutsModal_noResults__6ok9l",searchInput:"KeyboardShortcutsModal_searchInput__VILUz",shortcutsTable:"KeyboardShortcutsModal_shortcutsTable__TqLNI",table:"KeyboardShortcutsModal_table__r6UNv",shortcutDivider:"KeyboardShortcutsModal_shortcutDivider__vmw_t"}},6257:function(e){e.exports={logo:"EraserLogo_logo__fK1pd",horizontal:"EraserLogo_horizontal__WCaYh",vertical:"EraserLogo_vertical__x_CZ_",icon:"EraserLogo_icon__cN4mR",text:"EraserLogo_text__NlOor"}},48707:function(e){e.exports={container:"ShareWorkspace_container__Go1SK",header:"ShareWorkspace_header__iFLdu",qrCodeButton:"ShareWorkspace_qrCodeButton__KHBZR",userList:"ShareWorkspace_userList___ZJo6",userRow:"ShareWorkspace_userRow__4i_AD",info:"ShareWorkspace_info__ZzZjS",accessBadge:"ShareWorkspace_accessBadge__tQeL8"}},58058:function(e){e.exports={minimalPageLayout:"MinimalPageLayout_minimalPageLayout__zOfvH",eraserLogo:"MinimalPageLayout_eraserLogo__7bMLE",content:"MinimalPageLayout_content__igL6T"}},59567:function(e){e.exports={dashboardPage:"Layout_dashboardPage__TrfNE",dashboardBody:"Layout_dashboardBody___RXU1",renamingFolder:"Layout_renamingFolder___rSYx",item:"Layout_item__IRAae",titleRowContent:"Layout_titleRowContent__P_XE9",gutterColumn:"Layout_gutterColumn__p0pUk",alignCenter:"Layout_alignCenter__NuTPx"}},79391:function(e){e.exports={topNav:"LayoutHeader_topNav__wkTMq",topNavTab:"LayoutHeader_topNavTab__1Vd9N",active:"LayoutHeader_active__aZ58d",tableContainer:"LayoutHeader_tableContainer__gsNuX",topNavShortcut:"LayoutHeader_topNavShortcut__JAgnZ"}},71141:function(e){e.exports={wrapper:"Notepad_wrapper__3t9j_",container:"Notepad_container__C0YbN",absolute:"Notepad_absolute__Z3TsM",customScrollbar:"Notepad_customScrollbar__olo4S",notepad:"Notepad_notepad__6sYUU",skeletonTitle:"Notepad_skeletonTitle__YD7B2",skeletonBody:"Notepad_skeletonBody___LfPX",measurer:"Notepad_measurer__Otdpo"}},19142:function(e){e.exports={validPerson:"Mentions_validPerson__cy4GH",editorMention:"Mentions_editorMention__ZYYyU",personDisplay:"Mentions_personDisplay__s9d6U",avatar:"Mentions_avatar__4bw3j",label:"Mentions_label__4lm7Y",isSelected:"Mentions_isSelected__RnL7t",isDarkMode:"Mentions_isDarkMode__FcpWt",dropdownAnchor:"Mentions_dropdownAnchor__q_PRJ",dropdownContainer:"Mentions_dropdownContainer___Mkiy",commentMention:"Mentions_commentMention__jaaNA",display:"Mentions_display__NWzLk",autoCompleteDropDown:"Mentions_autoCompleteDropDown__GmhUA",dropdownPopper:"Mentions_dropdownPopper__Y7nIB",hidden:"Mentions_hidden__oYE87",placeholder:"Mentions_placeholder__GzP7W"}},8069:function(e){e.exports={modal:"Paywall_modal__hBMyh",notification:"Paywall_notification__Q2UHb",notificationHeader:"Paywall_notificationHeader__Hptgy",notificationPrompt:"Paywall_notificationPrompt__morLa",billingPlanCardsContainer:"Paywall_billingPlanCardsContainer__3ddH_",buttonContainer:"Paywall_buttonContainer__6TwRf",fadeIn:"Paywall_fadeIn___IHYC"}},74495:function(e){e.exports={authModal:"Auth_authModal__II_vq"}},77042:function(e){e.exports={item:"TableHeadItem_item__OO2Pa",headItem:"TableHeadItem_headItem__cQyJD",headItemActive:"TableHeadItem_headItemActive__r7pow",headItemSortable:"TableHeadItem_headItemSortable__X8LU5"}},51448:function(e){e.exports={tableHeader:"TableHeader_tableHeader__07mhD",noBorder:"TableHeader_noBorder__p3lKv"}},97032:function(e){e.exports={container:"Toast_container__SU4wE",warning:"Toast_warning__xRuZJ",loading:"Toast_loading__YQi8x",error:"Toast_error__hh2r_",success:"Toast_success__XpEen",blank:"Toast_blank___krRd"}},56665:function(e){e.exports={isDragging:"DragAndDropStyles_isDragging__luYEl",isDroppingWorkspaceTableFolder:"DragAndDropStyles_isDroppingWorkspaceTableFolder__8wlB7",folderTarget:"DragAndDropStyles_folderTarget__IMNH1",droppingBorderBefore:"DragAndDropStyles_droppingBorderBefore__G9tY8",isFirst:"DragAndDropStyles_isFirst__0hlFH",droppingBorderAfter:"DragAndDropStyles_droppingBorderAfter__90I6V",isLast:"DragAndDropStyles_isLast__y37jj"}},19344:function(e){e.exports={listItem:"FolderListItem_listItem__69HEB",checkMark:"FolderListItem_checkMark__SAQQ5"}},18746:function(e){e.exports={emptyStateRoot:"GitHubEmptyState_emptyStateRoot__vpKq0",iconTray:"GitHubEmptyState_iconTray__BVQM3",textSection:"GitHubEmptyState_textSection__QnDcL"}},53035:function(e){e.exports={member:"Member_member___gkVf",avatar:"Member_avatar__T6cem",name:"Member_name__NSu5d"}},42033:function(e){e.exports={members:"MembersList_members___um72",skeleton:"MembersList_skeleton__FcoKf",name:"MembersList_name__sINBT"}},58525:function(e){e.exports={container:"MembersPile_container__AaFkf",avatars:"MembersPile_avatars__6t_0l","align-start":"MembersPile_align-start__ohH52","align-end":"MembersPile_align-end__NC_K_",avatarContainer:"MembersPile_avatarContainer__QzTlZ",avatar:"MembersPile_avatar__Qs_Ri",userAvatar:"MembersPile_userAvatar__Xz8hg"}},32105:function(e){e.exports={moreMembers:"MoreMembers_moreMembers__0FxIH",listPopper:"MoreMembers_listPopper__lobmm",members:"MoreMembers_members__Lvscx",memberName:"MoreMembers_memberName__b1WDg",skeleton:"MoreMembers_skeleton__j785S",name:"MoreMembers_name__UiEqV"}},20172:function(e){e.exports={newTemplateCard:"NewTemplateCard_newTemplateCard__LgAa0",disabled:"NewTemplateCard_disabled__BUDwV",newTemplateCardTitle:"NewTemplateCard_newTemplateCardTitle__7CdDE"}},4679:function(e){e.exports={templateCard:"TemplateCard_templateCard__BX_u1",disabled:"TemplateCard_disabled__ZgS_e",fallbackContainer:"TemplateCard_fallbackContainer__YiRnE",imageContainer:"TemplateCard_imageContainer__w34Ie",tooltip:"TemplateCard_tooltip__P_bXe",titleWrapper:"TemplateCard_titleWrapper__G_skP",title:"TemplateCard_title__L_HbR",renameInput:"TemplateCard_renameInput__NCAI_"}},59697:function(e){e.exports={metadataContent:"TemplateMetadata_metadataContent__2fEM8",avatar:"TemplateMetadata_avatar__uZZ5J",avatarName:"TemplateMetadata_avatarName__fJI5x"}},85655:function(e){e.exports={successToastWrapper:"TemplateSuccessToast_successToastWrapper__bUgoI"}},48472:function(e){e.exports={modalRoot:"CommandKModal_modalRoot__5Incc",modalWrapper:"CommandKModal_modalWrapper__SKvBF",searchInput:"CommandKModal_searchInput__uthGN",content:"CommandKModal_content__dRTWu",fullSearchSuggestion:"CommandKModal_fullSearchSuggestion__YS_R_"}},38447:function(e){e.exports={root:"CommandKListEntry_root__1XNHr",rootActive:"CommandKListEntry_rootActive__cV4CB"}},65234:function(e){e.exports={shortcuts:"CommandKModalFooter_shortcuts__ItpvZ",keys:"CommandKModalFooter_keys__mocIL",modeWrapper:"CommandKModalFooter_modeWrapper__YCqnb",menu:"CommandKModalFooter_menu__cXMYX",toggle:"CommandKModalFooter_toggle___92O5",toggleTitle:"CommandKModalFooter_toggleTitle__XMn_I"}},11049:function(e){e.exports={root:"ContextModalPill_root__VY5Ck",light:"ContextModalPill_light__NNuqK"}},81789:function(e){e.exports={root:"CommandKCategorySection_root__okYLV",title:"CommandKCategorySection_title__pZcLS"}},85513:function(e){e.exports={subCategory:"CommandKCommand_subCategory__M3vc2",subCategoryChevron:"CommandKCommand_subCategoryChevron__NomIU",itemEndContent:"CommandKCommand_itemEndContent__SUswd"}},96758:function(e){e.exports={notFoundWrapper:"CommandScreen_notFoundWrapper__iYHFZ",item:"CommandScreen_item__MKs6o",itemSubTitle:"CommandScreen_itemSubTitle__9te_C",itemIcon:"CommandScreen_itemIcon__P0__6"}},55250:function(e){e.exports={skeletonWrapper:"CommandScreenSkeleton_skeletonWrapper__KL5DV",isActive:"CommandScreenSkeleton_isActive__dd1rL",description:"CommandScreenSkeleton_description__LchFQ"}},61213:function(e){e.exports={icon:"GoToFileEntry_icon__JGGOK"}},21907:function(e){e.exports={fullSearchSuggestion:"GoToFileScreen_fullSearchSuggestion__0oMU0"}},71290:function(e){e.exports={skeletonWrapper:"GoToFileSkeleton_skeletonWrapper__lNrEh",isActive:"GoToFileSkeleton_isActive__4JhL2",folder:"GoToFileSkeleton_folder__YmdXl"}},30766:function(e){e.exports={helpTitle:"HelpScreen_helpTitle__7AfMC"}},15888:function(e){e.exports={externalLinkRow:"HelpScreenExternalRow_externalLinkRow__kn_es"}},15248:function(e){e.exports={folderSelect:"FolderActions_folderSelect__JhXmp"}},74842:function(e){e.exports={dashboardHeader:"DashboardHeader_dashboardHeader__RR10i",dashboardHeaderTitle:"DashboardHeader_dashboardHeaderTitle__MRmm0",dashboardHeaderTools:"DashboardHeader_dashboardHeaderTools__NVJvd"}},61676:function(e){e.exports={searchBar:"DashboardHeaderTools_searchBar__ydsM1",rightMargin10:"DashboardHeaderTools_rightMargin10__b3kAa",noMargin:"DashboardHeaderTools_noMargin__GEXUl"}},28639:function(e){e.exports={folderTitleRoot:"FolderView_folderTitleRoot__Dyoc3",folderDropdown:"FolderView_folderDropdown__slHzm",iconTooltip:"FolderView_iconTooltip__uMCyu",newFolderIcon:"FolderView_newFolderIcon__Zsg3s",disabledFolderIcon:"FolderView_disabledFolderIcon__I2V_4"}},83227:function(e){e.exports={container:"MoveToFolderModal_container___ygsY",buttonGroup:"MoveToFolderModal_buttonGroup__qnhgt",button:"MoveToFolderModal_button__SUwES",folderList:"MoveToFolderModal_folderList__jQf2r"}},50449:function(e){e.exports={root:"PricingAnnouncementModal_root__McUHL",title:"PricingAnnouncementModal_title__pSsKX",contentWrapper:"PricingAnnouncementModal_contentWrapper__K4_zJ",list:"PricingAnnouncementModal_list__zNK0I",link:"PricingAnnouncementModal_link__OclHf",toastLink:"PricingAnnouncementModal_toastLink__gQci2",gotItButton:"PricingAnnouncementModal_gotItButton__QCGJf"}},95670:function(e){e.exports={input:"RenamingField_input__jd2SB"}},46450:function(e){e.exports={mobileHeader:"MobileDashboard_mobileHeader__X_XY5",toggleButton:"MobileDashboard_toggleButton__vteHM",searchContainer:"MobileDashboard_searchContainer__45hEA",searchContainerActive:"MobileDashboard_searchContainerActive__I_VZa"}},12522:function(e){e.exports={searchContainer:"CompactSearchBar_searchContainer__RyRTC",focused:"CompactSearchBar_focused__9waIS",searchIcon:"CompactSearchBar_searchIcon__mdwDC",input:"CompactSearchBar_input__t4Qs_",shortcut:"CompactSearchBar_shortcut__g84ar"}},89568:function(e){e.exports={container:"NotFound_container__9bRyf",title:"NotFound_title__E9GnI",text:"NotFound_text__8uD5w"}},16684:function(e){e.exports={tableHeader:"Search_tableHeader__jZSv_",noBorder:"Search_noBorder__4vemY",headerPadding:"Search_headerPadding__zP2u_",alignRight:"Search_alignRight__L40uD",matches:"Search_matches__yN5kJ",matchBlock:"Search_matchBlock__TvWPH",matchIcon:"Search_matchIcon__7iZoj",matchBody:"Search_matchBody__9QUDL",matchFoundIn:"Search_matchFoundIn__4LS3w",matchContent:"Search_matchContent__pqE1f",searchRow:"Search_searchRow__laOHU",isFocused:"Search_isFocused___dKBj",divider:"Search_divider__JZdV5",highlight:"Search_highlight__VYEsV",fileRowMinimal:"Search_fileRowMinimal__qUdfB",searchPadding:"Search_searchPadding__W2ZFb",searchHeader:"Search_searchHeader___M9rq",searchBar:"Search_searchBar__gc4k3",searchInput:"Search_searchInput__a5xn1",searchIcon:"Search_searchIcon__5l0_X"}},35730:function(e){e.exports={container:"Sidebar_container__8a9Qq",mobileSidebar:"Sidebar_mobileSidebar__t_ufQ",mobileSidebarOpen:"Sidebar_mobileSidebarOpen__hjUpD",sidebarOverlay:"Sidebar_sidebarOverlay__60BEN",sidebarMenuContainer:"Sidebar_sidebarMenuContainer__mxUuq",topSection:"Sidebar_topSection__cDHlE",shortcut:"Sidebar_shortcut__AuqLQ",topSectionTab:"Sidebar_topSectionTab__wZMEy",topSectionTabContent:"Sidebar_topSectionTabContent__QmyHz",viewingHistoryIcon:"Sidebar_viewingHistoryIcon___HQUS",listContainer:"Sidebar_listContainer__FyWdD"}},70774:function(e){e.exports={root:"SidebarAccordionButton_root__d8XPG",expanded:"SidebarAccordionButton_expanded__9T0e_"}},73677:function(e){e.exports={renamingFolder:"SidebarFolder_renamingFolder__pzqqr",nested:"SidebarFolder_nested__sQpVE",subfolderTooltip:"SidebarFolder_subfolderTooltip__VI1mX",disabled:"SidebarFolder_disabled__NkGLQ",newFolderIcon:"SidebarFolder_newFolderIcon__ul94_",folderName:"SidebarFolder_folderName__Bk_wE"}},80860:function(e){e.exports={foldersList:"SidebarFoldersList_foldersList__NSb3Z",noMarginTop:"SidebarFoldersList_noMarginTop__Qdj3q"}},63435:function(e){e.exports={root:"SidebarFooter_root__3hDwv",inviteButton:"SidebarFooter_inviteButton__r_O7i",footerTabsContainer:"SidebarFooter_footerTabsContainer__6mjLI",pricingPlanTabContainer:"SidebarFooter_pricingPlanTabContainer__bQzd_",gitHubLabelContainer:"SidebarFooter_gitHubLabelContainer__imBtl",gitHubBadge:"SidebarFooter_gitHubBadge__FBK2h"}},20671:function(e){e.exports={integrationsList:"SidebarGitHubList_integrationsList__NjG4t",badgeWrapper:"SidebarGitHubList_badgeWrapper__mv_6C",badge:"SidebarGitHubList_badge__HDHkz",repositoryName:"SidebarGitHubList_repositoryName__OJ_MH"}},28864:function(e){e.exports={sidebarMenuContainer:"SidebarMenu_sidebarMenuContainer__r_xY7",buttonsContainer:"SidebarMenu_buttonsContainer__0homq",currentTeam:"SidebarMenu_currentTeam__ENd5F",currentTeamLogo:"SidebarMenu_currentTeamLogo__k9Bqm",currentTeamName:"SidebarMenu_currentTeamName__zEoKQ",sidebarDropdown:"SidebarMenu_sidebarDropdown__W__sM",sidebarDropdownCaret:"SidebarMenu_sidebarDropdownCaret__SPUDV"}},61842:function(e){e.exports={accordionContainer:"SidebarNestedFolder_accordionContainer__gRsDN",parentFolder:"SidebarNestedFolder_parentFolder___Melt",childFolders:"SidebarNestedFolder_childFolders__0DBO2",slideIn:"SidebarNestedFolder_slideIn__Juasb"}},14859:function(e){e.exports={sectionTitle:"SidebarSectionTitle_sectionTitle___h2QG",iconButton:"SidebarSectionTitle_iconButton__8Zmzl",icon:"SidebarSectionTitle_icon__FH9cj",tooltipRoot:"SidebarSectionTitle_tooltipRoot__L5XyN"}},52635:function(e){e.exports={root:"SidebarTab_root__iCpoz",large:"SidebarTab_large__X_YCP",medium:"SidebarTab_medium__MnGco",small:"SidebarTab_small__ZGVOY",active:"SidebarTab_active__3fpyF",fullWidth:"SidebarTab_fullWidth__HCP7X",icon:"SidebarTab_icon__f47EC",content:"SidebarTab_content__Rj57P",shortcut:"SidebarTab_shortcut__UICv5"}},62473:function(e){e.exports={buttonsRoot:"NewFileButton_buttonsRoot__7z1CZ",leftButton:"NewFileButton_leftButton__W7RWi",rightButton:"NewFileButton_rightButton__udvd8",leftButtonSplit:"NewFileButton_leftButtonSplit__bKmUt",newFileText:"NewFileButton_newFileText__GaHy8",shortcut:"NewFileButton_shortcut__zcaFi",popper:"NewFileButton_popper__yRvIW"}},77845:function(e){e.exports={repositoryWrapper:"NewGitHubFileModal_repositoryWrapper__sO4H4",repositoryLabel:"NewGitHubFileModal_repositoryLabel__sswpX",toggleRoot:"NewGitHubFileModal_toggleRoot__aXF3z",dropdownToggleRoot:"NewGitHubFileModal_dropdownToggleRoot__qKAvf",dropdownMenu:"NewGitHubFileModal_dropdownMenu__RKE56"}},36066:function(e){e.exports={root:"FixedSizeButton_root__Aqz_I",mainButton:"FixedSizeButton_mainButton__C66_M",hiddenButton:"FixedSizeButton_hiddenButton__GOse9"}},86394:function(e){e.exports={bulletListItemIcon:"PaymentPlanBulletList_bulletListItemIcon__ST3Cd",bulletListItemContent:"PaymentPlanBulletList_bulletListItemContent__cRpkv"}},17019:function(e){e.exports={card:"PaymentPlanCard_card__1NGeq",isDarkMode:"PaymentPlanCard_isDarkMode__V2_fF",isCurrent:"PaymentPlanCard_isCurrent__4ZPm1",cardContents:"PaymentPlanCard_cardContents__18C5Z",currentness:"PaymentPlanCard_currentness__CSd6W"}},34341:function(e){e.exports={container:"PaymentPlanInternal_container__1SRkb",title:"PaymentPlanInternal_title__0FlBm",benefitsContainer:"PaymentPlanInternal_benefitsContainer__oFC1R",bulletListItem:"PaymentPlanInternal_bulletListItem__CgION",bulletListItemText:"PaymentPlanInternal_bulletListItemText__SwRmR",priceTag:"PaymentPlanInternal_priceTag__4vCjy",priceTagNumber:"PaymentPlanInternal_priceTagNumber__MSn_w",priceTagText:"PaymentPlanInternal_priceTagText__Mxqv6",link:"PaymentPlanInternal_link__2o_Hp",buttonContainer:"PaymentPlanInternal_buttonContainer__RKagk",failedPayment:"PaymentPlanInternal_failedPayment__yDdvF"}},52799:function(e){e.exports={progressBar:"PaymentPlanLimitBar_progressBar__0NzZS",progressBarLabel:"PaymentPlanLimitBar_progressBarLabel__mAnxK",notAllowed:"PaymentPlanLimitBar_notAllowed__hElfk",progressBarRightPadding:"PaymentPlanLimitBar_progressBarRightPadding__mvfi2"}},57313:function(e){e.exports={modalRoot:"SettingsModal_modalRoot__TA9Un",container:"SettingsModal_container__a5xNF",paneContainer:"SettingsModal_paneContainer__1JUaW",pane:"SettingsModal_pane__g_e7G"}},14555:function(e){e.exports={sideBarRoot:"SettingsModalSidebar_sideBarRoot__lFOQC",sideBarHeader:"SettingsModalSidebar_sideBarHeader__x40s6"}},99479:function(e){e.exports={root:"ApiTokenRow_root__aTVBG",label:"ApiTokenRow_label__jVbzo",token:"ApiTokenRow_token__Cg7Iq",inputField:"ApiTokenRow_inputField___RaeC",copyButton:"ApiTokenRow_copyButton__h3Gtp"}},71611:function(e){e.exports={subtitle:"ApiTokensPane_subtitle__hpjR6",tokensContainer:"ApiTokensPane_tokensContainer__I4BhS",emptyTokenContainer:"ApiTokensPane_emptyTokenContainer__oC_9d",label:"ApiTokensPane_label__uRQt2",inputField:"ApiTokensPane_inputField__wNPAC"}},14500:function(e){e.exports={subTitle:"AppearancePane_subTitle__bVZag",keyboardShortcuts:"AppearancePane_keyboardShortcuts__wczc_",radioCardsWrapper:"AppearancePane_radioCardsWrapper__CjNzx",radioCard:"AppearancePane_radioCard__tg8Yo",checked:"AppearancePane_checked__Iof_V",dark:"AppearancePane_dark__6ZvKW",labelWrapper:"AppearancePane_labelWrapper__2CnaT",labelTitle:"AppearancePane_labelTitle__fh2qL",labelDescription:"AppearancePane_labelDescription__iXSKR",imageWrapper:"AppearancePane_imageWrapper___5BWV",image:"AppearancePane_image__Kr68j",hidden:"AppearancePane_hidden__ii1by"}},80516:function(e){e.exports={billingPlanArea:"BillingPlanPane_billingPlanArea__jFfkN",billingPlanContents:"BillingPlanPane_billingPlanContents__v9XWQ",billingPlanPreambleText:"BillingPlanPane_billingPlanPreambleText__lbn1m",billingPlanBodyContainer:"BillingPlanPane_billingPlanBodyContainer__veSyR",billingPlanBody:"BillingPlanPane_billingPlanBody__HiTW2"}},55877:function(e){e.exports={icon:"CustomIcon_icon__vJvEE",iconImg:"CustomIcon_iconImg__yoj7A",hidden:"CustomIcon_hidden__eCTic",iconImgSkeleton:"CustomIcon_iconImgSkeleton__OOL45",iconInfo:"CustomIcon_iconInfo__MQmfx",skeleton:"CustomIcon_skeleton__gnIoa",iconName:"CustomIcon_iconName__Jtq6c",iconAuthor:"CustomIcon_iconAuthor__Hish0",iconDropdown:"CustomIcon_iconDropdown__F5wZs",deleteOption:"CustomIcon_deleteOption__wrYE9",fileInput:"CustomIcon_fileInput__dFPPC"}},35919:function(e){e.exports={wrapper:"CustomIconsPane_wrapper__vbUjR",dragArea:"CustomIconsPane_dragArea__VCXp8",title:"CustomIconsPane_title__lBs60",browseBtn:"CustomIconsPane_browseBtn__3O2V9",description:"CustomIconsPane_description__1_05F",notes:"CustomIconsPane_notes__4QFcz",highlightOutline:"CustomIconsPane_highlightOutline__YIThb"}},44812:function(e){e.exports={wrapper:"IconsList_wrapper__YBTXn",sidebar:"IconsList_sidebar__O8FTk",list:"IconsList_list__iFXbV",description:"IconsList_description__ziurX",notes:"IconsList_notes__8ICE4",noIcons:"IconsList_noIcons__3zQNk",search:"IconsList_search__1C_e_",searchInput:"IconsList_searchInput__07YUc",searchIcon:"IconsList_searchIcon__oiY2h",searchHotkey:"IconsList_searchHotkey__iLUqo",listContainer:"IconsList_listContainer__BtEFL"}},79070:function(e){e.exports={organizationHeaderRoot:"GitHubOrganizationHeader_organizationHeaderRoot___7toP",organizationLogo:"GitHubOrganizationHeader_organizationLogo__QEbTz",organzationInfo:"GitHubOrganizationHeader_organzationInfo__m49R9",organizationName:"GitHubOrganizationHeader_organizationName__t0XXm",organizationLink:"GitHubOrganizationHeader_organizationLink__rF560",removeOrganizationButton:"GitHubOrganizationHeader_removeOrganizationButton__9gtJd",organizationSubtitle:"GitHubOrganizationHeader_organizationSubtitle__OIeCD"}},69617:function(e){e.exports={listWrapper:"GitHubRepositoryList_listWrapper__TRMfg",repositoryListButtons:"GitHubRepositoryList_repositoryListButtons__WDA0m",searchBar:"GitHubRepositoryList_searchBar__u4661",note:"GitHubRepositoryList_note__GxZaI",suspension:"GitHubRepositoryList_suspension__eST7J",link:"GitHubRepositoryList_link__6oiEG"}},39231:function(e){e.exports={root:"GitHubSettingsPane_root__9IA9h",organizationWrapper:"GitHubSettingsPane_organizationWrapper__zXY3J",buttonIcon:"GitHubSettingsPane_buttonIcon__L_ZME",divider:"GitHubSettingsPane_divider__qz1aG"}},27370:function(e){e.exports={form:"PasswordForm_form__kS1wj",row:"PasswordForm_row__f5sfb",label:"PasswordForm_label__SQDtC",readonlyValue:"PasswordForm_readonlyValue__xEr9y",link:"PasswordForm_link__EL60x",input:"PasswordForm_input__F08af",buttonGroup:"PasswordForm_buttonGroup__HRESL",submitButton:"PasswordForm_submitButton__Q5Yr1"}},53494:function(e){e.exports={row:"PersonalInformationForm_row__VoZFs",label:"PersonalInformationForm_label__TV_EG",input:"PersonalInformationForm_input__KszCg",providerEmail:"PersonalInformationForm_providerEmail__SLpn_",readonlyValue:"PersonalInformationForm_readonlyValue__GuOFB",changeButton:"PersonalInformationForm_changeButton__vqaGJ",buttonGroup:"PersonalInformationForm_buttonGroup__YAjd3"}},31374:function(e){e.exports={root:"ProfilePane_root__HLIrY",profileInfoSide:"ProfilePane_profileInfoSide__e1pFb",profilePictureSide:"ProfilePane_profilePictureSide__EaxKe",gettingStartedRow:"ProfilePane_gettingStartedRow__Q7PAr",label:"ProfilePane_label__gTXru",separator:"ProfilePane_separator__dbam3",gettingStartedLabel:"ProfilePane_gettingStartedLabel__xaRT2",gettingStartedDescription:"ProfilePane_gettingStartedDescription__i80cf"}},352:function(e){e.exports={avatar:"ProfilePicture_avatar___yI2v",uploadButton:"ProfilePicture_uploadButton__dfDa2",selected:"ProfilePicture_selected__EQoYo"}},99931:function(e){e.exports={root:"SettingsSection_root__6Ytpo",title:"SettingsSection_title__ZYuJg",settingRows:"SettingsSection_settingRows__Xcpum",settingRow:"SettingsSection_settingRow__y5hWK",settingTitleContainer:"SettingsSection_settingTitleContainer__SC8hY",settingTitle:"SettingsSection_settingTitle__hzErl",description:"SettingsSection_description__cVhYl",domain:"SettingsSection_domain__qLfI_",inviteLinkContainer:"SettingsSection_inviteLinkContainer__leGO4",link:"SettingsSection_link__CowVE",copyButton:"SettingsSection_copyButton__Q9egU",linkLoading:"SettingsSection_linkLoading___9mlB"}},38873:function(e){e.exports={container:"TeamMembersPane_container__U6p4A",centered:"TeamMembersPane_centered__pQrLf",preamble:"TeamMembersPane_preamble__JbEJk",body:"TeamMembersPane_body__Ah161",leftHalf:"TeamMembersPane_leftHalf__L1p1E",rightHalf:"TeamMembersPane_rightHalf__fC_FM",settingsSubtext:"TeamMembersPane_settingsSubtext__pkG_c",inviteInputContainer:"TeamMembersPane_inviteInputContainer__nPVSF",membersListContainer:"TeamMembersPane_membersListContainer__AD1gK",userList:"TeamMembersPane_userList__ZVplh",userRow:"TeamMembersPane_userRow__qVAOz",accessBadge:"TeamMembersPane_accessBadge__MM_gv",manageLink:"TeamMembersPane_manageLink__fsYwJ"}},63053:function(e){e.exports={teamRow:"TeamSettingsPane_teamRow__kFk_2",subHeader:"TeamSettingsPane_subHeader__fMl27",teamRowName:"TeamSettingsPane_teamRowName__8CARl",teamRowField:"TeamSettingsPane_teamRowField__eOKEe",teamRowInput:"TeamSettingsPane_teamRowInput___pr2c",teamRowDropdown:"TeamSettingsPane_teamRowDropdown__R7bQj",teamRowBadge:"TeamSettingsPane_teamRowBadge__pFLfs",description:"TeamSettingsPane_description__enJEX",dangerZone:"TeamSettingsPane_dangerZone__KAsBR",dangerTitle:"TeamSettingsPane_dangerTitle__DWCNx",dangerMessage:"TeamSettingsPane_dangerMessage__E6Tpu",deletionWarning:"TeamSettingsPane_deletionWarning__6HFaj"}},84960:function(e){e.exports={root:"TemplatesModal_root__vD81W"}},44082:function(e){e.exports={closeButton:"AllTemplatesScreen_closeButton__jrQSo",titleWrapper:"AllTemplatesScreen_titleWrapper__3uOPw",title:"AllTemplatesScreen_title__Pn8WU",titleTools:"AllTemplatesScreen_titleTools__YZccQ",searchBar:"AllTemplatesScreen_searchBar__2U2lh",contentWrapper:"AllTemplatesScreen_contentWrapper__OnNQL",templateCard:"AllTemplatesScreen_templateCard__rS9mx"}},37425:function(e){e.exports={root:"TemplatePreviewScreen_root__4B2c5",headerWrapper:"TemplatePreviewScreen_headerWrapper__SUx4O",navigationWrapper:"TemplatePreviewScreen_navigationWrapper__ImmE8",previousIcon:"TemplatePreviewScreen_previousIcon__lzrVq",metadataWrapper:"TemplatePreviewScreen_metadataWrapper__7Mk5q",controlsWrapper:"TemplatePreviewScreen_controlsWrapper__iIVuK",previewWrapper:"TemplatePreviewScreen_previewWrapper__GcSGY",previewImage:"TemplatePreviewScreen_previewImage__HZlxx"}},47661:function(e){e.exports={skeleton:"Avatar_skeleton__d_c9U",avatar:"Avatar_avatar___nyMi",fallback:"Avatar_fallback__5_gH8",hasImage:"Avatar_hasImage__xMLHW",isTransparent:"Avatar_isTransparent__WHnAE"}},78205:function(e){e.exports={badge:"Badge_badge__Bm5vD","variant--primary":"Badge_variant--primary__TTkU7","variant--secondary":"Badge_variant--secondary__XlzWF"}},78509:function(e){e.exports={breadCrumbsRoot:"BreadCrumb_breadCrumbsRoot__nhFj_",breadCrumbRoot:"BreadCrumb_breadCrumbRoot__sSAG_",breadCrumb:"BreadCrumb_breadCrumb__1BBNv",disabled:"BreadCrumb_disabled__zee0L",clickable:"BreadCrumb_clickable__SctW1"}},82664:function(e){e.exports={button:"Button_button__fNS_E",leftIcon:"Button_leftIcon__JKaKw",iconOnly:"Button_iconOnly__qT4xR",tooltipWrapper:"Button_tooltipWrapper__QMAeG",spinnerWrapper:"Button_spinnerWrapper__JB4Wv","variant--reversed":"Button_variant--reversed__uSNSK","variant--reversed-danger":"Button_variant--reversed-danger__4tAm_","variant--outline":"Button_variant--outline__mLyuZ","variant--outline-regular":"Button_variant--outline-regular__D2RCV","x-large":"Button_x-large__JIN_Y",large:"Button_large__DUVaK",small:"Button_small__rvXZZ","x-small":"Button_x-small__Zky_7",tiny:"Button_tiny__cbC3L",isLoading:"Button_isLoading__lufw5",regular:"Button_regular__eMnxK",selected:"Button_selected__G2hIk","outline-regular":"Button_outline-regular__D_ei7","relief-grey":"Button_relief-grey__KNuvo",reversed:"Button_reversed__Yd8T5",transparent:"Button_transparent__FI2_6","transparent-success":"Button_transparent-success__A6Bm6","transparent-regular":"Button_transparent-regular__z0Cq_",danger:"Button_danger__AoS1X","reversed-danger":"Button_reversed-danger__nBmyV",outline:"Button_outline__uZAW4",dark:"Button_dark__NCyth",light:"Button_light__p9Dmo"}},41191:function(e){e.exports={buttonGroup:"ButtonGroup_buttonGroup__JsPHv"}},44723:function(e){e.exports={checkboxWrapper:"Checkbox_checkboxWrapper__mdDwH",checkbox:"Checkbox_checkbox__PywQJ",label:"Checkbox_label___HGpY"}},46137:function(e){e.exports={confirmationModal:"ConfirmationModal_confirmationModal___lZAR",description:"ConfirmationModal_description__JtwEX",actions:"ConfirmationModal_actions__nJb6_",actionBtn:"ConfirmationModal_actionBtn__b_ECH"}},34273:function(e){e.exports={uploadBtn:"UploadButton_uploadBtn__qLJSR",fileInput:"UploadButton_fileInput__9s71N"}},51098:function(e){e.exports={dots:"Dots_dots__104zg"}},28051:function(e){e.exports={toggle:"Dropdown_toggle__waP_7",isFocused:"Dropdown_isFocused__KCFaZ",isDisabled:"Dropdown_isDisabled__VJ6x7",isSubMenu:"Dropdown_isSubMenu__Qih7v","variant--grey":"Dropdown_variant--grey__mTIAZ",caretIcon:"Dropdown_caretIcon__Byzw_",rightElement:"Dropdown_rightElement__qb3cl","variant--lightGrey":"Dropdown_variant--lightGrey__6Hc_X","variant--lightGreyContrast":"Dropdown_variant--lightGreyContrast__po3l6","variant--transparent":"Dropdown_variant--transparent__KkfGu",popupToggle:"Dropdown_popupToggle__JbX6o",content:"Dropdown_content__0oQUo",hasCaret:"Dropdown_hasCaret__i2Jsx",icon:"Dropdown_icon__3dHle",isOpen:"Dropdown_isOpen__W5Mlk",title:"Dropdown_title__C64eP",popper:"Dropdown_popper__eyiza",divider:"Dropdown_divider__DvcJe","size--medium":"Dropdown_size--medium__dKrTh","size--large":"Dropdown_size--large__MZ0W0",transparent:"Dropdown_transparent__3AlZO",wrapper:"Dropdown_wrapper__cpBhb",list:"Dropdown_list__wqzXY","spacing--none":"Dropdown_spacing--none__FVP8z","spacing--small":"Dropdown_spacing--small__E5gSq","spacing--medium":"Dropdown_spacing--medium__Az_SC",searchNotFound:"Dropdown_searchNotFound__3BKdw",threeDotsDropdown:"Dropdown_threeDotsDropdown__y7str",threeDotsDropdownToggle:"Dropdown_threeDotsDropdownToggle__KxgPz",hint:"Dropdown_hint__7Zn5H",shortcut:"Dropdown_shortcut__WzlMY"}},26647:function(e){e.exports={infoBlock:"Info_infoBlock__nwhG3","variant--lightGrey":"Info_variant--lightGrey__2xxy8","variant--error":"Info_variant--error__RMDR_"}},88020:function(e){e.exports={inputLabel:"InputLabel_inputLabel__X_cPh",label:"InputLabel_label__efXfL",required:"InputLabel_required__4gcFS",field:"InputLabel_field__2O8kZ",explanation:"InputLabel_explanation__NsNKv",error:"InputLabel_error__Tflqu"}},886:function(e){e.exports={hidden:"KnownPeopleAutocompleteDropdown_hidden__UMyrh",dropdownPopper:"KnownPeopleAutocompleteDropdown_dropdownPopper__6vxvS",popperListBox:"KnownPeopleAutocompleteDropdown_popperListBox__DQh18"}},84540:function(e){e.exports={knownPersonInfoMedium:"KnownPersonInfo_knownPersonInfoMedium__NpVEC",knownPersonInfoSmall:"KnownPersonInfo_knownPersonInfoSmall__9LsaN",knownPersonInfo:"KnownPersonInfo_knownPersonInfo__eUUNA",guest:"KnownPersonInfo_guest__HQztF",memberMedium:"KnownPersonInfo_memberMedium__Z_unh",memberSmall:"KnownPersonInfo_memberSmall__GMu8l",member:"KnownPersonInfo_member__uaOs7",avatarMedium:"KnownPersonInfo_avatarMedium__d_KHu",avatarSmall:"KnownPersonInfo_avatarSmall__o8uIT",labelMedium:"KnownPersonInfo_labelMedium__noin7",labelSmall:"KnownPersonInfo_labelSmall__gvOC6",label:"KnownPersonInfo_label__DPEQc",email:"KnownPersonInfo_email__21hlz",isActive:"KnownPersonInfo_isActive__oarJs"}},60006:function(e){e.exports={link:"ExternalLink_link__tkNBC"}},59107:function(e){e.exports={link:"PrimaryLink_link__1EuA8"}},61637:function(e){e.exports={listBox:"ListBox_listBox__R1cIs"}},14942:function(e){e.exports={root:"ListEntry_root__LgMus",isActive:"ListEntry_isActive__Y62iI",content:"ListEntry_content__ShHpq",backIcon:"ListEntry_backIcon__YKFq1",icon:"ListEntry_icon__mbIH5",forwardIcon:"ListEntry_forwardIcon__oPabT",title:"ListEntry_title__6OpPl",mainTitle:"ListEntry_mainTitle__wkT8S",fitWidth:"ListEntry_fitWidth__oIZj5",secondaryTitle:"ListEntry_secondaryTitle__7X04O",subTitle:"ListEntry_subTitle__VwQBg"}},70941:function(e){e.exports={skeleton:"MemberAvatar_skeleton___Nnzn",avatar:"MemberAvatar_avatar__Q48lu"}},59503:function(e){e.exports={modal:"Modal_modal__1M1kH",fadeIn:"Modal_fadeIn__1NgSR",isDarkMode:"Modal_isDarkMode__VrR_T",dialog:"Modal_dialog__XFB9y",large:"Modal_large__EM_E1",xl:"Modal_xl__iDkch",hasBottomGradient:"Modal_hasBottomGradient__EWfij",closeBtn:"Modal_closeBtn__zXnGe",closeBtnCross:"Modal_closeBtnCross__QDkyj",closeBtnText:"Modal_closeBtnText__NVWq3",header:"Modal_header__UA9ac",content:"Modal_content__CFXie",titleSeparator:"Modal_titleSeparator__08CBv",body:"Modal_body__fBVW_",bg:"Modal_bg__2jwqw",left:"Modal_left__JFTtd",right:"Modal_right__fjpib",bottomGradient:"Modal_bottomGradient__vBvtj"}},58957:function(e){e.exports={popper:"Popper_popper__EEixQ",arrow:"Popper_arrow__gcKtu",fade:"Popper_fade__KFvfV"}},87120:function(e){e.exports={option:"Option_option__6NPoM",row:"Option_row__ezIZ0",paddingLarge:"Option_paddingLarge__nHdJT",isLoading:"Option_isLoading__d3jnY",disabled:"Option_disabled__V1duV",selected:"Option_selected__w8jci",checkbox:"Option_checkbox__sz6P4","selected-primary":"Option_selected-primary__1DHU3","selected-grey":"Option_selected-grey__sf6cw",content:"Option_content__MtPVs",icon:"Option_icon___Fyzv",right:"Option_right__4w8dx",explanation:"Option_explanation__4Jrqf",marginLeft:"Option_marginLeft__kQX2m"}},62881:function(e){e.exports={toggler:"Popup_toggler__V5BaU",disabled:"Popup_disabled__9QS6_",menu:"Popup_menu__uNwra",isSubmenu:"Popup_isSubmenu__k8VV5"}},4478:function(e){e.exports={progressBar:"ProgressBar_progressBar__QWO3D",progress:"ProgressBar_progress___FpDF",withColor:"ProgressBar_withColor__RZ07O"}},92192:function(e){e.exports={searchContainer:"SearchInput_searchContainer__Md0dD",shortcut:"SearchInput_shortcut__4FID7"}},23514:function(e){e.exports={spinner:"Spinner_spinner__l0kTa"}},94434:function(e){e.exports={switch:"Switch_switch__I7mM2",disabled:"Switch_disabled__LgSvu",presentation:"Switch_presentation___PJZr",slider:"Switch_slider__dCMx9",sliderDot:"Switch_sliderDot__OaaCD",input:"Switch_input__UaOW_"}},11204:function(e){e.exports={button:"TextInput_button__y0jnx",errorIcon:"TextInput_errorIcon___6_lM",textInput:"TextInput_textInput__XA9JQ",small:"TextInput_small__oKZKC",medium:"TextInput_medium__MAwSm",large:"TextInput_large__7lIg4",hasButton:"TextInput_hasButton__6Dgu2",fadeRightSideOfInput:"TextInput_fadeRightSideOfInput__6SKGe",disabled:"TextInput_disabled__4_mWW"}},12272:function(e){e.exports={tooltip:"tooltip_tooltip__H_xAF",mainText:"tooltip_mainText__PcaGo",shortcut:"tooltip_shortcut__vrw6N",subText:"tooltip_subText__zDmVo"}},51581:function(e){e.exports={information:"Typography_information__v1Vpp",muted:"Typography_muted__m6zU9",error:"Typography_error__ChBjL",smallSemiBold:"Typography_smallSemiBold__hakT6",mediumSemiBold:"Typography_mediumSemiBold__sGw97",medium:"Typography_medium__aRf_F",explanation:"Typography_explanation__HyACK",h4:"Typography_h4__z_NvV",h5:"Typography_h5__DxDFI"}},1219:function(e){e.exports={user:"UserInfo_user__3qRBh",content:"UserInfo_content__THSwn"}},92247:function(e){e.exports={shortcut:"ShortcutKeys_shortcut__YUJIb",shortcutKey:"ShortcutKeys_shortcutKey__DCXaM",text:"ShortcutKeys_text__56IdZ",pill:"ShortcutKeys_pill__Z5okF",darkBackground:"ShortcutKeys_darkBackground__vRIgg"}},90010:function(){},36933:function(){},21903:function(){},4510:function(){},21024:function(){},97402:function(){},38398:function(e,t,n){!function(){var t={477:function(e){"use strict";e.exports=n(56642)}},r={};function i(e){var n=r[e];if(void 0!==n)return n.exports;var o=r[e]={exports:{}},a=!0;try{t[e](o,o.exports,i),a=!1}finally{a&&delete r[e]}return o.exports}i.ab="//";var o={};!function(){var e,t=o,n=(e=i(477))&&"object"==typeof e&&"default"in e?e.default:e,r=/https?|ftp|gopher|file/;function a(e){"string"==typeof e&&(e=b(e));var t=function(e,t,n){var r=e.auth,i=e.hostname,o=e.protocol||"",a=e.pathname||"",s=e.hash||"",u=e.query||"",c=!1;r=r?encodeURIComponent(r).replace(/%3A/i,":")+"@":"",e.host?c=r+e.host:i&&(c=r+(~i.indexOf(":")?"["+i+"]":i),e.port&&(c+=":"+e.port)),u&&"object"==typeof u&&(u=t.encode(u));var l=e.search||u&&"?"+u||"";return o&&":"!==o.substr(-1)&&(o+=":"),e.slashes||(!o||n.test(o))&&!1!==c?(c="//"+(c||""),a&&"/"!==a[0]&&(a="/"+a)):c||(c=""),s&&"#"!==s[0]&&(s="#"+s),l&&"?"!==l[0]&&(l="?"+l),{protocol:o,host:c,pathname:a=a.replace(/[?#]/g,encodeURIComponent),search:l=l.replace("#","%23"),hash:s}}(e,n,r);return""+t.protocol+t.host+t.pathname+t.search+t.hash}var s="http://",u="w.w",c=s+u,l=/^([a-z0-9.+-]*:\/\/\/)([a-z0-9.+-]:\/*)?/i,f=/https?|ftp|gopher|file/;function d(e,t){var n="string"==typeof e?b(e):e;e="object"==typeof e?a(e):e;var r=b(t),i="";n.protocol&&!n.slashes&&(i=n.protocol,e=e.replace(n.protocol,""),i+="/"===t[0]||"/"===e[0]?"/":""),i&&r.protocol&&(i="",r.slashes||(i=r.protocol,t=t.replace(r.protocol,"")));var o=e.match(l);o&&!r.protocol&&(e=e.substr((i=o[1]+(o[2]||"")).length),/^\/\/[^/]/.test(t)&&(i=i.slice(0,-1)));var u=new URL(e,c+"/"),d=new URL(t,u).toString().replace(c,""),h=r.protocol||n.protocol;return h+=n.slashes||r.slashes?"//":"",!i&&h?d=d.replace(s,h):i&&(d=d.replace(s,"")),f.test(d)||~t.indexOf(".")||"/"===e.slice(-1)||"/"===t.slice(-1)||"/"!==d.slice(-1)||(d=d.slice(0,-1)),i&&(d=i+("/"===d[0]?d.substr(1):d)),d}function h(){}h.prototype.parse=b,h.prototype.format=a,h.prototype.resolve=d,h.prototype.resolveObject=d;var p=/^https?|ftp|gopher|file/,v=/^(.*?)([#?].*)/,m=/^([a-z0-9.+-]*:)(\/{0,3})(.*)/i,g=/^([a-z0-9.+-]*:)?\/\/\/*/i,y=/^([a-z0-9.+-]*:)(\/{0,2})\[(.*)\]$/i;function b(e,t,r){if(void 0===t&&(t=!1),void 0===r&&(r=!1),e&&"object"==typeof e&&e instanceof h)return e;var i=(e=e.trim()).match(v);e=i?i[1].replace(/\\/g,"/")+i[2]:e.replace(/\\/g,"/"),y.test(e)&&"/"!==e.slice(-1)&&(e+="/");var o=!/(^javascript)/.test(e)&&e.match(m),s=g.test(e),l="";o&&(p.test(o[1])||(l=o[1].toLowerCase(),e=""+o[2]+o[3]),o[2]||(s=!1,p.test(o[1])?(l=o[1],e=""+o[3]):e="//"+o[3]),3!==o[2].length&&1!==o[2].length||(l=o[1],e="/"+o[3]));var f,d=(i?i[1]:e).match(/^https?:\/\/[^/]+(:[0-9]+)(?=\/|$)/),b=d&&d[1],w=new h,_="",E="";try{f=new URL(e)}catch(t){_=t,l||r||!/^\/\//.test(e)||/^\/\/.+[@.]/.test(e)||(E="/",e=e.substr(1));try{f=new URL(e,c)}catch(e){return w.protocol=l,w.href=l,w}}w.slashes=s&&!E,w.host=f.host===u?"":f.host,w.hostname=f.hostname===u?"":f.hostname.replace(/(\[|\])/g,""),w.protocol=_?l||null:f.protocol,w.search=f.search.replace(/\\/g,"%5C"),w.hash=f.hash.replace(/\\/g,"%5C");var S=e.split("#");!w.search&&~S[0].indexOf("?")&&(w.search="?"),w.hash||""!==S[1]||(w.hash="#"),w.query=t?n.decode(f.search.substr(1)):w.search.substr(1),w.pathname=E+(o?function(e){return e.replace(/['^|`]/g,(function(e){return"%"+e.charCodeAt().toString(16).toUpperCase()})).replace(/((?:%[0-9A-F]{2})+)/g,(function(e,t){try{return decodeURIComponent(t).split("").map((function(e){var t=e.charCodeAt();return t>256||/^[a-z0-9]$/i.test(e)?e:"%"+t.toString(16).toUpperCase()})).join("")}catch(e){return t}}))}(f.pathname):f.pathname),"about:"===w.protocol&&"blank"===w.pathname&&(w.protocol="",w.pathname=""),_&&"/"!==e[0]&&(w.pathname=w.pathname.substr(1)),l&&!p.test(l)&&"/"!==e.slice(-1)&&"/"===w.pathname&&(w.pathname=""),w.path=w.pathname+w.search,w.auth=[f.username,f.password].map(decodeURIComponent).filter(Boolean).join(":"),w.port=f.port,b&&!w.host.endsWith(b)&&(w.host+=b,w.port=b.slice(1)),w.href=E?""+w.pathname+w.search+w.hash:a(w);var x=/^(file)/.test(w.href)?["host","hostname"]:[];return Object.keys(w).forEach((function(e){~x.indexOf(e)||(w[e]=w[e]||null)})),w}t.parse=b,t.format=a,t.resolve=d,t.resolveObject=function(e,t){return b(d(e,t))},t.Url=h}(),e.exports=o}()},37518:function(e,t,n){var r=n(34406);!function(){var t={526:function(e){"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},118:function(e,t,n){var r=n(300),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"===typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},562:function(e,t,n){e.exports=i;var r=n(361).EventEmitter;function i(){r.call(this)}n(526)(i,r),i.Readable=n(375),i.Writable=n(886),i.Duplex=n(239),i.Transform=n(786),i.PassThrough=n(663),i.finished=n(494),i.pipeline=n(229),i.Stream=i,i.prototype.pipe=function(e,t){var n=this;function i(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function o(){n.readable&&n.resume&&n.resume()}n.on("data",i),e.on("drain",o),e._isStdio||t&&!1===t.end||(n.on("end",s),n.on("close",u));var a=!1;function s(){a||(a=!0,e.end())}function u(){a||(a=!0,"function"===typeof e.destroy&&e.destroy())}function c(e){if(l(),0===r.listenerCount(this,"error"))throw e}function l(){n.removeListener("data",i),e.removeListener("drain",o),n.removeListener("end",s),n.removeListener("close",u),n.removeListener("error",c),e.removeListener("error",c),n.removeListener("end",l),n.removeListener("close",l),e.removeListener("close",l)}return n.on("error",c),e.on("error",c),n.on("end",l),n.on("close",l),e.on("close",l),e.emit("pipe",n),e}},833:function(e){"use strict";const t={};function n(e,n,r){function i(e,t,r){return"string"===typeof n?n:n(e,t,r)}r||(r=Error);class o extends r{constructor(e,t,n){super(i(e,t,n))}}o.prototype.name=r.name,o.prototype.code=e,t[e]=o}function r(e,t){if(Array.isArray(e)){const n=e.length;return e=e.map((e=>String(e))),n>2?`one of ${t} ${e.slice(0,n-1).join(", ")}, or `+e[n-1]:2===n?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}return`of ${t} ${String(e)}`}n("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),n("ERR_INVALID_ARG_TYPE",(function(e,t,n){let i,o;if("string"===typeof t&&function(e,t,n){return e.substr(!n||n<0?0:+n,t.length)===t}(t,"not ")?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))o=`The ${e} ${i} ${r(t,"type")}`;else{const n=function(e,t,n){return"number"!==typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}(e,".")?"property":"argument";o=`The "${e}" ${n} ${i} ${r(t,"type")}`}return o+=". Received type "+typeof n,o}),TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},239:function(e,t,n){"use strict";var i=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=l;var o=n(375),a=n(886);n(526)(l,o);for(var s=i(a.prototype),u=0;u<s.length;u++){var c=s[u];l.prototype[c]||(l.prototype[c]=a.prototype[c])}function l(e){if(!(this instanceof l))return new l(e);o.call(this,e),a.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",f)))}function f(){this._writableState.ended||r.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},663:function(e,t,n){"use strict";e.exports=i;var r=n(786);function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}n(526)(i,r),i.prototype._transform=function(e,t,n){n(null,e)}},375:function(e,t,i){"use strict";var o;e.exports=C,C.ReadableState=O;i(361).EventEmitter;var a=function(e,t){return e.listeners(t).length},s=i(919),u=i(300).Buffer,c=n.g.Uint8Array||function(){};var l,f=i(837);l=f&&f.debuglog?f.debuglog("stream"):function(){};var d,h,p,v=i(914),m=i(364),g=i(322).getHighWaterMark,y=i(833).q,b=y.ERR_INVALID_ARG_TYPE,w=y.ERR_STREAM_PUSH_AFTER_EOF,_=y.ERR_METHOD_NOT_IMPLEMENTED,E=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;i(526)(C,s);var S=m.errorOrDestroy,x=["error","close","destroy","pause","resume"];function O(e,t,n){o=o||i(239),e=e||{},"boolean"!==typeof n&&(n=t instanceof o),this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=g(this,e,"readableHighWaterMark",n),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(d||(d=i(313).s),this.decoder=new d(e.encoding),this.encoding=e.encoding)}function C(e){if(o=o||i(239),!(this instanceof C))return new C(e);var t=this instanceof o;this._readableState=new O(e,this,t),this.readable=!0,e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy)),s.call(this)}function k(e,t,n,r,i){l("readableAddChunk",t);var o,a=e._readableState;if(null===t)a.reading=!1,function(e,t){if(l("onEofChunk"),t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?D(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,P(e)))}(e,a);else if(i||(o=function(e,t){var n;(function(e){return u.isBuffer(e)||e instanceof c})(t)||"string"===typeof t||void 0===t||e.objectMode||(n=new b("chunk",["string","Buffer","Uint8Array"],t));return n}(a,t)),o)S(e,o);else if(a.objectMode||t&&t.length>0)if("string"===typeof t||a.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),r)a.endEmitted?S(e,new E):T(e,a,t,!0);else if(a.ended)S(e,new w);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?T(e,a,t,!1):R(e,a)):T(e,a,t,!1)}else r||(a.reading=!1,R(e,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function T(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&D(e)),R(e,t)}Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),C.prototype.destroy=m.destroy,C.prototype._undestroy=m.undestroy,C.prototype._destroy=function(e,t){t(e)},C.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"===typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=u.from(e,t),t=""),n=!0),k(this,e,t,!1,n)},C.prototype.unshift=function(e){return k(this,e,null,!0,!1)},C.prototype.isPaused=function(){return!1===this._readableState.flowing},C.prototype.setEncoding=function(e){d||(d=i(313).s);var t=new d(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,r="";null!==n;)r+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==r&&this._readableState.buffer.push(r),this._readableState.length=r.length,this};var A=1073741824;function I(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=A?e=A:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function D(e){var t=e._readableState;l("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(l("emitReadable",t.flowing),t.emittedReadable=!0,r.nextTick(P,e))}function P(e){var t=e._readableState;l("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,F(e)}function R(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(N,e,t))}function N(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(l("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function j(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function M(e){l("readable nexttick read 0"),e.read(0)}function L(e,t){l("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),F(e),t.flowing&&!t.reading&&e.read(0)}function F(e){var t=e._readableState;for(l("flow",t.flowing);t.flowing&&null!==e.read(););}function B(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function U(e){var t=e._readableState;l("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,r.nextTick(V,t,e))}function V(e,t){if(l("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function z(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}C.prototype.read=function(e){l("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return l("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?U(this):D(this),null;if(0===(e=I(e,t))&&t.ended)return 0===t.length&&U(this),null;var r,i=t.needReadable;return l("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&l("length less than watermark",i=!0),t.ended||t.reading?l("reading or ended",i=!1):i&&(l("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=I(n,t))),null===(r=e>0?B(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&U(this)),null!==r&&this.emit("data",r),r},C.prototype._read=function(e){S(this,new _("_read()"))},C.prototype.pipe=function(e,t){var n=this,i=this._readableState;switch(i.pipesCount){case 0:i.pipes=e;break;case 1:i.pipes=[i.pipes,e];break;default:i.pipes.push(e)}i.pipesCount+=1,l("pipe count=%d opts=%j",i.pipesCount,t);var o=(!t||!1!==t.end)&&e!==r.stdout&&e!==r.stderr?u:g;function s(e,t){l("onunpipe"),e===n&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,d())}function u(){l("onend"),e.end()}i.endEmitted?r.nextTick(o):n.once("end",o),e.on("unpipe",s);var c=function(e){return function(){var t=e._readableState;l("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,F(e))}}(n);e.on("drain",c);var f=!1;function d(){l("cleanup"),e.removeListener("close",v),e.removeListener("finish",m),e.removeListener("drain",c),e.removeListener("error",p),e.removeListener("unpipe",s),n.removeListener("end",u),n.removeListener("end",g),n.removeListener("data",h),f=!0,!i.awaitDrain||e._writableState&&!e._writableState.needDrain||c()}function h(t){l("ondata");var r=e.write(t);l("dest.write",r),!1===r&&((1===i.pipesCount&&i.pipes===e||i.pipesCount>1&&-1!==z(i.pipes,e))&&!f&&(l("false write response, pause",i.awaitDrain),i.awaitDrain++),n.pause())}function p(t){l("onerror",t),g(),e.removeListener("error",p),0===a(e,"error")&&S(e,t)}function v(){e.removeListener("finish",m),g()}function m(){l("onfinish"),e.removeListener("close",v),g()}function g(){l("unpipe"),n.unpipe(e)}return n.on("data",h),function(e,t,n){if("function"===typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",p),e.once("close",v),e.once("finish",m),e.emit("pipe",n),i.flowing||(l("pipe resume"),n.resume()),e},C.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=z(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},C.prototype.on=function(e,t){var n=s.prototype.on.call(this,e,t),i=this._readableState;return"data"===e?(i.readableListening=this.listenerCount("readable")>0,!1!==i.flowing&&this.resume()):"readable"===e&&(i.endEmitted||i.readableListening||(i.readableListening=i.needReadable=!0,i.flowing=!1,i.emittedReadable=!1,l("on readable",i.length,i.reading),i.length?D(this):i.reading||r.nextTick(M,this))),n},C.prototype.addListener=C.prototype.on,C.prototype.removeListener=function(e,t){var n=s.prototype.removeListener.call(this,e,t);return"readable"===e&&r.nextTick(j,this),n},C.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||r.nextTick(j,this),t},C.prototype.resume=function(){var e=this._readableState;return e.flowing||(l("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(L,e,t))}(this,e)),e.paused=!1,this},C.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},C.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(l("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(l("wrapped data"),n.decoder&&(i=n.decoder.write(i)),!n.objectMode||null!==i&&void 0!==i)&&((n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause())))})),e)void 0===this[i]&&"function"===typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<x.length;o++)e.on(x[o],this.emit.bind(this,x[o]));return this._read=function(t){l("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"===typeof Symbol&&(C.prototype[Symbol.asyncIterator]=function(){return void 0===h&&(h=i(771)),h(this)}),Object.defineProperty(C.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(C.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(C.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),C._fromList=B,Object.defineProperty(C.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"===typeof Symbol&&(C.from=function(e,t){return void 0===p&&(p=i(16)),p(C,e,t)})},786:function(e,t,n){"use strict";e.exports=l;var r=n(833).q,i=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,a=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=r.ERR_TRANSFORM_WITH_LENGTH_0,u=n(239);function c(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new o);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);u.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",f)}function f(){var e=this;"function"!==typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush((function(t,n){d(e,t,n)}))}function d(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new s;if(e._transformState.transforming)throw new a;return e.push(null)}n(526)(l,u),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,n){n(new i("_transform()"))},l.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,(function(e){t(e)}))}},886:function(e,t,i){"use strict";function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}var a;e.exports=C,C.WritableState=O;var s={deprecate:i(121)},u=i(919),c=i(300).Buffer,l=n.g.Uint8Array||function(){};var f,d=i(364),h=i(322).getHighWaterMark,p=i(833).q,v=p.ERR_INVALID_ARG_TYPE,m=p.ERR_METHOD_NOT_IMPLEMENTED,g=p.ERR_MULTIPLE_CALLBACK,y=p.ERR_STREAM_CANNOT_PIPE,b=p.ERR_STREAM_DESTROYED,w=p.ERR_STREAM_NULL_VALUES,_=p.ERR_STREAM_WRITE_AFTER_END,E=p.ERR_UNKNOWN_ENCODING,S=d.errorOrDestroy;function x(){}function O(e,t,n){a=a||i(239),e=e||{},"boolean"!==typeof n&&(n=t instanceof a),this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=h(this,e,"writableHighWaterMark",n),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,i=n.sync,o=n.writecb;if("function"!==typeof o)throw new g;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,i,o){--t.pendingcb,n?(r.nextTick(o,i),r.nextTick(R,e,t),e._writableState.errorEmitted=!0,S(e,i)):(o(i),e._writableState.errorEmitted=!0,S(e,i),R(e,t))}(e,n,i,t,o);else{var a=D(n)||e.destroyed;a||n.corked||n.bufferProcessing||!n.bufferedRequest||I(e,n),i?r.nextTick(A,e,n,a,o):A(e,n,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function C(e){var t=this instanceof(a=a||i(239));if(!t&&!f.call(C,this))return new C(e);this._writableState=new O(e,this,t),this.writable=!0,e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final)),u.call(this)}function k(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!==typeof t||(t=c.from(t,n)),t}function T(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new b("write")):n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function A(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),R(e,t)}function I(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),a=t.corkedRequestsFree;a.entry=n;for(var s=0,u=!0;n;)i[s]=n,n.isBuf||(u=!1),n=n.next,s+=1;i.allBuffers=u,T(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,l=n.encoding,f=n.callback;if(T(e,t,!1,t.objectMode?1:c.length,c,l,f),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function D(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function P(e,t){e._final((function(n){t.pendingcb--,n&&S(e,n),t.prefinished=!0,e.emit("prefinish"),R(e,t)}))}function R(e,t){var n=D(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!==typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,r.nextTick(P,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var i=e._readableState;(!i||i.autoDestroy&&i.endEmitted)&&e.destroy()}return n}i(526)(C,u),O.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(O.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(e){return!!f.call(this,e)||this===C&&(e&&e._writableState instanceof O)}})):f=function(e){return e instanceof this},C.prototype.pipe=function(){S(this,new y)},C.prototype.write=function(e,t,n){var i=this._writableState,o=!1,a=!i.objectMode&&function(e){return c.isBuffer(e)||e instanceof l}(e);return a&&!c.isBuffer(e)&&(e=function(e){return c.from(e)}(e)),"function"===typeof t&&(n=t,t=null),a?t="buffer":t||(t=i.defaultEncoding),"function"!==typeof n&&(n=x),i.ending?function(e,t){var n=new _;S(e,n),r.nextTick(t,n)}(this,n):(a||function(e,t,n,i){var o;return null===n?o=new w:"string"===typeof n||t.objectMode||(o=new v("chunk",["string","Buffer"],n)),!o||(S(e,o),r.nextTick(i,o),!1)}(this,i,e,n))&&(i.pendingcb++,o=function(e,t,n,r,i,o){if(!n){var a=k(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else T(e,t,!1,s,r,i,o);return u}(this,i,a,e,t,n)),o},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||I(this,e))},C.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new E(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(C.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),C.prototype._write=function(e,t,n){n(new m("_write()"))},C.prototype._writev=null,C.prototype.end=function(e,t,n){var i=this._writableState;return"function"===typeof e?(n=e,e=null,t=null):"function"===typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||function(e,t,n){t.ending=!0,R(e,t),n&&(t.finished?r.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,i,n),this},Object.defineProperty(C.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),C.prototype.destroy=d.destroy,C.prototype._undestroy=d.undestroy,C.prototype._destroy=function(e,t){t(e)}},771:function(e,t,n){"use strict";var i;function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(494),s=Symbol("lastResolve"),u=Symbol("lastReject"),c=Symbol("error"),l=Symbol("ended"),f=Symbol("lastPromise"),d=Symbol("handlePromise"),h=Symbol("stream");function p(e,t){return{value:e,done:t}}function v(e){var t=e[s];if(null!==t){var n=e[h].read();null!==n&&(e[f]=null,e[s]=null,e[u]=null,t(p(n,!1)))}}function m(e){r.nextTick(v,e)}var g=Object.getPrototypeOf((function(){})),y=Object.setPrototypeOf((i={get stream(){return this[h]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[l])return Promise.resolve(p(void 0,!0));if(this[h].destroyed)return new Promise((function(t,n){r.nextTick((function(){e[c]?n(e[c]):t(p(void 0,!0))}))}));var n,i=this[f];if(i)n=new Promise(function(e,t){return function(n,r){e.then((function(){t[l]?n(p(void 0,!0)):t[d](n,r)}),r)}}(i,this));else{var o=this[h].read();if(null!==o)return Promise.resolve(p(o,!1));n=new Promise(this[d])}return this[f]=n,n}},o(i,Symbol.asyncIterator,(function(){return this})),o(i,"return",(function(){var e=this;return new Promise((function(t,n){e[h].destroy(null,(function(e){e?n(e):t(p(void 0,!0))}))}))})),i),g);e.exports=function(e){var t,n=Object.create(y,(o(t={},h,{value:e,writable:!0}),o(t,s,{value:null,writable:!0}),o(t,u,{value:null,writable:!0}),o(t,c,{value:null,writable:!0}),o(t,l,{value:e._readableState.endEmitted,writable:!0}),o(t,d,{value:function(e,t){var r=n[h].read();r?(n[f]=null,n[s]=null,n[u]=null,e(p(r,!1))):(n[s]=e,n[u]=t)},writable:!0}),t));return n[f]=null,a(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[u];return null!==t&&(n[f]=null,n[s]=null,n[u]=null,t(e)),void(n[c]=e)}var r=n[s];null!==r&&(n[f]=null,n[s]=null,n[u]=null,r(p(void 0,!0))),n[l]=!0})),e.on("readable",m.bind(null,n)),n}},914:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=n(300).Buffer,s=n(837).inspect,u=s&&s.custom||"inspect";function c(e,t,n){a.prototype.copy.call(e,t,n)}e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(e,[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return a.alloc(0);for(var t=a.allocUnsafe(e>>>0),n=this.head,r=0;n;)c(n.data,t,r),r+=n.data.length,n=n.next;return t}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?r+=i:r+=i.slice(0,e),0===(e-=o)){o===i.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(e){var t=a.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var i=n.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0===(e-=o)){o===i.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=i.slice(o));break}++r}return this.length-=r,t}},{key:u,value:function(e,t){return s(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}]),e}()},364:function(e){"use strict";function t(e,t){i(e,t),n(e)}function n(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function i(e,t){e.emit("error",t)}e.exports={destroy:function(e,o){var a=this,s=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return s||u?(o?o(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,r.nextTick(i,this,e)):r.nextTick(i,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!o&&e?a._writableState?a._writableState.errorEmitted?r.nextTick(n,a):(a._writableState.errorEmitted=!0,r.nextTick(t,a,e)):r.nextTick(t,a,e):o?(r.nextTick(n,a),o(e)):r.nextTick(n,a)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}}},494:function(e,t,n){"use strict";var r=n(833).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,n,o){if("function"===typeof n)return e(t,null,n);n||(n={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}}(o||i);var a=n.readable||!1!==n.readable&&t.readable,s=n.writable||!1!==n.writable&&t.writable,u=function(){t.writable||l()},c=t._writableState&&t._writableState.finished,l=function(){s=!1,c=!0,a||o.call(t)},f=t._readableState&&t._readableState.endEmitted,d=function(){a=!1,f=!0,s||o.call(t)},h=function(e){o.call(t,e)},p=function(){var e;return a&&!f?(t._readableState&&t._readableState.ended||(e=new r),o.call(t,e)):s&&!c?(t._writableState&&t._writableState.ended||(e=new r),o.call(t,e)):void 0},v=function(){t.req.on("finish",l)};return!function(e){return e.setHeader&&"function"===typeof e.abort}(t)?s&&!t._writableState&&(t.on("end",u),t.on("close",u)):(t.on("complete",l),t.on("abort",p),t.req?v():t.on("request",v)),t.on("end",d),t.on("finish",l),!1!==n.error&&t.on("error",h),t.on("close",p),function(){t.removeListener("complete",l),t.removeListener("abort",p),t.removeListener("request",v),t.req&&t.req.removeListener("finish",l),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",l),t.removeListener("end",d),t.removeListener("error",h),t.removeListener("close",p)}}},16:function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,u,"next",e)}function u(e){r(a,i,o,s,u,"throw",e)}s(void 0)}))}}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n(833).q.ERR_INVALID_ARG_TYPE;e.exports=function(e,t,n){var r;if(t&&"function"===typeof t.next)r=t;else if(t&&t[Symbol.asyncIterator])r=t[Symbol.asyncIterator]();else{if(!t||!t[Symbol.iterator])throw new s("iterable",["Iterable"],t);r=t[Symbol.iterator]()}var u=new e(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({objectMode:!0},n)),c=!1;function l(){return f.apply(this,arguments)}function f(){return f=i((function*(){try{var e=yield r.next(),t=e.value;e.done?u.push(null):u.push(yield t)?l():c=!1}catch(e){u.destroy(e)}})),f.apply(this,arguments)}return u._read=function(){c||(c=!0,l())},u}},229:function(e,t,n){"use strict";var r;var i=n(833).q,o=i.ERR_MISSING_ARGS,a=i.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function u(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var s=!1;e.on("close",(function(){s=!0})),void 0===r&&(r=n(494)),r(e,{readable:t,writable:i},(function(e){if(e)return o(e);s=!0,o()}));var u=!1;return function(t){if(!s&&!u)return u=!0,function(e){return e.setHeader&&"function"===typeof e.abort}(e)?e.abort():"function"===typeof e.destroy?e.destroy():void o(t||new a("pipe"))}}function c(e){e()}function l(e,t){return e.pipe(t)}function f(e){return e.length?"function"!==typeof e[e.length-1]?s:e.pop():s}e.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=f(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var a=t.map((function(e,n){var o=n<t.length-1;return u(e,o,n>0,(function(e){r||(r=e),e&&a.forEach(c),o||(a.forEach(c),i(r))}))}));return t.reduce(l)}},322:function(e,t,n){"use strict";var r=n(833).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,n,i){var o=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,i,n);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new r(i?n:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},919:function(e,t,n){e.exports=n(781)},313:function(e,t,n){"use strict";var r=n(118).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!==typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=f,t=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function a(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!==(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2===0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function l(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.s=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},o.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=a(t[r]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=a(t[r]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=a(t[r]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},121:function(e){function t(e){try{if(!n.g.localStorage)return!1}catch(e){return!1}var t=n.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,n){if(t("noDeprecation"))return e;var r=!1;return function(){if(!r){if(t("throwDeprecation"))throw new Error(n);t("traceDeprecation")?console.trace(n):console.warn(n),r=!0}return e.apply(this,arguments)}}},300:function(e){"use strict";e.exports=n(48834)},361:function(e){"use strict";e.exports=n(22699)},781:function(e){"use strict";e.exports=n(22699).EventEmitter},837:function(e){"use strict";e.exports=n(43335)}},i={};function o(e){var n=i[e];if(void 0!==n)return n.exports;var r=i[e]={exports:{}},a=!0;try{t[e](r,r.exports,o),a=!1}finally{a&&delete i[e]}return r.exports}o.ab="//";var a=o(562);e.exports=a}()},37970:function(e,t,n){var r=n(48834).Buffer,i=n(34406);!function(){var t={516:function(e){e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},526:function(e){"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},118:function(e,t,n){var r=n(300),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"===typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},859:function(e,t,r){var i=r(43),o=r(808),a=r(738),s=r(516),u=r(310),c=t;c.request=function(e,t){e="string"===typeof e?u.parse(e):a(e);var r=-1===n.g.location.protocol.search(/^https?:$/)?"http:":"",o=e.protocol||r,s=e.hostname||e.host,c=e.port,l=e.path||"/";s&&-1!==s.indexOf(":")&&(s="["+s+"]"),e.url=(s?o+"//"+s:"")+(c?":"+c:"")+l,e.method=(e.method||"GET").toUpperCase(),e.headers=e.headers||{};var f=new i(e);return t&&f.on("response",t),f},c.get=function(e,t){var n=c.request(e,t);return n.end(),n},c.ClientRequest=i,c.IncomingMessage=o.IncomingMessage,c.Agent=function(){},c.Agent.defaultMaxSockets=4,c.globalAgent=new c.Agent,c.STATUS_CODES=s,c.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]},569:function(e,t){var r;function i(){if(void 0!==r)return r;if(n.g.XMLHttpRequest){r=new n.g.XMLHttpRequest;try{r.open("GET",n.g.XDomainRequest?"/":"https://example.com")}catch(e){r=null}}else r=null;return r}function o(e){var t=i();if(!t)return!1;try{return t.responseType=e,t.responseType===e}catch(e){}return!1}function a(e){return"function"===typeof e}t.fetch=a(n.g.fetch)&&a(n.g.ReadableStream),t.writableStream=a(n.g.WritableStream),t.abortController=a(n.g.AbortController),t.arraybuffer=t.fetch||o("arraybuffer"),t.msstream=!t.fetch&&o("ms-stream"),t.mozchunkedarraybuffer=!t.fetch&&o("moz-chunked-arraybuffer"),t.overrideMimeType=t.fetch||!!i()&&a(i().overrideMimeType),r=null},43:function(e,t,o){var a=o(569),s=o(526),u=o(808),c=o(121),l=u.IncomingMessage,f=u.readyStates;var d=e.exports=function(e){var t,n=this;c.Writable.call(n),n._opts=e,n._body=[],n._headers={},e.auth&&n.setHeader("Authorization","Basic "+r.from(e.auth).toString("base64")),Object.keys(e.headers).forEach((function(t){n.setHeader(t,e.headers[t])}));var i=!0;if("disable-fetch"===e.mode||"requestTimeout"in e&&!a.abortController)i=!1,t=!0;else if("prefer-streaming"===e.mode)t=!1;else if("allow-wrong-content-type"===e.mode)t=!a.overrideMimeType;else{if(e.mode&&"default"!==e.mode&&"prefer-fast"!==e.mode)throw new Error("Invalid value for opts.mode");t=!0}n._mode=function(e,t){return a.fetch&&t?"fetch":a.mozchunkedarraybuffer?"moz-chunked-arraybuffer":a.msstream?"ms-stream":a.arraybuffer&&e?"arraybuffer":"text"}(t,i),n._fetchTimer=null,n.on("finish",(function(){n._onFinish()}))};s(d,c.Writable),d.prototype.setHeader=function(e,t){var n=e.toLowerCase();-1===h.indexOf(n)&&(this._headers[n]={name:e,value:t})},d.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];return t?t.value:null},d.prototype.removeHeader=function(e){delete this._headers[e.toLowerCase()]},d.prototype._onFinish=function(){var e=this;if(!e._destroyed){var t=e._opts,r=e._headers,o=null;"GET"!==t.method&&"HEAD"!==t.method&&(o=new Blob(e._body,{type:(r["content-type"]||{}).value||""}));var s=[];if(Object.keys(r).forEach((function(e){var t=r[e].name,n=r[e].value;Array.isArray(n)?n.forEach((function(e){s.push([t,e])})):s.push([t,n])})),"fetch"===e._mode){var u=null;if(a.abortController){var c=new AbortController;u=c.signal,e._fetchAbortController=c,"requestTimeout"in t&&0!==t.requestTimeout&&(e._fetchTimer=n.g.setTimeout((function(){e.emit("requestTimeout"),e._fetchAbortController&&e._fetchAbortController.abort()}),t.requestTimeout))}n.g.fetch(e._opts.url,{method:e._opts.method,headers:s,body:o||void 0,mode:"cors",credentials:t.withCredentials?"include":"same-origin",signal:u}).then((function(t){e._fetchResponse=t,e._connect()}),(function(t){n.g.clearTimeout(e._fetchTimer),e._destroyed||e.emit("error",t)}))}else{var l=e._xhr=new n.g.XMLHttpRequest;try{l.open(e._opts.method,e._opts.url,!0)}catch(t){return void i.nextTick((function(){e.emit("error",t)}))}"responseType"in l&&(l.responseType=e._mode),"withCredentials"in l&&(l.withCredentials=!!t.withCredentials),"text"===e._mode&&"overrideMimeType"in l&&l.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in t&&(l.timeout=t.requestTimeout,l.ontimeout=function(){e.emit("requestTimeout")}),s.forEach((function(e){l.setRequestHeader(e[0],e[1])})),e._response=null,l.onreadystatechange=function(){switch(l.readyState){case f.LOADING:case f.DONE:e._onXHRProgress()}},"moz-chunked-arraybuffer"===e._mode&&(l.onprogress=function(){e._onXHRProgress()}),l.onerror=function(){e._destroyed||e.emit("error",new Error("XHR error"))};try{l.send(o)}catch(t){return void i.nextTick((function(){e.emit("error",t)}))}}}},d.prototype._onXHRProgress=function(){var e=this;(function(e){try{var t=e.status;return null!==t&&0!==t}catch(e){return!1}})(e._xhr)&&!e._destroyed&&(e._response||e._connect(),e._response._onXHRProgress())},d.prototype._connect=function(){var e=this;e._destroyed||(e._response=new l(e._xhr,e._fetchResponse,e._mode,e._fetchTimer),e._response.on("error",(function(t){e.emit("error",t)})),e.emit("response",e._response))},d.prototype._write=function(e,t,n){this._body.push(e),n()},d.prototype.abort=d.prototype.destroy=function(){var e=this;e._destroyed=!0,n.g.clearTimeout(e._fetchTimer),e._response&&(e._response._destroyed=!0),e._xhr?e._xhr.abort():e._fetchAbortController&&e._fetchAbortController.abort()},d.prototype.end=function(e,t,n){"function"===typeof e&&(n=e,e=void 0),c.Writable.prototype.end.call(this,e,t,n)},d.prototype.flushHeaders=function(){},d.prototype.setTimeout=function(){},d.prototype.setNoDelay=function(){},d.prototype.setSocketKeepAlive=function(){};var h=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]},808:function(e,t,o){var a=o(569),s=o(526),u=o(121),c=t.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},l=t.IncomingMessage=function(e,t,o,s){var c=this;if(u.Readable.call(c),c._mode=o,c.headers={},c.rawHeaders=[],c.trailers={},c.rawTrailers=[],c.on("end",(function(){i.nextTick((function(){c.emit("close")}))})),"fetch"===o){if(c._fetchResponse=t,c.url=t.url,c.statusCode=t.status,c.statusMessage=t.statusText,t.headers.forEach((function(e,t){c.headers[t.toLowerCase()]=e,c.rawHeaders.push(t,e)})),a.writableStream){var l=new WritableStream({write:function(e){return new Promise((function(t,n){c._destroyed?n():c.push(r.from(e))?t():c._resumeFetch=t}))},close:function(){n.g.clearTimeout(s),c._destroyed||c.push(null)},abort:function(e){c._destroyed||c.emit("error",e)}});try{return void t.body.pipeTo(l).catch((function(e){n.g.clearTimeout(s),c._destroyed||c.emit("error",e)}))}catch(e){}}var f=t.body.getReader();!function e(){f.read().then((function(t){if(!c._destroyed){if(t.done)return n.g.clearTimeout(s),void c.push(null);c.push(r.from(t.value)),e()}})).catch((function(e){n.g.clearTimeout(s),c._destroyed||c.emit("error",e)}))}()}else{if(c._xhr=e,c._pos=0,c.url=e.responseURL,c.statusCode=e.status,c.statusMessage=e.statusText,e.getAllResponseHeaders().split(/\r?\n/).forEach((function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var n=t[1].toLowerCase();"set-cookie"===n?(void 0===c.headers[n]&&(c.headers[n]=[]),c.headers[n].push(t[2])):void 0!==c.headers[n]?c.headers[n]+=", "+t[2]:c.headers[n]=t[2],c.rawHeaders.push(t[1],t[2])}})),c._charset="x-user-defined",!a.overrideMimeType){var d=c.rawHeaders["mime-type"];if(d){var h=d.match(/;\s*charset=([^;])(;|$)/);h&&(c._charset=h[1].toLowerCase())}c._charset||(c._charset="utf-8")}}};s(l,u.Readable),l.prototype._read=function(){var e=this._resumeFetch;e&&(this._resumeFetch=null,e())},l.prototype._onXHRProgress=function(){var e=this,t=e._xhr,i=null;switch(e._mode){case"text":if((i=t.responseText).length>e._pos){var o=i.substr(e._pos);if("x-user-defined"===e._charset){for(var a=r.alloc(o.length),s=0;s<o.length;s++)a[s]=255&o.charCodeAt(s);e.push(a)}else e.push(o,e._charset);e._pos=i.length}break;case"arraybuffer":if(t.readyState!==c.DONE||!t.response)break;i=t.response,e.push(r.from(new Uint8Array(i)));break;case"moz-chunked-arraybuffer":if(i=t.response,t.readyState!==c.LOADING||!i)break;e.push(r.from(new Uint8Array(i)));break;case"ms-stream":if(i=t.response,t.readyState!==c.LOADING)break;var u=new n.g.MSStreamReader;u.onprogress=function(){u.result.byteLength>e._pos&&(e.push(r.from(new Uint8Array(u.result.slice(e._pos)))),e._pos=u.result.byteLength)},u.onload=function(){e.push(null)},u.readAsArrayBuffer(i)}e._xhr.readyState===c.DONE&&"ms-stream"!==e._mode&&e.push(null)}},558:function(e){"use strict";const t={};function n(e,n,r){function i(e,t,r){return"string"===typeof n?n:n(e,t,r)}r||(r=Error);class o extends r{constructor(e,t,n){super(i(e,t,n))}}o.prototype.name=r.name,o.prototype.code=e,t[e]=o}function r(e,t){if(Array.isArray(e)){const n=e.length;return e=e.map((e=>String(e))),n>2?`one of ${t} ${e.slice(0,n-1).join(", ")}, or `+e[n-1]:2===n?`one of ${t} ${e[0]} or ${e[1]}`:`of ${t} ${e[0]}`}return`of ${t} ${String(e)}`}n("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError),n("ERR_INVALID_ARG_TYPE",(function(e,t,n){let i,o;if("string"===typeof t&&function(e,t,n){return e.substr(!n||n<0?0:+n,t.length)===t}(t,"not ")?(i="must not be",t=t.replace(/^not /,"")):i="must be",function(e,t,n){return(void 0===n||n>e.length)&&(n=e.length),e.substring(n-t.length,n)===t}(e," argument"))o=`The ${e} ${i} ${r(t,"type")}`;else{const n=function(e,t,n){return"number"!==typeof n&&(n=0),!(n+t.length>e.length)&&-1!==e.indexOf(t,n)}(e,".")?"property":"argument";o=`The "${e}" ${n} ${i} ${r(t,"type")}`}return o+=". Received type "+typeof n,o}),TypeError),n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),n("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"})),n("ERR_STREAM_PREMATURE_CLOSE","Premature close"),n("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"})),n("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),n("ERR_STREAM_WRITE_AFTER_END","write after end"),n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),n("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError),n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),e.exports.q=t},309:function(e,t,n){"use strict";var r=Object.keys||function(e){var t=[];for(var n in e)t.push(n);return t};e.exports=l;var o=n(903),a=n(551);n(526)(l,o);for(var s=r(a.prototype),u=0;u<s.length;u++){var c=s[u];l.prototype[c]||(l.prototype[c]=a.prototype[c])}function l(e){if(!(this instanceof l))return new l(e);o.call(this,e),a.call(this,e),this.allowHalfOpen=!0,e&&(!1===e.readable&&(this.readable=!1),!1===e.writable&&(this.writable=!1),!1===e.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",f)))}function f(){this._writableState.ended||i.nextTick(d,this)}function d(e){e.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}})},268:function(e,t,n){"use strict";e.exports=i;var r=n(767);function i(e){if(!(this instanceof i))return new i(e);r.call(this,e)}n(526)(i,r),i.prototype._transform=function(e,t,n){n(null,e)}},903:function(e,t,r){"use strict";var o;e.exports=C,C.ReadableState=O;r(361).EventEmitter;var a=function(e,t){return e.listeners(t).length},s=r(982),u=r(300).Buffer,c=n.g.Uint8Array||function(){};var l,f=r(837);l=f&&f.debuglog?f.debuglog("stream"):function(){};var d,h,p,v=r(446),m=r(556),g=r(416).getHighWaterMark,y=r(558).q,b=y.ERR_INVALID_ARG_TYPE,w=y.ERR_STREAM_PUSH_AFTER_EOF,_=y.ERR_METHOD_NOT_IMPLEMENTED,E=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r(526)(C,s);var S=m.errorOrDestroy,x=["error","close","destroy","pause","resume"];function O(e,t,n){o=o||r(309),e=e||{},"boolean"!==typeof n&&(n=t instanceof o),this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.readableObjectMode),this.highWaterMark=g(this,e,"readableHighWaterMark",n),this.buffer=new v,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(d||(d=r(961).s),this.decoder=new d(e.encoding),this.encoding=e.encoding)}function C(e){if(o=o||r(309),!(this instanceof C))return new C(e);var t=this instanceof o;this._readableState=new O(e,this,t),this.readable=!0,e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy)),s.call(this)}function k(e,t,n,r,i){l("readableAddChunk",t);var o,a=e._readableState;if(null===t)a.reading=!1,function(e,t){if(l("onEofChunk"),t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?D(e):(t.needReadable=!1,t.emittedReadable||(t.emittedReadable=!0,P(e)))}(e,a);else if(i||(o=function(e,t){var n;(function(e){return u.isBuffer(e)||e instanceof c})(t)||"string"===typeof t||void 0===t||e.objectMode||(n=new b("chunk",["string","Buffer","Uint8Array"],t));return n}(a,t)),o)S(e,o);else if(a.objectMode||t&&t.length>0)if("string"===typeof t||a.objectMode||Object.getPrototypeOf(t)===u.prototype||(t=function(e){return u.from(e)}(t)),r)a.endEmitted?S(e,new E):T(e,a,t,!0);else if(a.ended)S(e,new w);else{if(a.destroyed)return!1;a.reading=!1,a.decoder&&!n?(t=a.decoder.write(t),a.objectMode||0!==t.length?T(e,a,t,!1):R(e,a)):T(e,a,t,!1)}else r||(a.reading=!1,R(e,a));return!a.ended&&(a.length<a.highWaterMark||0===a.length)}function T(e,t,n,r){t.flowing&&0===t.length&&!t.sync?(t.awaitDrain=0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&D(e)),R(e,t)}Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),C.prototype.destroy=m.destroy,C.prototype._undestroy=m.undestroy,C.prototype._destroy=function(e,t){t(e)},C.prototype.push=function(e,t){var n,r=this._readableState;return r.objectMode?n=!0:"string"===typeof e&&((t=t||r.defaultEncoding)!==r.encoding&&(e=u.from(e,t),t=""),n=!0),k(this,e,t,!1,n)},C.prototype.unshift=function(e){return k(this,e,null,!0,!1)},C.prototype.isPaused=function(){return!1===this._readableState.flowing},C.prototype.setEncoding=function(e){d||(d=r(961).s);var t=new d(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;for(var n=this._readableState.buffer.head,i="";null!==n;)i+=t.write(n.data),n=n.next;return this._readableState.buffer.clear(),""!==i&&this._readableState.buffer.push(i),this._readableState.length=i.length,this};var A=1073741824;function I(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!==e?t.flowing&&t.length?t.buffer.head.data.length:t.length:(e>t.highWaterMark&&(t.highWaterMark=function(e){return e>=A?e=A:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}(e)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0))}function D(e){var t=e._readableState;l("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(l("emitReadable",t.flowing),t.emittedReadable=!0,i.nextTick(P,e))}function P(e){var t=e._readableState;l("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,F(e)}function R(e,t){t.readingMore||(t.readingMore=!0,i.nextTick(N,e,t))}function N(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(l("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function j(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!t.paused?t.flowing=!0:e.listenerCount("data")>0&&e.resume()}function M(e){l("readable nexttick read 0"),e.read(0)}function L(e,t){l("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),F(e),t.flowing&&!t.reading&&e.read(0)}function F(e){var t=e._readableState;for(l("flow",t.flowing);t.flowing&&null!==e.read(););}function B(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function U(e){var t=e._readableState;l("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,i.nextTick(V,t,e))}function V(e,t){if(l("endReadableNT",e.endEmitted,e.length),!e.endEmitted&&0===e.length&&(e.endEmitted=!0,t.readable=!1,t.emit("end"),e.autoDestroy)){var n=t._writableState;(!n||n.autoDestroy&&n.finished)&&t.destroy()}}function z(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}C.prototype.read=function(e){l("read",e),e=parseInt(e,10);var t=this._readableState,n=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return l("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?U(this):D(this),null;if(0===(e=I(e,t))&&t.ended)return 0===t.length&&U(this),null;var r,i=t.needReadable;return l("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&l("length less than watermark",i=!0),t.ended||t.reading?l("reading or ended",i=!1):i&&(l("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=I(n,t))),null===(r=e>0?B(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.awaitDrain=0),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&U(this)),null!==r&&this.emit("data",r),r},C.prototype._read=function(e){S(this,new _("_read()"))},C.prototype.pipe=function(e,t){var n=this,r=this._readableState;switch(r.pipesCount){case 0:r.pipes=e;break;case 1:r.pipes=[r.pipes,e];break;default:r.pipes.push(e)}r.pipesCount+=1,l("pipe count=%d opts=%j",r.pipesCount,t);var o=(!t||!1!==t.end)&&e!==i.stdout&&e!==i.stderr?u:g;function s(e,t){l("onunpipe"),e===n&&t&&!1===t.hasUnpiped&&(t.hasUnpiped=!0,d())}function u(){l("onend"),e.end()}r.endEmitted?i.nextTick(o):n.once("end",o),e.on("unpipe",s);var c=function(e){return function(){var t=e._readableState;l("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&a(e,"data")&&(t.flowing=!0,F(e))}}(n);e.on("drain",c);var f=!1;function d(){l("cleanup"),e.removeListener("close",v),e.removeListener("finish",m),e.removeListener("drain",c),e.removeListener("error",p),e.removeListener("unpipe",s),n.removeListener("end",u),n.removeListener("end",g),n.removeListener("data",h),f=!0,!r.awaitDrain||e._writableState&&!e._writableState.needDrain||c()}function h(t){l("ondata");var i=e.write(t);l("dest.write",i),!1===i&&((1===r.pipesCount&&r.pipes===e||r.pipesCount>1&&-1!==z(r.pipes,e))&&!f&&(l("false write response, pause",r.awaitDrain),r.awaitDrain++),n.pause())}function p(t){l("onerror",t),g(),e.removeListener("error",p),0===a(e,"error")&&S(e,t)}function v(){e.removeListener("finish",m),g()}function m(){l("onfinish"),e.removeListener("close",v),g()}function g(){l("unpipe"),n.unpipe(e)}return n.on("data",h),function(e,t,n){if("function"===typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?Array.isArray(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}(e,"error",p),e.once("close",v),e.once("finish",m),e.emit("pipe",n),r.flowing||(l("pipe resume"),n.resume()),e},C.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n)),this;if(!e){var r=t.pipes,i=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,{hasUnpiped:!1});return this}var a=z(t.pipes,e);return-1===a||(t.pipes.splice(a,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n)),this},C.prototype.on=function(e,t){var n=s.prototype.on.call(this,e,t),r=this._readableState;return"data"===e?(r.readableListening=this.listenerCount("readable")>0,!1!==r.flowing&&this.resume()):"readable"===e&&(r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,l("on readable",r.length,r.reading),r.length?D(this):r.reading||i.nextTick(M,this))),n},C.prototype.addListener=C.prototype.on,C.prototype.removeListener=function(e,t){var n=s.prototype.removeListener.call(this,e,t);return"readable"===e&&i.nextTick(j,this),n},C.prototype.removeAllListeners=function(e){var t=s.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||i.nextTick(j,this),t},C.prototype.resume=function(){var e=this._readableState;return e.flowing||(l("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,i.nextTick(L,e,t))}(this,e)),e.paused=!1,this},C.prototype.pause=function(){return l("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(l("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},C.prototype.wrap=function(e){var t=this,n=this._readableState,r=!1;for(var i in e.on("end",(function(){if(l("wrapped end"),n.decoder&&!n.ended){var e=n.decoder.end();e&&e.length&&t.push(e)}t.push(null)})),e.on("data",(function(i){(l("wrapped data"),n.decoder&&(i=n.decoder.write(i)),!n.objectMode||null!==i&&void 0!==i)&&((n.objectMode||i&&i.length)&&(t.push(i)||(r=!0,e.pause())))})),e)void 0===this[i]&&"function"===typeof e[i]&&(this[i]=function(t){return function(){return e[t].apply(e,arguments)}}(i));for(var o=0;o<x.length;o++)e.on(x[o],this.emit.bind(this,x[o]));return this._read=function(t){l("wrapped _read",t),r&&(r=!1,e.resume())},this},"function"===typeof Symbol&&(C.prototype[Symbol.asyncIterator]=function(){return void 0===h&&(h=r(373)),h(this)}),Object.defineProperty(C.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(C.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(C.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}}),C._fromList=B,Object.defineProperty(C.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"===typeof Symbol&&(C.from=function(e,t){return void 0===p&&(p=r(722)),p(C,e,t)})},767:function(e,t,n){"use strict";e.exports=l;var r=n(558).q,i=r.ERR_METHOD_NOT_IMPLEMENTED,o=r.ERR_MULTIPLE_CALLBACK,a=r.ERR_TRANSFORM_ALREADY_TRANSFORMING,s=r.ERR_TRANSFORM_WITH_LENGTH_0,u=n(309);function c(e,t){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(null===r)return this.emit("error",new o);n.writechunk=null,n.writecb=null,null!=t&&this.push(t),r(e);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function l(e){if(!(this instanceof l))return new l(e);u.call(this,e),this._transformState={afterTransform:c.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",f)}function f(){var e=this;"function"!==typeof this._flush||this._readableState.destroyed?d(this,null,null):this._flush((function(t,n){d(e,t,n)}))}function d(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new s;if(e._transformState.transforming)throw new a;return e.push(null)}n(526)(l,u),l.prototype.push=function(e,t){return this._transformState.needTransform=!1,u.prototype.push.call(this,e,t)},l.prototype._transform=function(e,t,n){n(new i("_transform()"))},l.prototype._write=function(e,t,n){var r=this._transformState;if(r.writecb=n,r.writechunk=e,r.writeencoding=t,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},l.prototype._read=function(e){var t=this._transformState;null===t.writechunk||t.transforming?t.needTransform=!0:(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform))},l.prototype._destroy=function(e,t){u.prototype._destroy.call(this,e,(function(e){t(e)}))}},551:function(e,t,r){"use strict";function o(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,n){var r=e.entry;e.entry=null;for(;r;){var i=r.callback;t.pendingcb--,i(n),r=r.next}t.corkedRequestsFree.next=e}(t,e)}}var a;e.exports=C,C.WritableState=O;var s={deprecate:r(989)},u=r(982),c=r(300).Buffer,l=n.g.Uint8Array||function(){};var f,d=r(556),h=r(416).getHighWaterMark,p=r(558).q,v=p.ERR_INVALID_ARG_TYPE,m=p.ERR_METHOD_NOT_IMPLEMENTED,g=p.ERR_MULTIPLE_CALLBACK,y=p.ERR_STREAM_CANNOT_PIPE,b=p.ERR_STREAM_DESTROYED,w=p.ERR_STREAM_NULL_VALUES,_=p.ERR_STREAM_WRITE_AFTER_END,E=p.ERR_UNKNOWN_ENCODING,S=d.errorOrDestroy;function x(){}function O(e,t,n){a=a||r(309),e=e||{},"boolean"!==typeof n&&(n=t instanceof a),this.objectMode=!!e.objectMode,n&&(this.objectMode=this.objectMode||!!e.writableObjectMode),this.highWaterMark=h(this,e,"writableHighWaterMark",n),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var s=!1===e.decodeStrings;this.decodeStrings=!s,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){!function(e,t){var n=e._writableState,r=n.sync,o=n.writecb;if("function"!==typeof o)throw new g;if(function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(n),t)!function(e,t,n,r,o){--t.pendingcb,n?(i.nextTick(o,r),i.nextTick(R,e,t),e._writableState.errorEmitted=!0,S(e,r)):(o(r),e._writableState.errorEmitted=!0,S(e,r),R(e,t))}(e,n,r,t,o);else{var a=D(n)||e.destroyed;a||n.corked||n.bufferProcessing||!n.bufferedRequest||I(e,n),r?i.nextTick(A,e,n,a,o):A(e,n,a,o)}}(t,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==e.emitClose,this.autoDestroy=!!e.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function C(e){var t=this instanceof(a=a||r(309));if(!t&&!f.call(C,this))return new C(e);this._writableState=new O(e,this,t),this.writable=!0,e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final)),u.call(this)}function k(e,t,n){return e.objectMode||!1===e.decodeStrings||"string"!==typeof t||(t=c.from(t,n)),t}function T(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new b("write")):n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function A(e,t,n,r){n||function(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}(e,t),t.pendingcb--,r(),R(e,t)}function I(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var r=t.bufferedRequestCount,i=new Array(r),a=t.corkedRequestsFree;a.entry=n;for(var s=0,u=!0;n;)i[s]=n,n.isBuf||(u=!1),n=n.next,s+=1;i.allBuffers=u,T(e,t,!0,t.length,i,"",a.finish),t.pendingcb++,t.lastBufferedRequest=null,a.next?(t.corkedRequestsFree=a.next,a.next=null):t.corkedRequestsFree=new o(t),t.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,l=n.encoding,f=n.callback;if(T(e,t,!1,t.objectMode?1:c.length,c,l,f),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function D(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function P(e,t){e._final((function(n){t.pendingcb--,n&&S(e,n),t.prefinished=!0,e.emit("prefinish"),R(e,t)}))}function R(e,t){var n=D(t);if(n&&(function(e,t){t.prefinished||t.finalCalled||("function"!==typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.pendingcb++,t.finalCalled=!0,i.nextTick(P,e,t)))}(e,t),0===t.pendingcb&&(t.finished=!0,e.emit("finish"),t.autoDestroy))){var r=e._readableState;(!r||r.autoDestroy&&r.endEmitted)&&e.destroy()}return n}r(526)(C,u),O.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(O.prototype,"buffer",{get:s.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(f=Function.prototype[Symbol.hasInstance],Object.defineProperty(C,Symbol.hasInstance,{value:function(e){return!!f.call(this,e)||this===C&&(e&&e._writableState instanceof O)}})):f=function(e){return e instanceof this},C.prototype.pipe=function(){S(this,new y)},C.prototype.write=function(e,t,n){var r=this._writableState,o=!1,a=!r.objectMode&&function(e){return c.isBuffer(e)||e instanceof l}(e);return a&&!c.isBuffer(e)&&(e=function(e){return c.from(e)}(e)),"function"===typeof t&&(n=t,t=null),a?t="buffer":t||(t=r.defaultEncoding),"function"!==typeof n&&(n=x),r.ending?function(e,t){var n=new _;S(e,n),i.nextTick(t,n)}(this,n):(a||function(e,t,n,r){var o;return null===n?o=new w:"string"===typeof n||t.objectMode||(o=new v("chunk",["string","Buffer"],n)),!o||(S(e,o),i.nextTick(r,o),!1)}(this,r,e,n))&&(r.pendingcb++,o=function(e,t,n,r,i,o){if(!n){var a=k(t,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=t.objectMode?1:r.length;t.length+=s;var u=t.length<t.highWaterMark;u||(t.needDrain=!0);if(t.writing||t.corked){var c=t.lastBufferedRequest;t.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},c?c.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else T(e,t,!1,s,r,i,o);return u}(this,r,a,e,t,n)),o},C.prototype.cork=function(){this._writableState.corked++},C.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.bufferProcessing||!e.bufferedRequest||I(this,e))},C.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new E(e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(C.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(C.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),C.prototype._write=function(e,t,n){n(new m("_write()"))},C.prototype._writev=null,C.prototype.end=function(e,t,n){var r=this._writableState;return"function"===typeof e?(n=e,e=null,t=null):"function"===typeof t&&(n=t,t=null),null!==e&&void 0!==e&&this.write(e,t),r.corked&&(r.corked=1,this.uncork()),r.ending||function(e,t,n){t.ending=!0,R(e,t),n&&(t.finished?i.nextTick(n):e.once("finish",n));t.ended=!0,e.writable=!1}(this,r,n),this},Object.defineProperty(C.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(C.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),C.prototype.destroy=d.destroy,C.prototype._undestroy=d.undestroy,C.prototype._destroy=function(e,t){t(e)}},373:function(e,t,n){"use strict";var r;function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(745),s=Symbol("lastResolve"),u=Symbol("lastReject"),c=Symbol("error"),l=Symbol("ended"),f=Symbol("lastPromise"),d=Symbol("handlePromise"),h=Symbol("stream");function p(e,t){return{value:e,done:t}}function v(e){var t=e[s];if(null!==t){var n=e[h].read();null!==n&&(e[f]=null,e[s]=null,e[u]=null,t(p(n,!1)))}}function m(e){i.nextTick(v,e)}var g=Object.getPrototypeOf((function(){})),y=Object.setPrototypeOf((r={get stream(){return this[h]},next:function(){var e=this,t=this[c];if(null!==t)return Promise.reject(t);if(this[l])return Promise.resolve(p(void 0,!0));if(this[h].destroyed)return new Promise((function(t,n){i.nextTick((function(){e[c]?n(e[c]):t(p(void 0,!0))}))}));var n,r=this[f];if(r)n=new Promise(function(e,t){return function(n,r){e.then((function(){t[l]?n(p(void 0,!0)):t[d](n,r)}),r)}}(r,this));else{var o=this[h].read();if(null!==o)return Promise.resolve(p(o,!1));n=new Promise(this[d])}return this[f]=n,n}},o(r,Symbol.asyncIterator,(function(){return this})),o(r,"return",(function(){var e=this;return new Promise((function(t,n){e[h].destroy(null,(function(e){e?n(e):t(p(void 0,!0))}))}))})),r),g);e.exports=function(e){var t,n=Object.create(y,(o(t={},h,{value:e,writable:!0}),o(t,s,{value:null,writable:!0}),o(t,u,{value:null,writable:!0}),o(t,c,{value:null,writable:!0}),o(t,l,{value:e._readableState.endEmitted,writable:!0}),o(t,d,{value:function(e,t){var r=n[h].read();r?(n[f]=null,n[s]=null,n[u]=null,e(p(r,!1))):(n[s]=e,n[u]=t)},writable:!0}),t));return n[f]=null,a(e,(function(e){if(e&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code){var t=n[u];return null!==t&&(n[f]=null,n[s]=null,n[u]=null,t(e)),void(n[c]=e)}var r=n[s];null!==r&&(n[f]=null,n[s]=null,n[u]=null,r(p(void 0,!0))),n[l]=!0})),e.on("readable",m.bind(null,n)),n}},446:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=n(300).Buffer,s=n(837).inspect,u=s&&s.custom||"inspect";function c(e,t,n){a.prototype.copy.call(e,t,n)}e.exports=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.head=null,this.tail=null,this.length=0}return function(e,t,n){t&&o(e.prototype,t),n&&o(e,n)}(e,[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return a.alloc(0);for(var t=a.allocUnsafe(e>>>0),n=this.head,r=0;n;)c(n.data,t,r),r+=n.data.length,n=n.next;return t}},{key:"consume",value:function(e,t){var n;return e<this.head.data.length?(n=this.head.data.slice(0,e),this.head.data=this.head.data.slice(e)):n=e===this.head.data.length?this.shift():t?this._getString(e):this._getBuffer(e),n}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(e){var t=this.head,n=1,r=t.data;for(e-=r.length;t=t.next;){var i=t.data,o=e>i.length?i.length:e;if(o===i.length?r+=i:r+=i.slice(0,e),0===(e-=o)){o===i.length?(++n,t.next?this.head=t.next:this.head=this.tail=null):(this.head=t,t.data=i.slice(o));break}++n}return this.length-=n,r}},{key:"_getBuffer",value:function(e){var t=a.allocUnsafe(e),n=this.head,r=1;for(n.data.copy(t),e-=n.data.length;n=n.next;){var i=n.data,o=e>i.length?i.length:e;if(i.copy(t,t.length-e,0,o),0===(e-=o)){o===i.length?(++r,n.next?this.head=n.next:this.head=this.tail=null):(this.head=n,n.data=i.slice(o));break}++r}return this.length-=r,t}},{key:u,value:function(e,t){return s(this,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{depth:0,customInspect:!1}))}}]),e}()},556:function(e){"use strict";function t(e,t){r(e,t),n(e)}function n(e){e._writableState&&!e._writableState.emitClose||e._readableState&&!e._readableState.emitClose||e.emit("close")}function r(e,t){e.emit("error",t)}e.exports={destroy:function(e,o){var a=this,s=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return s||u?(o?o(e):e&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(r,this,e)):i.nextTick(r,this,e)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!o&&e?a._writableState?a._writableState.errorEmitted?i.nextTick(n,a):(a._writableState.errorEmitted=!0,i.nextTick(t,a,e)):i.nextTick(t,a,e):o?(i.nextTick(n,a),o(e)):i.nextTick(n,a)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(e,t){var n=e._readableState,r=e._writableState;n&&n.autoDestroy||r&&r.autoDestroy?e.destroy(t):e.emit("error",t)}}},745:function(e,t,n){"use strict";var r=n(558).q.ERR_STREAM_PREMATURE_CLOSE;function i(){}e.exports=function e(t,n,o){if("function"===typeof n)return e(t,null,n);n||(n={}),o=function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}}(o||i);var a=n.readable||!1!==n.readable&&t.readable,s=n.writable||!1!==n.writable&&t.writable,u=function(){t.writable||l()},c=t._writableState&&t._writableState.finished,l=function(){s=!1,c=!0,a||o.call(t)},f=t._readableState&&t._readableState.endEmitted,d=function(){a=!1,f=!0,s||o.call(t)},h=function(e){o.call(t,e)},p=function(){var e;return a&&!f?(t._readableState&&t._readableState.ended||(e=new r),o.call(t,e)):s&&!c?(t._writableState&&t._writableState.ended||(e=new r),o.call(t,e)):void 0},v=function(){t.req.on("finish",l)};return!function(e){return e.setHeader&&"function"===typeof e.abort}(t)?s&&!t._writableState&&(t.on("end",u),t.on("close",u)):(t.on("complete",l),t.on("abort",p),t.req?v():t.on("request",v)),t.on("end",d),t.on("finish",l),!1!==n.error&&t.on("error",h),t.on("close",p),function(){t.removeListener("complete",l),t.removeListener("abort",p),t.removeListener("request",v),t.req&&t.req.removeListener("finish",l),t.removeListener("end",u),t.removeListener("close",u),t.removeListener("finish",l),t.removeListener("end",d),t.removeListener("error",h),t.removeListener("close",p)}}},722:function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,u,"next",e)}function u(e){r(a,i,o,s,u,"throw",e)}s(void 0)}))}}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n(558).q.ERR_INVALID_ARG_TYPE;e.exports=function(e,t,n){var r;if(t&&"function"===typeof t.next)r=t;else if(t&&t[Symbol.asyncIterator])r=t[Symbol.asyncIterator]();else{if(!t||!t[Symbol.iterator])throw new s("iterable",["Iterable"],t);r=t[Symbol.iterator]()}var u=new e(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({objectMode:!0},n)),c=!1;function l(){return f.apply(this,arguments)}function f(){return f=i((function*(){try{var e=yield r.next(),t=e.value;e.done?u.push(null):u.push(yield t)?l():c=!1}catch(e){u.destroy(e)}})),f.apply(this,arguments)}return u._read=function(){c||(c=!0,l())},u}},921:function(e,t,n){"use strict";var r;var i=n(558).q,o=i.ERR_MISSING_ARGS,a=i.ERR_STREAM_DESTROYED;function s(e){if(e)throw e}function u(e,t,i,o){o=function(e){var t=!1;return function(){t||(t=!0,e.apply(void 0,arguments))}}(o);var s=!1;e.on("close",(function(){s=!0})),void 0===r&&(r=n(745)),r(e,{readable:t,writable:i},(function(e){if(e)return o(e);s=!0,o()}));var u=!1;return function(t){if(!s&&!u)return u=!0,function(e){return e.setHeader&&"function"===typeof e.abort}(e)?e.abort():"function"===typeof e.destroy?e.destroy():void o(t||new a("pipe"))}}function c(e){e()}function l(e,t){return e.pipe(t)}function f(e){return e.length?"function"!==typeof e[e.length-1]?s:e.pop():s}e.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=f(t);if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new o("streams");var a=t.map((function(e,n){var o=n<t.length-1;return u(e,o,n>0,(function(e){r||(r=e),e&&a.forEach(c),o||(a.forEach(c),i(r))}))}));return t.reduce(l)}},416:function(e,t,n){"use strict";var r=n(558).q.ERR_INVALID_OPT_VALUE;e.exports={getHighWaterMark:function(e,t,n,i){var o=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,i,n);if(null!=o){if(!isFinite(o)||Math.floor(o)!==o||o<0)throw new r(i?n:"highWaterMark",o);return Math.floor(o)}return e.objectMode?16:16384}}},982:function(e,t,n){e.exports=n(781)},121:function(e,t,n){var r=n(781);"disable"===i.env.READABLE_STREAM&&r?(e.exports=r.Readable,Object.assign(e.exports,r),e.exports.Stream=r):((t=e.exports=n(903)).Stream=r||t,t.Readable=t,t.Writable=n(551),t.Duplex=n(309),t.Transform=n(767),t.PassThrough=n(268),t.finished=n(745),t.pipeline=n(921))},961:function(e,t,n){"use strict";var r=n(118).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!==typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=f,t=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function a(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!==(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2===0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function l(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.s=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},o.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=a(t[r]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=a(t[r]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=a(t[r]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},989:function(e){function t(e){try{if(!n.g.localStorage)return!1}catch(e){return!1}var t=n.g.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}e.exports=function(e,n){if(t("noDeprecation"))return e;var r=!1;return function(){if(!r){if(t("throwDeprecation"))throw new Error(n);t("traceDeprecation")?console.trace(n):console.warn(n),r=!0}return e.apply(this,arguments)}}},738:function(e){e.exports=function(){for(var e={},n=0;n<arguments.length;n++){var r=arguments[n];for(var i in r)t.call(r,i)&&(e[i]=r[i])}return e};var t=Object.prototype.hasOwnProperty},300:function(e){"use strict";e.exports=n(48834)},361:function(e){"use strict";e.exports=n(22699)},781:function(e){"use strict";e.exports=n(37518)},310:function(e){"use strict";e.exports=n(38398)},837:function(e){"use strict";e.exports=n(43335)}},o={};function a(e){var n=o[e];if(void 0!==n)return n.exports;var r=o[e]={exports:{}},i=!0;try{t[e](r,r.exports,a),i=!1}finally{i&&delete o[e]}return r.exports}a.ab="//";var s=a(859);e.exports=s}()},81219:function(e,t,n){!function(){"use strict";var t={800:function(e){var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map((function(e){return t[e]}));if("0123456789"!==r.join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}()?Object.assign:function(e,o){for(var a,s,u=i(e),c=1;c<arguments.length;c++){for(var l in a=Object(arguments[c]))n.call(a,l)&&(u[l]=a[l]);if(t){s=t(a);for(var f=0;f<s.length;f++)r.call(a,s[f])&&(u[s[f]]=a[s[f]])}}return u}},569:function(e,t,n){0},403:function(e,t,n){var r=n(800),i=n(522);t.useSubscription=function(e){var t=e.getCurrentValue,n=e.subscribe,o=i.useState((function(){return{getCurrentValue:t,subscribe:n,value:t()}}));e=o[0];var a=o[1];return o=e.value,e.getCurrentValue===t&&e.subscribe===n||(o=t(),a({getCurrentValue:t,subscribe:n,value:o})),i.useDebugValue(o),i.useEffect((function(){function e(){if(!i){var e=t();a((function(i){return i.getCurrentValue!==t||i.subscribe!==n||i.value===e?i:r({},i,{value:e})}))}}var i=!1,o=n(e);return e(),function(){i=!0,o()}}),[t,n]),o}},138:function(e,t,n){e.exports=n(403)},522:function(e){e.exports=n(2784)}},r={};function i(e){var n=r[e];if(void 0!==n)return n.exports;var o=r[e]={exports:{}},a=!0;try{t[e](o,o.exports,i),a=!1}finally{a&&delete r[e]}return o.exports}i.ab="//";var o=i(138);e.exports=o}()},64339:function(module){var __dirname="/";(function(){var __webpack_modules__={742:function(__unused_webpack_module,exports){var indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)t.push(n);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t(e[n],n,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,n){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:n})}}catch(e){return function(e,t,n){e[t]=n}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function Context(){}Context.prototype={};var Script=exports.Script=function(e){if(!(this instanceof Script))return new Script(e);this.code=e};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var n=t.contentWindow,r=n.eval,i=n.execScript;!r&&i&&(i.call(n,"null"),r=n.eval),forEach(Object_keys(e),(function(t){n[t]=e[t]})),forEach(globals,(function(t){e[t]&&(n[t]=e[t])}));var o=Object_keys(n),a=r.call(n,this.code);return forEach(Object_keys(n),(function(t){(t in e||-1===indexOf(o,t))&&(e[t]=n[t])})),forEach(globals,(function(t){t in e||defineProp(e,t,n[t])})),document.body.removeChild(t),a},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var t=Script.createContext(e),n=this.runInContext(t);return e&&forEach(Object_keys(t),(function(n){e[n]=t[n]})),n},forEach(Object_keys(Script.prototype),(function(e){exports[e]=Script[e]=function(t){var n=Script(t);return n[e].apply(n,[].slice.call(arguments,1))}})),exports.isContext=function(e){return e instanceof Context},exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var t=new Context;return"object"===typeof e&&forEach(Object_keys(e),(function(n){t[n]=e[n]})),t}}};"undefined"!==typeof __nccwpck_require__&&(__nccwpck_require__.ab=__dirname+"/");var __webpack_exports__={};__webpack_modules__[742](0,__webpack_exports__),module.exports=__webpack_exports__})()},25237:function(e,t,n){e.exports=n(55263)},97729:function(e,t,n){e.exports=n(67016)},39097:function(e,t,n){e.exports=n(81088)},5632:function(e,t,n){e.exports=n(92203)},45847:function(e,t,n){e.exports=n(14271)},50962:function(e,t,n){"use strict";n.d(t,{LI:function(){return s},_o:function(){return o},kL:function(){return a}});var r=n(2784),i=n(17407);function o(){return new i.x}function a(e){var t=(0,r.useRef)(!0),n=(0,r.useRef)(null);return t.current&&(t.current=!1,n.current=e()),n}var s="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?r.useLayoutEffect:r.useEffect},34394:function(e,t,n){"use strict";n.d(t,{p:function(){return l}});var r=n(39739),i=n(68594),o=n(59126);var a=n(56130),s=n(2784),u=n(50962);function c(e,t,n){if((d=t)&&(d instanceof i.y||(0,o.m)(d.lift)&&(0,o.m)(d.subscribe))){var r=t,c=(0,s.useState)((function(){return r instanceof a.X||void 0!==r.value?r.value:"function"===typeof n?n():n})),l=c[0],f=c[1];return e(r,f),(0,s.useDebugValue)(l),l}var d,h=t,p=(0,s.useState)(n),v=p[0],m=(f=p[1],(0,u.kL)(u._o)),g=(0,u.kL)((function(){return h(m.current,v)})).current,y=(0,s.useRef)((function(e){return m.current.next(e)})).current;return e(g,f),(0,s.useDebugValue)(v),[v,y]}function l(e,t){return c(r.m,e,t)}},20810:function(e,t,n){"use strict";n.d(t,{m:function(){return a}});var r=n(56130),i=n(50962),o=n(2784);function a(e,t){return function(e,t,n){if(!n)return(0,i.kL)(t).current;var a=(0,i.kL)((function(){return new r.X(n)})),s=(0,i.kL)((function(){return t(a.current)})),u=(0,o.useRef)(!0);return e((function(){u.current?u.current=!1:a.current.next(n)}),n),s.current}(o.useEffect,e,t)}},39739:function(e,t,n){"use strict";n.d(t,{m:function(){return o}});var r=n(2784),i=n(50962);function o(e,t,n,o){return function(e,t){var n=(0,r.useRef)(t),o=(0,r.useRef)();return(0,i.LI)((function(){n.current=t})),e((function(){var e=n.current[0],t=e.subscribe({next:function(t){var r;if(e===n.current[0]){var i=(null===(r=n.current[1])||void 0===r?void 0:r.next)||n.current[1];return i?i(t):void 0}},error:function(t){var r;if(e===n.current[0]){var i=(null===(r=n.current[1])||void 0===r?void 0:r.error)||n.current[2];if(i)return i(t);console.error(t)}},complete:function(){var t;if(e===n.current[0]){var r=(null===(t=n.current[1])||void 0===t?void 0:t.complete)||n.current[3];return r?r():void 0}}});return o.current=t,function(){t.unsubscribe()}}),[t[0]]),o}(r.useEffect,[e,t,n,o])}},89653:function(e,t,n){var r;e=n.nmd(e),function(){"use strict";var i={function:!0,object:!0},o=i[typeof window]&&window||this,a=i[typeof t]&&t,s=i.object&&e&&!e.nodeType&&e,u=a&&s&&"object"==typeof n.g&&n.g;!u||u.global!==u&&u.window!==u&&u.self!==u||(o=u);var c=Math.pow(2,53)-1,l=/\bOpera/,f=Object.prototype,d=f.hasOwnProperty,h=f.toString;function p(e){return(e=String(e)).charAt(0).toUpperCase()+e.slice(1)}function v(e){return e=w(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:p(e)}function m(e,t){for(var n in e)d.call(e,n)&&t(e[n],n,e)}function g(e){return null==e?p(e):h.call(e).slice(8,-1)}function y(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function b(e,t){var n=null;return function(e,t){var n=-1,r=e?e.length:0;if("number"==typeof r&&r>-1&&r<=c)for(;++n<r;)t(e[n],n,e);else m(e,t)}(e,(function(r,i){n=t(n,r,i,e)})),n}function w(e){return String(e).replace(/^ +| +$/g,"")}var _=function e(t){var n=o,r=t&&"object"==typeof t&&"String"!=g(t);r&&(n=t,t=null);var i=n.navigator||{},a=i.userAgent||"";t||(t=a);var s,u,c=r?!!i.likeChrome:/\bChrome\b/.test(t)&&!/internal|\n/i.test(h.toString()),f="Object",d=r?f:"ScriptBridgingProxyObject",p=r?f:"Environment",_=r&&n.java?"JavaPackage":g(n.java),E=r?f:"RuntimeObject",S=/\bJava/.test(_)&&n.java,x=S&&g(n.environment)==p,O=S?"a":"\u03b1",C=S?"b":"\u03b2",k=n.document||{},T=n.operamini||n.opera,A=l.test(A=r&&T?T["[[Class]]"]:g(T))?A:T=null,I=t,D=[],P=null,R=t==a,N=R&&T&&"function"==typeof T.version&&T.version(),j=b([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],(function(e,n){return e||RegExp("\\b"+(n.pattern||y(n))+"\\b","i").exec(t)&&(n.label||n)})),M=function(e){return b(e,(function(e,n){return e||RegExp("\\b"+(n.pattern||y(n))+"\\b","i").exec(t)&&(n.label||n)}))}(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"(?:Edge|Edg|EdgA|EdgiOS)"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Vivaldi","Waterfox","WebPositive",{label:"Yandex Browser",pattern:"YaBrowser"},{label:"UC Browser",pattern:"UCBrowser"},"Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chromium","Chrome",{label:"Chrome",pattern:"(?:HeadlessChrome)"},{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"]),L=U([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),F=function(e){return b(e,(function(e,n,r){return e||(n[L]||n[/^[a-z]+(?: +[a-z]+\b)*/i.exec(L)]||RegExp("\\b"+y(r)+"(?:\\b|\\w*\\d)","i").exec(t))&&r}))}({Apple:{iPad:1,iPhone:1,iPod:1},Alcatel:{},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},Huawei:{},Lenovo:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Oppo:{},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1},Xiaomi:{Mi:1,Redmi:1}}),B=function(e){return b(e,(function(e,n){var r=n.pattern||y(n);return!e&&(e=RegExp("\\b"+r+"(?:/[\\d.]+|[ \\w.]*)","i").exec(t))&&(e=function(e,t,n){var r={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&n&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(r=r[/[\d.]+$/.exec(e)])&&(e="Windows "+r),e=String(e),t&&n&&(e=e.replace(RegExp(t,"i"),n)),v(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}(e,r,n.label||n)),e}))}(["Windows Phone","KaiOS","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian",{label:"DragonFly BSD",pattern:"DragonFly"},"Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "]);function U(e){return b(e,(function(e,n){var r=n.pattern||y(n);return!e&&(e=RegExp("\\b"+r+" *\\d+[.\\w_]*","i").exec(t)||RegExp("\\b"+r+" *\\w+-[\\w]*","i").exec(t)||RegExp("\\b"+r+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(t))&&((e=String(n.label&&!RegExp(r,"i").test(n.label)?n.label:e).split("/"))[1]&&!/[\d.]+/.test(e[0])&&(e[0]+=" "+e[1]),n=n.label||n,e=v(e[0].replace(RegExp(r,"i"),n).replace(RegExp("; *(?:"+n+"[_-])?","i")," ").replace(RegExp("("+n+")[-_.]?(\\w)","i"),"$1 $2"))),e}))}function V(e){return b(e,(function(e,n){return e||(RegExp(n+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(t)||0)[1]||null}))}if(j&&(j=[j]),/\bAndroid\b/.test(B)&&!L&&(s=/\bAndroid[^;]*;(.*?)(?:Build|\) AppleWebKit)\b/i.exec(t))&&(L=w(s[1]).replace(/^[a-z]{2}-[a-z]{2};\s*/i,"")||null),F&&!L?L=U([F]):F&&L&&(L=L.replace(RegExp("^("+y(F)+")[-_.\\s]","i"),F+" ").replace(RegExp("^("+y(F)+")[-_.]?(\\w)","i"),F+" $2")),(s=/\bGoogle TV\b/.exec(L))&&(L=s[0]),/\bSimulator\b/i.test(t)&&(L=(L?L+" ":"")+"Simulator"),"Opera Mini"==M&&/\bOPiOS\b/.test(t)&&D.push("running in Turbo/Uncompressed mode"),"IE"==M&&/\blike iPhone OS\b/.test(t)?(F=(s=e(t.replace(/like iPhone OS/,""))).manufacturer,L=s.product):/^iP/.test(L)?(M||(M="Safari"),B="iOS"+((s=/ OS ([\d_]+)/i.exec(t))?" "+s[1].replace(/_/g,"."):"")):"Konqueror"==M&&/^Linux\b/i.test(B)?B="Kubuntu":F&&"Google"!=F&&(/Chrome/.test(M)&&!/\bMobile Safari\b/i.test(t)||/\bVita\b/.test(L))||/\bAndroid\b/.test(B)&&/^Chrome/.test(M)&&/\bVersion\//i.test(t)?(M="Android Browser",B=/\bAndroid\b/.test(B)?B:"Android"):"Silk"==M?(/\bMobi/i.test(t)||(B="Android",D.unshift("desktop mode")),/Accelerated *= *true/i.test(t)&&D.unshift("accelerated")):"UC Browser"==M&&/\bUCWEB\b/.test(t)?D.push("speed mode"):"PaleMoon"==M&&(s=/\bFirefox\/([\d.]+)\b/.exec(t))?D.push("identifying as Firefox "+s[1]):"Firefox"==M&&(s=/\b(Mobile|Tablet|TV)\b/i.exec(t))?(B||(B="Firefox OS"),L||(L=s[1])):!M||(s=!/\bMinefield\b/i.test(t)&&/\b(?:Firefox|Safari)\b/.exec(M))?(M&&!L&&/[\/,]|^[^(]+?\)/.test(t.slice(t.indexOf(s+"/")+8))&&(M=null),(s=L||F||B)&&(L||F||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(B))&&(M=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(B)?B:s)+" Browser")):"Electron"==M&&(s=(/\bChrome\/([\d.]+)\b/.exec(t)||0)[1])&&D.push("Chromium "+s),N||(N=V(["(?:Cloud9|CriOS|CrMo|Edge|Edg|EdgA|EdgiOS|FxiOS|HeadlessChrome|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$)|UCBrowser|YaBrowser)","Version",y(M),"(?:Firefox|Minefield|NetFront)"])),(s=("iCab"==j&&parseFloat(N)>3?"WebKit":/\bOpera\b/.test(M)&&(/\bOPR\b/.test(t)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(t)&&!/^(?:Trident|EdgeHTML)$/.test(j)&&"WebKit"||!j&&/\bMSIE\b/i.test(t)&&("Mac OS"==B?"Tasman":"Trident")||"WebKit"==j&&/\bPlayStation\b(?! Vita\b)/i.test(M)&&"NetFront")&&(j=[s]),"IE"==M&&(s=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(t)||0)[1])?(M+=" Mobile",B="Windows Phone "+(/\+$/.test(s)?s:s+".x"),D.unshift("desktop mode")):/\bWPDesktop\b/i.test(t)?(M="IE Mobile",B="Windows Phone 8.x",D.unshift("desktop mode"),N||(N=(/\brv:([\d.]+)/.exec(t)||0)[1])):"IE"!=M&&"Trident"==j&&(s=/\brv:([\d.]+)/.exec(t))&&(M&&D.push("identifying as "+M+(N?" "+N:"")),M="IE",N=s[1]),R){if(function(e,t){var n=null!=e?typeof e[t]:"number";return!/^(?:boolean|number|string|undefined)$/.test(n)&&("object"!=n||!!e[t])}(n,"global"))if(S&&(I=(s=S.lang.System).getProperty("os.arch"),B=B||s.getProperty("os.name")+" "+s.getProperty("os.version")),x){try{N=n.require("ringo/engine").version.join("."),M="RingoJS"}catch(q){(s=n.system)&&s.global.system==n.system&&(M="Narwhal",B||(B=s[0].os||null))}M||(M="Rhino")}else"object"==typeof n.process&&!n.process.browser&&(s=n.process)&&("object"==typeof s.versions&&("string"==typeof s.versions.electron?(D.push("Node "+s.versions.node),M="Electron",N=s.versions.electron):"string"==typeof s.versions.nw&&(D.push("Chromium "+N,"Node "+s.versions.node),M="NW.js",N=s.versions.nw)),M||(M="Node.js",I=s.arch,B=s.platform,N=(N=/[\d.]+/.exec(s.version))?N[0]:null));else g(s=n.runtime)==d?(M="Adobe AIR",B=s.flash.system.Capabilities.os):g(s=n.phantom)==E?(M="PhantomJS",N=(s=s.version||null)&&s.major+"."+s.minor+"."+s.patch):"number"==typeof k.documentMode&&(s=/\bTrident\/(\d+)/i.exec(t))?(N=[N,k.documentMode],(s=+s[1]+4)!=N[1]&&(D.push("IE "+N[1]+" mode"),j&&(j[1]=""),N[1]=s),N="IE"==M?String(N[1].toFixed(1)):N[0]):"number"==typeof k.documentMode&&/^(?:Chrome|Firefox)\b/.test(M)&&(D.push("masking as "+M+" "+N),M="IE",N="11.0",j=["Trident"],B="Windows");B=B&&v(B)}if(N&&(s=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(N)||/(?:alpha|beta)(?: ?\d)?/i.exec(t+";"+(R&&i.appMinorVersion))||/\bMinefield\b/i.test(t)&&"a")&&(P=/b/i.test(s)?"beta":"alpha",N=N.replace(RegExp(s+"\\+?$"),"")+("beta"==P?C:O)+(/\d+\+?/.exec(s)||"")),"Fennec"==M||"Firefox"==M&&/\b(?:Android|Firefox OS|KaiOS)\b/.test(B))M="Firefox Mobile";else if("Maxthon"==M&&N)N=N.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test(L))"Xbox 360"==L&&(B=null),"Xbox 360"==L&&/\bIEMobile\b/.test(t)&&D.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(M)&&(!M||L||/Browser|Mobi/.test(M))||"Windows CE"!=B&&!/Mobi/i.test(t))if("IE"==M&&R)try{null===n.external&&D.unshift("platform preview")}catch(q){D.unshift("embedded")}else(/\bBlackBerry\b/.test(L)||/\bBB10\b/.test(t))&&(s=(RegExp(L.replace(/ +/g," *")+"/([.\\d]+)","i").exec(t)||0)[1]||N)?(B=((s=[s,/BB10/.test(t)])[1]?(L=null,F="BlackBerry"):"Device Software")+" "+s[0],N=null):this!=m&&"Wii"!=L&&(R&&T||/Opera/.test(M)&&/\b(?:MSIE|Firefox)\b/i.test(t)||"Firefox"==M&&/\bOS X (?:\d+\.){2,}/.test(B)||"IE"==M&&(B&&!/^Win/.test(B)&&N>5.5||/\bWindows XP\b/.test(B)&&N>8||8==N&&!/\bTrident\b/.test(t)))&&!l.test(s=e.call(m,t.replace(l,"")+";"))&&s.name&&(s="ing as "+s.name+((s=s.version)?" "+s:""),l.test(M)?(/\bIE\b/.test(s)&&"Mac OS"==B&&(B=null),s="identify"+s):(s="mask"+s,M=A?v(A.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(s)&&(B=null),R||(N=null)),j=["Presto"],D.push(s));else M+=" Mobile";(s=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(t)||0)[1])&&(s=[parseFloat(s.replace(/\.(\d)$/,".0$1")),s],"Safari"==M&&"+"==s[1].slice(-1)?(M="WebKit Nightly",P="alpha",N=s[1].slice(0,-1)):N!=s[1]&&N!=(s[2]=(/\bSafari\/([\d.]+\+?)/i.exec(t)||0)[1])||(N=null),s[1]=(/\b(?:Headless)?Chrome\/([\d.]+)/i.exec(t)||0)[1],537.36==s[0]&&537.36==s[2]&&parseFloat(s[1])>=28&&"WebKit"==j&&(j=["Blink"]),R&&(c||s[1])?(j&&(j[1]="like Chrome"),s=s[1]||((s=s[0])<530?1:s<532?2:s<532.05?3:s<533?4:s<534.03?5:s<534.07?6:s<534.1?7:s<534.13?8:s<534.16?9:s<534.24?10:s<534.3?11:s<535.01?12:s<535.02?"13+":s<535.07?15:s<535.11?16:s<535.19?17:s<536.05?18:s<536.1?19:s<537.01?20:s<537.11?"21+":s<537.13?23:s<537.18?24:s<537.24?25:s<537.36?26:"Blink"!=j?"27":"28")):(j&&(j[1]="like Safari"),s=(s=s[0])<400?1:s<500?2:s<526?3:s<533?4:s<534?"4+":s<535?5:s<537?6:s<538?7:s<601?8:s<602?9:s<604?10:s<606?11:s<608?12:"12"),j&&(j[1]+=" "+(s+="number"==typeof s?".x":/[.+]/.test(s)?"":"+")),"Safari"==M&&(!N||parseInt(N)>45)?N=s:"Chrome"==M&&/\bHeadlessChrome/i.test(t)&&D.unshift("headless")),"Opera"==M&&(s=/\bzbov|zvav$/.exec(B))?(M+=" ",D.unshift("desktop mode"),"zvav"==s?(M+="Mini",N=null):M+="Mobile",B=B.replace(RegExp(" *"+s+"$"),"")):"Safari"==M&&/\bChrome\b/.exec(j&&j[1])?(D.unshift("desktop mode"),M="Chrome Mobile",N=null,/\bOS X\b/.test(B)?(F="Apple",B="iOS 4.3+"):B=null):/\bSRWare Iron\b/.test(M)&&!N&&(N=V("Chrome")),N&&0==N.indexOf(s=/[\d.]+$/.exec(B))&&t.indexOf("/"+s+"-")>-1&&(B=w(B.replace(s,""))),B&&-1!=B.indexOf(M)&&!RegExp(M+" OS").test(B)&&(B=B.replace(RegExp(" *"+y(M)+" *"),"")),j&&!/\b(?:Avant|Nook)\b/.test(M)&&(/Browser|Lunascape|Maxthon/.test(M)||"Safari"!=M&&/^iOS/.test(B)&&/\bSafari\b/.test(j[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|SRWare Iron|Vivaldi|Web)/.test(M)&&j[1])&&(s=j[j.length-1])&&D.push(s),D.length&&(D=["("+D.join("; ")+")"]),F&&L&&L.indexOf(F)<0&&D.push("on "+F),L&&D.push((/^on /.test(D[D.length-1])?"":"on ")+L),B&&(s=/ ([\d.+]+)$/.exec(B),u=s&&"/"==B.charAt(B.length-s[0].length-1),B={architecture:32,family:s&&!u?B.replace(s[0],""):B,version:s?s[1]:null,toString:function(){var e=this.version;return this.family+(e&&!u?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(s=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(I))&&!/\bi686\b/i.test(I)?(B&&(B.architecture=64,B.family=B.family.replace(RegExp(" *"+s),"")),M&&(/\bWOW64\b/i.test(t)||R&&/\w(?:86|32)$/.test(i.cpuClass||i.platform)&&!/\bWin64; x64\b/i.test(t))&&D.unshift("32-bit")):B&&/^OS X/.test(B.family)&&"Chrome"==M&&parseFloat(N)>=39&&(B.architecture=64),t||(t=null);var z={};return z.description=t,z.layout=j&&j[0],z.manufacturer=F,z.name=M,z.prerelease=P,z.product=L,z.ua=t,z.version=M&&N,z.os=B||{architecture:null,family:null,version:null,toString:function(){return"null"}},z.parse=e,z.toString=function(){return this.description||""},z.version&&D.unshift(N),z.name&&D.unshift(M),B&&M&&(B!=String(B).split(" ")[0]||B!=M.split(" ")[0]&&!L)&&D.push(L?"("+B+")":"on "+B),D.length&&(z.description=D.join(" ")),z}();o.platform=_,void 0===(r=function(){return _}.call(t,n,t,e))||(e.exports=r)}.call(this)},34406:function(e){var t,n,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"===typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"===typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var s,u=[],c=!1,l=-1;function f(){c&&s&&(c=!1,s.length?u=s.concat(u):l=-1,u.length&&d())}function d(){if(!c){var e=a(f);c=!0;for(var t=u.length;t;){for(s=u,u=[];++l<t;)s&&s[l].run();l=-1,t=u.length}s=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||c||a(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},92808:function(e){"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,r,i){n=n||"&",r=r||"=";var o={};if("string"!==typeof e||0===e.length)return o;var a=/\+/g;e=e.split(n);var s=1e3;i&&"number"===typeof i.maxKeys&&(s=i.maxKeys);var u=e.length;s>0&&u>s&&(u=s);for(var c=0;c<u;++c){var l,f,d,h,p=e[c].replace(a,"%20"),v=p.indexOf(r);v>=0?(l=p.substr(0,v),f=p.substr(v+1)):(l=p,f=""),d=decodeURIComponent(l),h=decodeURIComponent(f),t(o,d)?Array.isArray(o[d])?o[d].push(h):o[d]=[o[d],h]:o[d]=h}return o}},31368:function(e){"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,r,i){return n=n||"&",r=r||"=",null===e&&(e=void 0),"object"===typeof e?Object.keys(e).map((function(i){var o=encodeURIComponent(t(i))+r;return Array.isArray(e[i])?e[i].map((function(e){return o+encodeURIComponent(t(e))})).join(n):o+encodeURIComponent(t(e[i]))})).join(n):i?encodeURIComponent(t(i))+r+encodeURIComponent(t(e)):""}},56642:function(e,t,n){"use strict";t.decode=t.parse=n(92808),t.encode=t.stringify=n(31368)},97375:function(e,t){"use strict";var n=Object.prototype.hasOwnProperty;function r(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return null}}function i(e){try{return encodeURIComponent(e)}catch(t){return null}}t.stringify=function(e,t){t=t||"";var r,o,a=[];for(o in"string"!==typeof t&&(t="?"),e)if(n.call(e,o)){if((r=e[o])||null!==r&&undefined!==r&&!isNaN(r)||(r=""),o=i(o),r=i(r),null===o||null===r)continue;a.push(o+"="+r)}return a.length?t+a.join("&"):""},t.parse=function(e){for(var t,n=/([^=?#&]+)=?([^&]*)/g,i={};t=n.exec(e);){var o=r(t[1]),a=r(t[2]);null===o||null===a||o in i||(i[o]=a)}return i}},11929:function(e,t,n){"use strict";n.d(t,{UK:function(){return l}});var r=n(2784);function i(){return i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}"undefined"!==typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!==typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));"undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?r.useLayoutEffect:r.useEffect;var o={status:"not-requested",loading:!1,result:void 0,error:void 0},a={status:"loading",loading:!0,result:void 0,error:void 0},s=function(){},u={initialState:function(e){return e&&e.executeOnMount?a:o},executeOnMount:!0,executeOnUpdate:!0,setLoading:function(e){return a},setResult:function(e,t){return{status:"success",loading:!1,result:e,error:void 0}},setError:function(e,t){return{status:"error",loading:!1,result:void 0,error:e}},onSuccess:s,onError:s},c=function(e,t,n){var o=function(e){return i({},u,{},e)}(n),a=(0,r.useState)(null),s=a[0],c=a[1],l=function(e){var t=(0,r.useState)((function(){return e.initialState(e)})),n=t[0],o=t[1],a=(0,r.useCallback)((function(){return o(e.initialState(e))}),[o,e]),s=(0,r.useCallback)((function(){return o(e.setLoading(n))}),[n,o]),u=(0,r.useCallback)((function(t){return o(e.setResult(t,n))}),[n,o]),c=(0,r.useCallback)((function(t){return o(e.setError(t,n))}),[n,o]),l=o,f=(0,r.useCallback)((function(e){return l(i({},n,{},e))}),[n,l]);return{value:n,set:l,merge:f,reset:a,setLoading:s,setResult:u,setError:c}}(o),f=function(){var e=(0,r.useRef)(!1);return(0,r.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),function(){return e.current}}(),d=function(){var e=(0,r.useRef)(null);return{set:function(t){return e.current=t},get:function(){return e.current},is:function(t){return e.current===t}}}(),h=function(e){return f()&&d.is(e)},p=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=e.apply(void 0,n);if(c(n),i instanceof Promise)return d.set(i),l.setLoading(),i.then((function(e){h(i)&&l.setResult(e),o.onSuccess(e,{isCurrent:function(){return d.is(i)}})}),(function(e){h(i)&&l.setError(e),o.onError(e,{isCurrent:function(){return d.is(i)}})})),i;var a=i;return l.setResult(a),Promise.resolve(a)},v=!f();return(0,r.useEffect)((function(){v?o.executeOnMount&&p.apply(void 0,t):o.executeOnUpdate&&p.apply(void 0,t)}),t),i({},l.value,{set:l.set,merge:l.merge,reset:l.reset,execute:p,currentPromise:d.get(),currentParams:s})};var l=function(e,t){return c(e,[],i({},t,{executeOnMount:!1,executeOnUpdate:!1}))}},12005:function(e,t,n){"use strict";n.d(t,{L:function(){return r}});var r=(0,n(2784).createContext)({dragDropManager:void 0})},64969:function(e,t,n){"use strict";n.d(t,{J:function(){return d}});var r=n(32741),i=n(69378),o=n.n(i),a=n(2784);function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t,n){var i=function(e,t,n){var i=s((0,a.useState)((function(){return t(e)})),2),u=i[0],c=i[1],l=(0,a.useCallback)((function(){var r=t(e);o()(u,r)||(c(r),n&&n())}),[u,e,n]);return(0,r.L)(l),[u,l]}(e,t,n),u=c(i,2),l=u[0],f=u[1];return(0,r.L)((function(){var t=e.getHandlerId();if(null!=t)return e.subscribeToStateChange(f,{handlerIds:[t]})}),[e,f]),l}function d(e,t,n){return f(t,e||function(){return{}},(function(){return n.reconnect()}))}},39717:function(e,t,n){"use strict";n.d(t,{c:function(){return I}});var r=n(690),i=n(32741),o=n(2784);function a(e){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,"spec",void 0),u(this,"monitor",void 0),u(this,"connector",void 0),this.spec=t,this.monitor=n,this.connector=r}var t,n,r;return t=e,(n=[{key:"beginDrag",value:function(){var e,t=this.spec,n=this.monitor;return null!==(e="object"===a(t.item)?t.item:"function"===typeof t.item?t.item(n):{})&&void 0!==e?e:null}},{key:"canDrag",value:function(){var e=this.spec,t=this.monitor;return"boolean"===typeof e.canDrag?e.canDrag:"function"!==typeof e.canDrag||e.canDrag(t)}},{key:"isDragging",value:function(e,t){var n=this.spec,r=this.monitor,i=n.isDragging;return i?i(r):t===e.getSourceId()}},{key:"endDrag",value:function(){var e=this.spec,t=this.monitor,n=this.connector,r=e.end;r&&r(t.getItem(),t),n.reconnect()}}])&&s(t.prototype,n),r&&s(t,r),e}();var l=n(92566),f=n(45293);function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t,n){var a=(0,l.N)(),s=function(e,t,n){var r=(0,o.useMemo)((function(){return new c(e,t,n)}),[t,n]);return(0,o.useEffect)((function(){r.spec=e}),[e]),r}(e,t,n),u=function(e){return(0,o.useMemo)((function(){var t=e.type;return(0,f.k)(null!=t,"spec.type must be defined"),t}),[e])}(e);(0,i.L)((function(){if(null!=u){var e=d((0,r.w)(u,s,a),2),i=e[0],o=e[1];return t.receiveHandlerId(i),n.receiveHandlerId(i),o}}),[a,t,n,s,u])}var v=n(69980);function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var y=!1,b=!1,w=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),g(this,"internalMonitor",void 0),g(this,"sourceId",null),this.internalMonitor=t.getMonitor()}var t,n,r;return t=e,(n=[{key:"receiveHandlerId",value:function(e){this.sourceId=e}},{key:"getHandlerId",value:function(){return this.sourceId}},{key:"canDrag",value:function(){(0,f.k)(!y,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return y=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{y=!1}}},{key:"isDragging",value:function(){if(!this.sourceId)return!1;(0,f.k)(!b,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return b=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{b=!1}}},{key:"subscribeToStateChange",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:"isDraggingSource",value:function(e){return this.internalMonitor.isDraggingSource(e)}},{key:"isOverTarget",value:function(e,t){return this.internalMonitor.isOverTarget(e,t)}},{key:"getTargetIds",value:function(){return this.internalMonitor.getTargetIds()}},{key:"isSourcePublic",value:function(){return this.internalMonitor.isSourcePublic()}},{key:"getSourceId",value:function(){return this.internalMonitor.getSourceId()}},{key:"subscribeToOffsetChange",value:function(e){return this.internalMonitor.subscribeToOffsetChange(e)}},{key:"canDragSource",value:function(e){return this.internalMonitor.canDragSource(e)}},{key:"canDropOnTarget",value:function(e){return this.internalMonitor.canDropOnTarget(e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}])&&m(t.prototype,n),r&&m(t,r),e}();var _=n(55020),E=n(86337),S=n(57320);function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),O(this,"hooks",(0,_.p)({dragSource:function(e,t){n.clearDragSource(),n.dragSourceOptions=t||null,(0,E.d)(e)?n.dragSourceRef=e:n.dragSourceNode=e,n.reconnectDragSource()},dragPreview:function(e,t){n.clearDragPreview(),n.dragPreviewOptions=t||null,(0,E.d)(e)?n.dragPreviewRef=e:n.dragPreviewNode=e,n.reconnectDragPreview()}})),O(this,"handlerId",null),O(this,"dragSourceRef",null),O(this,"dragSourceNode",void 0),O(this,"dragSourceOptionsInternal",null),O(this,"dragSourceUnsubscribe",void 0),O(this,"dragPreviewRef",null),O(this,"dragPreviewNode",void 0),O(this,"dragPreviewOptionsInternal",null),O(this,"dragPreviewUnsubscribe",void 0),O(this,"lastConnectedHandlerId",null),O(this,"lastConnectedDragSource",null),O(this,"lastConnectedDragSourceOptions",null),O(this,"lastConnectedDragPreview",null),O(this,"lastConnectedDragPreviewOptions",null),O(this,"backend",void 0),this.backend=t}var t,n,r;return t=e,(n=[{key:"receiveHandlerId",value:function(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}},{key:"connectTarget",get:function(){return this.dragSource}},{key:"dragSourceOptions",get:function(){return this.dragSourceOptionsInternal},set:function(e){this.dragSourceOptionsInternal=e}},{key:"dragPreviewOptions",get:function(){return this.dragPreviewOptionsInternal},set:function(e){this.dragPreviewOptionsInternal=e}},{key:"reconnect",value:function(){this.reconnectDragSource(),this.reconnectDragPreview()}},{key:"reconnectDragSource",value:function(){var e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();t&&this.disconnectDragSource(),this.handlerId&&(e?t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)):this.lastConnectedDragSource=e)}},{key:"reconnectDragPreview",value:function(){var e=this.dragPreview,t=this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();t&&this.disconnectDragPreview(),this.handlerId&&(e?t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=e,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,e,this.dragPreviewOptions)):this.lastConnectedDragPreview=e)}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didConnectedDragSourceChange",value:function(){return this.lastConnectedDragSource!==this.dragSource}},{key:"didConnectedDragPreviewChange",value:function(){return this.lastConnectedDragPreview!==this.dragPreview}},{key:"didDragSourceOptionsChange",value:function(){return!(0,S.w)(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}},{key:"didDragPreviewOptionsChange",value:function(){return!(0,S.w)(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}},{key:"disconnectDragSource",value:function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}},{key:"disconnectDragPreview",value:function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}},{key:"dragSource",get:function(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}},{key:"dragPreview",get:function(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}},{key:"clearDragSource",value:function(){this.dragSourceNode=null,this.dragSourceRef=null}},{key:"clearDragPreview",value:function(){this.dragPreviewNode=null,this.dragPreviewRef=null}}])&&x(t.prototype,n),r&&x(t,r),e}();var k=n(64969);function T(e){return(0,o.useMemo)((function(){return e.hooks.dragSource()}),[e])}function A(e){return(0,o.useMemo)((function(){return e.hooks.dragPreview()}),[e])}function I(e,t){var n=(0,v.w)(e,t);(0,f.k)(!n.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");var r=function(){var e=(0,l.N)();return(0,o.useMemo)((function(){return new w(e)}),[e])}(),a=function(e,t){var n=(0,l.N)(),r=(0,o.useMemo)((function(){return new C(n.getBackend())}),[n]);return(0,i.L)((function(){return r.dragSourceOptions=e||null,r.reconnect(),function(){return r.disconnectDragSource()}}),[r,e]),(0,i.L)((function(){return r.dragPreviewOptions=t||null,r.reconnect(),function(){return r.disconnectDragPreview()}}),[r,t]),r}(n.options,n.previewOptions);return p(n,r,a),[(0,k.J)(n.collect,r,a),T(a),A(a)]}},92566:function(e,t,n){"use strict";n.d(t,{N:function(){return a}});var r=n(2784),i=n(45293),o=n(12005);function a(){var e=(0,r.useContext)(o.L).dragDropManager;return(0,i.k)(null!=e,"Expected drag drop context"),e}},32741:function(e,t,n){"use strict";n.d(t,{L:function(){return i}});var r=n(2784),i="undefined"!==typeof window?r.useLayoutEffect:r.useEffect},69980:function(e,t,n){"use strict";n.d(t,{w:function(){return a}});var r=n(2784);function i(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){var n=i(t||[]);return null==t&&"function"!==typeof e&&n.push(e),(0,r.useMemo)((function(){return"function"===typeof e?e():e}),n)}},86337:function(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){return null!==e&&"object"===r(e)&&Object.prototype.hasOwnProperty.call(e,"current")}n.d(t,{d:function(){return i}})},690:function(e,t,n){"use strict";function r(e,t,n){var r=n.getRegistry(),i=r.addTarget(e,t);return[i,function(){return r.removeTarget(i)}]}function i(e,t,n){var r=n.getRegistry(),i=r.addSource(e,t);return[i,function(){return r.removeSource(i)}]}n.d(t,{n:function(){return r},w:function(){return i}})},55020:function(e,t,n){"use strict";n.d(t,{p:function(){return a}});var r=n(45293),i=n(2784);function o(e){if("string"!==typeof e.type){var t=e.type.displayName||e.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors."+"You can either wrap ".concat(t," into a <div>, or turn it into a ")+"drag source or a drop target itself.")}}function a(e){var t={};return Object.keys(e).forEach((function(n){var r=e[n];if(n.endsWith("Ref"))t[n]=e[n];else{var a=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!(0,i.isValidElement)(t)){var r=t;return e(r,n),r}var a=t;o(a);var s=n?function(t){return e(t,n)}:e;return u(a,s)}}(r);t[n]=function(){return a}}})),t}function s(e,t){"function"===typeof e?e(t):e.current=t}function u(e,t){var n=e.ref;return(0,r.k)("string"!==typeof n,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?(0,i.cloneElement)(e,{ref:function(e){s(n,e),s(t,e)}}):(0,i.cloneElement)(e,{ref:t})}},78435:function(e){var t="undefined"!==typeof Element,n="function"===typeof Map,r="function"===typeof Set,i="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function o(e,a){if(e===a)return!0;if(e&&a&&"object"==typeof e&&"object"==typeof a){if(e.constructor!==a.constructor)return!1;var s,u,c,l;if(Array.isArray(e)){if((s=e.length)!=a.length)return!1;for(u=s;0!==u--;)if(!o(e[u],a[u]))return!1;return!0}if(n&&e instanceof Map&&a instanceof Map){if(e.size!==a.size)return!1;for(l=e.entries();!(u=l.next()).done;)if(!a.has(u.value[0]))return!1;for(l=e.entries();!(u=l.next()).done;)if(!o(u.value[1],a.get(u.value[0])))return!1;return!0}if(r&&e instanceof Set&&a instanceof Set){if(e.size!==a.size)return!1;for(l=e.entries();!(u=l.next()).done;)if(!a.has(u.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(a)){if((s=e.length)!=a.length)return!1;for(u=s;0!==u--;)if(e[u]!==a[u])return!1;return!0}if(e.constructor===RegExp)return e.source===a.source&&e.flags===a.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===a.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===a.toString();if((s=(c=Object.keys(e)).length)!==Object.keys(a).length)return!1;for(u=s;0!==u--;)if(!Object.prototype.hasOwnProperty.call(a,c[u]))return!1;if(t&&e instanceof Element)return!1;for(u=s;0!==u--;)if(("_owner"!==c[u]&&"__v"!==c[u]&&"__o"!==c[u]||!e.$$typeof)&&!o(e[c[u]],a[c[u]]))return!1;return!0}return e!==e&&a!==a}e.exports=function(e,t){try{return o(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},27193:function(e,t,n){"use strict";n.d(t,{x7:function(){return ge},ZP:function(){return ye}});var r=n(2784);let i={data:""},o=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||i,a=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(})/g,s=/\/\*[^]*?\*\/|\s\s+|\n/g,u=(e,t)=>{let n,r="",i="",o="";for(let a in e){let s=e[a];"object"==typeof s?(n=t?t.replace(/([^,])+/g,(e=>a.replace(/([^,])+/g,(t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)))):a,i+="@"==a[0]?"f"==a[1]?u(s,a):a+"{"+u(s,"k"==a[1]?"":t)+"}":u(s,n)):"@"==a[0]&&"i"==a[1]?r=a+" "+s+";":(a=a.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=u.p?u.p(a,s):a+":"+s+";")}return o[0]?(n=t?t+"{"+o+"}":o,r+n+i):r+i},c={},l=e=>{let t="";for(let n in e)t+=n+("object"==typeof e[n]?l(e[n]):e[n]);return t},f=(e,t,n,r,i)=>{let o="object"==typeof e?l(e):e,f=c[o]||(c[o]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(o));if(!c[f]){let t="object"==typeof e?e:(e=>{let t,n=[{}];for(;t=a.exec(e.replace(s,""));)t[4]&&n.shift(),t[3]?n.unshift(n[0][t[3]]=n[0][t[3]]||{}):t[4]||(n[0][t[1]]=t[2]);return n[0]})(e);c[f]=u(i?{["@keyframes "+f]:t}:t,n?"":"."+f)}return((e,t,n)=>{-1==t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(c[f],t,r),f},d=(e,t,n)=>e.reduce(((e,r,i)=>{let o=t[i];if(o&&o.call){let e=o(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;o=t?"."+t:e&&"object"==typeof e?e.props?"":u(e,""):e}return e+r+(null==o?"":o)}),"");function h(e){let t=this||{},n=e.call?e(t.p):e;return f(n.unshift?n.raw?d(n,[].slice.call(arguments,1),t.p):n.reduce(((e,n)=>n?Object.assign(e,n.call?n(t.p):n):e),{}):n,o(t.target),t.g,t.o,t.k)}h.bind({g:1});let p,v,m,g=h.bind({k:1});function y(e,t){let n=this||{};return function(){let r=arguments;function i(o,a){let s=Object.assign({},o),u=s.className||i.className;n.p=Object.assign({theme:v&&v()},s),n.o=/ *go\d+/.test(u),s.className=h.apply(n,r)+(u?" "+u:""),t&&(s.ref=a);let c=s.as||e;return delete s.as,m&&c[0]&&m(s),p(c,s)}return t?t(i):i}}function b(){return b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b.apply(this,arguments)}function w(e,t){return t||(t=e.slice(0)),e.raw=t,e}var _,E=function(e,t){return function(e){return"function"===typeof e}(e)?e(t):e},S=function(){var e=0;return function(){return(++e).toString()}}(),x=function(){var e=void 0;return function(){if(void 0===e&&"undefined"!==typeof window){var t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}}();!function(e){e[e.ADD_TOAST=0]="ADD_TOAST",e[e.UPDATE_TOAST=1]="UPDATE_TOAST",e[e.UPSERT_TOAST=2]="UPSERT_TOAST",e[e.DISMISS_TOAST=3]="DISMISS_TOAST",e[e.REMOVE_TOAST=4]="REMOVE_TOAST",e[e.START_PAUSE=5]="START_PAUSE",e[e.END_PAUSE=6]="END_PAUSE"}(_||(_={}));var O=new Map,C=function(e){if(!O.has(e)){var t=setTimeout((function(){O.delete(e),I({type:_.REMOVE_TOAST,toastId:e})}),1e3);O.set(e,t)}},k=function e(t,n){switch(n.type){case _.ADD_TOAST:return b({},t,{toasts:[n.toast].concat(t.toasts).slice(0,20)});case _.UPDATE_TOAST:return n.toast.id&&function(e){var t=O.get(e);t&&clearTimeout(t)}(n.toast.id),b({},t,{toasts:t.toasts.map((function(e){return e.id===n.toast.id?b({},e,n.toast):e}))});case _.UPSERT_TOAST:var r=n.toast;return t.toasts.find((function(e){return e.id===r.id}))?e(t,{type:_.UPDATE_TOAST,toast:r}):e(t,{type:_.ADD_TOAST,toast:r});case _.DISMISS_TOAST:var i=n.toastId;return i?C(i):t.toasts.forEach((function(e){C(e.id)})),b({},t,{toasts:t.toasts.map((function(e){return e.id===i||void 0===i?b({},e,{visible:!1}):e}))});case _.REMOVE_TOAST:return void 0===n.toastId?b({},t,{toasts:[]}):b({},t,{toasts:t.toasts.filter((function(e){return e.id!==n.toastId}))});case _.START_PAUSE:return b({},t,{pausedAt:n.time});case _.END_PAUSE:var o=n.time-(t.pausedAt||0);return b({},t,{pausedAt:void 0,toasts:t.toasts.map((function(e){return b({},e,{pauseDuration:e.pauseDuration+o})}))})}},T=[],A={toasts:[],pausedAt:void 0},I=function(e){A=k(A,e),T.forEach((function(e){e(A)}))},D={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},P=function(e){return function(t,n){var r=function(e,t,n){return void 0===t&&(t="blank"),b({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},n,{id:(null==n?void 0:n.id)||S()})}(t,e,n);return I({type:_.UPSERT_TOAST,toast:r}),r.id}},R=function(e,t){return P("blank")(e,t)};R.error=P("error"),R.success=P("success"),R.loading=P("loading"),R.custom=P("custom"),R.dismiss=function(e){I({type:_.DISMISS_TOAST,toastId:e})},R.remove=function(e){return I({type:_.REMOVE_TOAST,toastId:e})},R.promise=function(e,t,n){var r=R.loading(t.loading,b({},n,null==n?void 0:n.loading));return e.then((function(e){return R.success(E(t.success,e),b({id:r},n,null==n?void 0:n.success)),e})).catch((function(e){R.error(E(t.error,e),b({id:r},n,null==n?void 0:n.error))})),e};var N=function(e){var t=function(e){void 0===e&&(e={});var t=(0,r.useState)(A),n=t[0],i=t[1];(0,r.useEffect)((function(){return T.push(i),function(){var e=T.indexOf(i);e>-1&&T.splice(e,1)}}),[n]);var o=n.toasts.map((function(t){var n,r,i;return b({},e,e[t.type],t,{duration:t.duration||(null==(n=e[t.type])?void 0:n.duration)||(null==(r=e)?void 0:r.duration)||D[t.type],style:b({},e.style,null==(i=e[t.type])?void 0:i.style,t.style)})}));return b({},n,{toasts:o})}(e),n=t.toasts,i=t.pausedAt;(0,r.useEffect)((function(){if(!i){var e=Date.now(),t=n.map((function(t){if(t.duration!==1/0){var n=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(n<0))return setTimeout((function(){return R.dismiss(t.id)}),n);t.visible&&R.dismiss(t.id)}}));return function(){t.forEach((function(e){return e&&clearTimeout(e)}))}}}),[n,i]);var o=(0,r.useMemo)((function(){return{startPause:function(){I({type:_.START_PAUSE,time:Date.now()})},endPause:function(){i&&I({type:_.END_PAUSE,time:Date.now()})},updateHeight:function(e,t){return I({type:_.UPDATE_TOAST,toast:{id:e,height:t}})},calculateOffset:function(e,t){var r,i=t||{},o=i.reverseOrder,a=void 0!==o&&o,s=i.gutter,u=void 0===s?8:s,c=i.defaultPosition,l=n.filter((function(t){return(t.position||c)===(e.position||c)&&t.height})),f=l.findIndex((function(t){return t.id===e.id})),d=l.filter((function(e,t){return t<f&&e.visible})).length,h=(r=l.filter((function(e){return e.visible}))).slice.apply(r,a?[d+1]:[0,d]).reduce((function(e,t){return e+(t.height||0)+u}),0);return h}}}),[n,i]);return{toasts:n,handlers:o}};function j(){var e=w(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"]);return j=function(){return e},e}function M(){var e=w(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]);return M=function(){return e},e}function L(){var e=w(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]);return L=function(){return e},e}function F(){var e=w(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]);return F=function(){return e},e}var B=g(F()),U=g(L()),V=g(M()),z=y("div")(j(),(function(e){return e.primary||"#ff4b4b"}),B,U,(function(e){return e.secondary||"#fff"}),V);function q(){var e=w(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"]);return q=function(){return e},e}function Z(){var e=w(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]);return Z=function(){return e},e}var H=g(Z()),W=y("div")(q(),(function(e){return e.secondary||"#e0e0e0"}),(function(e){return e.primary||"#616161"}),H);function G(){var e=w(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"]);return G=function(){return e},e}function K(){var e=w(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]);return K=function(){return e},e}function J(){var e=w(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]);return J=function(){return e},e}var Y=g(J()),$=g(K()),X=y("div")(G(),(function(e){return e.primary||"#61d345"}),Y,$,(function(e){return e.secondary||"#fff"}));function Q(){var e=w(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"]);return Q=function(){return e},e}function ee(){var e=w(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]);return ee=function(){return e},e}function te(){var e=w(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]);return te=function(){return e},e}function ne(){var e=w(["\n  position: absolute;\n"]);return ne=function(){return e},e}var re=y("div")(ne()),ie=y("div")(te()),oe=g(ee()),ae=y("div")(Q(),oe),se=function(e){var t=e.toast,n=t.icon,i=t.type,o=t.iconTheme;return void 0!==n?"string"===typeof n?(0,r.createElement)(ae,null,n):n:"blank"===i?null:(0,r.createElement)(ie,null,(0,r.createElement)(W,Object.assign({},o)),"loading"!==i&&(0,r.createElement)(re,null,"error"===i?(0,r.createElement)(z,Object.assign({},o)):(0,r.createElement)(X,Object.assign({},o))))};function ue(){var e=w(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n"]);return ue=function(){return e},e}function ce(){var e=w(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]);return ce=function(){return e},e}var le=function(e){return"\n0% {transform: translate3d(0,"+-200*e+"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"},fe=function(e){return"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,"+-150*e+"%,-1px) scale(.6); opacity:0;}\n"},de=y("div",r.forwardRef)(ce()),he=y("div")(ue()),pe=(0,r.memo)((function(e){var t=e.toast,n=e.position,i=e.style,o=e.children,a=null!=t&&t.height?function(e,t){var n=e.includes("top")?1:-1,r=x()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[le(n),fe(n)],i=r[1];return{animation:t?g(r[0])+" 0.35s cubic-bezier(.21,1.02,.73,1) forwards":g(i)+" 0.4s forwards cubic-bezier(.06,.71,.55,1)"}}(t.position||n||"top-center",t.visible):{opacity:0},s=(0,r.createElement)(se,{toast:t}),u=(0,r.createElement)(he,Object.assign({},t.ariaProps),E(t.message,t));return(0,r.createElement)(de,{className:t.className,style:b({},a,i,t.style)},"function"===typeof o?o({icon:s,message:u}):(0,r.createElement)(r.Fragment,null,s,u))}));function ve(){var e=w(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]);return ve=function(){return e},e}!function(e,t,n,r){u.p=t,p=e,v=n,m=r}(r.createElement);var me=h(ve()),ge=function(e){var t=e.reverseOrder,n=e.position,i=void 0===n?"top-center":n,o=e.toastOptions,a=e.gutter,s=e.children,u=e.containerStyle,c=e.containerClassName,l=N(o),f=l.toasts,d=l.handlers;return(0,r.createElement)("div",{style:b({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},u),className:c,onMouseEnter:d.startPause,onMouseLeave:d.endPause},f.map((function(e){var n,o=e.position||i,u=function(e,t){var n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return b({left:0,right:0,display:"flex",position:"absolute",transition:x()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY("+t*(n?1:-1)+"px)"},r,i)}(o,d.calculateOffset(e,{reverseOrder:t,gutter:a,defaultPosition:i})),c=e.height?void 0:(n=function(t){d.updateHeight(e.id,t.height)},function(e){e&&setTimeout((function(){var t=e.getBoundingClientRect();n(t)}))});return(0,r.createElement)("div",{ref:c,className:e.visible?me:"",key:e.id,style:u},"custom"===e.type?E(e.message,e):s?s(e):(0,r.createElement)(pe,{toast:e,position:o}))})))},ye=R},66866:function(e,t){"use strict";var n=60103,r=60106,i=60107,o=60108,a=60114,s=60109,u=60110,c=60112,l=60113,f=60120,d=60115,h=60116,p=60121,v=60122,m=60117,g=60129,y=60131;if("function"===typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),r=b("react.portal"),i=b("react.fragment"),o=b("react.strict_mode"),a=b("react.profiler"),s=b("react.provider"),u=b("react.context"),c=b("react.forward_ref"),l=b("react.suspense"),f=b("react.suspense_list"),d=b("react.memo"),h=b("react.lazy"),p=b("react.block"),v=b("react.server.block"),m=b("react.fundamental"),g=b("react.debug_trace_mode"),y=b("react.legacy_hidden")}function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case a:case o:case l:case f:return e;default:switch(e=e&&e.$$typeof){case u:case c:case h:case d:case s:return e;default:return t}}case r:return t}}}t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}},48570:function(e,t,n){"use strict";e.exports=n(66866)},51992:function(e,t,n){"use strict";Object.defineProperty(t,"ZP",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"yB",{enumerable:!0,get:function(){return i.default}});var r=o(n(68334)),i=o(n(98432));function o(e){return e&&e.__esModule?e:{default:e}}},98432:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!==typeof e)return{default:e};var t=a();if(t&&t.has(e))return t.get(e);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=r?Object.getOwnPropertyDescriptor(e,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=e[i]}n.default=e,t&&t.set(e,n);return n}(n(2784)),i=n(47672),o=n(68334);function a(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return a=function(){return e},e}function s(e){return s="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return!t||"object"!==s(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function d(e,t){return d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},d(e,t)}var h=function(e){function t(){return u(this,t),l(this,f(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){var e=this.props,t=e.color,n=e.highlightColor,r=e.children,o=(0,i.css)(".react-loading-skeleton{background-color:",t,";background-image:linear-gradient( 90deg,",t,",",n,",",t," );};label:SkeletonTheme;");return(0,i.jsx)("div",{css:o},r)}}])&&c(n.prototype,r),o&&c(n,o),t}(r.Component);t.default=h,function(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(h,"defaultProps",{color:o.defaultBaseColor,highlightColor:o.defaultHighlightColor})},68334:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=h,t.skeletonStyles=t.skeletonKeyframes=t.defaultHighlightColor=t.defaultBaseColor=void 0;(r=n(2784))&&r.__esModule;var r,i=n(47672);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(n,!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  0% {\n    background-position: -200px 0;\n  }\n  ","\n  100% {\n    background-position: calc(200px + 100%) 0;\n  }\n"]);return u=function(){return e},e}var c="#eee";t.defaultBaseColor=c;var l="#f5f5f5";t.defaultHighlightColor=l;var f=function(e,t){return(0,i.keyframes)(u(),t>0?"".concat(Math.floor(1/(e+t)*e*100),"% {\n    background-position: calc(200px + 100%) 0;\n  }"):void 0)};t.skeletonKeyframes=f;var d=(0,i.css)("background-color:",c,";background-image:linear-gradient( 90deg,",c,",",l,",",c," );background-size:200px 100%;background-repeat:no-repeat;border-radius:4px;display:inline-block;line-height:1;width:100%;;label:skeletonStyles;");function h(e){for(var t=e.count,n=e.duration,r=e.width,o=e.wrapper,s=e.height,u=e.circle,c=e.delay,l=e.style,h=e.className,p=[],v=0;v<t;v++){var m={};null!==r&&(m.width=r),null!==s&&(m.height=s),null!==r&&null!==s&&u&&(m.borderRadius="50%");var g="react-loading-skeleton";h&&(g+=" "+h),p.push((0,i.jsx)("span",{key:v,className:g,css:(0,i.css)(d," animation:",f(n,c)," ",n+c,"s ease-in-out infinite;label:Skeleton;"),style:a({},l,{},m)},"\u200c"))}return(0,i.jsx)("span",null,o?p.map((function(e,t){return(0,i.jsx)(o,{key:t},e,"\u200c")})):p)}t.skeletonStyles=d,h.defaultProps={count:1,duration:1.2,width:null,wrapper:null,height:null,circle:!1,delay:0}},47672:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}n.r(t),n.d(t,{CacheProvider:function(){return A},ClassNames:function(){return z},Global:function(){return L},ThemeContext:function(){return T},createElement:function(){return M},css:function(){return j},jsx:function(){return M},keyframes:function(){return B},withEmotionCache:function(){return I}});var i=n(2784);var o=function(){function e(e){this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.before=null}var t=e.prototype;return t.insert=function(e){if(this.ctr%(this.isSpeedy?65e3:1)===0){var t,n=function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t}(this);t=0===this.tags.length?this.before:this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(n,t),this.tags.push(n)}var r=this.tags[this.tags.length-1];if(this.isSpeedy){var i=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(r);try{var o=105===e.charCodeAt(1)&&64===e.charCodeAt(0);i.insertRule(e,o?0:i.cssRules.length)}catch(a){0}}else r.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}();var a=function(e){function t(e,r,u,c,d){for(var h,p,v,m,w,E=0,S=0,x=0,O=0,C=0,P=0,N=v=h=0,M=0,L=0,F=0,B=0,U=u.length,V=U-1,z="",q="",Z="",H="";M<U;){if(p=u.charCodeAt(M),M===V&&0!==S+O+x+E&&(0!==S&&(p=47===S?10:47),O=x=E=0,U++,V++),0===S+O+x+E){if(M===V&&(0<L&&(z=z.replace(f,"")),0<z.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:z+=u.charAt(M)}p=59}switch(p){case 123:for(h=(z=z.trim()).charCodeAt(0),v=1,B=++M;M<U;){switch(p=u.charCodeAt(M)){case 123:v++;break;case 125:v--;break;case 47:switch(p=u.charCodeAt(M+1)){case 42:case 47:e:{for(N=M+1;N<V;++N)switch(u.charCodeAt(N)){case 47:if(42===p&&42===u.charCodeAt(N-1)&&M+2!==N){M=N+1;break e}break;case 10:if(47===p){M=N+1;break e}}M=N}}break;case 91:p++;case 40:p++;case 34:case 39:for(;M++<V&&u.charCodeAt(M)!==p;);}if(0===v)break;M++}if(v=u.substring(B,M),0===h&&(h=(z=z.replace(l,"").trim()).charCodeAt(0)),64===h){switch(0<L&&(z=z.replace(f,"")),p=z.charCodeAt(1)){case 100:case 109:case 115:case 45:L=r;break;default:L=D}if(B=(v=t(r,L,v,p,d+1)).length,0<R&&(w=s(3,v,L=n(D,z,F),r,T,k,B,p,d,c),z=L.join(""),void 0!==w&&0===(B=(v=w.trim()).length)&&(p=0,v="")),0<B)switch(p){case 115:z=z.replace(_,a);case 100:case 109:case 45:v=z+"{"+v+"}";break;case 107:v=(z=z.replace(g,"$1 $2"))+"{"+v+"}",v=1===I||2===I&&o("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=z+v,112===c&&(q+=v,v="")}else v=""}else v=t(r,n(r,z,F),v,c,d+1);Z+=v,v=F=L=N=h=0,z="",p=u.charCodeAt(++M);break;case 125:case 59:if(1<(B=(z=(0<L?z.replace(f,""):z).trim()).length))switch(0===N&&(h=z.charCodeAt(0),45===h||96<h&&123>h)&&(B=(z=z.replace(" ",":")).length),0<R&&void 0!==(w=s(1,z,r,e,T,k,q.length,c,d,c))&&0===(B=(z=w.trim()).length)&&(z="\0\0"),h=z.charCodeAt(0),p=z.charCodeAt(1),h){case 0:break;case 64:if(105===p||99===p){H+=z+u.charAt(M);break}default:58!==z.charCodeAt(B-1)&&(q+=i(z,h,p,z.charCodeAt(2)))}F=L=N=h=0,z="",p=u.charCodeAt(++M)}}switch(p){case 13:case 10:47===S?S=0:0===1+h&&107!==c&&0<z.length&&(L=1,z+="\0"),0<R*j&&s(0,z,r,e,T,k,q.length,c,d,c),k=1,T++;break;case 59:case 125:if(0===S+O+x+E){k++;break}default:switch(k++,m=u.charAt(M),p){case 9:case 32:if(0===O+E+S)switch(C){case 44:case 58:case 9:case 32:m="";break;default:32!==p&&(m=" ")}break;case 0:m="\\0";break;case 12:m="\\f";break;case 11:m="\\v";break;case 38:0===O+S+E&&(L=F=1,m="\f"+m);break;case 108:if(0===O+S+E+A&&0<N)switch(M-N){case 2:112===C&&58===u.charCodeAt(M-3)&&(A=C);case 8:111===P&&(A=P)}break;case 58:0===O+S+E&&(N=M);break;case 44:0===S+x+O+E&&(L=1,m+="\r");break;case 34:case 39:0===S&&(O=O===p?0:0===O?p:O);break;case 91:0===O+S+x&&E++;break;case 93:0===O+S+x&&E--;break;case 41:0===O+S+E&&x--;break;case 40:if(0===O+S+E){if(0===h)if(2*C+3*P===533);else h=1;x++}break;case 64:0===S+x+O+E+N+v&&(v=1);break;case 42:case 47:if(!(0<O+E+x))switch(S){case 0:switch(2*p+3*u.charCodeAt(M+1)){case 235:S=47;break;case 220:B=M,S=42}break;case 42:47===p&&42===C&&B+2!==M&&(33===u.charCodeAt(B+2)&&(q+=u.substring(B,M+1)),m="",S=0)}}0===S&&(z+=m)}P=C,C=p,M++}if(0<(B=q.length)){if(L=r,0<R&&(void 0!==(w=s(2,q,L,e,T,k,B,c,d,c))&&0===(q=w).length))return H+q+Z;if(q=L.join(",")+"{"+q+"}",0!==I*A){switch(2!==I||o(q,2)||(A=0),A){case 111:q=q.replace(b,":-moz-$1")+q;break;case 112:q=q.replace(y,"::-webkit-input-$1")+q.replace(y,"::-moz-$1")+q.replace(y,":-ms-input-$1")+q}A=0}}return H+q+Z}function n(e,t,n){var i=t.trim().split(v);t=i;var o=i.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<o;++s)t[s]=r(e,t[s],n).trim();break;default:var u=s=0;for(t=[];s<o;++s)for(var c=0;c<a;++c)t[u++]=r(e[c]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var a=e+";",s=2*t+3*n+4*r;if(944===s){e=a.indexOf(":",9)+1;var u=a.substring(e,a.length-1).trim();return u=a.substring(0,e).trim()+u+";",1===I||2===I&&o(u,1)?"-webkit-"+u+u:u}if(0===I||2===I&&!o(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(C,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(u=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+u+a;case 1005:return h.test(a)?a.replace(d,":-webkit-")+a.replace(d,":-moz-")+a:a;case 1e3:switch(t=(u=a.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=a.replace(w,"tb");break;case 232:u=a.replace(w,"tb-rl");break;case 220:u=a.replace(w,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+u+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(u=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:a=a.replace(u,"-webkit-"+u)+";"+a;break;case 207:case 102:a=a.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(u,"-webkit-"+u)+";"+a.replace(u,"-ms-"+u+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return u=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+u+"-ms-flex-"+u+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(S,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(S,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===O.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):a.replace(u,"-webkit-"+u)+a.replace(u,"-moz-"+u.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+r&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+a}return a}function o(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),N(2!==t?r:r.replace(x,"$1"),n,t)}function a(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(E," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,o,a,s,u,l){for(var f,d=0,h=t;d<R;++d)switch(f=P[d].call(c,e,h,n,r,i,o,a,s,u,l)){case void 0:case!1:case!0:case null:break;default:h=f}if(h!==t)return h}function u(e){return void 0!==(e=e.prefix)&&(N=null,e?"function"!==typeof e?I=1:(I=2,N=e):I=0),u}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<R){var i=s(-1,n,r,r,T,k,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var o=t(D,r,n,0,0);return 0<R&&(void 0!==(i=s(-2,o,r,r,T,k,o.length,0,0,0))&&(o=i)),"",A=0,k=T=1,o}var l=/^\0+/g,f=/[\0\r\f]/g,d=/: */g,h=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,g=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,b=/:(read-only)/g,w=/[svh]\w+-[tblr]{2}/,_=/\(\s*(.*)\s*\)/g,E=/([\s\S]*?);/g,S=/-self|flex-/g,x=/[^]*?(:[rp][el]a[\w-]+)[^]*/,O=/stretch|:\s*\w+\-(?:conte|avail)/,C=/([^-])(image-set\()/,k=1,T=1,A=0,I=1,D=[],P=[],R=0,N=null,j=0;return c.use=function e(t){switch(t){case void 0:case null:R=P.length=0;break;default:if("function"===typeof t)P[R++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else j=0|!!t}return e},c.set=u,void 0!==e&&u(e),c},s="/*|*/";function u(e){e&&c.current.insert(e+"}")}var c={current:null},l=function(e,t,n,r,i,o,a,l,f,d){switch(e){case 1:switch(t.charCodeAt(0)){case 64:return c.current.insert(t+";"),"";case 108:if(98===t.charCodeAt(2))return""}break;case 2:if(0===l)return t+s;break;case 3:switch(l){case 102:case 112:return c.current.insert(n[0]+t),"";default:return t+(0===d?s:"")}case-2:t.split("/*|*/}").forEach(u)}},f=function(e){void 0===e&&(e={});var t,n=e.key||"css";void 0!==e.prefix&&(t={prefix:e.prefix});var r=new a(t);var i,s={};i=e.container||document.head;var u,f=document.querySelectorAll("style[data-emotion-"+n+"]");Array.prototype.forEach.call(f,(function(e){e.getAttribute("data-emotion-"+n).split(" ").forEach((function(e){s[e]=!0})),e.parentNode!==i&&i.appendChild(e)})),r.use(e.stylisPlugins)(l),u=function(e,t,n,i){var o=t.name;c.current=n,r(e,t.styles),i&&(d.inserted[o]=!0)};var d={key:n,sheet:new o({key:n,container:i,nonce:e.nonce,speedy:e.speedy}),nonce:e.nonce,inserted:s,registered:{},insert:u};return d};function d(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]):r+=n+" "})),r}var h=function(e,t,n){var r=e.key+"-"+t.name;if(!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles),void 0===e.inserted[t.name]){var i=t;do{e.insert("."+r,i,e.sheet,!0);i=i.next}while(void 0!==i)}};var p=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},v={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var m=/[A-Z]|^ms/g,g=/_EMO_([^_]+?)_([^]*?)_EMO_/g,y=function(e){return 45===e.charCodeAt(1)},b=function(e){return null!=e&&"boolean"!==typeof e},w=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){return y(e)?e:e.replace(m,"-$&").toLowerCase()})),_=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(g,(function(e,t,n){return S={name:t,styles:n,next:S},t}))}return 1===v[e]||y(e)||"number"!==typeof t||0===t?t:t+"px"};function E(e,t,n,r){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return S={name:n.name,styles:n.styles,next:S},n.name;if(void 0!==n.styles){var i=n.next;if(void 0!==i)for(;void 0!==i;)S={name:i.name,styles:i.styles,next:S},i=i.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=E(e,t,n[i],!1);else for(var o in n){var a=n[o];if("object"!==typeof a)null!=t&&void 0!==t[a]?r+=o+"{"+t[a]+"}":b(a)&&(r+=w(o)+":"+_(o,a)+";");else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=E(e,t,a,!1);switch(o){case"animation":case"animationName":r+=w(o)+":"+s+";";break;default:r+=o+"{"+s+"}"}}else for(var u=0;u<a.length;u++)b(a[u])&&(r+=w(o)+":"+_(o,a[u])+";")}return r}(e,t,n);case"function":if(void 0!==e){var o=S,a=n(e);return S=o,E(e,t,a,r)}}if(null==t)return n;var s=t[n];return void 0===s||r?n:s}var S,x=/label:\s*([^\s;\n{]+)\s*;/g;var O=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";S=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=E(n,t,o,!1)):i+=o[0];for(var a=1;a<e.length;a++)i+=E(n,t,e[a],46===i.charCodeAt(i.length-1)),r&&(i+=o[a]);x.lastIndex=0;for(var s,u="";null!==(s=x.exec(i));)u+="-"+s[1];return{name:p(i)+u,styles:i,next:S}},C=Object.prototype.hasOwnProperty,k=(0,i.createContext)("undefined"!==typeof HTMLElement?f():null),T=(0,i.createContext)({}),A=k.Provider,I=function(e){var t=function(t,n){return(0,i.createElement)(k.Consumer,null,(function(r){return e(t,r,n)}))};return(0,i.forwardRef)(t)},D="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",P=function(e,t){var n={};for(var r in t)C.call(t,r)&&(n[r]=t[r]);return n[D]=e,n},R=function(e,t,n,r){var o=null===n?t.css:t.css(n);"string"===typeof o&&void 0!==e.registered[o]&&(o=e.registered[o]);var a=t[D],s=[o],u="";"string"===typeof t.className?u=d(e.registered,s,t.className):null!=t.className&&(u=t.className+" ");var c=O(s);h(e,c,"string"===typeof a);u+=e.key+"-"+c.name;var l={};for(var f in t)C.call(t,f)&&"css"!==f&&f!==D&&(l[f]=t[f]);return l.ref=r,l.className=u,(0,i.createElement)(a,l)},N=I((function(e,t,n){return"function"===typeof e.css?(0,i.createElement)(T.Consumer,null,(function(r){return R(t,e,r,n)})):R(t,e,null,n)}));var j=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return O(t)},M=function(e,t){var n=arguments;if(null==t||!C.call(t,"css"))return i.createElement.apply(void 0,n);var r=n.length,o=new Array(r);o[0]=N,o[1]=P(e,t);for(var a=2;a<r;a++)o[a]=n[a];return i.createElement.apply(null,o)},L=I((function(e,t){var n=e.styles;if("function"===typeof n)return(0,i.createElement)(T.Consumer,null,(function(e){var r=O([n(e)]);return(0,i.createElement)(F,{serialized:r,cache:t})}));var r=O([n]);return(0,i.createElement)(F,{serialized:r,cache:t})})),F=function(e){var t,n;function i(t,n,r){return e.call(this,t,n,r)||this}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,r(t,n);var a=i.prototype;return a.componentDidMount=function(){this.sheet=new o({key:this.props.cache.key+"-global",nonce:this.props.cache.sheet.nonce,container:this.props.cache.sheet.container});var e=document.querySelector("style[data-emotion-"+this.props.cache.key+'="'+this.props.serialized.name+'"]');null!==e&&this.sheet.tags.push(e),this.props.cache.sheet.tags.length&&(this.sheet.before=this.props.cache.sheet.tags[0]),this.insertStyles()},a.componentDidUpdate=function(e){e.serialized.name!==this.props.serialized.name&&this.insertStyles()},a.insertStyles=function(){if(void 0!==this.props.serialized.next&&h(this.props.cache,this.props.serialized.next,!0),this.sheet.tags.length){var e=this.sheet.tags[this.sheet.tags.length-1].nextElementSibling;this.sheet.before=e,this.sheet.flush()}this.props.cache.insert("",this.props.serialized,this.sheet,!1)},a.componentWillUnmount=function(){this.sheet.flush()},a.render=function(){return null},i}(i.Component),B=function(){var e=j.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},U=function e(t){for(var n=t.length,r=0,i="";r<n;r++){var o=t[r];if(null!=o){var a=void 0;switch(typeof o){case"boolean":break;case"object":if(Array.isArray(o))a=e(o);else for(var s in a="",o)o[s]&&s&&(a&&(a+=" "),a+=s);break;default:a=o}a&&(i&&(i+=" "),i+=a)}}return i};function V(e,t,n){var r=[],i=d(e,r,n);return r.length<2?n:i+t(r)}var z=I((function(e,t){return(0,i.createElement)(T.Consumer,null,(function(n){var r=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=O(n,t.registered);return h(t,i,!1),t.key+"-"+i.name},i={css:r,cx:function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return V(t.registered,r,U(n))},theme:n},o=e.children(i);return!0,o}))}))},89473:function(e,t,n){"use strict";var r=n(97209),i=n(2784),o=n(28316),a=n(80594),s=n(98357);function u(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}function c(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var l=u(r),f=c(i),d=u(a),h=u(s),p=function(e,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},p(e,t)};function v(e,t){function n(){this.constructor=e}p(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var m=function(){return m=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},m.apply(this,arguments)};function g(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}var y=function(e,t,n,r){switch(t){case"debounce":return d.default(e,n,r);case"throttle":return h.default(e,n,r);default:return e}},b=function(e){return"function"===typeof e},w=function(){return"undefined"===typeof window},_=function(e){return e instanceof Element||e instanceof HTMLDocument},E=function(e,t,n,r){return function(i){var o=i.width,a=i.height;t((function(t){return t.width===o&&t.height===a||t.width===o&&!r||t.height===a&&!n?t:(e&&b(e)&&e(o,a),{width:o,height:a})}))}},S=function(e){function t(t){var n=e.call(this,t)||this;n.cancelHandler=function(){n.resizeHandler&&n.resizeHandler.cancel&&(n.resizeHandler.cancel(),n.resizeHandler=null)},n.attachObserver=function(){var e=n.props,t=e.targetRef,r=e.observerOptions;if(!w()){t&&t.current&&(n.targetRef.current=t.current);var i=n.getElement();i&&(n.observableElement&&n.observableElement===i||(n.observableElement=i,n.resizeObserver.observe(i,r)))}},n.getElement=function(){var e=n.props,t=e.querySelector,r=e.targetDomEl;if(w())return null;if(t)return document.querySelector(t);if(r&&_(r))return r;if(n.targetRef&&_(n.targetRef.current))return n.targetRef.current;var i=o.findDOMNode(n);if(!i)return null;switch(n.getRenderType()){case"renderProp":case"childFunction":case"child":case"childArray":return i;default:return i.parentElement}},n.createResizeHandler=function(e){var t=n.props,r=t.handleWidth,i=void 0===r||r,o=t.handleHeight,a=void 0===o||o,s=t.onResize;if(i||a){var u=E(s,n.setState.bind(n),i,a);e.forEach((function(e){var t=e&&e.contentRect||{},r=t.width,i=t.height;!n.skipOnMount&&!w()&&u({width:r,height:i}),n.skipOnMount=!1}))}},n.getRenderType=function(){var e=n.props,t=e.render,r=e.children;return b(t)?"renderProp":b(r)?"childFunction":i.isValidElement(r)?"child":Array.isArray(r)?"childArray":"parent"};var r=t.skipOnMount,a=t.refreshMode,s=t.refreshRate,u=void 0===s?1e3:s,c=t.refreshOptions;return n.state={width:void 0,height:void 0},n.skipOnMount=r,n.targetRef=i.createRef(),n.observableElement=null,w()||(n.resizeHandler=y(n.createResizeHandler,a,u,c),n.resizeObserver=new l.default(n.resizeHandler)),n}return v(t,e),t.prototype.componentDidMount=function(){this.attachObserver()},t.prototype.componentDidUpdate=function(){this.attachObserver()},t.prototype.componentWillUnmount=function(){w()||(this.resizeObserver.disconnect(),this.cancelHandler())},t.prototype.render=function(){var e,t=this.props,n=t.render,r=t.children,o=t.nodeType,a=void 0===o?"div":o,s=this.state,u={width:s.width,height:s.height,targetRef:this.targetRef};switch(this.getRenderType()){case"renderProp":return n&&n(u);case"childFunction":return(e=r)(u);case"child":if((e=r).type&&"string"===typeof e.type){var c=g(u,["targetRef"]);return i.cloneElement(e,c)}return i.cloneElement(e,u);case"childArray":return(e=r).map((function(e){return!!e&&i.cloneElement(e,u)}));default:return f.createElement(a,null)}},t}(i.PureComponent);var x=w()?i.useEffect:i.useLayoutEffect;t.NB=function(e){void 0===e&&(e={});var t=e.skipOnMount,n=void 0!==t&&t,r=e.refreshMode,o=e.refreshRate,a=void 0===o?1e3:o,s=e.refreshOptions,u=e.handleWidth,c=void 0===u||u,f=e.handleHeight,d=void 0===f||f,h=e.targetRef,p=e.observerOptions,v=e.onResize,g=i.useRef(n),b=i.useRef(null),_=null!==h&&void 0!==h?h:b,S=i.useRef(),O=i.useState({width:void 0,height:void 0}),C=O[0],k=O[1];return x((function(){if(!w()){var e=E(v,k,c,d);S.current=y((function(t){(c||d)&&t.forEach((function(t){var n=t&&t.contentRect||{},r=n.width,i=n.height;!g.current&&!w()&&e({width:r,height:i}),g.current=!1}))}),r,a,s);var t=new l.default(S.current);return _.current&&t.observe(_.current,p),function(){t.disconnect();var e=S.current;e&&e.cancel&&e.cancel()}}}),[r,a,s,c,d,v,p,_.current]),m({ref:_},C)}},17160:function(e,t,n){!function(t,r){var i;e.exports=(i=n(2784),function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=8)}([function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),o=r(n(9)),a=r(n(2)),s=n(11),u=r(n(3)),c=r(n(7)),l=function(e){return e.query||(0,u.default)(e)},f=function(e){if(e)return Object.keys(e).reduce((function(t,n){return t[(0,a.default)(n)]=e[n],t}),{})},d=function(){var e=i.default.useRef(!1);return i.default.useEffect((function(){e.current=!0}),[]),e.current},h=function(e){var t=i.default.useContext(c.default),n=function(){return f(e)||f(t)},r=i.default.useState(n),o=r[0],a=r[1];return i.default.useEffect((function(){var e=n();(0,s.shallowEqualObjects)(o,e)||a(e)}),[e,t]),o},p=function(e){var t=function(){return l(e)},n=i.default.useState(t),r=n[0],o=n[1];return i.default.useEffect((function(){var e=t();r!==e&&o(e)}),[e]),r},v=function(e,t){var n=function(){return(0,o.default)(e,t||{},!!t)},r=i.default.useState(n),a=r[0],s=r[1],u=d();return i.default.useEffect((function(){if(u){var e=n();return s(e),function(){e&&e.dispose()}}}),[e,t]),a},m=function(e){var t=i.default.useState(e.matches),n=t[0],r=t[1];return i.default.useEffect((function(){var t=function(){r(e.matches)};return e.addListener(t),t(),function(){e.removeListener(t)}}),[e]),n},g=function(e,t,n){var r=h(t),o=p(e);if(!o)throw new Error("Invalid or missing MediaQuery!");var a=v(o,r),s=m(a),u=d();return i.default.useEffect((function(){u&&n&&n(s)}),[s]),i.default.useEffect((function(){return function(){a&&a.dispose()}}),[]),s};t.default=g},function(e,t){e.exports=i},function(e,t,n){"use strict";function r(e){return"-"+e.toLowerCase()}function i(e){if(s.hasOwnProperty(e))return s[e];var t=e.replace(o,r);return s[e]=a.test(t)?"-"+t:t}Object.defineProperty(t,"__esModule",{value:!0});var o=/[A-Z]/g,a=/^ms-/,s={};t.default=i},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(2)),o=r(n(12)),a=function(e){return"not ".concat(e)},s=function(e,t){var n=(0,i.default)(e);return"number"==typeof t&&(t="".concat(t,"px")),!0===t?n:!1===t?a(n):"(".concat(n,": ").concat(t,")")},u=function(e){return e.join(" and ")},c=function(e){var t=[];return Object.keys(o.default.all).forEach((function(n){var r=e[n];null!=r&&t.push(s(n,r))})),u(t)};t.default=c},function(e,t,n){"use strict";e.exports=n(14)},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=Function.call.bind(Object.prototype.hasOwnProperty)},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)).default.createContext(void 0);t.default=i},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Context=t.toQuery=t.useMediaQuery=t.default=void 0;var i=r(n(0));t.useMediaQuery=i.default;var o=r(n(18));t.default=o.default;var a=r(n(3));t.toQuery=a.default;var s=r(n(7));t.Context=s.default},function(e,t,n){"use strict";function r(e,t,n){function r(e){l&&l.addListener(e)}function i(e){l&&l.removeListener(e)}function s(e){c.matches=e.matches,c.media=e.media}function u(){l&&l.removeListener(s)}var c=this;if(a&&!n){var l=a.call(window,e);this.matches=l.matches,this.media=l.media,l.addListener(s)}else this.matches=o(e,t),this.media=e;this.addListener=r,this.removeListener=i,this.dispose=u}function i(e,t,n){return new r(e,t,n)}var o=n(10).match,a="undefined"!=typeof window?window.matchMedia:null;e.exports=i},function(e,t,n){"use strict";function r(e,t){return i(e).some((function(e){var n=e.inverse,r="all"===e.type||t.type===e.type;if(r&&n||!r&&!n)return!1;var i=e.expressions.every((function(e){var n=e.feature,r=e.modifier,i=e.value,u=t[n];if(!u)return!1;switch(n){case"orientation":case"scan":return u.toLowerCase()===i.toLowerCase();case"width":case"height":case"device-width":case"device-height":i=s(i),u=s(u);break;case"resolution":i=a(i),u=a(u);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":i=o(i),u=o(u);break;case"grid":case"color":case"color-index":case"monochrome":i=parseInt(i,10)||1,u=parseInt(u,10)||0}switch(r){case"min":return u>=i;case"max":return u<=i;default:return u===i}}));return i&&!n||!i&&n}))}function i(e){return e.split(",").map((function(e){var t=(e=e.trim()).match(u),n=t[1],r=t[2],i=t[3]||"",o={};return o.inverse=!!n&&"not"===n.toLowerCase(),o.type=r?r.toLowerCase():"all",i=i.match(/\([^\)]+\)/g)||[],o.expressions=i.map((function(e){var t=e.match(c),n=t[1].toLowerCase().match(l);return{modifier:n[1],feature:n[2],value:t[2]}})),o}))}function o(e){var t,n=Number(e);return n||(n=(t=e.match(/^(\d+)\s*\/\s*(\d+)$/))[1]/t[2]),n}function a(e){var t=parseFloat(e);switch(String(e).match(d)[1]){case"dpcm":return t/2.54;case"dppx":return 96*t;default:return t}}function s(e){var t=parseFloat(e);switch(String(e).match(f)[1]){case"em":case"rem":return 16*t;case"cm":return 96*t/2.54;case"mm":return 96*t/2.54/10;case"in":return 96*t;case"pt":return 72*t;case"pc":return 72*t/12;default:return t}}t.match=r,t.parse=i;var u=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,c=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,l=/^(?:(min|max)-)?(.+)/,f=/(em|rem|px|cm|mm|in|pt|pc)?$/,d=/(dpi|dpcm|dppx)?$/},function(e,t,n){"use strict";function r(e,t){if(e===t)return!0;if(!e||!t)return!1;var n=Object.keys(e),r=Object.keys(t),i=n.length;if(r.length!==i)return!1;for(var o=0;o<i;o++){var a=n[o];if(e[a]!==t[a]||!Object.prototype.hasOwnProperty.call(t,a))return!1}return!0}function i(e,t){if(e===t)return!0;if(!e||!t)return!1;var n=e.length;if(t.length!==n)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"shallowEqualArrays",(function(){return i})),n.d(t,"shallowEqualObjects",(function(){return r}))},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(13)),s=a.default.oneOfType([a.default.string,a.default.number]),u={all:a.default.bool,grid:a.default.bool,aural:a.default.bool,braille:a.default.bool,handheld:a.default.bool,print:a.default.bool,projection:a.default.bool,screen:a.default.bool,tty:a.default.bool,tv:a.default.bool,embossed:a.default.bool},c={orientation:a.default.oneOf(["portrait","landscape"]),scan:a.default.oneOf(["progressive","interlace"]),aspectRatio:a.default.string,deviceAspectRatio:a.default.string,height:s,deviceHeight:s,width:s,deviceWidth:s,color:a.default.bool,colorIndex:a.default.bool,monochrome:a.default.bool,resolution:s,type:Object.keys(u)},l=i(c,["type"]),f=r({minAspectRatio:a.default.string,maxAspectRatio:a.default.string,minDeviceAspectRatio:a.default.string,maxDeviceAspectRatio:a.default.string,minHeight:s,maxHeight:s,minDeviceHeight:s,maxDeviceHeight:s,minWidth:s,maxWidth:s,minDeviceWidth:s,maxDeviceWidth:s,minColor:a.default.number,maxColor:a.default.number,minColorIndex:a.default.number,maxColorIndex:a.default.number,minMonochrome:a.default.number,maxMonochrome:a.default.number,minResolution:s,maxResolution:s},l),d=r(r({},u),f);t.default={all:d,types:u,matchers:c,features:f}},function(e,t,n){var r=n(4);e.exports=n(15)(r.isElement,!0)},function(e,t,n){"use strict";!function(){function e(e){return"string"==typeof e||"function"==typeof e||e===b||e===O||e===_||e===w||e===k||e===T||"object"==typeof e&&null!==e&&(e.$$typeof===I||e.$$typeof===A||e.$$typeof===E||e.$$typeof===S||e.$$typeof===C||e.$$typeof===P||e.$$typeof===R||e.$$typeof===N||e.$$typeof===D)}function n(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case g:var n=e.type;switch(n){case x:case O:case b:case _:case w:case k:return n;default:var r=n&&n.$$typeof;switch(r){case S:case C:case I:case A:case E:return r;default:return t}}case y:return t}}}function r(e){return K||(K=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),i(e)||n(e)===x}function i(e){return n(e)===O}function o(e){return n(e)===S}function a(e){return n(e)===E}function s(e){return"object"==typeof e&&null!==e&&e.$$typeof===g}function u(e){return n(e)===C}function c(e){return n(e)===b}function l(e){return n(e)===I}function f(e){return n(e)===A}function d(e){return n(e)===y}function h(e){return n(e)===_}function p(e){return n(e)===w}function v(e){return n(e)===k}var m="function"==typeof Symbol&&Symbol.for,g=m?Symbol.for("react.element"):60103,y=m?Symbol.for("react.portal"):60106,b=m?Symbol.for("react.fragment"):60107,w=m?Symbol.for("react.strict_mode"):60108,_=m?Symbol.for("react.profiler"):60114,E=m?Symbol.for("react.provider"):60109,S=m?Symbol.for("react.context"):60110,x=m?Symbol.for("react.async_mode"):60111,O=m?Symbol.for("react.concurrent_mode"):60111,C=m?Symbol.for("react.forward_ref"):60112,k=m?Symbol.for("react.suspense"):60113,T=m?Symbol.for("react.suspense_list"):60120,A=m?Symbol.for("react.memo"):60115,I=m?Symbol.for("react.lazy"):60116,D=m?Symbol.for("react.block"):60121,P=m?Symbol.for("react.fundamental"):60117,R=m?Symbol.for("react.responder"):60118,N=m?Symbol.for("react.scope"):60119,j=x,M=O,L=S,F=E,B=g,U=C,V=b,z=I,q=A,Z=y,H=_,W=w,G=k,K=!1;t.AsyncMode=j,t.ConcurrentMode=M,t.ContextConsumer=L,t.ContextProvider=F,t.Element=B,t.ForwardRef=U,t.Fragment=V,t.Lazy=z,t.Memo=q,t.Portal=Z,t.Profiler=H,t.StrictMode=W,t.Suspense=G,t.isAsyncMode=r,t.isConcurrentMode=i,t.isContextConsumer=o,t.isContextProvider=a,t.isElement=s,t.isForwardRef=u,t.isFragment=c,t.isLazy=l,t.isMemo=f,t.isPortal=d,t.isProfiler=h,t.isStrictMode=p,t.isSuspense=v,t.isValidElementType=e,t.typeOf=n}()},function(e,t,n){"use strict";function r(){return null}var i=n(4),o=n(16),a=n(5),s=n(6),u=n(17),c=function(){};c=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(n){}},e.exports=function(e,t){function n(e){var t=e&&(T&&e[T]||e[A]);if("function"==typeof t)return t}function l(e,t){return e===t?0!==e||1/e==1/t:e!==e&&t!==t}function f(e,t){this.message=e,this.data=t&&"object"==typeof t?t:{},this.stack=""}function d(e){function n(n,o,s,u,l,d,h){if(u=u||I,d=d||s,h!==a){if(t){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}if("undefined"!=typeof console){var v=u+":"+s;!r[v]&&i<3&&(c("You are manually calling a React.PropTypes validation function for the `"+d+"` prop on `"+u+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),r[v]=!0,i++)}}return null==o[s]?n?new f(null===o[s]?"The "+l+" `"+d+"` is marked as required in `"+u+"`, but its value is `null`.":"The "+l+" `"+d+"` is marked as required in `"+u+"`, but its value is `undefined`."):null:e(o,s,u,l,d)}var r={},i=0,o=n.bind(null,!1);return o.isRequired=n.bind(null,!0),o}function h(e){function t(t,n,r,i,o,a){var s=t[n];return x(s)!==e?new f("Invalid "+i+" `"+o+"` of type `"+O(s)+"` supplied to `"+r+"`, expected `"+e+"`.",{expectedType:e}):null}return d(t)}function p(e){function t(t,n,r,i,o){if("function"!=typeof e)return new f("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var s=t[n];if(!Array.isArray(s))return new f("Invalid "+i+" `"+o+"` of type `"+x(s)+"` supplied to `"+r+"`, expected an array.");for(var u=0;u<s.length;u++){var c=e(s,u,r,i,o+"["+u+"]",a);if(c instanceof Error)return c}return null}return d(t)}function v(e){function t(t,n,r,i,o){if(!(t[n]instanceof e)){var a=e.name||I;return new f("Invalid "+i+" `"+o+"` of type `"+k(t[n])+"` supplied to `"+r+"`, expected instance of `"+a+"`.")}return null}return d(t)}function m(e){function t(t,n,r,i,o){for(var a=t[n],s=0;s<e.length;s++)if(l(a,e[s]))return null;var u=JSON.stringify(e,(function(e,t){return"symbol"===O(t)?String(t):t}));return new f("Invalid "+i+" `"+o+"` of value `"+String(a)+"` supplied to `"+r+"`, expected one of "+u+".")}return Array.isArray(e)?d(t):(c(arguments.length>1?"Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).":"Invalid argument supplied to oneOf, expected an array."),r)}function g(e){function t(t,n,r,i,o){if("function"!=typeof e)return new f("Property `"+o+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var u=t[n],c=x(u);if("object"!==c)return new f("Invalid "+i+" `"+o+"` of type `"+c+"` supplied to `"+r+"`, expected an object.");for(var l in u)if(s(u,l)){var d=e(u,l,r,i,o+"."+l,a);if(d instanceof Error)return d}return null}return d(t)}function y(e){function t(t,n,r,i,o){for(var u=[],c=0;c<e.length;c++){var l=(0,e[c])(t,n,r,i,o,a);if(null==l)return null;l.data&&s(l.data,"expectedType")&&u.push(l.data.expectedType)}return new f("Invalid "+i+" `"+o+"` supplied to `"+r+"`"+(u.length>0?", expected one of type ["+u.join(", ")+"]":"")+".")}if(!Array.isArray(e))return c("Invalid argument supplied to oneOfType, expected an instance of array."),r;for(var n=0;n<e.length;n++){var i=e[n];if("function"!=typeof i)return c("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+C(i)+" at index "+n+"."),r}return d(t)}function b(e,t,n,r,i){return new f((e||"React class")+": "+t+" type `"+n+"."+r+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+i+"`.")}function w(e){function t(t,n,r,i,o){var s=t[n],u=x(s);if("object"!==u)return new f("Invalid "+i+" `"+o+"` of type `"+u+"` supplied to `"+r+"`, expected `object`.");for(var c in e){var l=e[c];if("function"!=typeof l)return b(r,i,o,c,O(l));var d=l(s,c,r,i,o+"."+c,a);if(d)return d}return null}return d(t)}function _(e){function t(t,n,r,i,u){var c=t[n],l=x(c);if("object"!==l)return new f("Invalid "+i+" `"+u+"` of type `"+l+"` supplied to `"+r+"`, expected `object`.");var d=o({},t[n],e);for(var h in d){var p=e[h];if(s(e,h)&&"function"!=typeof p)return b(r,i,u,h,O(p));if(!p)return new f("Invalid "+i+" `"+u+"` key `"+h+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var v=p(c,h,r,i,u+"."+h,a);if(v)return v}return null}return d(t)}function E(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(E);if(null===t||e(t))return!0;var r=n(t);if(!r)return!1;var i,o=r.call(t);if(r!==t.entries){for(;!(i=o.next()).done;)if(!E(i.value))return!1}else for(;!(i=o.next()).done;){var a=i.value;if(a&&!E(a[1]))return!1}return!0;default:return!1}}function S(e,t){return"symbol"===e||!!t&&("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function x(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":S(t,e)?"symbol":t}function O(e){if(void 0===e||null===e)return""+e;var t=x(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function C(e){var t=O(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}function k(e){return e.constructor&&e.constructor.name?e.constructor.name:I}var T="function"==typeof Symbol&&Symbol.iterator,A="@@iterator",I="<<anonymous>>",D={array:h("array"),bigint:h("bigint"),bool:h("boolean"),func:h("function"),number:h("number"),object:h("object"),string:h("string"),symbol:h("symbol"),any:d(r),arrayOf:p,element:function(){function t(t,n,r,i,o){var a=t[n];return e(a)?null:new f("Invalid "+i+" `"+o+"` of type `"+x(a)+"` supplied to `"+r+"`, expected a single ReactElement.")}return d(t)}(),elementType:function(){function e(e,t,n,r,o){var a=e[t];return i.isValidElementType(a)?null:new f("Invalid "+r+" `"+o+"` of type `"+x(a)+"` supplied to `"+n+"`, expected a single ReactElement type.")}return d(e)}(),instanceOf:v,node:function(){function e(e,t,n,r,i){return E(e[t])?null:new f("Invalid "+r+" `"+i+"` supplied to `"+n+"`, expected a ReactNode.")}return d(e)}(),objectOf:g,oneOf:m,oneOfType:y,shape:w,exact:_};return f.prototype=Error.prototype,D.checkPropTypes=u,D.resetWarningCache=u.resetWarningCache,D.PropTypes=D,D}},function(e,t,n){"use strict";function r(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,s,u=r(e),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))o.call(n,l)&&(u[l]=n[l]);if(i){s=i(n);for(var f=0;f<s.length;f++)a.call(n,s[f])&&(u[s[f]]=n[s[f]])}}return u}},function(e,t,n){"use strict";function r(e,t,n,r,u){for(var c in e)if(s(e,c)){var l;try{if("function"!=typeof e[c]){var f=Error((r||"React class")+": "+n+" type `"+c+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[c]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw f.name="Invariant Violation",f}l=e[c](t,c,r,n,null,o)}catch(h){l=h}if(!l||l instanceof Error||i((r||"React class")+": type specification of "+n+" `"+c+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof l+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),l instanceof Error&&!(l.message in a)){a[l.message]=!0;var d=u?u():"";i("Failed "+n+" type: "+l.message+(null!=d?d:""))}}}var i=function(){},o=n(5),a={},s=n(6);i=function(e){var t="Warning: "+e;"undefined"!=typeof console&&console.error(t);try{throw new Error(t)}catch(n){}},r.resetWarningCache=function(){a={}},e.exports=r},function(e,t,n){"use strict";var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(0)),a=function(e){var t=e.children,n=e.device,i=e.onChange,a=r(e,["children","device","onChange"]),s=(0,o.default)(a,n,i);return"function"==typeof t?t(s):s?t:null};t.default=a}]))}("undefined"!=typeof self&&self)},69904:function(e,t,n){"use strict";var r=n(2784);t.Z=function(e){(0,r.useEffect)(e,[])}},2732:function(e,t,n){"use strict";n.d(t,{FV:function(){return jo},Wh:function(){return Po},Zl:function(){return Mo},cn:function(){return Ro},sJ:function(){return No}});var r=n(2784),i=n(28316);var o=function(e){return!!e&&"function"===typeof e.then};var a=function(e,t){if(null!=e)return e;throw new Error(null!==t&&void 0!==t?t:"Got unexpected null or undefined")};class s{}const u=new s,c={valueMaybe(){},valueOrThrow(){throw new Error(`Loadable expected value, but in "${this.state}" state`)},errorMaybe(){},errorOrThrow(){throw new Error(`Loadable expected error, but in "${this.state}" state`)},promiseMaybe(){},promiseOrThrow(){throw new Error(`Loadable expected promise, but in "${this.state}" state`)},is(e){return e.state===this.state&&e.contents===this.contents},map(e){if("hasError"===this.state)return this;if("hasValue"===this.state)try{const t=e(this.contents);return o(t)?d(t.then((e=>({__value:e})))):l(t)}catch(t){return o(t)?d(t.next((()=>e(this.contents)))):f(t)}if("loading"===this.state)return d(this.contents.then((t=>({__value:e(t.__value)}))).catch((t=>{if(o(t))return t.then((()=>e(this.contents)));throw t})));throw new Error("Invalid Loadable state")}};function l(e){return Object.freeze({state:"hasValue",contents:e,...c,getValue(){return this.contents},toPromise(){return Promise.resolve(this.contents)},valueMaybe(){return this.contents},valueOrThrow(){return this.contents}})}function f(e){return Object.freeze({state:"hasError",contents:e,...c,getValue(){throw this.contents},toPromise(){return Promise.reject(this.contents)},errorMaybe(){return this.contents},errorOrThrow(){return this.contents}})}function d(e){return Object.freeze({state:"loading",contents:e,...c,getValue(){throw this.contents.then((({__value:e})=>e))},toPromise(){return this.contents.then((({__value:e})=>e))},promiseMaybe(){return this.contents.then((({__value:e})=>e))},promiseOrThrow(){return this.contents.then((({__value:e})=>e))}})}var h,p={loadableWithValue:l,loadableWithError:f,loadableWithPromise:d,loadableLoading:function(){return d(new Promise((()=>{})))},loadableAll:function(e){return e.every((e=>"hasValue"===e.state))?l(e.map((e=>e.contents))):e.some((e=>"hasError"===e.state))?f(a(e.find((e=>"hasError"===e.state)),"Invalid loadable passed to loadableAll").contents):d(Promise.all(e.map((e=>e.contents))).then((e=>({__value:e}))))},Canceled:s,CANCELED:u};const v=null!==(h=r.useMutableSource)&&void 0!==h?h:r.unstable_useMutableSource;var m={mutableSourceExists:function(){return v&&!("undefined"!==typeof window&&window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE)},useMutableSource:v};const{mutableSourceExists:g}=m,y=(new Map).set("recoil_hamt_2020",!0).set("recoil_memory_managament_2020",!0).set("recoil_suppress_rerender_in_callback",!0);function b(e){var t;return!("recoil_early_rendering_2021"===e&&!g())&&(null!==(t=y.get(e))&&void 0!==t&&t)}b.setPass=e=>{y.set(e,!0)},b.setFail=e=>{y.set(e,!1)};var w=b;var _=function(e,t,{error:n}={}){return null};var E={setByAddingToSet:function(e,t){const n=new Set(e);return n.add(t),n},setByDeletingFromSet:function(e,t){const n=new Set(e);return n.delete(t),n},mapBySettingInMap:function(e,t,n){const r=new Map(e);return r.set(t,n),r},mapByUpdatingInMap:function(e,t,n){const r=new Map(e);return r.set(t,n(r.get(t))),r},mapByDeletingFromMap:function(e,t){const n=new Map(e);return n.delete(t),n},mapByDeletingMultipleFromMap:function(e,t){const n=new Map(e);return t.forEach((e=>n.delete(e))),n}};var S=function*(e,t){let n=0;for(const r of e)t(r,n++)&&(yield r)};var x=function(e,t){return function*(){let n=0;for(const r of e)yield t(r,n++)}()};var O=function(e,...t){0};function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class k{constructor(e){C(this,"key",void 0),this.key=e}}class T extends k{}class A extends k{}var I={AbstractRecoilValue:k,RecoilState:T,RecoilValueReadOnly:A,isRecoilValue:function(e){return e instanceof T||e instanceof A}},D=I.AbstractRecoilValue,P=I.RecoilState,R=I.RecoilValueReadOnly,N=I.isRecoilValue,j=Object.freeze({__proto__:null,AbstractRecoilValue:D,RecoilState:P,RecoilValueReadOnly:R,isRecoilValue:N});class M{}const L=new M;class F extends Error{constructor(e){super(`Tried to set the value of Recoil selector ${e} using an updater function, but it is an async selector in a pending or error state; this is not supported.`)}}const B=new Map,U=new Map;class V extends Error{}const z=new Map;function q(e){return z.get(e)}var Z={nodes:B,recoilValues:U,registerNode:function(e){if(B.has(e.key)){const t=`Duplicate atom key "${e.key}". This is a FATAL ERROR in\n      production. But it is safe to ignore this warning if it occurred because of\n      hot module replacement.`;console.warn(t)}B.set(e.key,e);const t=null==e.set?new j.RecoilValueReadOnly(e.key):new j.RecoilState(e.key);return U.set(e.key,t),t},getNode:function(e){const t=B.get(e);if(null==t)throw new V(`Missing definition for RecoilValue: "${e}""`);return t},getNodeMaybe:function(e){return B.get(e)},deleteNodeConfigIfPossible:function(e){var t;if(!w("recoil_memory_managament_2020"))return;const n=B.get(e);var r;(null===n||void 0===n||null===(t=n.shouldDeleteConfigOnRelease)||void 0===t?void 0:t.call(n))&&(B.delete(e),null===(r=q(e))||void 0===r||r(),z.delete(e))},setConfigDeletionHandler:function(e,t){w("recoil_memory_managament_2020")&&(void 0===t?z.delete(e):z.set(e,t))},getConfigDeletionHandler:q,recoilValuesForKeys:function(e){return x(e,(e=>a(U.get(e))))},NodeMissingError:V,DefaultValue:M,DEFAULT_VALUE:L,RecoilValueNotReady:F};class H{}var W={RetentionZone:H,retentionZone:function(){return new H}};const{setByAddingToSet:G}=E,{getNode:K,getNodeMaybe:J,recoilValuesForKeys:Y}=Z,{RetentionZone:$}=W,X=Object.freeze(new Set);class Q extends Error{}function ee(e,t,n,r){const i=e.getState();if(i.nodeCleanupFunctions.has(n))return;const o=K(n),a=function(e,t,n){if(!w("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:r}=e.getState().retention;function i(e){let n=r.get(e);n||r.set(e,n=new Set),n.add(t)}if(n instanceof $)i(n);else if(Array.isArray(n))for(const o of n)i(o);return()=>{if(!w("recoil_memory_managament_2020"))return;const r=e.getState().retention.nodesRetainedByZone;function i(e){const n=r.get(e);n&&n.delete(t),n&&0===n.size&&r.delete(e)}if(n instanceof $)i(n);else if(Array.isArray(n))for(const e of n)i(e)}}(e,n,o.retainedBy),s=o.init(e,t,r);i.nodeCleanupFunctions.set(n,(()=>{s(),a()}))}function te(e,t,n){return K(n).peek(e,t)}function ne(e,t,n){const r=new Set,i=Array.from(n),o=e.getGraph(t.version);for(let s=i.pop();s;s=i.pop()){var a;r.add(s);const e=null!==(a=o.nodeToNodeSubscriptions.get(s))&&void 0!==a?a:X;for(const t of e)r.has(t)||i.push(t)}return r}var re={getNodeLoadable:function(e,t,n){return ee(e,t,n,"get"),K(n).get(e,t)},peekNodeLoadable:te,setNodeValue:function(e,t,n,r){const i=K(n);if(null==i.set)throw new Q(`Attempt to set read-only RecoilValue: ${n}`);const o=i.set;return ee(e,t,n,"set"),o(e,t,r)},cleanUpNode:function(e,t){var n;const r=e.getState();null===(n=r.nodeCleanupFunctions.get(t))||void 0===n||n(),r.nodeCleanupFunctions.delete(t)},setUnvalidatedAtomValue_DEPRECATED:function(e,t,n){var r;const i=J(t);return null===i||void 0===i||null===(r=i.invalidate)||void 0===r||r.call(i,e),{...e,atomValues:e.atomValues.clone().delete(t),nonvalidatedAtoms:e.nonvalidatedAtoms.clone().set(t,n),dirtyAtoms:G(e.dirtyAtoms,t)}},peekNodeInfo:function(e,t,n){var r,i,o;const a=e.getState(),s=e.getGraph(t.version),u=a.knownAtoms.has(n)?"atom":a.knownSelectors.has(n)?"selector":void 0,c=S(ne(e,t,new Set([n])),(e=>e!==n));return{loadable:te(e,t,n),isActive:a.knownAtoms.has(n)||a.knownSelectors.has(n),isSet:"selector"!==u&&t.atomValues.has(n),isModified:t.dirtyAtoms.has(n),type:u,deps:Y(null!==(r=s.nodeDeps.get(n))&&void 0!==r?r:[]),subscribers:{nodes:Y(c),components:x(null!==(i=null===(o=a.nodeToComponentSubscriptions.get(n))||void 0===o?void 0:o.values())&&void 0!==i?i:[],(([e])=>({name:e})))}}},getDownstreamNodes:ne,initializeNodeIfNewToStore:ee};const{CANCELED:ie}=p,{getDownstreamNodes:oe,getNodeLoadable:ae,setNodeValue:se}=re,{getNodeMaybe:ue}=Z,{DefaultValue:ce,RecoilValueNotReady:le}=Z,{AbstractRecoilValue:fe,RecoilState:de,RecoilValueReadOnly:he,isRecoilValue:pe}=j;function ve(e,t,n){if("set"===n.type){const{recoilValue:r,valueOrUpdater:i}=n,o=function(e,t,{key:n},r){if("function"===typeof r){const i=ae(e,t,n);if("loading"===i.state)throw new le(n);if("hasError"===i.state)throw i.contents;return r(i.contents)}return r}(e,t,r,i),a=se(e,t,r.key,o);for(const[e,n]of a.entries())me(t,e,n)}else if("setLoadable"===n.type){const{recoilValue:{key:e},loadable:r}=n;me(t,e,r)}else if("markModified"===n.type){const{recoilValue:{key:e}}=n;t.dirtyAtoms.add(e)}else if("setUnvalidated"===n.type){var r;const{recoilValue:{key:e},unvalidatedValue:i}=n,o=ue(e);null===o||void 0===o||null===(r=o.invalidate)||void 0===r||r.call(o,t),t.atomValues.delete(e),t.nonvalidatedAtoms.set(e,i),t.dirtyAtoms.add(e)}else _(`Unknown action ${n.type}`)}function me(e,t,n){"hasValue"===n.state&&n.contents instanceof ce?e.atomValues.delete(t):e.atomValues.set(t,n),e.dirtyAtoms.add(t),e.nonvalidatedAtoms.delete(t)}function ge(e,t){e.replaceState((n=>{const r=we(n);for(const i of t)ve(e,r,i);return _e(e,r),r}))}function ye(e,t){if(be.length){const n=be[be.length-1];let r=n.get(e);r||n.set(e,r=[]),r.push(t)}else ge(e,[t])}const be=[];function we(e){return{...e,atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(e.dirtyAtoms)}}function _e(e,t){const n=oe(e,t,t.dirtyAtoms);for(const o of n){var r,i;null===(r=ue(o))||void 0===r||null===(i=r.invalidate)||void 0===i||i.call(r,t)}}function Ee(e,t,n){ye(e,{type:"set",recoilValue:t,valueOrUpdater:n})}let Se=0;var xe={RecoilValueReadOnly:he,AbstractRecoilValue:fe,RecoilState:de,getRecoilValueAsLoadable:function(e,{key:t},n=e.getState().currentTree){var r,i;const o=e.getState();n.version!==o.currentTree.version&&n.version!==(null===(r=o.nextTree)||void 0===r?void 0:r.version)&&n.version!==(null===(i=o.previousTree)||void 0===i?void 0:i.version)&&_("Tried to read from a discarded tree");const a=ae(e,n,t);return"loading"===a.state&&a.contents.catch((()=>ie)),a},setRecoilValue:Ee,setRecoilValueLoadable:function(e,t,n){if(n instanceof ce)return Ee(e,t,n);ye(e,{type:"setLoadable",recoilValue:t,loadable:n})},markRecoilValueModified:function(e,t){ye(e,{type:"markModified",recoilValue:t})},setUnvalidatedRecoilValue:function(e,t,n){ye(e,{type:"setUnvalidated",recoilValue:t,unvalidatedValue:n})},subscribeToRecoilValue:function(e,{key:t},n,r=null){const i=Se++,o=e.getState();if(o.nodeToComponentSubscriptions.has(t)||o.nodeToComponentSubscriptions.set(t,new Map),a(o.nodeToComponentSubscriptions.get(t)).set(i,[null!==r&&void 0!==r?r:"<not captured>",n]),w("recoil_early_rendering_2021")){const r=e.getState().nextTree;r&&r.dirtyAtoms.has(t)&&n(r)}return{release:()=>{const n=e.getState(),r=n.nodeToComponentSubscriptions.get(t);void 0!==r&&r.has(i)?(r.delete(i),0===r.size&&n.nodeToComponentSubscriptions.delete(t)):_(`Subscription missing at release time for atom ${t}. This is a bug in Recoil.`)}}},isRecoilValue:pe,applyAtomValueWrites:function(e,t){const n=e.clone();return t.forEach(((e,t)=>{"hasValue"===e.state&&e.contents instanceof ce?n.delete(t):n.set(t,e)})),n},batchStart:function(){const e=new Map;return be.push(e),()=>{for(const[t,n]of e)ge(t,n);be.pop()!==e&&_("Incorrect order of batch popping")}},writeLoadableToTreeState:me,invalidateDownstreams:_e,copyTreeState:we,invalidateDownstreams_FOR_TESTING:_e};const{unstable_batchedUpdates:Oe}=i;var Ce={unstable_batchedUpdates:Oe};const{unstable_batchedUpdates:ke}=Ce;var Te={unstable_batchedUpdates:ke};const{batchStart:Ae}=xe,{unstable_batchedUpdates:Ie}=Te;let De=Ie;var Pe={getBatcher:()=>De,setBatcher:e=>{De=e},batchUpdates:e=>{De((()=>{let t=()=>{};try{t=Ae(),e()}finally{t()}}))}};var Re={enqueueExecution:function(e,t){t()}};var Ne=function(e,...t){const n=new Set;e:for(const r of e){for(const e of t)if(e.has(r))continue e;n.add(r)}return n};var je=function(e,t){const n=new Map;return e.forEach(((e,r)=>{n.set(r,t(e,r))})),n};function Me(e,t,n){const{nodeDeps:r,nodeToNodeSubscriptions:i}=t;e.forEach(((e,t)=>{const o=r.get(t);if(o&&n&&o!==n.nodeDeps.get(t))return;r.set(t,new Set(e));if((null==o?e:Ne(e,o)).forEach((e=>{i.has(e)||i.set(e,new Set);a(i.get(e)).add(t)})),o){Ne(o,e).forEach((e=>{if(!i.has(e))return;const n=a(i.get(e));n.delete(t),0===n.size&&i.delete(e)}))}}))}var Le={addToDependencyMap:function(e,t,n){n.has(e)||n.set(e,new Set),a(n.get(e)).add(t)},cloneGraph:function(e){return{nodeDeps:je(e.nodeDeps,(e=>new Set(e))),nodeToNodeSubscriptions:je(e.nodeToNodeSubscriptions,(e=>new Set(e)))}},graph:function(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}},mergeDepsIntoDependencyMap:function(e,t){e.forEach(((e,n)=>{t.has(n)||t.set(n,new Set);const r=a(t.get(n));e.forEach((e=>r.add(e)))}))},saveDependencyMapToStore:function(e,t,n){var r,i,o,a;const s=t.getState();n!==s.currentTree.version&&n!==(null===(r=s.nextTree)||void 0===r?void 0:r.version)&&n!==(null===(i=s.previousTree)||void 0===i?void 0:i.version)&&_("Tried to save dependencies to a discarded tree");const u=t.getGraph(n);if(Me(e,u),n===(null===(o=s.previousTree)||void 0===o?void 0:o.version)){Me(e,t.getGraph(s.currentTree.version),u)}if(n===(null===(a=s.previousTree)||void 0===a?void 0:a.version)||n===s.currentTree.version){var c;const n=null===(c=s.nextTree)||void 0===c?void 0:c.version;if(void 0!==n){Me(e,t.getGraph(n),u)}}}};var Fe,Be,Ue=(Fe=function(e){var t="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n={},r=Math.pow(2,5),i=r-1,o=r/2,a=r/4,s={},u=function(e){return function(){return e}},c=n.hash=function(e){var n="undefined"===typeof e?"undefined":t(e);if("number"===n)return e;"string"!==n&&(e+="");for(var r=0,i=0,o=e.length;i<o;++i)r=(r<<5)-r+e.charCodeAt(i)|0;return r},l=function(e,t){return t>>>e&i},f=function(e){return 1<<e},d=function(e,t){return n=e&t-1,n=(n=(858993459&(n-=n>>1&1431655765))+(n>>2&858993459))+(n>>4)&252645135,127&(n+=n>>8)+(n>>16);var n},h=function(e,t,n,r){var i=r;if(!e){var o=r.length;i=new Array(o);for(var a=0;a<o;++a)i[a]=r[a]}return i[t]=n,i},p=function(e,t,n){var r=n.length-1,i=0,o=0,a=n;if(e)i=o=t;else for(a=new Array(r);i<t;)a[o++]=n[i++];for(++i;i<=r;)a[o++]=n[i++];return e&&(a.length=r),a},v={__hamt_isEmpty:!0},m=function(e){return e===v||e&&e.__hamt_isEmpty},g=function(e,t,n,r){return{type:1,edit:e,hash:t,key:n,value:r,_modify:S}},y=function(e,t,n){return{type:2,edit:e,hash:t,children:n,_modify:x}},b=function(e,t,n){return{type:3,edit:e,mask:t,children:n,_modify:O}},w=function(e,t,n){return{type:4,edit:e,size:t,children:n,_modify:C}},_=function e(t,n,r,i,o,a){if(r===o)return y(t,r,[a,i]);var s=l(n,r),u=l(n,o);return b(t,f(s)|f(u),s===u?[e(t,n+5,r,i,o,a)]:s<u?[i,a]:[a,i])},E=function(e,t){return e===t.edit},S=function(e,t,n,r,i,o,a){if(t(o,this.key)){var u=r(this.value);return u===this.value?this:u===s?(--a.value,v):E(e,this)?(this.value=u,this):g(e,i,o,u)}var c=r();return c===s?this:(++a.value,_(e,n,this.hash,this,i,g(e,i,o,c)))},x=function(e,t,n,r,i,o,a){if(i===this.hash){var u=function(e,t,n,r,i,o,a,u){for(var c=i.length,l=0;l<c;++l){var f=i[l];if(n(a,f.key)){var d=f.value,v=o(d);return v===d?i:v===s?(--u.value,p(e,l,i)):h(e,l,g(t,r,a,v),i)}}var m=o();return m===s?i:(++u.value,h(e,c,g(t,r,a,m),i))}(E(e,this),e,t,this.hash,this.children,r,o,a);return u===this.children?this:u.length>1?y(e,this.hash,u):u[0]}var c=r();return c===s?this:(++a.value,_(e,n,this.hash,this,i,g(e,i,o,c)))},O=function(e,t,n,r,i,a,s){var u=this.mask,c=this.children,g=l(n,i),y=f(g),_=d(u,y),S=u&y,x=S?c[_]:v,O=x._modify(e,t,n+5,r,i,a,s);if(x===O)return this;var C,k=E(e,this),T=u,A=void 0;if(S&&m(O)){if(!(T&=~y))return v;if(c.length<=2&&((C=c[1^_])===v||1===C.type||2===C.type))return c[1^_];A=p(k,_,c)}else if(S||m(O))A=h(k,_,O,c);else{if(c.length>=o)return function(e,t,n,r,i){for(var o=[],a=r,s=0,u=0;a;++u)1&a&&(o[u]=i[s++]),a>>>=1;return o[t]=n,w(e,s+1,o)}(e,g,O,u,c);T|=y,A=function(e,t,n,r){var i=r.length;if(e){for(var o=i;o>=t;)r[o--]=r[o];return r[t]=n,r}for(var a=0,s=0,u=new Array(i+1);a<t;)u[s++]=r[a++];for(u[t]=n;a<i;)u[++s]=r[a++];return u}(k,_,O,c)}return k?(this.mask=T,this.children=A,this):b(e,T,A)},C=function(e,t,n,r,i,o,s){var u=this.size,c=this.children,f=l(n,i),d=c[f],p=(d||v)._modify(e,t,n+5,r,i,o,s);if(d===p)return this;var g=E(e,this),y=void 0;if(m(d)&&!m(p))++u,y=h(g,f,p,c);else if(!m(d)&&m(p)){if(--u<=a)return function(e,t,n,r){for(var i=new Array(t-1),o=0,a=0,s=0,u=r.length;s<u;++s)if(s!==n){var c=r[s];c&&!m(c)&&(i[o++]=c,a|=1<<s)}return b(e,a,i)}(e,u,f,c);y=h(g,f,v,c)}else y=h(g,f,p,c);return g?(this.size=u,this.children=y,this):w(e,u,y)};function k(e,t,n,r,i){this._editable=e,this._edit=t,this._config=n,this._root=r,this._size=i}v._modify=function(e,t,n,r,i,o,a){var u=r();return u===s?v:(++a.value,g(e,i,o,u))},k.prototype.setTree=function(e,t){return this._editable?(this._root=e,this._size=t,this):e===this._root?this:new k(this._editable,this._edit,this._config,e,t)};var T=n.tryGetHash=function(e,t,n,r){for(var i=r._root,o=0,a=r._config.keyEq;;)switch(i.type){case 1:return a(n,i.key)?i.value:e;case 2:if(t===i.hash)for(var s=i.children,u=0,c=s.length;u<c;++u){var h=s[u];if(a(n,h.key))return h.value}return e;case 3:var p=l(o,t),v=f(p);if(i.mask&v){i=i.children[d(i.mask,v)],o+=5;break}return e;case 4:if(i=i.children[l(o,t)]){o+=5;break}return e;default:return e}};k.prototype.tryGetHash=function(e,t,n){return T(e,t,n,this)};var A=n.tryGet=function(e,t,n){return T(e,n._config.hash(t),t,n)};k.prototype.tryGet=function(e,t){return A(e,t,this)};var I=n.getHash=function(e,t,n){return T(void 0,e,t,n)};k.prototype.getHash=function(e,t){return I(e,t,this)},n.get=function(e,t){return T(void 0,t._config.hash(e),e,t)},k.prototype.get=function(e,t){return A(t,e,this)};var D=n.has=function(e,t,n){return T(s,e,t,n)!==s};k.prototype.hasHash=function(e,t){return D(e,t,this)};var P=n.has=function(e,t){return D(t._config.hash(e),e,t)};k.prototype.has=function(e){return P(e,this)};var R=function(e,t){return e===t};n.make=function(e){return new k(0,0,{keyEq:e&&e.keyEq||R,hash:e&&e.hash||c},v,0)},n.empty=n.make();var N=n.isEmpty=function(e){return e&&!!m(e._root)};k.prototype.isEmpty=function(){return N(this)};var j=n.modifyHash=function(e,t,n,r){var i={value:r._size},o=r._root._modify(r._editable?r._edit:NaN,r._config.keyEq,0,e,t,n,i);return r.setTree(o,i.value)};k.prototype.modifyHash=function(e,t,n){return j(n,e,t,this)};var M=n.modify=function(e,t,n){return j(e,n._config.hash(t),t,n)};k.prototype.modify=function(e,t){return M(t,e,this)};var L=n.setHash=function(e,t,n,r){return j(u(n),e,t,r)};k.prototype.setHash=function(e,t,n){return L(e,t,n,this)};var F=n.set=function(e,t,n){return L(n._config.hash(e),e,t,n)};k.prototype.set=function(e,t){return F(e,t,this)};var B=u(s),U=n.removeHash=function(e,t,n){return j(B,e,t,n)};k.prototype.removeHash=k.prototype.deleteHash=function(e,t){return U(e,t,this)};var V=n.remove=function(e,t){return U(t._config.hash(e),e,t)};k.prototype.remove=k.prototype.delete=function(e){return V(e,this)};var z=n.beginMutation=function(e){return new k(e._editable+1,e._edit+1,e._config,e._root,e._size)};k.prototype.beginMutation=function(){return z(this)};var q=n.endMutation=function(e){return e._editable=e._editable&&e._editable-1,e};k.prototype.endMutation=function(){return q(this)};var Z=n.mutate=function(e,t){var n=z(t);return e(n),q(n)};k.prototype.mutate=function(e){return Z(e,this)};var H=function(e){return e&&W(e[0],e[1],e[2],e[3],e[4])},W=function(e,t,n,r,i){for(;n<e;){var o=t[n++];if(o&&!m(o))return G(o,r,[e,t,n,r,i])}return H(i)},G=function(e,t,n){switch(e.type){case 1:return{value:t(e),rest:n};case 2:case 4:case 3:var r=e.children;return W(r.length,r,0,t,n);default:return H(n)}},K={done:!0};function J(e){this.v=e}J.prototype.next=function(){if(!this.v)return K;var e=this.v;return this.v=H(e.rest),e},J.prototype[Symbol.iterator]=function(){return this};var Y=function(e,t){return new J(G(e._root,t))},$=function(e){return[e.key,e.value]},X=n.entries=function(e){return Y(e,$)};k.prototype.entries=k.prototype[Symbol.iterator]=function(){return X(this)};var Q=function(e){return e.key},ee=n.keys=function(e){return Y(e,Q)};k.prototype.keys=function(){return ee(this)};var te=function(e){return e.value},ne=n.values=k.prototype.values=function(e){return Y(e,te)};k.prototype.values=function(){return ne(this)};var re=n.fold=function(e,t,n){var r=n._root;if(1===r.type)return e(t,r.value,r.key);for(var i=[r.children],o=void 0;o=i.pop();)for(var a=0,s=o.length;a<s;){var u=o[a++];u&&u.type&&(1===u.type?t=e(t,u.value,u.key):i.push(u.children))}return t};k.prototype.fold=function(e,t){return re(e,t,this)};var ie=n.forEach=function(e,t){return re((function(n,r,i){return e(r,i,t)}),null,t)};k.prototype.forEach=function(e){return ie(e,this)};var oe=n.count=function(e){return e._size};k.prototype.count=function(){return oe(this)},Object.defineProperty(k.prototype,"size",{get:k.prototype.count}),e.exports?e.exports=n:(void 0).hamt=n},Fe(Be={exports:{}},Be.exports),Be.exports);class Ve{constructor(e){C(this,"_map",void 0),this._map=new Map(null===e||void 0===e?void 0:e.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(e){return this._map.get(e)}has(e){return this._map.has(e)}set(e,t){return this._map.set(e,t),this}delete(e){return this._map.delete(e),this}clone(){return qe(this)}toMap(){return new Map(this._map)}}class ze{constructor(e){if(C(this,"_hamt",Ue.empty.beginMutation()),e instanceof ze){const t=e._hamt.endMutation();e._hamt=t.beginMutation(),this._hamt=t.beginMutation()}else if(e)for(const[t,n]of e.entries())this._hamt.set(t,n)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(e){return this._hamt.get(e)}has(e){return this._hamt.has(e)}set(e,t){return this._hamt.set(e,t),this}delete(e){return this._hamt.delete(e),this}clone(){return qe(this)}toMap(){return new Map(this._hamt)}}function qe(e){return w("recoil_hamt_2020")?new ze(e):new Ve(e)}var Ze=qe,He=Object.freeze({__proto__:null,persistentMap:Ze});const{graph:We}=Le,{persistentMap:Ge}=He;let Ke=0;const Je=()=>Ke++;function Ye(){const e=Je();return{version:e,stateID:e,transactionMetadata:{},dirtyAtoms:new Set,atomValues:Ge(),nonvalidatedAtoms:Ge()}}var $e={makeEmptyTreeState:Ye,makeEmptyStoreState:function(){const e=Ye();return{currentTree:e,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:(new Map).set(e.version,We()),versionsUsedByComponent:new Map,retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}},getNextTreeStateVersion:Je};var Xe=function(...e){const t=new Set;for(const n of e)for(const e of n)t.add(e);return t};var Qe=function(e,t,n){const r=e.entries();let i=r.next();for(;!i.done;){const o=i.value;if(t.call(n,o[1],o[0],e))return!0;i=r.next()}return!1};const{cleanUpNode:et}=re,{deleteNodeConfigIfPossible:tt,getNode:nt}=Z,{RetentionZone:rt}=W,it=new Set;function ot(e,t){const n=e.getState(),r=n.currentTree;if(n.nextTree)return void _("releaseNodesNowOnCurrentTree should only be called at the end of a batch");const i=new Set;for(const a of t)if(a instanceof rt)for(const e of st(n,a))i.add(e);else i.add(a);const o=function(e,t){const n=e.getState(),r=n.currentTree,i=e.getGraph(r.version),o=new Set,s=new Set;return u(t),o;function u(t){const c=new Set,l=function(e,t,n,r,i){const o=e.getGraph(t.version),s=[],u=new Set;for(;n.size>0;)c(a(n.values().next().value));return s;function c(e){if(r.has(e)||i.has(e))return void n.delete(e);if(u.has(e))return;const t=o.nodeToNodeSubscriptions.get(e);if(t)for(const n of t)c(n);u.add(e),n.delete(e),s.push(e)}}(e,r,t,o,s);for(const e of l){var f;if("recoilRoot"===nt(e).retainedBy){s.add(e);continue}if((null!==(f=n.retention.referenceCounts.get(e))&&void 0!==f?f:0)>0){s.add(e);continue}if(ut(e).some((e=>n.retention.referenceCounts.get(e)))){s.add(e);continue}const t=i.nodeToNodeSubscriptions.get(e);t&&Qe(t,(e=>s.has(e)))?s.add(e):(o.add(e),c.add(e))}const d=new Set;for(const e of c)for(const t of null!==(h=i.nodeDeps.get(e))&&void 0!==h?h:it){var h;o.has(t)||d.add(t)}d.size&&u(d)}}(e,i);for(const a of o)at(e,r,a)}function at(e,t,n){if(!w("recoil_memory_managament_2020"))return;et(e,n);const r=e.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);const i=ut(n);for(const u of i){var o;null===(o=r.retention.nodesRetainedByZone.get(u))||void 0===o||o.delete(n)}t.atomValues.delete(n),t.dirtyAtoms.delete(n),t.nonvalidatedAtoms.delete(n);const a=r.graphsByVersion.get(t.version);if(a){const e=a.nodeDeps.get(n);if(void 0!==e){a.nodeDeps.delete(n);for(const t of e){var s;null===(s=a.nodeToNodeSubscriptions.get(t))||void 0===s||s.delete(n)}}a.nodeToNodeSubscriptions.delete(n)}tt(n)}function st(e,t){var n;return null!==(n=e.retention.nodesRetainedByZone.get(t))&&void 0!==n?n:it}function ut(e){const t=nt(e).retainedBy;return void 0===t||"components"===t||"recoilRoot"===t?[]:t instanceof rt?[t]:t}function ct(e,t){if(!w("recoil_memory_managament_2020"))return;e.getState().retention.referenceCounts.delete(t),function(e,t){const n=e.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(t):ot(e,new Set([t]))}(e,t)}var lt={updateRetainCount:function(e,t,n){var r;if(!w("recoil_memory_managament_2020"))return;const i=e.getState().retention.referenceCounts,o=(null!==(r=i.get(t))&&void 0!==r?r:0)+n;0===o?ct(e,t):i.set(t,o)},updateRetainCountToZero:ct,releaseScheduledRetainablesNow:function(e){if(!w("recoil_memory_managament_2020"))return;const t=e.getState();ot(e,t.retention.retainablesToCheckForRelease),t.retention.retainablesToCheckForRelease.clear()},retainedByOptionWithDefault:function(e){return void 0===e?"recoilRoot":e}};var ft=function*(e){for(const t of e)for(const e of t)yield e};var dt={isSSR:"undefined"===typeof window,isReactNative:"undefined"!==typeof navigator&&"ReactNative"===navigator.product};const{isSSR:ht}=dt,{batchUpdates:pt}=Pe,{initializeNodeIfNewToStore:vt,peekNodeInfo:mt}=re,{graph:gt}=Le,{DEFAULT_VALUE:yt,recoilValues:bt,recoilValuesForKeys:wt}=Z,{AbstractRecoilValue:_t,getRecoilValueAsLoadable:Et,setRecoilValue:St,setUnvalidatedRecoilValue:xt}=xe,{updateRetainCount:Ot}=lt,{getNextTreeStateVersion:Ct,makeEmptyStoreState:kt}=$e;class Tt{constructor(e){C(this,"_store",void 0),C(this,"_refCount",0),C(this,"getLoadable",(e=>(this.checkRefCount_INTERNAL(),Et(this._store,e)))),C(this,"getPromise",(e=>(this.checkRefCount_INTERNAL(),this.getLoadable(e).toPromise()))),C(this,"getNodes_UNSTABLE",(e=>{if(this.checkRefCount_INTERNAL(),!0===(null===e||void 0===e?void 0:e.isModified)){if(!1===(null===e||void 0===e?void 0:e.isInitialized))return[];const t=this._store.getState().currentTree;return wt(t.dirtyAtoms)}const t=this._store.getState().knownAtoms,n=this._store.getState().knownSelectors;return null==(null===e||void 0===e?void 0:e.isInitialized)?bt.values():!0===e.isInitialized?wt(ft([this._store.getState().knownAtoms,this._store.getState().knownSelectors])):S(bt.values(),(({key:e})=>!t.has(e)&&!n.has(e)))})),C(this,"getInfo_UNSTABLE",(({key:e})=>(this.checkRefCount_INTERNAL(),mt(this._store,this._store.getState().currentTree,e)))),C(this,"map",(e=>{this.checkRefCount_INTERNAL();const t=new Dt(this,pt);return e(t),It(t.getStore_INTERNAL())})),C(this,"asyncMap",(async e=>{this.checkRefCount_INTERNAL();const t=new Dt(this,pt);return await e(t),It(t.getStore_INTERNAL())})),this._store={getState:()=>e,replaceState:t=>{e.currentTree=t(e.currentTree)},getGraph:t=>{const n=e.graphsByVersion;if(n.has(t))return a(n.get(t));const r=gt();return n.set(t,r),r},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw new Error("Cannot subscribe to Snapshots")}};for(const t of this._store.getState().nodeCleanupFunctions.keys())vt(this._store,e.currentTree,t,"get"),Ot(this._store,t,1);this.retain(),this.autorelease_INTERNAL()}retain(){if(!w("recoil_memory_managament_2020"))return()=>{};this._refCount++;let e=!1;return()=>{e||(e=!0,this.release_INTERNAL())}}autorelease_INTERNAL(){w("recoil_memory_managament_2020")&&(ht||window.setTimeout((()=>this.release_INTERNAL()),0))}release_INTERNAL(){w("recoil_memory_managament_2020")&&(this._refCount--,this._refCount)}checkRefCount_INTERNAL(){w("recoil_memory_managament_2020")&&this._refCount}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this.getID_INTERNAL()}getID_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}}function At(e,t,n=!1){const r=e.getState(),i=n?Ct():t.version;return{currentTree:n?{version:i,stateID:i,transactionMetadata:{...t.transactionMetadata},dirtyAtoms:new Set(t.dirtyAtoms),atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone()}:t,commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:(new Map).set(i,e.getGraph(t.version)),versionsUsedByComponent:new Map,retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}function It(e,t="current"){const n=e.getState(),r="current"===t?n.currentTree:a(n.previousTree);return new Tt(At(e,r))}class Dt extends Tt{constructor(e,t){super(At(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0)),C(this,"_batch",void 0),C(this,"set",((e,t)=>{this.checkRefCount_INTERNAL();const n=this.getStore_INTERNAL();this._batch((()=>{Ot(n,e.key,1),St(this.getStore_INTERNAL(),e,t)}))})),C(this,"reset",(e=>{this.checkRefCount_INTERNAL();const t=this.getStore_INTERNAL();this._batch((()=>{Ot(t,e.key,1),St(this.getStore_INTERNAL(),e,yt)}))})),C(this,"setUnvalidatedAtomValues_DEPRECATED",(e=>{this.checkRefCount_INTERNAL();const t=this.getStore_INTERNAL();pt((()=>{for(const[n,r]of e.entries())Ot(t,n,1),xt(t,new _t(n),r)}))})),this._batch=t}}var Pt={Snapshot:Tt,MutableSnapshot:Dt,freshSnapshot:function(e){const t=new Tt(kt());return null!=e?t.map(e):t},cloneSnapshot:It},Rt=Pt.Snapshot,Nt=Pt.MutableSnapshot,jt=Pt.freshSnapshot,Mt=Pt.cloneSnapshot,Lt=Object.freeze({__proto__:null,Snapshot:Rt,MutableSnapshot:Nt,freshSnapshot:jt,cloneSnapshot:Mt});const{getNextTreeStateVersion:Ft,makeEmptyStoreState:Bt}=$e,{cleanUpNode:Ut,getDownstreamNodes:Vt,setNodeValue:zt,setUnvalidatedAtomValue_DEPRECATED:qt}=re,{graph:Zt}=Le,{cloneGraph:Ht}=Le,{applyAtomValueWrites:Wt}=xe,{releaseScheduledRetainablesNow:Gt}=lt,{freshSnapshot:Kt}=Lt,{useCallback:Jt,useContext:Yt,useEffect:$t,useMemo:Xt,useRef:Qt,useState:en}=r;function tn(){throw new Error("This component must be used inside a <RecoilRoot> component.")}const nn=Object.freeze({getState:tn,replaceState:tn,getGraph:tn,subscribeToTransactions:tn,addTransactionMetadata:tn});let rn=!1;function on(e){if(rn)throw new Error("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const t=e.getState();if(null===t.nextTree){w("recoil_memory_managament_2020")&&w("recoil_release_on_cascading_update_killswitch_2021")&&t.commitDepth>0&&Gt(e);const n=t.currentTree.version,r=Ft();t.nextTree={...t.currentTree,version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}},t.graphsByVersion.set(r,Ht(a(t.graphsByVersion.get(n))))}}const an=r.createContext({current:nn}),sn=()=>Yt(an),un=r.createContext(null);function cn(e,t,n){const r=Vt(e,n,n.dirtyAtoms);for(const i of r){const e=t.nodeToComponentSubscriptions.get(i);if(e)for(const[t,[r,i]]of e)i(n)}}function ln(e){const t=e.getState(),n=t.currentTree,r=n.dirtyAtoms;if(r.size){for(const[n,i]of t.nodeTransactionSubscriptions)if(r.has(n))for(const[t,r]of i)r(e);for(const[n,r]of t.transactionSubscriptions)r(e);w("recoil_early_rendering_2021")&&!t.suspendedComponentResolvers.size||(cn(e,t,n),t.suspendedComponentResolvers.forEach((e=>e())),t.suspendedComponentResolvers.clear())}t.queuedComponentCallbacks_DEPRECATED.forEach((e=>e(n))),t.queuedComponentCallbacks_DEPRECATED.splice(0,t.queuedComponentCallbacks_DEPRECATED.length)}function fn({setNotifyBatcherOfChange:e}){const t=sn(),[n,r]=en([]);return e((()=>r({}))),$t((()=>{Re.enqueueExecution("Batcher",(()=>{!function(e){const t=e.current.getState();t.commitDepth++;try{const{nextTree:n}=t;if(null===n)return;t.previousTree=t.currentTree,t.currentTree=n,t.nextTree=null,ln(e.current),null!=t.previousTree?t.graphsByVersion.delete(t.previousTree.version):_("Ended batch with no previous state, which is unexpected","recoil"),t.previousTree=null,w("recoil_memory_managament_2020")&&Gt(e.current)}finally{t.commitDepth--}}(t)}))})),$t((()=>()=>{e((()=>{}))}),[e]),null}let dn=0;function hn({initializeState_DEPRECATED:e,initializeState:t,store_INTERNAL:n,children:i}){var o;let s;const u=Qt(null),c=Jt((e=>{u.current=e}),[u]),l=null!==(o=r.createMutableSource)&&void 0!==o?o:r.unstable_createMutableSource,f=null!==n&&void 0!==n?n:{getState:()=>s.current,replaceState:e=>{const t=d.current.getState();on(d.current);const n=a(t.nextTree);let r;try{rn=!0,r=e(n)}finally{rn=!1}r!==n&&(t.nextTree=r,w("recoil_early_rendering_2021")&&cn(f,t,r),a(u.current)())},getGraph:e=>{const t=s.current.graphsByVersion;if(t.has(e))return a(t.get(e));const n=Zt();return t.set(e,n),n},subscribeToTransactions:(e,t)=>{if(null==t){const{transactionSubscriptions:t}=d.current.getState(),n=dn++;return t.set(n,e),{release:()=>{t.delete(n)}}}{const{nodeTransactionSubscriptions:n}=d.current.getState();n.has(t)||n.set(t,new Map);const r=dn++;return a(n.get(t)).set(r,e),{release:()=>{const e=n.get(t);e&&(e.delete(r),0===e.size&&n.delete(t))}}}},addTransactionMetadata:e=>{on(d.current);for(const t of Object.keys(e))a(d.current.getState().nextTree).transactionMetadata[t]=e[t]}},d=Qt(f);s=Qt(null!=e?function(e,t){const n=Bt();return t({set:(t,r)=>{const i=n.currentTree,o=zt(e,i,t.key,r),a=new Set(o.keys()),s=i.nonvalidatedAtoms.clone();for(const e of a)s.delete(e);n.currentTree={...i,dirtyAtoms:Xe(i.dirtyAtoms,a),atomValues:Wt(i.atomValues,o),nonvalidatedAtoms:s}},setUnvalidatedAtomValues:e=>{e.forEach(((e,t)=>{n.currentTree=qt(n.currentTree,t,e)}))}}),n}(f,e):null!=t?function(e){return Kt().map(e).getStore_INTERNAL().getState()}(t):Bt());const h=Xt((()=>l?l(s,(()=>s.current.currentTree.version)):null),[l,s]);return $t((()=>()=>{for(const e of d.current.getState().knownAtoms)Ut(d.current,e)}),[]),r.createElement(an.Provider,{value:d},r.createElement(un.Provider,{value:h},r.createElement(fn,{setNotifyBatcherOfChange:c}),i))}var pn={useStoreRef:sn,useRecoilMutableSource:function(){const e=Yt(un);return null==e&&O("Attempted to use a Recoil hook outside of a <RecoilRoot>. <RecoilRoot> must be an ancestor of any component that uses Recoil hooks."),e},RecoilRoot:function(e){const{override:t,...n}=e,i=sn();return!1===t&&i.current!==nn?e.children:r.createElement(hn,n)},notifyComponents_FOR_TESTING:cn,sendEndOfBatchNotifications_FOR_TESTING:ln};const{loadableWithValue:vn}=p,{DEFAULT_VALUE:mn,getNode:gn}=Z,{copyTreeState:yn,getRecoilValueAsLoadable:bn,invalidateDownstreams:wn,writeLoadableToTreeState:_n}=xe;function En(e){return"atom"===gn(e.key).nodeType}class Sn{constructor(e,t){C(this,"_store",void 0),C(this,"_treeState",void 0),C(this,"_changes",void 0),C(this,"get",(e=>{if(this._changes.has(e.key))return this._changes.get(e.key);if(!En(e))throw new Error("Reading selectors within atomicUpdate is not supported");const t=bn(this._store,e,this._treeState);if("hasValue"===t.state)return t.contents;throw"hasError"===t.state?t.contents:new Error(`Expected Recoil atom ${e.key} to have a value, but it is in a loading state.`)})),C(this,"set",((e,t)=>{if(!En(e))throw new Error("Setting selectors within atomicUpdate is not supported");if("function"===typeof t){const n=this.get(e);this._changes.set(e.key,t(n))}else this._changes.set(e.key,t)})),C(this,"reset",(e=>{this.set(e,mn)})),this._store=e,this._treeState=t,this._changes=new Map}newTreeState_INTERNAL(){if(0===this._changes.size)return this._treeState;const e=yn(this._treeState);for(const[t,n]of this._changes)_n(e,t,vn(n));return wn(this._store,e),e}}var xn=function(e){return t=>{e.replaceState((n=>{const r=new Sn(e,n);return t(r),r.newTreeState_INTERNAL()}))}},On=xn,Cn=Object.freeze({__proto__:null,atomicUpdater:On});var kn=function(e,t){const n=new Map;for(const[r,i]of e)t(i,r)&&n.set(r,i);return n};var Tn=function(e,t){const n=new Set;for(const r of e)t(r)&&n.add(r);return n};var An=function(e,t){if(!e)throw new Error(t)};var In=function(...e){const t=new Map;for(let n=0;n<e.length;n++){const r=e[n].keys();let i;for(;!(i=r.next()).done;)t.set(i.value,e[n].get(i.value))}return t};var Dn=function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0};const{useRef:Pn}=r;var Rn=function(){return Pn(),"<component name not available>"};const{atomicUpdater:Nn}=Cn,{batchUpdates:jn}=Pe,{DEFAULT_VALUE:Mn,getNode:Ln,nodes:Fn}=Z,{useRecoilMutableSource:Bn,useStoreRef:Un}=pn,{isRecoilValue:Vn}=j,{AbstractRecoilValue:zn,getRecoilValueAsLoadable:qn,setRecoilValue:Zn,setRecoilValueLoadable:Hn,setUnvalidatedRecoilValue:Wn,subscribeToRecoilValue:Gn}=xe,{updateRetainCount:Kn}=lt,{RetentionZone:Jn}=W,{Snapshot:Yn,cloneSnapshot:$n}=Lt,{setByAddingToSet:Xn}=E,{isSSR:Qn}=dt,{mutableSourceExists:er,useMutableSource:tr}=m,{useCallback:nr,useEffect:rr,useMemo:ir,useRef:or,useState:ar}=r,sr=12e4;function ur(e,t,n){if("hasValue"===e.state)return e.contents;if("loading"===e.state){throw new Promise((e=>{n.current.getState().suspendedComponentResolvers.add(e)}))}if("hasError"===e.state)throw e.contents;throw new Error(`Invalid value of loadable atom "${t.key}"`)}function cr(e){return w("recoil_memory_managament_2020")&&yr(e),er()?function(e){const t=Un(),n=nr((()=>{var n;const r=t.current,i=r.getState(),o=w("recoil_early_rendering_2021")&&null!==(n=i.nextTree)&&void 0!==n?n:i.currentTree;return qn(r,e,o)}),[t,e]),r=nr((()=>n()),[n]),i=Rn(),o=nr(((r,o)=>{const a=t.current;return Gn(a,e,(()=>{if(!w("recoil_suppress_rerender_in_callback"))return o();const e=n();u.current.is(e)||o(),u.current=e}),i).release}),[t,e,i,n]),a=Bn(),s=tr(a,r,o),u=or(s);return rr((()=>{u.current=s})),s}(e):function(e){const t=Un(),[n,r]=ar([]),i=Rn();rr((()=>{const n=t.current,o=n.getState(),s=Gn(n,e,(t=>{var i;if(!w("recoil_suppress_rerender_in_callback"))return r([]);const o=qn(n,e,n.getState().currentTree);(null===(i=a.current)||void 0===i?void 0:i.is(o))||r(o),a.current=o}),i);if(o.nextTree)n.getState().queuedComponentCallbacks_DEPRECATED.push((()=>{a.current=null,r([])}));else{var u;if(!w("recoil_suppress_rerender_in_callback"))return r([]);const t=qn(n,e,n.getState().currentTree);(null===(u=a.current)||void 0===u?void 0:u.is(t))||r(t),a.current=t}return s.release}),[i,e,t]);const o=qn(t.current,e),a=or(o);return rr((()=>{a.current=o})),o}(e)}function lr(e){const t=Un();return ur(cr(e),e,t)}function fr(e){const t=Un();return nr((n=>{Zn(t.current,e,n)}),[t,e])}function dr(e){const t=Un();rr((()=>t.current.subscribeToTransactions(e).release),[e,t])}function hr(e){const t=e.atomValues.toMap(),n=je(kn(t,((e,t)=>{const n=Ln(t).persistence_UNSTABLE;return null!=n&&"none"!==n.type&&"hasValue"===e.state})),(e=>e.contents));return In(e.nonvalidatedAtoms.toMap(),n)}function pr(e){const t=or();return rr((()=>{t.current=e})),t.current}function vr(){const e=Un();return nr((t=>{var n;const r=e.current.getState(),i=null!==(n=r.nextTree)&&void 0!==n?n:r.currentTree,o=t.getStore_INTERNAL().getState().currentTree;jn((()=>{const n=new Set;for(const e of[i.atomValues.keys(),o.atomValues.keys()])for(const t of e){var r,s;(null===(r=i.atomValues.get(t))||void 0===r?void 0:r.contents)!==(null===(s=o.atomValues.get(t))||void 0===s?void 0:s.contents)&&Ln(t).shouldRestoreFromSnapshots&&n.add(t)}n.forEach((t=>{Hn(e.current,new zn(t),o.atomValues.has(t)?a(o.atomValues.get(t)):Mn)})),e.current.replaceState((e=>({...e,stateID:t.getID_INTERNAL()})))}))}),[e])}class mr{}const gr=new mr;function yr(e){if(w("recoil_memory_managament_2020"))return function(e){const t=(Array.isArray(e)?e:[e]).map((e=>e instanceof Jn?e:e.key)),n=Un();rr((()=>{if(!w("recoil_memory_managament_2020"))return;const e=n.current;if(r.current&&!Qn)window.clearTimeout(r.current),r.current=null;else for(const n of t)Kn(e,n,1);return()=>{for(const n of t)Kn(e,n,-1)}}),[n,...t]);const r=or(),i=pr(t);if(!Qn&&(void 0===i||!Dn(i,t))){const e=n.current;for(const n of t)Kn(e,n,1);if(i)for(const t of i)Kn(e,t,-1);r.current&&window.clearTimeout(r.current),r.current=window.setTimeout((()=>{r.current=null;for(const n of t)Kn(e,n,-1)}),sr)}}(e)}var br={recoilComponentGetRecoilValueCount_FOR_TESTING:{current:0},useGotoRecoilSnapshot:vr,useRecoilCallback:function(e,t){const n=Un(),r=vr();return nr(((...t)=>{function i(e,t){Zn(n.current,e,t)}function o(e){Zn(n.current,e,Mn)}const a=$n(n.current),s=Nn(n.current);let u=gr;return jn((()=>{const n="useRecoilCallback expects a function that returns a function: it accepts a function of the type (RecoilInterface) => T = R and returns a callback function T => R, where RecoilInterface is an object {snapshot, set, ...} and T and R are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if("function"!==typeof e)throw new Error(n);const c=e({set:i,reset:o,snapshot:a,gotoSnapshot:r,transact_UNSTABLE:s});if("function"!==typeof c)throw new Error(n);u=c(...t)})),u instanceof mr&&An(!1),u}),null!=t?[...t,n]:void 0)},useRecoilInterface:function(){const e=Un(),[t,n]=ar([]),r=or(new Set);r.current=new Set;const i=or(new Set),o=or(new Map),a=nr((e=>{const t=o.current.get(e);t&&(t.release(),o.current.delete(e))}),[o]),s=Rn();return rr((()=>{const t=e.current;function u(e,t){o.current.has(t)&&n([])}Ne(r.current,i.current).forEach((e=>{if(o.current.has(e))return void O(`Double subscription to RecoilValue "${e}"`);const n=Gn(t,new zn(e),(t=>{u(0,e)}),s);o.current.set(e,n);t.getState().nextTree?t.getState().queuedComponentCallbacks_DEPRECATED.push((()=>{u(t.getState(),e)})):u(t.getState(),e)})),Ne(i.current,r.current).forEach((e=>{a(e)})),i.current=r.current})),rr((()=>{const e=o.current;return()=>e.forEach(((e,t)=>a(t)))}),[a]),ir((()=>{function t(t){return n=>{Zn(e.current,t,n)}}function n(t){var n;r.current.has(t.key)||(r.current=Xn(r.current,t.key));const i=e.current.getState();return qn(e.current,t,w("recoil_early_rendering_2021")&&null!==(n=i.nextTree)&&void 0!==n?n:i.currentTree)}function i(t){return ur(n(t),t,e)}return{getRecoilValue:i,getRecoilValueLoadable:n,getRecoilState:function(e){return[i(e),t(e)]},getRecoilStateLoadable:function(e){return[n(e),t(e)]},getSetRecoilState:t,getResetRecoilState:function(t){return()=>Zn(e.current,t,Mn)}}}),[r,e])},useRecoilSnapshot:function(){const e=Un(),[t,n]=ar((()=>$n(e.current))),r=pr(t),i=or();return rr((()=>(i.current&&!Qn&&window.clearTimeout(i.current),t.retain())),[t]),dr(nr((e=>n($n(e))),[])),r===t||Qn||(i.current&&(null===r||void 0===r||r.release_INTERNAL(),window.clearTimeout(i.current)),t.retain(),i.current=window.setTimeout((()=>{t.release_INTERNAL(),i.current=null}),sr)),t},useRecoilState:function(e){return[lr(e),fr(e)]},useRecoilStateLoadable:function(e){return[cr(e),fr(e)]},useRecoilTransaction:function(e,t){const n=Un();return ir((()=>(...t)=>{Nn(n.current)((n=>{e(n)(...t)}))}),null!=t?[...t,n]:void 0)},useRecoilTransactionObserver:function(e){dr(nr((t=>{const n=$n(t,"current"),r=$n(t,"previous");e({snapshot:n,previousSnapshot:r})}),[e]))},useRecoilValue:lr,useRecoilValueLoadable:cr,useRetain:yr,useResetRecoilState:function(e){const t=Un();return nr((()=>{Zn(t.current,e,Mn)}),[t,e])},useSetRecoilState:fr,useSetUnvalidatedAtomValues:function(){const e=Un();return(t,n={})=>{jn((()=>{e.current.addTransactionMetadata(n),t.forEach(((t,n)=>Wn(e.current,new zn(n),t)))}))}},useTransactionObservation_DEPRECATED:function(e){dr(nr((t=>{let n=t.getState().previousTree;const r=t.getState().currentTree;n||(_("Transaction subscribers notified without a previous tree being present -- this is a bug in Recoil"),n=t.getState().currentTree);const i=hr(r),o=hr(n),a=je(Fn,(e=>{var t,n,r,i;return{persistence_UNSTABLE:{type:null!==(t=null===(n=e.persistence_UNSTABLE)||void 0===n?void 0:n.type)&&void 0!==t?t:"none",backButton:null!==(r=null===(i=e.persistence_UNSTABLE)||void 0===i?void 0:i.backButton)&&void 0!==r&&r}}})),s=Tn(r.dirtyAtoms,(e=>i.has(e)||o.has(e)));e({atomValues:i,previousAtomValues:o,atomInfo:a,modifiedAtoms:s,transactionMetadata:{...r.transactionMetadata}})}),[e]))},useTransactionSubscription_DEPRECATED:dr};const{peekNodeInfo:wr}=re,{useStoreRef:_r}=pn;var Er=function(){const e=_r();return({key:t})=>wr(e.current,e.current.getState().currentTree,t)};const{RecoilRoot:Sr,useStoreRef:xr}=pn,{useMemo:Or}=r;var Cr=function(){const e=xr().current;return Or((()=>function({children:t}){return r.createElement(Sr,{store_INTERNAL:e},t)}),[e])};const{isReactNative:kr,isSSR:Tr}=dt;function Ar(e,t,n){if("string"===typeof e&&!e.includes('"')&&!e.includes("\\"))return`"${e}"`;switch(typeof e){case"undefined":return"";case"boolean":return e?"true":"false";case"number":case"symbol":return String(e);case"string":return JSON.stringify(e);case"function":if(!0!==(null===t||void 0===t?void 0:t.allowFunctions))throw new Error("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${e.name})__`}if(null===e)return"null";var r;if("object"!==typeof e)return null!==(r=JSON.stringify(e))&&void 0!==r?r:"";if(o(e))return"__PROMISE__";if(Array.isArray(e))return`[${e.map(((e,n)=>Ar(e,t,n.toString())))}]`;if("function"===typeof e.toJSON)return Ar(e.toJSON(n),t,n);if(e instanceof Map){const r={};for(const[n,i]of e)r["string"===typeof n?n:Ar(n,t)]=i;return Ar(r,t,n)}return e instanceof Set?Ar(Array.from(e).sort(((e,n)=>Ar(e,t).localeCompare(Ar(n,t)))),t,n):void 0!==Symbol&&null!=e[Symbol.iterator]&&"function"===typeof e[Symbol.iterator]?Ar(Array.from(e),t,n):`{${Object.keys(e).filter((t=>void 0!==e[t])).sort().map((n=>`${Ar(n,t)}:${Ar(e[n],t,n)}`)).join(",")}}`}var Ir=function(e,t={allowFunctions:!1}){return Ar(e,t)};const Dr=(e,t,n)=>{var r;if(null==e)return;if(null===n||void 0===n||null===(r=n.onNodeVisit)||void 0===r||r.call(n,e),"leaf"===e.type)return e;const i=t(e.nodeKey);return Dr(e.branches.get(i),t,n)},Pr=(e,t,n,r,i,o)=>{var a;let s;if(null==e)if(0===t.length)s={type:"leaf",value:r,parent:n,branchKey:i};else{const[e,...a]=t,[u,c]=e;s={type:"branch",nodeKey:u,parent:n,branches:new Map,branchKey:i},s.branches.set(c,Pr(null,a,s,r,c,o))}else if(s=e,t.length){const[n,...i]=t,[a,s]=n;("branch"!==e.type||e.nodeKey!==a)&&An(!1),e.branches.set(s,Pr(e.branches.get(s),i,e,r,s,o))}return null===o||void 0===o||null===(a=o.onNodeVisit)||void 0===a||a.call(o,s),s},Rr=(e,t,n)=>n?(n.branches.delete(t.branchKey),Nr(e,n,n.parent)):e===t,Nr=(e,t,n)=>n?(0===t.branches.size&&n.branches.delete(t.branchKey),Nr(e,n,n.parent)):e===t,jr=e=>"leaf"===e.type?1:Array.from(e.branches.values()).reduce(((e,t)=>e+jr(t)),0);var Mr=class{constructor(e){var t,n,r;C(this,"_numLeafs",void 0),C(this,"_root",void 0),C(this,"_onHit",void 0),C(this,"_onSet",void 0),C(this,"_mapNodeValue",void 0),this._numLeafs=0,this._root=null,this._onHit=null!==(t=null===e||void 0===e?void 0:e.onHit)&&void 0!==t?t:()=>{},this._onSet=null!==(n=null===e||void 0===e?void 0:e.onSet)&&void 0!==n?n:()=>{},this._mapNodeValue=null!==(r=null===e||void 0===e?void 0:e.mapNodeValue)&&void 0!==r?r:e=>e}size(){return this._numLeafs}root(){return this._root}get(e,t){var n;return null===(n=this.getLeafNode(e,t))||void 0===n?void 0:n.value}getLeafNode(e,t){return Dr(this.root(),(t=>this._mapNodeValue(e(t))),{onNodeVisit:e=>{null===t||void 0===t||t.onNodeVisit(e),"leaf"===e.type&&this._onHit(e)}})}set(e,t,n){let r;const i=Pr(this.root(),e.map((([e,t])=>[e,this._mapNodeValue(t)])),null,t,null,{onNodeVisit:e=>{null===n||void 0===n||n.onNodeVisit(e),"leaf"===e.type&&(r=e)}});this.root()||(this._root=i),this._numLeafs++,this._onSet(a(r))}delete(e){if(!this.root())return!1;const t=a(this.root());return!!Rr(t,e,e.parent)&&(e===t||"branch"===t.type&&!t.branches.size?(this._root=null,this._numLeafs=0,!0):(this._numLeafs-=jr(e),!0))}clear(){this._numLeafs=0,this._root=null}},Lr=Object.freeze({__proto__:null,TreeCache:Mr});var Fr=class{constructor(e){var t;C(this,"_maxSize",void 0),C(this,"_size",void 0),C(this,"_head",void 0),C(this,"_tail",void 0),C(this,"_map",void 0),C(this,"_keyMapper",void 0),this._maxSize=e.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=null!==(t=e.mapKey)&&void 0!==t?t:e=>e}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(e){return this._map.has(this._keyMapper(e))}get(e){const t=this._keyMapper(e),n=this._map.get(t);if(n)return this.set(e,n.value),n.value}set(e,t){const n=this._keyMapper(e);this._map.get(n)&&this.delete(e);const r=this.head(),i={key:e,right:r,left:null,value:t};r?r.left=i:this._tail=i,this._map.set(n,i),this._head=i,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const e=this.tail();e&&this.delete(e.key)}delete(e){const t=this._keyMapper(e);if(!this._size||!this._map.has(t))return;const n=a(this._map.get(t)),r=n.right,i=n.left;r&&(r.left=n.left),i&&(i.right=n.right),n===this.head()&&(this._head=r),n===this.tail()&&(this._tail=i),this._map.delete(t),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}},Br=Object.freeze({__proto__:null,LRUCache:Fr});const{LRUCache:Ur}=Br,{TreeCache:Vr}=Lr;var zr=function(e,t=(e=>e)){const n=new Ur({maxSize:e}),r=new Vr({mapNodeValue:t,onHit:e=>{n.set(e,!0)},onSet:t=>{const i=n.tail();n.set(t,!0),i&&r.size()>e&&r.delete(i.key)}});return r};const{TreeCache:qr}=Lr,Zr={equality:"reference",eviction:"keep-all",maxSize:1/0};var Hr=function({equality:e=Zr.equality,eviction:t=Zr.eviction,maxSize:n=Zr.maxSize}=Zr){const r=function(e){switch(e){case"reference":return e=>e;case"value":return e=>Ir(e)}throw new Error(`Unrecognized equality policy ${e}`)}(e),i=function(e,t,n){switch(e){case"keep-all":return new qr({mapNodeValue:n});case"lru":return zr(a(t),n);case"most-recent":return zr(1,n)}throw new Error(`Unrecognized eviction policy ${e}`)}(t,n,r);return i};var Wr={startPerfBlock:function(e){return()=>null}};const{CANCELED:Gr,Canceled:Kr,loadableWithError:Jr,loadableWithPromise:Yr,loadableWithValue:$r}=p,{getNodeLoadable:Xr,peekNodeLoadable:Qr,setNodeValue:ei}=re,{saveDependencyMapToStore:ti}=Le,{DEFAULT_VALUE:ni,RecoilValueNotReady:ri,getConfigDeletionHandler:ii,registerNode:oi}=Z,{isRecoilValue:ai}=j,{AbstractRecoilValue:si}=j,{setRecoilValueLoadable:ui}=xe,{retainedByOptionWithDefault:ci}=lt,{cloneSnapshot:li}=Lt,{startPerfBlock:fi}=Wr,di=[],hi=new Map,pi=(()=>{let e=0;return()=>e++})();var vi=function(e){const{key:t,get:n,cachePolicy_UNSTABLE:r}=e,i=null!=e.set?e.set:void 0,s=Hr(null!==r&&void 0!==r?r:{equality:"reference",eviction:"keep-all"}),u=ci(e.retainedBy_UNSTABLE),c=new Map;let l=0;function f(){return!w("recoil_memory_managament_2020")||l>0}function d(e){return c.has(e)||c.set(e,{depValuesDiscoveredSoFarDuringAsyncWork:null,latestLoadable:null,latestExecutionId:null,stateVersion:null}),a(c.get(e))}function h(e){return l++,e.getState().knownSelectors.add(t),()=>{l--,e.getState().knownSelectors.delete(t),c.delete(e)}}function p(){return void 0!==ii(t)&&!f()}function v(e,t,n){if("loading"===t.state){let t=hi.get(n);null==t&&hi.set(n,t=new Set),t.add(e)}}function m(e,t,n){const r=e.getState().knownSelectors.has(n);if(r&&t.atomValues.has(n))return a(t.atomValues.get(n));const i=Xr(e,t,n);return"loading"!==i.state&&r&&t.atomValues.set(n,i),i}function g(e,n,r,i,o){return n.then((n=>{if(!f())return I(e,o),Gr;if(n instanceof Kr)return _("Selector was released while it had dependencies"),Gr;const{__key:i,__value:a}=null!==n&&void 0!==n?n:{};let s=!0;null!=i&&(r.atomValues.set(i,$r(a)),s=!1);const u=S(e,r);if(u&&"hasValue"===u.state)return T(u,e),{__value:u.contents,__key:t};if(!D(e,o)){var c;const e=C(r);if("loading"===(null===e||void 0===e||null===(c=e.latestLoadable)||void 0===c?void 0:c.state))return e.latestLoadable.contents}const[l,d]=E(e,r,o,s);if(D(e,o)&&A(d,e,o),P(l),"loading"!==l.state&&(N(r,x(d),l),b(e,r,new Set(d.keys()),o),y(e,l,o)),"hasError"===l.state)throw l.contents;return"hasValue"===l.state?{__value:l.contents,__key:t}:l.contents})).catch((t=>{if(!f())return I(e,o),Gr;const n=Jr(t);throw R(t),N(r,x(i),Jr(t)),b(e,r,new Set(i.keys()),o),y(e,n,o),t}))}function y(e,n,r){D(e,r)&&(T(n,e),function(e,n){const r=hi.get(n);if(void 0!==r){for(const n of r)ui(n,new si(t),e);hi.delete(n)}}(n,r))}function b(e,n,r,i){var o,a,s,u,c,l,f;(D(e,i)||n.version===(null===(o=e.getState())||void 0===o||null===(a=o.currentTree)||void 0===a?void 0:a.version)||n.version===(null===(s=e.getState())||void 0===s||null===(u=s.nextTree)||void 0===u?void 0:u.version))&&ti(new Map([[t,r]]),e,null!==(c=null===(l=e.getState())||void 0===l||null===(f=l.nextTree)||void 0===f?void 0:f.version)&&void 0!==c?c:e.getState().currentTree.version)}function E(e,r,i,a=!1){const s=fi(t);let u,c,l=!1;const d=new Map,h=new Set;function p(t){const{key:n}=t;!function(e,t,n,r,i){n.add(r),b(e,t,n,i)}(e,r,h,n,i);const o=a?Xr(e,r,n):m(e,r,n);if(P(o),d.set(n,o),"hasValue"===o.state)return o.contents;throw o.contents}b(e,r,h,i);let v=!1;const w=t=>(...n)=>{if(!v)throw new Error("getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can obtain the current Recoil state without a subscription.");const r=li(e),i=t({snapshot:r});if("function"!==typeof i)throw new Error("getCallback() expects a function that returns a function.");return i(...n)};try{u=n({get:p,getCallback:w}),u=ai(u)?p(u):u,v=!0,o(u)?u=function(e,n,r,i,a){return n.then((n=>{if(!f())return I(e,a),Gr;const o=$r(n);return R(n),N(r,x(i),o),b(e,r,new Set(i.keys()),a),y(e,o,a),{__value:n,__key:t}})).catch((t=>{if(!f())return I(e,a),Gr;if(D(e,a)&&A(i,e,a),o(t))return g(e,t,r,i,a);const n=Jr(t);throw R(t),N(r,x(i),n),b(e,r,new Set(i.keys()),a),y(e,n,a),t}))}(e,u,r,d,i).finally(s):s()}catch(_){u=_,o(u)?u=g(e,u,r,d,i).finally(s):(l=!0,s())}return c=l?Jr(u):o(u)?Yr(u):$r(u),P(c),[c,d]}function S(e,n){const r=new Set,i=d(e),o=s.get((t=>{"string"!==typeof t&&An(!1);return m(e,n,t).contents}),{onNodeVisit:e=>{"branch"===e.type&&e.nodeKey!==t&&"string"===typeof e.nodeKey&&r.add(e.nodeKey)}});return o&&b(e,n,r,i.latestExecutionId),o}function x(e){return Array.from(e.entries()).map((([e,t])=>[e,t.contents]))}function O(e,t){const n=pi(),[r,i]=E(e,t,n);return T(r,e,i,n,t),function(e,t,n){"loading"!==n.state&&N(e,t,n)}(t,x(i),r),v(e,r,n),r}function C(e){var t;const[,n]=null!==(t=Array.from(c.entries()).find((([t,n])=>null!=n.latestLoadable&&null!=n.latestExecutionId&&!function(e,t){var n,r;const i=d(e),o=null!==(n=i.depValuesDiscoveredSoFarDuringAsyncWork)&&void 0!==n?n:new Map,a=Array((null!==(r=k.get(t.version))&&void 0!==r?r:new Map).entries()),s=k.has(t.version)&&a.length===o.size&&a.every((([e,t])=>o.get(e)===t));if(null==o||t.version===i.stateVersion||s)return!1;return k.set(t.version,new Map(o)),Array.from(o).some((([n,r])=>m(e,t,n).contents!==r.contents))}(t,e))))&&void 0!==t?t:[];return n}const k=new Map;function T(e,t,n,r,i){const o=d(t);"loading"===e.state?(o.depValuesDiscoveredSoFarDuringAsyncWork=n,o.latestExecutionId=r,o.latestLoadable=e,o.stateVersion=null===i||void 0===i?void 0:i.version):(o.depValuesDiscoveredSoFarDuringAsyncWork=null,o.latestExecutionId=null,o.latestLoadable=null,o.stateVersion=null)}function A(e,t,n){const r=d(t);D(t,n)&&(r.depValuesDiscoveredSoFarDuringAsyncWork=e)}function I(e,t){D(e,t)&&c.delete(e)}function D(e,t){return t===d(e).latestExecutionId}function P(e){"loading"!==e.state&&R(e.contents)}function R(e){0}function N(e,n,r){e.atomValues.set(t,r),s.set(n,r)}function j(e,t){return s.get((n=>{"string"!==typeof n&&An(!1);const r=Qr(e,t,n);return null===r||void 0===r?void 0:r.contents}))}function M(e,n){return function(e){if(di.includes(t)){const e=`Recoil selector has circular dependencies: ${di.slice(di.indexOf(t)).join(" \u2192 ")}`;return Jr(new Error(e))}di.push(t);try{return e()}finally{di.pop()}}((()=>function(e,t){const n=S(e,t);if(null!=n)return T(n,e),n;const r=C(t);if(r){const t=r;return v(e,a(t.latestLoadable),a(t.latestExecutionId)),a(t.latestLoadable)}return O(e,t)}(e,n)))}function L(e){e.atomValues.delete(t)}if(null!=i){const n=(e,t,n)=>{let r=!1;const a=new Map;function s({key:n}){if(r)throw new Error("Recoil: Async selector sets are not currently supported.");const i=m(e,t,n);if(P(i),"hasValue"===i.state)return i.contents;throw"loading"===i.state?new ri(n):i.contents}function u(n,i){if(r)throw new Error("Recoil: Async selector sets are not currently supported.");const o="function"===typeof i?i(s(n)):i;ei(e,t,n.key,o).forEach(((e,t)=>a.set(t,e)))}const c=i({set:u,get:s,reset:function(e){u(e,ni)}},n);if(void 0!==c)throw o(c)?new Error("Recoil: Async selector sets are not currently supported."):new Error("Recoil: selector set should be a void function.");return r=!0,a};return oi({key:t,nodeType:"selector",peek:j,get:M,set:n,init:h,invalidate:L,shouldDeleteConfigOnRelease:p,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:u})}return oi({key:t,nodeType:"selector",peek:j,get:M,init:h,invalidate:L,shouldDeleteConfigOnRelease:p,dangerouslyAllowMutability:e.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:u})};const{loadableWithError:mi,loadableWithPromise:gi,loadableWithValue:yi}=p,{DEFAULT_VALUE:bi,DefaultValue:wi,getConfigDeletionHandler:_i,registerNode:Ei,setConfigDeletionHandler:Si}=Z,{isRecoilValue:xi}=j,{markRecoilValueModified:Oi,setRecoilValue:Ci,setRecoilValueLoadable:ki}=xe,{retainedByOptionWithDefault:Ti}=lt;function Ai(e){const{key:t,persistence_UNSTABLE:n}=e,r=Ti(e.retainedBy_UNSTABLE);let i,s=0,u=o(e.default)?gi(e.default.then((e=>{u=yi(e);return{__key:t,__value:e}})).catch((e=>{throw u=mi(e),e}))):yi(e.default);const c=new Map;const l=Ei({key:t,nodeType:"atom",peek:function(e,n){var r,o,a;return null!==(r=null!==(o=n.atomValues.get(t))&&void 0!==o?o:null===(a=i)||void 0===a?void 0:a[1])&&void 0!==r?r:u},get:function(e,r){if(r.atomValues.has(t))return a(r.atomValues.get(t));if(r.nonvalidatedAtoms.has(t)){if(null!=i)return i;if(null==n)return O(`Tried to restore a persisted value for atom ${t} but it has no persistence settings.`),u;const e=r.nonvalidatedAtoms.get(t),o=n.validator(e,bi),a=o instanceof wi?u:yi(o);return i=a,i}return u},set:function(e,n,r){if(n.atomValues.has(t)){const e=a(n.atomValues.get(t));if("hasValue"===e.state&&r===e.contents)return new Map}else if(!n.nonvalidatedAtoms.has(t)&&r instanceof wi)return new Map;return i=void 0,(new Map).set(t,yi(r))},init:function(n,r,i){s++;const a=n.getState().knownAtoms.has(t);if(n.getState().knownAtoms.add(t),"loading"===u.state){const e=()=>{var e;(null!==(e=n.getState().nextTree)&&void 0!==e?e:n.getState().currentTree).atomValues.has(t)||Oi(n,l)};u.contents.then(e).catch(e)}let f=bi,d=null;if(null!=e.effects_UNSTABLE&&!a){let r=!0;const a=e=>t=>{if(r){const n=f instanceof wi||o(f)?"hasValue"===u.state?u.contents:bi:f;f="function"===typeof t?t(n):t,o(f)&&(f=f.then((t=>(d={effect:e,value:t},t))))}else{if(o(t))throw new Error("Setting atoms to async values is not implemented.");"function"!==typeof t&&(d={effect:e,value:t}),Ci(n,l,"function"===typeof t?n=>{const r=t(n);return d={effect:e,value:r},r}:t)}},s=e=>()=>a(e)(bi),v=e=>r=>{n.subscribeToTransactions((n=>{var i;let{currentTree:o,previousTree:a}=n.getState();a||(_("Transaction subscribers notified without a next tree being present -- this is a bug in Recoil"),a=o);const s=null!==(i=o.atomValues.get(t))&&void 0!==i?i:u;if("hasValue"===s.state){var c,l,f,h;const n=s.contents,i=null!==(c=a.atomValues.get(t))&&void 0!==c?c:u,o="hasValue"===i.state?i.contents:bi;(null===(l=d)||void 0===l?void 0:l.effect)!==e||(null===(f=d)||void 0===f?void 0:f.value)!==n?r(n,o):(null===(h=d)||void 0===h?void 0:h.effect)===e&&(d=null)}}),t)};for(const t of null!==(h=e.effects_UNSTABLE)&&void 0!==h?h:[]){var h;const e=t({node:l,trigger:i,setSelf:a(t),resetSelf:s(t),onSet:v(t)});var p;if(null!=e)c.set(n,[...null!==(p=c.get(n))&&void 0!==p?p:[],e])}r=!1}if(!(f instanceof wi)){var v;const e=o(f)?gi(function(e,n){const r=n.then((n=>{var i,o;return(null===(o=(null!==(i=e.getState().nextTree)&&void 0!==i?i:e.getState().currentTree).atomValues.get(t))||void 0===o?void 0:o.contents)===r&&Ci(e,l,n),{__key:t,__value:n}})).catch((n=>{var i,o;throw(null===(o=(null!==(i=e.getState().nextTree)&&void 0!==i?i:e.getState().currentTree).atomValues.get(t))||void 0===o?void 0:o.contents)===r&&ki(e,l,mi(n)),n}));return r}(n,f)):yi(f);r.atomValues.set(t,e),null===(v=n.getState().nextTree)||void 0===v||v.atomValues.set(t,e)}return()=>{var e;s--,null===(e=c.get(n))||void 0===e||e.forEach((e=>e())),c.delete(n),n.getState().knownAtoms.delete(t)}},invalidate:function(){i=void 0},shouldDeleteConfigOnRelease:function(){return void 0!==_i(t)&&s<=0},dangerouslyAllowMutability:e.dangerouslyAllowMutability,persistence_UNSTABLE:e.persistence_UNSTABLE?{type:e.persistence_UNSTABLE.type,backButton:e.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return l}function Ii(e){const{default:t,...n}=e;return xi(t)?function(e){const t=Ii({...e,default:bi,persistence_UNSTABLE:void 0===e.persistence_UNSTABLE?void 0:{...e.persistence_UNSTABLE,validator:t=>t instanceof wi?t:a(e.persistence_UNSTABLE).validator(t,bi)},effects_UNSTABLE:e.effects_UNSTABLE}),n=vi({key:`${e.key}__withFallback`,get:({get:n})=>{const r=n(t);return r instanceof wi?e.default:r},set:({set:e},n)=>e(t,n),dangerouslyAllowMutability:e.dangerouslyAllowMutability});return Si(n.key,_i(e.key)),n}({...n,default:t}):Ai({...n,default:t})}var Di=Ii;var Pi=class{constructor(e){var t;C(this,"_map",void 0),C(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=null!==(t=null===e||void 0===e?void 0:e.mapKey)&&void 0!==t?t:e=>e}size(){return this._map.size}has(e){return this._map.has(this._keyMapper(e))}get(e){return this._map.get(this._keyMapper(e))}set(e,t){this._map.set(this._keyMapper(e),t)}delete(e){this._map.delete(this._keyMapper(e))}clear(){this._map.clear()}},Ri=Object.freeze({__proto__:null,MapCache:Pi});const{LRUCache:Ni}=Br,{MapCache:ji}=Ri,Mi={equality:"reference",eviction:"none",maxSize:1/0};var Li=function({equality:e=Mi.equality,eviction:t=Mi.eviction,maxSize:n=Mi.maxSize}=Mi){const r=function(e){switch(e){case"reference":return e=>e;case"value":return e=>Ir(e)}throw new Error(`Unrecognized equality policy ${e}`)}(e),i=function(e,t,n){switch(e){case"keep-all":return new ji({mapKey:n});case"lru":return new Ni({mapKey:n,maxSize:a(t)});case"most-recent":return new Ni({mapKey:n,maxSize:1})}throw new Error(`Unrecognized eviction policy ${e}`)}(t,n,r);return i};const{setConfigDeletionHandler:Fi}=Z;var Bi=function(e){var t,n;const r=Li({equality:null!==(t=null===(n=e.cachePolicyForParams_UNSTABLE)||void 0===n?void 0:n.equality)&&void 0!==t?t:"value",eviction:"keep-all"});return t=>{var n;const i=r.get(t);if(null!=i)return i;const{cachePolicyForParams_UNSTABLE:o,...a}=e,s=Di({...a,key:`${e.key}__${null!==(n=Ir(t))&&void 0!==n?n:"void"}`,default:"function"===typeof e.default?e.default(t):e.default,retainedBy_UNSTABLE:"function"===typeof e.retainedBy_UNSTABLE?e.retainedBy_UNSTABLE(t):e.retainedBy_UNSTABLE,effects_UNSTABLE:"function"===typeof e.effects_UNSTABLE?e.effects_UNSTABLE(t):e.effects_UNSTABLE});return r.set(t,s),Fi(s.key,(()=>{r.delete(t)})),s}};const{setConfigDeletionHandler:Ui}=Z;let Vi=0;var zi=function(e){var t,n;const r=Li({equality:null!==(t=null===(n=e.cachePolicyForParams_UNSTABLE)||void 0===n?void 0:n.equality)&&void 0!==t?t:"value",eviction:"keep-all"});return t=>{var n;const i=r.get(t);if(null!=i)return i;const o=`${e.key}__selectorFamily/${null!==(n=Ir(t,{allowFunctions:!0}))&&void 0!==n?n:"void"}/${Vi++}`,a=n=>e.get(t)(n),s=e.cachePolicy_UNSTABLE,u="function"===typeof e.retainedBy_UNSTABLE?e.retainedBy_UNSTABLE(t):e.retainedBy_UNSTABLE;let c;if(null!=e.set){const n=e.set;c=vi({key:o,get:a,set:(e,r)=>n(t)(e,r),cachePolicy_UNSTABLE:s,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:u})}else c=vi({key:o,get:a,cachePolicy_UNSTABLE:s,dangerouslyAllowMutability:e.dangerouslyAllowMutability,retainedBy_UNSTABLE:u});return r.set(t,c),Ui(c.key,(()=>{r.delete(t)})),c}};const qi=zi({key:"__constant",get:e=>()=>e,cachePolicyForParams_UNSTABLE:{equality:"reference"}});var Zi=function(e){return qi(e)};const Hi=zi({key:"__error",get:e=>()=>{throw new Error(e)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});var Wi=function(e){return Hi(e)};var Gi=function(e){return e};const{loadableWithError:Ki,loadableWithPromise:Ji,loadableWithValue:Yi}=p;function $i(e,t){const n=Array(t.length).fill(void 0),r=Array(t.length).fill(void 0);for(const[o,a]of t.entries())try{n[o]=e(a)}catch(i){r[o]=i}return[n,r]}function Xi(e){return null!=e&&!o(e)}function Qi(e){return Array.isArray(e)?e:Object.getOwnPropertyNames(e).map((t=>e[t]))}function eo(e){return null!=e&&"object"===typeof e&&e.hasOwnProperty("__value")?e.__value:e}function to(e,t){return Array.isArray(e)?t:Object.getOwnPropertyNames(e).reduce(((e,n,r)=>({...e,[n]:t[r]})),{})}function no(e,t,n){return to(e,n.map(((e,n)=>null==e?Yi(t[n]):o(e)?Ji(e):Ki(e))))}var ro={waitForNone:zi({key:"__waitForNone",get:e=>({get:t})=>{const n=Qi(e),[r,i]=$i(t,n);return no(e,r,i)},dangerouslyAllowMutability:!0}),waitForAny:zi({key:"__waitForAny",get:e=>({get:t})=>{const n=Qi(e),[r,i]=$i(t,n);return i.some((e=>!o(e)))?no(e,r,i):new Promise((t=>{for(const[n,a]of i.entries())o(a)&&a.then((o=>{r[n]=eo(o),i[n]=void 0,t(no(e,r,i))})).catch((o=>{i[n]=o,t(no(e,r,i))}))}))},dangerouslyAllowMutability:!0}),waitForAll:zi({key:"__waitForAll",get:e=>({get:t})=>{const n=Qi(e),[r,i]=$i(t,n);if(i.every((e=>null==e)))return to(e,r);const o=i.find(Xi);if(null!=o)throw o;return Promise.all(i).then((t=>{return to(e,(n=r,i=t,i.map(((e,t)=>void 0===e?n[t]:e))).map(eo));var n,i}))},dangerouslyAllowMutability:!0}),waitForAllSettled:zi({key:"__waitForAllSettled",get:e=>({get:t})=>{const n=Qi(e),[r,i]=$i(t,n);return i.every((e=>!o(e)))?no(e,r,i):Promise.all(i.map(((e,t)=>o(e)?e.then((e=>{r[t]=eo(e),i[t]=void 0})).catch((e=>{r[t]=void 0,i[t]=e})):null))).then((()=>no(e,r,i)))},dangerouslyAllowMutability:!0}),noWait:zi({key:"__noWait",get:e=>({get:t})=>{try{return Yi(t(e))}catch(n){return o(n)?Ji(n):Ki(n)}},dangerouslyAllowMutability:!0})};const{batchUpdates:io,setBatcher:oo}=Pe,{DefaultValue:ao}=Z,{RecoilRoot:so}=pn,{isRecoilValue:uo}=j,{retentionZone:co}=W,{freshSnapshot:lo}=Lt,{useGotoRecoilSnapshot:fo,useRecoilCallback:ho,useRecoilSnapshot:po,useRecoilState:vo,useRecoilStateLoadable:mo,useRecoilTransaction:go,useRecoilTransactionObserver:yo,useRecoilValue:bo,useRecoilValueLoadable:wo,useResetRecoilState:_o,useRetain:Eo,useSetRecoilState:So,useSetUnvalidatedAtomValues:xo,useTransactionObservation_DEPRECATED:Oo}=br,{noWait:Co,waitForAll:ko,waitForAllSettled:To,waitForAny:Ao,waitForNone:Io}=ro;var Do={DefaultValue:ao,RecoilRoot:so,useRecoilBridgeAcrossReactRoots_UNSTABLE:Cr,atom:Di,selector:vi,retentionZone:co,atomFamily:Bi,selectorFamily:zi,constSelector:Zi,errorSelector:Wi,readOnlySelector:Gi,useRecoilValue:bo,useRecoilValueLoadable:wo,useRecoilState:vo,useRecoilStateLoadable:mo,useSetRecoilState:So,useResetRecoilState:_o,useGetRecoilValueInfo_UNSTABLE:Er,useRetain:Eo,useRecoilCallback:ho,useRecoilTransaction_UNSTABLE:go,useGotoRecoilSnapshot:fo,useRecoilSnapshot:po,useRecoilTransactionObserver_UNSTABLE:yo,useTransactionObservation_UNSTABLE:Oo,useSetUnvalidatedAtomValues_UNSTABLE:xo,noWait:Co,waitForNone:Io,waitForAny:Ao,waitForAll:ko,waitForAllSettled:To,isRecoilValue:uo,batchUpdates:io,setBatcher:oo,snapshot_UNSTABLE:lo},Po=Do.RecoilRoot,Ro=Do.atom,No=Do.useRecoilValue,jo=Do.useRecoilState,Mo=Do.useSetRecoilState},57245:function(e){"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},97209:function(e,t,n){"use strict";n.r(t);var r=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),i="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,o="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),a="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(o):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var s=["top","right","bottom","left","width","height","size","weight"],u="undefined"!==typeof MutationObserver,c=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function o(){n&&(n=!1,e()),r&&u()}function s(){a(o)}function u(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(s,t);i=e}return u}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){i&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),u?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){i&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;s.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),l=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},f=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||o},d=y(0,0,0,0);function h(e){return parseFloat(e)||0}function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+h(e["border-"+n+"-width"])}),0)}function v(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return d;var r=f(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=e["padding-"+i];t[i]=h(o)}return t}(r),o=i.left+i.right,a=i.top+i.bottom,s=h(r.width),u=h(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=p(r,"left","right")+o),Math.round(u+a)!==n&&(u-=p(r,"top","bottom")+a)),!function(e){return e===f(e).document.documentElement}(e)){var c=Math.round(s+o)-t,l=Math.round(u+a)-n;1!==Math.abs(c)&&(s-=c),1!==Math.abs(l)&&(u-=l)}return y(i.left,i.top,s,u)}var m="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof f(e).SVGGraphicsElement}:function(e){return e instanceof f(e).SVGElement&&"function"===typeof e.getBBox};function g(e){return i?m(e)?function(e){var t=e.getBBox();return y(0,0,t.width,t.height)}(e):v(e):d}function y(e,t,n,r){return{x:e,y:t,width:n,height:r}}var b=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=y(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=g(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),w=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return l(a,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),a}(t);l(this,{target:e,contentRect:n})},_=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new r,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof f(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new b(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof f(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new w(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),E="undefined"!==typeof WeakMap?new WeakMap:new r,S=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=c.getInstance(),r=new _(t,n,this);E.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){S.prototype[e]=function(){var t;return(t=E.get(this))[e].apply(t,arguments)}}));var x="undefined"!==typeof o.ResizeObserver?o.ResizeObserver:S;t.default=x},10732:function(e,t,n){"use strict";n.d(t,{BS:function(){return d},_1:function(){return l},m:function(){return u}});var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)};var i=n(68594),o=n(77984),a=n(99054);function s(e,t){return function(e,t){return new i.y((function(n){return{unsubscribe:e.onSnapshot(t||{},n)}}))}(e,t)}function u(e,t){return s(e,t)}function c(e){return function(e,t){return s(e,t)}(e)}function l(e,t){return c(e).pipe((0,o.U)((function(e){return f(e,t)})))}function f(e,t){var n;return r(r({},e.data()),t?((n={})[t]=e.id,n):null)}(0,a.h)((function(e){return e.length>0}));function d(e,t){return function(e){return u(e).pipe((0,o.U)((function(e){return e.docs})))}(e).pipe((0,o.U)((function(e){return e.map((function(e){return f(e,t)}))})))}},56130:function(e,t,n){"use strict";n.d(t,{X:function(){return i}});var r=n(5163),i=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return(0,r.ZT)(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){var e=this,t=e.hasError,n=e.thrownError,r=e._value;if(t)throw n;return this._throwIfClosed(),r},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(n(17407).x)},68594:function(e,t,n){"use strict";n.d(t,{y:function(){return f}});var r=n(17080),i=n(93287),o=n(34105),a=n(69676);function s(e){return 0===e.length?a.y:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var u=n(64020),c=n(59126),l=n(24831),f=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var o=this,a=function(e){return e&&e instanceof r.Lv||function(e){return e&&(0,c.m)(e.next)&&(0,c.m)(e.error)&&(0,c.m)(e.complete)}(e)&&(0,i.Nn)(e)}(e)?e:new r.Hp(e,t,n);return(0,l.x)((function(){var e=o,t=e.operator,n=e.source;a.add(t?t.call(a,n):n?o._subscribe(a):o._trySubscribe(a))})),a},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=d(t))((function(t,i){var o=new r.Hp({next:function(t){try{e(t)}catch(n){i(n),o.unsubscribe()}},error:i,complete:t});n.subscribe(o)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[o.L]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=d(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function d(e){var t;return null!==(t=null!==e&&void 0!==e?e:u.v.Promise)&&void 0!==t?t:Promise}},17407:function(e,t,n){"use strict";n.d(t,{x:function(){return c}});var r=n(5163),i=n(68594),o=n(93287),a=(0,n(5589).d)((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),s=n(37990),u=n(24831),c=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return(0,r.ZT)(t,e),t.prototype.lift=function(e){var t=new l(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new a},t.prototype.next=function(e){var t=this;(0,u.x)((function(){var n,i;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var o=(0,r.XA)(t.currentObservers),a=o.next();!a.done;a=o.next()){a.value.next(e)}}catch(s){n={error:s}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}}}))},t.prototype.error=function(e){var t=this;(0,u.x)((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}}))},t.prototype.complete=function(){var e=this;(0,u.x)((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=this,r=n.hasError,i=n.isStopped,a=n.observers;return r||i?o.Lc:(this.currentObservers=null,a.push(e),new o.w0((function(){t.currentObservers=null,(0,s.P)(a,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t.thrownError,i=t.isStopped;n?e.error(r):i&&e.complete()},t.prototype.asObservable=function(){var e=new i.y;return e.source=this,e},t.create=function(e,t){return new l(e,t)},t}(i.y),l=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return(0,r.ZT)(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:o.Lc},t}(c)},17080:function(e,t,n){"use strict";n.d(t,{Hp:function(){return g},Lv:function(){return h}});var r=n(5163),i=n(59126),o=n(93287),a=n(64020),s=n(66278),u=n(15562),c=l("C",void 0,void 0);function l(e,t,n){return{kind:e,value:t,error:n}}var f=n(90561),d=n(24831),h=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,(0,o.Nn)(t)&&t.add(n)):n.destination=w,n}return(0,r.ZT)(t,e),t.create=function(e,t,n){return new g(e,t,n)},t.prototype.next=function(e){this.isStopped?b(function(e){return l("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?b(l("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?b(c,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(o.w0),p=Function.prototype.bind;function v(e,t){return p.call(e,t)}var m=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(n){y(n)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(n){y(n)}else y(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(t){y(t)}},e}(),g=function(e){function t(t,n,r){var o,s,u=e.call(this)||this;(0,i.m)(t)||!t?o={next:null!==t&&void 0!==t?t:void 0,error:null!==n&&void 0!==n?n:void 0,complete:null!==r&&void 0!==r?r:void 0}:u&&a.v.useDeprecatedNextContext?((s=Object.create(t)).unsubscribe=function(){return u.unsubscribe()},o={next:t.next&&v(t.next,s),error:t.error&&v(t.error,s),complete:t.complete&&v(t.complete,s)}):o=t;return u.destination=new m(o),u}return(0,r.ZT)(t,e),t}(h);function y(e){a.v.useDeprecatedSynchronousErrorHandling?(0,d.O)(e):(0,s.h)(e)}function b(e,t){var n=a.v.onStoppedNotification;n&&f.z.setTimeout((function(){return n(e,t)}))}var w={closed:!0,next:u.Z,error:function(e){throw e},complete:u.Z}},93287:function(e,t,n){"use strict";n.d(t,{Lc:function(){return u},w0:function(){return s},Nn:function(){return c}});var r=n(5163),i=n(59126),o=(0,n(5589).d)((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}})),a=n(37990),s=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,n,a,s;if(!this.closed){this.closed=!0;var u=this._parentage;if(u)if(this._parentage=null,Array.isArray(u))try{for(var c=(0,r.XA)(u),f=c.next();!f.done;f=c.next()){f.value.remove(this)}}catch(g){e={error:g}}finally{try{f&&!f.done&&(t=c.return)&&t.call(c)}finally{if(e)throw e.error}}else u.remove(this);var d=this.initialTeardown;if((0,i.m)(d))try{d()}catch(y){s=y instanceof o?y.errors:[y]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var p=(0,r.XA)(h),v=p.next();!v.done;v=p.next()){var m=v.value;try{l(m)}catch(b){s=null!==s&&void 0!==s?s:[],b instanceof o?s=(0,r.ev)((0,r.ev)([],(0,r.CR)(s)),(0,r.CR)(b.errors)):s.push(b)}}}catch(w){n={error:w}}finally{try{v&&!v.done&&(a=p.return)&&a.call(p)}finally{if(n)throw n.error}}}if(s)throw new o(s)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)l(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&(0,a.P)(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&(0,a.P)(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),u=s.EMPTY;function c(e){return e instanceof s||e&&"closed"in e&&(0,i.m)(e.remove)&&(0,i.m)(e.add)&&(0,i.m)(e.unsubscribe)}function l(e){(0,i.m)(e)?e():e.unsubscribe()}},64020:function(e,t,n){"use strict";n.d(t,{v:function(){return r}});var r={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},43806:function(e,t,n){"use strict";n.d(t,{a:function(){return b}});var r=n(68594),i=Array.isArray,o=Object.getPrototypeOf,a=Object.prototype,s=Object.keys;function u(e){if(1===e.length){var t=e[0];if(i(t))return{args:t,keys:null};if((r=t)&&"object"===typeof r&&o(r)===a){var n=s(t);return{args:n.map((function(e){return t[e]})),keys:n}}}var r;return{args:e,keys:null}}var c=n(19184),l=n(69676),f=n(5163),d=n(77984),h=Array.isArray;function p(e){return(0,d.U)((function(t){return function(e,t){return h(t)?e.apply(void 0,(0,f.ev)([],(0,f.CR)(t))):e(t)}(e,t)}))}var v=n(26932);function m(e,t){return e.reduce((function(e,n,r){return e[n]=t[r],e}),{})}var g=n(67394),y=n(90032);function b(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,v.yG)(e),i=(0,v.jO)(e),o=u(e),a=o.args,s=o.keys;if(0===a.length)return(0,c.D)([],n);var f=new r.y(w(a,n,s?function(e){return m(s,e)}:l.y));return i?f.pipe(p(i)):f}function w(e,t,n){return void 0===n&&(n=l.y),function(r){_(t,(function(){for(var i=e.length,o=new Array(i),a=i,s=i,u=function(i){_(t,(function(){var u=(0,c.D)(e[i],t),l=!1;u.subscribe((0,g.x)(r,(function(e){o[i]=e,l||(l=!0,s--),s||r.next(n(o.slice()))}),(function(){--a||r.complete()})))}),r)},l=0;l<i;l++)u(l)}),r)}}function _(e,t,n){e?(0,y.f)(n,e,t):t()}},4264:function(e,t,n){"use strict";n.d(t,{z:function(){return s}});var r=n(84309);function i(){return(0,r.J)(1)}var o=n(26932),a=n(19184);function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i()((0,a.D)(e,(0,o.yG)(e)))}},94707:function(e,t,n){"use strict";n.d(t,{P:function(){return o}});var r=n(68594),i=n(97674);function o(e){return new r.y((function(t){(0,i.Xf)(e()).subscribe(t)}))}},20:function(e,t,n){"use strict";n.d(t,{E:function(){return r}});var r=new(n(68594).y)((function(e){return e.complete()}))},19184:function(e,t,n){"use strict";n.d(t,{D:function(){return _}});var r=n(97674),i=n(90032),o=n(1118),a=n(67394);function s(e,t){return void 0===t&&(t=0),(0,o.e)((function(n,r){n.subscribe((0,a.x)(r,(function(n){return(0,i.f)(r,e,(function(){return r.next(n)}),t)}),(function(){return(0,i.f)(r,e,(function(){return r.complete()}),t)}),(function(n){return(0,i.f)(r,e,(function(){return r.error(n)}),t)})))}))}function u(e,t){return void 0===t&&(t=0),(0,o.e)((function(n,r){r.add(e.schedule((function(){return n.subscribe(r)}),t))}))}var c=n(68594);var l=n(6149),f=n(59126);function d(e,t){if(!e)throw new Error("Iterable cannot be null");return new c.y((function(n){(0,i.f)(n,t,(function(){var r=e[Symbol.asyncIterator]();(0,i.f)(n,t,(function(){r.next().then((function(e){e.done?n.complete():n.next(e.value)}))}),0,!0)}))}))}var h=n(31053),p=n(51856),v=n(9361),m=n(83651),g=n(41305),y=n(62085),b=n(42141);function w(e,t){if(null!=e){if((0,h.c)(e))return function(e,t){return(0,r.Xf)(e).pipe(u(t),s(t))}(e,t);if((0,v.z)(e))return function(e,t){return new c.y((function(n){var r=0;return t.schedule((function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())}))}))}(e,t);if((0,p.t)(e))return function(e,t){return(0,r.Xf)(e).pipe(u(t),s(t))}(e,t);if((0,g.D)(e))return d(e,t);if((0,m.T)(e))return function(e,t){return new c.y((function(n){var r;return(0,i.f)(n,t,(function(){r=e[l.h](),(0,i.f)(n,t,(function(){var e,t,i;try{t=(e=r.next()).value,i=e.done}catch(o){return void n.error(o)}i?n.complete():n.next(t)}),0,!0)})),function(){return(0,f.m)(null===r||void 0===r?void 0:r.return)&&r.return()}}))}(e,t);if((0,b.L)(e))return function(e,t){return d((0,b.Q)(e),t)}(e,t)}throw(0,y.z)(e)}function _(e,t){return t?w(e,t):(0,r.Xf)(e)}},82808:function(e,t,n){"use strict";n.d(t,{s:function(){return i}});var r=n(94707);function i(e,t,n){return(0,r.P)((function(){return e()?t:n}))}},97674:function(e,t,n){"use strict";n.d(t,{Xf:function(){return v}});var r=n(5163),i=n(9361),o=n(51856),a=n(68594),s=n(31053),u=n(41305),c=n(62085),l=n(83651),f=n(42141),d=n(59126),h=n(66278),p=n(34105);function v(e){if(e instanceof a.y)return e;if(null!=e){if((0,s.c)(e))return y=e,new a.y((function(e){var t=y[p.L]();if((0,d.m)(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if((0,i.z)(e))return g=e,new a.y((function(e){for(var t=0;t<g.length&&!e.closed;t++)e.next(g[t]);e.complete()}));if((0,o.t)(e))return v=e,new a.y((function(e){v.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,h.h)}));if((0,u.D)(e))return m(e);if((0,l.T)(e))return n=e,new a.y((function(e){var t,i;try{for(var o=(0,r.XA)(n),a=o.next();!a.done;a=o.next()){var s=a.value;if(e.next(s),e.closed)return}}catch(u){t={error:u}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(t)throw t.error}}e.complete()}));if((0,f.L)(e))return t=e,m((0,f.Q)(t))}var t,n,v,g,y;throw(0,c.z)(e)}function m(e){return new a.y((function(t){(function(e,t){var n,i,o,a;return(0,r.mG)(this,void 0,void 0,(function(){var s,u;return(0,r.Jh)(this,(function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),n=(0,r.KL)(e),c.label=1;case 1:return[4,n.next()];case 2:if((i=c.sent()).done)return[3,4];if(s=i.value,t.next(s),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return u=c.sent(),o={error:u},[3,11];case 6:return c.trys.push([6,,9,10]),i&&!i.done&&(a=n.return)?[4,a.call(n)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}},94953:function(e,t,n){"use strict";n.d(t,{T:function(){return u}});var r=n(84309),i=n(97674),o=n(20),a=n(26932),s=n(19184);function u(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,a.yG)(e),u=(0,a._6)(e,1/0),c=e;return c.length?1===c.length?(0,i.Xf)(c[0]):(0,r.J)(u)((0,s.D)(c,n)):o.E}},35120:function(e,t,n){"use strict";n.d(t,{of:function(){return o}});var r=n(26932),i=n(19184);function o(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,r.yG)(e);return(0,i.D)(e,n)}},83746:function(e,t,n){"use strict";n.d(t,{_:function(){return o}});var r=n(68594),i=n(59126);function o(e,t){var n=(0,i.m)(e)?e:function(){return e},o=function(e){return e.error(n())};return new r.y(t?function(e){return t.schedule(o,0,e)}:o)}},47864:function(e,t,n){"use strict";n.d(t,{H:function(){return a}});var r=n(68594),i=n(9947),o=n(86670);function a(e,t,n){void 0===e&&(e=0),void 0===n&&(n=i.P);var a=-1;return null!=t&&((0,o.K)(t)?n=t:a=t),new r.y((function(t){var r=function(e){return e instanceof Date&&!isNaN(e)}(e)?+e-n.now():e;r<0&&(r=0);var i=0;return n.schedule((function(){t.closed||(t.next(i++),0<=a?this.schedule(void 0,a):t.complete())}),r)}))}},67394:function(e,t,n){"use strict";n.d(t,{x:function(){return i}});var r=n(5163);function i(e,t,n,r,i){return new o(e,t,n,r,i)}var o=function(e){function t(t,n,r,i,o,a){var s=e.call(this,t)||this;return s.onFinalize=o,s.shouldUnsubscribe=a,s._next=n?function(e){try{n(e)}catch(r){t.error(r)}}:e.prototype._next,s._error=i?function(e){try{i(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,s._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,s}return(0,r.ZT)(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(n(17080).Lv)},47009:function(e,t,n){"use strict";n.d(t,{K:function(){return a}});var r=n(97674),i=n(67394),o=n(1118);function a(e){return(0,o.e)((function(t,n){var o,s=null,u=!1;s=t.subscribe((0,i.x)(n,void 0,void 0,(function(i){o=(0,r.Xf)(e(i,a(e)(t))),s?(s.unsubscribe(),s=null,o.subscribe(n)):u=!0}))),u&&(s.unsubscribe(),s=null,o.subscribe(n))}))}},61938:function(e,t,n){"use strict";n.d(t,{g:function(){return h}});var r=n(9947),i=n(4264),o=n(56718),a=n(1118),s=n(67394),u=n(15562);var c=n(77984);var l=n(62355);function f(e,t){return t?function(n){return(0,i.z)(t.pipe((0,o.q)(1),(0,a.e)((function(e,t){e.subscribe((0,s.x)(t,u.Z))}))),n.pipe(f(e)))}:(0,l.z)((function(t,n){return e(t,n).pipe((0,o.q)(1),function(e){return(0,c.U)((function(){return e}))}(t))}))}var d=n(47864);function h(e,t){void 0===t&&(t=r.z);var n=(0,d.H)(e,t);return f((function(){return n}))}},39369:function(e,t,n){"use strict";n.d(t,{x:function(){return a}});var r=n(69676),i=n(1118),o=n(67394);function a(e,t){return void 0===t&&(t=r.y),e=null!==e&&void 0!==e?e:s,(0,i.e)((function(n,r){var i,a=!0;n.subscribe((0,o.x)(r,(function(n){var o=t(n);!a&&e(i,o)||(a=!1,i=o,r.next(n))})))}))}function s(e,t){return e===t}},99054:function(e,t,n){"use strict";n.d(t,{h:function(){return o}});var r=n(1118),i=n(67394);function o(e,t){return(0,r.e)((function(n,r){var o=0;n.subscribe((0,i.x)(r,(function(n){return e.call(t,n,o++)&&r.next(n)})))}))}},77984:function(e,t,n){"use strict";n.d(t,{U:function(){return o}});var r=n(1118),i=n(67394);function o(e,t){return(0,r.e)((function(n,r){var o=0;n.subscribe((0,i.x)(r,(function(n){r.next(e.call(t,n,o++))})))}))}},84309:function(e,t,n){"use strict";n.d(t,{J:function(){return o}});var r=n(62355),i=n(69676);function o(e){return void 0===e&&(e=1/0),(0,r.z)(i.y,e)}},62355:function(e,t,n){"use strict";n.d(t,{z:function(){return c}});var r=n(77984),i=n(97674),o=n(1118),a=n(90032),s=n(67394);var u=n(59126);function c(e,t,n){return void 0===n&&(n=1/0),(0,u.m)(t)?c((function(n,o){return(0,r.U)((function(e,r){return t(n,e,o,r)}))((0,i.Xf)(e(n,o)))}),n):("number"===typeof t&&(n=t),(0,o.e)((function(t,r){return function(e,t,n,r,o,u,c,l){var f=[],d=0,h=0,p=!1,v=function(){!p||f.length||d||t.complete()},m=function(e){return d<r?g(e):f.push(e)},g=function(e){u&&t.next(e),d++;var l=!1;(0,i.Xf)(n(e,h++)).subscribe((0,s.x)(t,(function(e){null===o||void 0===o||o(e),u?m(e):t.next(e)}),(function(){l=!0}),void 0,(function(){if(l)try{d--;for(var e=function(){var e=f.shift();c?(0,a.f)(t,c,(function(){return g(e)})):g(e)};f.length&&d<r;)e();v()}catch(n){t.error(n)}})))};return e.subscribe((0,s.x)(t,m,(function(){p=!0,v()}))),function(){null===l||void 0===l||l()}}(t,r,e,n)})))}},16981:function(e,t,n){"use strict";n.d(t,{O:function(){return a}});var r=n(4264),i=n(26932),o=n(1118);function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=(0,i.yG)(e);return(0,o.e)((function(t,i){(n?(0,r.z)(e,t,n):(0,r.z)(e,t)).subscribe(i)}))}},12335:function(e,t,n){"use strict";n.d(t,{w:function(){return a}});var r=n(97674),i=n(1118),o=n(67394);function a(e,t){return(0,i.e)((function(n,i){var a=null,s=0,u=!1,c=function(){return u&&!a&&i.complete()};n.subscribe((0,o.x)(i,(function(n){null===a||void 0===a||a.unsubscribe();var u=0,l=s++;(0,r.Xf)(e(n,l)).subscribe(a=(0,o.x)(i,(function(e){return i.next(t?t(n,e,l,u++):e)}),(function(){a=null,c()})))}),(function(){u=!0,c()})))}))}},56718:function(e,t,n){"use strict";n.d(t,{q:function(){return a}});var r=n(20),i=n(1118),o=n(67394);function a(e){return e<=0?function(){return r.E}:(0,i.e)((function(t,n){var r=0;t.subscribe((0,o.x)(n,(function(t){++r<=e&&(n.next(t),e<=r&&n.complete())})))}))}},11348:function(e,t,n){"use strict";n.d(t,{b:function(){return s}});var r=n(59126),i=n(1118),o=n(67394),a=n(69676);function s(e,t,n){var s=(0,r.m)(e)||t||n?{next:e,error:t,complete:n}:e;return s?(0,i.e)((function(e,t){var n;null===(n=s.subscribe)||void 0===n||n.call(s);var r=!0;e.subscribe((0,o.x)(t,(function(e){var n;null===(n=s.next)||void 0===n||n.call(s,e),t.next(e)}),(function(){var e;r=!1,null===(e=s.complete)||void 0===e||e.call(s),t.complete()}),(function(e){var n;r=!1,null===(n=s.error)||void 0===n||n.call(s,e),t.error(e)}),(function(){var e,t;r&&(null===(e=s.unsubscribe)||void 0===e||e.call(s)),null===(t=s.finalize)||void 0===t||t.call(s)})))})):a.y}},9947:function(e,t,n){"use strict";n.d(t,{P:function(){return f},z:function(){return l}});var r=n(5163),i=function(e){function t(t,n){return e.call(this)||this}return(0,r.ZT)(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(n(93287).w0),o={setInterval:function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var a=o.delegate;return(null===a||void 0===a?void 0:a.setInterval)?a.setInterval.apply(a,(0,r.ev)([e,t],(0,r.CR)(n))):setInterval.apply(void 0,(0,r.ev)([e,t],(0,r.CR)(n)))},clearInterval:function(e){var t=o.delegate;return((null===t||void 0===t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},a=n(37990),s=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return(0,r.ZT)(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),o.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return t;o.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n,r=!1;try{this.work(e)}catch(i){r=!0,n=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,(0,a.P)(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(i),u={now:function(){return(u.delegate||Date).now()},delegate:void 0},c=function(){function e(t,n){void 0===n&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},e.now=u.now,e}(),l=new(function(e){function t(t,n){void 0===n&&(n=c.now);var r=e.call(this,t,n)||this;return r.actions=[],r._active=!1,r._scheduled=void 0,r}return(0,r.ZT)(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(c))(s),f=l},90561:function(e,t,n){"use strict";n.d(t,{z:function(){return i}});var r=n(5163),i={setTimeout:function(e,t){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];var a=i.delegate;return(null===a||void 0===a?void 0:a.setTimeout)?a.setTimeout.apply(a,(0,r.ev)([e,t],(0,r.CR)(n))):setTimeout.apply(void 0,(0,r.ev)([e,t],(0,r.CR)(n)))},clearTimeout:function(e){var t=i.delegate;return((null===t||void 0===t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0}},6149:function(e,t,n){"use strict";n.d(t,{h:function(){return r}});var r="function"===typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},34105:function(e,t,n){"use strict";n.d(t,{L:function(){return r}});var r="function"===typeof Symbol&&Symbol.observable||"@@observable"},26932:function(e,t,n){"use strict";n.d(t,{_6:function(){return u},jO:function(){return a},yG:function(){return s}});var r=n(59126),i=n(86670);function o(e){return e[e.length-1]}function a(e){return(0,r.m)(o(e))?e.pop():void 0}function s(e){return(0,i.K)(o(e))?e.pop():void 0}function u(e,t){return"number"===typeof o(e)?e.pop():t}},37990:function(e,t,n){"use strict";function r(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}n.d(t,{P:function(){return r}})},5589:function(e,t,n){"use strict";function r(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}n.d(t,{d:function(){return r}})},24831:function(e,t,n){"use strict";n.d(t,{O:function(){return a},x:function(){return o}});var r=n(64020),i=null;function o(e){if(r.v.useDeprecatedSynchronousErrorHandling){var t=!i;if(t&&(i={errorThrown:!1,error:null}),e(),t){var n=i,o=n.errorThrown,a=n.error;if(i=null,o)throw a}}else e()}function a(e){r.v.useDeprecatedSynchronousErrorHandling&&i&&(i.errorThrown=!0,i.error=e)}},90032:function(e,t,n){"use strict";function r(e,t,n,r,i){void 0===r&&(r=0),void 0===i&&(i=!1);var o=t.schedule((function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()}),r);if(e.add(o),!i)return o}n.d(t,{f:function(){return r}})},69676:function(e,t,n){"use strict";function r(e){return e}n.d(t,{y:function(){return r}})},9361:function(e,t,n){"use strict";n.d(t,{z:function(){return r}});var r=function(e){return e&&"number"===typeof e.length&&"function"!==typeof e}},41305:function(e,t,n){"use strict";n.d(t,{D:function(){return i}});var r=n(59126);function i(e){return Symbol.asyncIterator&&(0,r.m)(null===e||void 0===e?void 0:e[Symbol.asyncIterator])}},59126:function(e,t,n){"use strict";function r(e){return"function"===typeof e}n.d(t,{m:function(){return r}})},31053:function(e,t,n){"use strict";n.d(t,{c:function(){return o}});var r=n(34105),i=n(59126);function o(e){return(0,i.m)(e[r.L])}},83651:function(e,t,n){"use strict";n.d(t,{T:function(){return o}});var r=n(6149),i=n(59126);function o(e){return(0,i.m)(null===e||void 0===e?void 0:e[r.h])}},51856:function(e,t,n){"use strict";n.d(t,{t:function(){return i}});var r=n(59126);function i(e){return(0,r.m)(null===e||void 0===e?void 0:e.then)}},42141:function(e,t,n){"use strict";n.d(t,{L:function(){return a},Q:function(){return o}});var r=n(5163),i=n(59126);function o(e){return(0,r.FC)(this,arguments,(function(){var t,n,i;return(0,r.Jh)(this,(function(o){switch(o.label){case 0:t=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,(0,r.qq)(t.read())];case 3:return n=o.sent(),i=n.value,n.done?[4,(0,r.qq)(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,(0,r.qq)(i)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function a(e){return(0,i.m)(null===e||void 0===e?void 0:e.getReader)}},86670:function(e,t,n){"use strict";n.d(t,{K:function(){return i}});var r=n(59126);function i(e){return e&&(0,r.m)(e.schedule)}},1118:function(e,t,n){"use strict";n.d(t,{e:function(){return i}});var r=n(59126);function i(e){return function(t){if(function(e){return(0,r.m)(null===e||void 0===e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(n){this.error(n)}}));throw new TypeError("Unable to lift unknown Observable type")}}},15562:function(e,t,n){"use strict";function r(){}n.d(t,{Z:function(){return r}})},66278:function(e,t,n){"use strict";n.d(t,{h:function(){return o}});var r=n(64020),i=n(90561);function o(e){i.z.setTimeout((function(){var t=r.v.onUnhandledError;if(!t)throw e;t(e)}))}},62085:function(e,t,n){"use strict";function r(e){return new TypeError("You provided "+(null!==e&&"object"===typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}n.d(t,{z:function(){return r}})},77834:function(e,t,n){var r=n(48834),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"===typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},20672:function(e,t,n){"use strict";n.d(t,{MO:function(){return u},Ye:function(){return s}});var r=n(66439),i=n(12995),o={isHistory:e=>(0,r.P)(e)&&Array.isArray(e.redos)&&Array.isArray(e.undos)&&(0===e.redos.length||i.OX.isOperationList(e.redos[0].operations))&&(0===e.undos.length||i.OX.isOperationList(e.undos[0].operations))},a=(new WeakMap,new WeakMap),s=new WeakMap,u={isHistoryEditor:e=>o.isHistory(e.history)&&i.ML.isEditor(e),isMerging:e=>s.get(e),isSaving:e=>a.get(e),redo(e){e.redo()},undo(e){e.undo()},withoutMerging(e,t){var n=u.isMerging(e);s.set(e,!1),t(),s.set(e,n)},withoutSaving(e,t){var n=u.isSaving(e);a.set(e,!1),t(),a.set(e,n)}}},85009:function(e,t,n){"use strict";n.d(t,{CX:function(){return Et},F3:function(){return we},mH:function(){return Pt},UE:function(){return At},vt:function(){return Ve},ui:function(){return We},_7:function(){return Ie},BU:function(){return Lt}});var r=n(93636),i=n.n(r),o=n(54073),a=n.n(o),s=n(12436),u=n.n(s),c=n(2784);function l(e){return"object"==typeof e&&null!=e&&1===e.nodeType}function f(e,t){return(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e}function d(e,t){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return f(n.overflowY,t)||f(n.overflowX,t)||function(e){var t=function(e){if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}}(e);return!!t&&(t.clientHeight<e.scrollHeight||t.clientWidth<e.scrollWidth)}(e)}return!1}function h(e,t,n,r,i,o,a,s){return o<e&&a>t||o>e&&a<t?0:o<=e&&s<=n||a>=t&&s>=n?o-e-r:a>t&&s<n||o<e&&s>n?a-t+i:0}function p(e,t){var n=window,r=t.scrollMode,i=t.block,o=t.inline,a=t.boundary,s=t.skipOverflowHiddenElements,u="function"==typeof a?a:function(e){return e!==a};if(!l(e))throw new TypeError("Invalid target");for(var c=document.scrollingElement||document.documentElement,f=[],p=e;l(p)&&u(p);){if((p=p.parentElement)===c){f.push(p);break}null!=p&&p===document.body&&d(p)&&!d(document.documentElement)||null!=p&&d(p,s)&&f.push(p)}for(var v=n.visualViewport?n.visualViewport.width:innerWidth,m=n.visualViewport?n.visualViewport.height:innerHeight,g=window.scrollX||pageXOffset,y=window.scrollY||pageYOffset,b=e.getBoundingClientRect(),w=b.height,_=b.width,E=b.top,S=b.right,x=b.bottom,O=b.left,C="start"===i||"nearest"===i?E:"end"===i?x:E+w/2,k="center"===o?O+_/2:"end"===o?S:O,T=[],A=0;A<f.length;A++){var I=f[A],D=I.getBoundingClientRect(),P=D.height,R=D.width,N=D.top,j=D.right,M=D.bottom,L=D.left;if("if-needed"===r&&E>=0&&O>=0&&x<=m&&S<=v&&E>=N&&x<=M&&O>=L&&S<=j)return T;var F=getComputedStyle(I),B=parseInt(F.borderLeftWidth,10),U=parseInt(F.borderTopWidth,10),V=parseInt(F.borderRightWidth,10),z=parseInt(F.borderBottomWidth,10),q=0,Z=0,H="offsetWidth"in I?I.offsetWidth-I.clientWidth-B-V:0,W="offsetHeight"in I?I.offsetHeight-I.clientHeight-U-z:0;if(c===I)q="start"===i?C:"end"===i?C-m:"nearest"===i?h(y,y+m,m,U,z,y+C,y+C+w,w):C-m/2,Z="start"===o?k:"center"===o?k-v/2:"end"===o?k-v:h(g,g+v,v,B,V,g+k,g+k+_,_),q=Math.max(0,q+y),Z=Math.max(0,Z+g);else{q="start"===i?C-N-U:"end"===i?C-M+z+W:"nearest"===i?h(N,M,P,U,z+W,C,C+w,w):C-(N+P/2)+W/2,Z="start"===o?k-L-B:"center"===o?k-(L+R/2)+H/2:"end"===o?k-j+V+H:h(L,j,R,B,V+H,k,k+_,_);var G=I.scrollLeft,K=I.scrollTop;C+=K-(q=Math.max(0,Math.min(K+q,I.scrollHeight-P+W))),k+=G-(Z=Math.max(0,Math.min(G+Z,I.scrollWidth-R+H)))}T.push({el:I,top:q,left:Z})}return T}function v(e){return e===Object(e)&&0!==Object.keys(e).length}var m=function(e,t){var n=e.isConnected||e.ownerDocument.documentElement.contains(e);if(v(t)&&"function"===typeof t.behavior)return t.behavior(n?p(e,t):[]);if(n){var r=function(e){return!1===e?{block:"end",inline:"nearest"}:v(e)?e:{block:"start",inline:"nearest"}}(t);return function(e,t){void 0===t&&(t="auto");var n="scrollBehavior"in document.body.style;e.forEach((function(e){var r=e.el,i=e.top,o=e.left;r.scroll&&n?r.scroll({top:i,left:o,behavior:t}):(r.scrollTop=i,r.scrollLeft=o)}))}(p(e,r),r.behavior)}},g=n(12995),y=n(87202),b=n(28316);function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var E=0;class S{constructor(){this.id="".concat(E++)}}var x=new WeakMap,O=new WeakMap,C=new WeakMap,k=new WeakMap,T=new WeakMap,A=new WeakMap,I=new WeakMap,D=new WeakMap,P=new WeakMap,R=new WeakMap,N=new WeakMap,j=new WeakMap,M=new WeakMap,L=new WeakMap,F=new WeakMap,B=new WeakMap,U=new WeakMap,V=new WeakMap,z=new WeakMap,q=new WeakMap,Z=new WeakMap,H=new WeakMap,W=Symbol("placeholder"),G=Symbol("mark-placeholder"),K=globalThis.Text,J=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView||null,Y=e=>X(e)&&8===e.nodeType,$=e=>X(e)&&1===e.nodeType,X=e=>{var t=J(e);return!!t&&e instanceof t.Node},Q=e=>{var t=e&&e.anchorNode&&J(e.anchorNode);return!!t&&e instanceof t.Selection},ee=e=>X(e)&&3===e.nodeType,te=(e,t,n)=>{for(var{childNodes:r}=e,i=r[t],o=t,a=!1,s=!1;(Y(i)||$(i)&&0===i.childNodes.length||$(i)&&"false"===i.getAttribute("contenteditable"))&&(!a||!s);)o>=r.length?(a=!0,o=t-1,n="backward"):o<0?(s=!0,o=t+1,n="forward"):(i=r[o],t=o,o+="forward"===n?1:-1);return[i,t]},ne=(e,t,n)=>{var[r]=te(e,t,n);return r},re=e=>{var t="";if(ee(e)&&e.nodeValue)return e.nodeValue;if($(e)){for(var n of Array.from(e.childNodes))t+=re(n);var r=getComputedStyle(e).getPropertyValue("display");"block"!==r&&"list"!==r&&"BR"!==e.tagName||(t+="\n")}return t},ie=/data-slate-fragment="(.+?)"/m,oe=(e,t,n)=>{var{target:r}=t;if($(r)&&r.matches('[contentEditable="false"]'))return!1;var{document:i}=we.getWindow(e);if(i.contains(r))return we.hasDOMNode(e,r,{editable:!0});var o=n.find((e=>{var{addedNodes:t,removedNodes:n}=e;for(var i of t)if(i===r||i.contains(r))return!0;for(var o of n)if(o===r||o.contains(r))return!0}));return!(!o||o===t)&&oe(e,o,n)},ae=parseInt(c.version.split(".")[0],10)>=17,se="undefined"!==typeof navigator&&"undefined"!==typeof window&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,ue="undefined"!==typeof navigator&&/Mac OS X/.test(navigator.userAgent),ce="undefined"!==typeof navigator&&/Android/.test(navigator.userAgent),le="undefined"!==typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),fe="undefined"!==typeof navigator&&/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),de="undefined"!==typeof navigator&&/Edge?\/(?:[0-6][0-9]|[0-7][0-8])(?:\.)/i.test(navigator.userAgent),he="undefined"!==typeof navigator&&/Chrome/i.test(navigator.userAgent),pe="undefined"!==typeof navigator&&/Chrome?\/(?:[0-7][0-5]|[0-6][0-9])(?:\.)/i.test(navigator.userAgent),ve="undefined"!==typeof navigator&&/^(?!.*Seamonkey)(?=.*Firefox\/(?:[0-7][0-9]|[0-8][0-6])(?:\.)).*/i.test(navigator.userAgent),me="undefined"!==typeof navigator&&/.*UCBrowser/.test(navigator.userAgent),ge="undefined"!==typeof navigator&&/.*Wechat/.test(navigator.userAgent),ye=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),be=!pe&&!de&&"undefined"!==typeof globalThis&&globalThis.InputEvent&&"function"===typeof globalThis.InputEvent.prototype.getTargetRanges,we={isComposing:e=>!!M.get(e),getWindow(e){var t=C.get(e);if(!t)throw new Error("Unable to find a host window element for this editor");return t},findKey(e,t){var n=D.get(t);return n||(n=new S,D.set(t,n)),n},findPath(e,t){for(var n=[],r=t;;){var i=O.get(r);if(null==i){if(g.ML.isEditor(r))return n;break}var o=x.get(r);if(null==o)break;n.unshift(o),r=i}throw new Error("Unable to find the path for Slate node: ".concat(g.o4.stringify(t)))},findDocumentOrShadowRoot(e){var t=we.toDOMNode(e,e),n=t.getRootNode();return(n instanceof Document||n instanceof ShadowRoot)&&null!=n.getSelection?n:t.ownerDocument},isFocused:e=>!!j.get(e),isReadOnly:e=>!!N.get(e),blur(e){var t=we.toDOMNode(e,e),n=we.findDocumentOrShadowRoot(e);j.set(e,!1),n.activeElement===t&&t.blur()},focus(e){var t=we.toDOMNode(e,e),n=we.findDocumentOrShadowRoot(e);j.set(e,!0),n.activeElement!==t&&t.focus({preventScroll:!0})},deselect(e){var{selection:t}=e,n=we.findDocumentOrShadowRoot(e).getSelection();n&&n.rangeCount>0&&n.removeAllRanges(),t&&g.YR.deselect(e)},hasDOMNode(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{editable:i=!1}=r,o=we.toDOMNode(e,e);try{n=$(t)?t:t.parentElement}catch(a){if(!a.message.includes('Permission denied to access property "nodeType"'))throw a}return!!n&&(n.closest("[data-slate-editor]")===o&&(!(i&&!n.isContentEditable)||("boolean"===typeof n.isContentEditable&&n.closest('[contenteditable="false"]')===o||!!n.getAttribute("data-slate-zero-width"))))},insertData(e,t){e.insertData(t)},insertFragmentData:(e,t)=>e.insertFragmentData(t),insertTextData:(e,t)=>e.insertTextData(t),setFragmentData(e,t,n){e.setFragmentData(t,n)},toDOMNode(e,t){var n=P.get(e),r=g.ML.isEditor(t)?k.get(e):null===n||void 0===n?void 0:n.get(we.findKey(e,t));if(!r)throw new Error("Cannot resolve a DOM node from Slate node: ".concat(g.o4.stringify(t)));return r},toDOMPoint(e,t){var n,[r]=g.ML.node(e,t.path),i=we.toDOMNode(e,r);g.ML.void(e,{at:t})&&(t={path:t.path,offset:0});for(var o=Array.from(i.querySelectorAll("[data-slate-string], [data-slate-zero-width]")),a=0,s=0;s<o.length;s++){var u=o[s],c=u.childNodes[0];if(null!=c&&null!=c.textContent){var{length:l}=c.textContent,f=u.getAttribute("data-slate-length"),d=a+(null==f?l:parseInt(f,10)),h=o[s+1];if(t.offset===d&&null!==h&&void 0!==h&&h.hasAttribute("data-slate-mark-placeholder")){var p,v=h.childNodes[0];n=[v instanceof K?v:h,null!==(p=h.textContent)&&void 0!==p&&p.startsWith("\ufeff")?1:0];break}if(t.offset<=d){n=[c,Math.min(l,Math.max(0,t.offset-a))];break}a=d}}if(!n)throw new Error("Cannot resolve a DOM point from Slate point: ".concat(g.o4.stringify(t)));return n},toDOMRange(e,t){var{anchor:n,focus:r}=t,i=g.e6.isBackward(t),o=we.toDOMPoint(e,n),a=g.e6.isCollapsed(t)?o:we.toDOMPoint(e,r),s=we.getWindow(e).document.createRange(),[u,c]=i?a:o,[l,f]=i?o:a,d=!!($(u)?u:u.parentElement).getAttribute("data-slate-zero-width"),h=!!($(l)?l:l.parentElement).getAttribute("data-slate-zero-width");return s.setStart(u,d?1:c),s.setEnd(l,h?1:f),s},toSlateNode(e,t){var n=$(t)?t:t.parentElement;n&&!n.hasAttribute("data-slate-node")&&(n=n.closest("[data-slate-node]"));var r=n?A.get(n):null;if(!r)throw new Error("Cannot resolve a Slate node from DOM node: ".concat(n));return r},findEventRange(e,t){"nativeEvent"in t&&(t=t.nativeEvent);var{clientX:n,clientY:r,target:i}=t;if(null==n||null==r)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));var o,a=we.toSlateNode(e,t.target),s=we.findPath(e,a);if(g.ML.isVoid(e,a)){var u=i.getBoundingClientRect(),c=e.isInline(a)?n-u.left<u.left+u.width-n:r-u.top<u.top+u.height-r,l=g.ML.point(e,s,{edge:c?"start":"end"}),f=c?g.ML.before(e,l):g.ML.after(e,l);if(f)return g.ML.range(e,f)}var{document:d}=we.getWindow(e);if(d.caretRangeFromPoint)o=d.caretRangeFromPoint(n,r);else{var h=d.caretPositionFromPoint(n,r);h&&((o=d.createRange()).setStart(h.offsetNode,h.offset),o.setEnd(h.offsetNode,h.offset))}if(!o)throw new Error("Cannot resolve a Slate range from a DOM event: ".concat(t));return we.toSlateRange(e,o,{exactMatch:!1,suppressThrow:!1})},toSlatePoint(e,t,n){var{exactMatch:r,suppressThrow:i}=n,[o,a]=r?t:(e=>{var[t,n]=e;if($(t)&&t.childNodes.length){var r=n===t.childNodes.length,i=r?n-1:n;for([t,i]=te(t,i,r?"backward":"forward"),r=i<n;$(t)&&t.childNodes.length;){var o=r?t.childNodes.length-1:0;t=ne(t,o,r?"backward":"forward")}n=r&&null!=t.textContent?t.textContent.length:0}return[t,n]})(t),s=o.parentNode,u=null,c=0;if(s){var l,f,d=we.toDOMNode(e,e),h=s.closest('[data-slate-void="true"]'),p=h&&d.contains(h)?h:null,v=s.closest("[data-slate-leaf]"),m=null;if(v){if(u=v.closest('[data-slate-node="text"]')){var y=we.getWindow(e).document.createRange();y.setStart(u,0),y.setEnd(o,a);var b=y.cloneContents();[...Array.prototype.slice.call(b.querySelectorAll("[data-slate-zero-width]")),...Array.prototype.slice.call(b.querySelectorAll("[contenteditable=false]"))].forEach((e=>{ce&&!r&&e.hasAttribute("data-slate-zero-width")&&e.textContent.length>0&&"\ufeff"!==e.textContext?e.textContent.startsWith("\ufeff")&&(e.textContent=e.textContent.slice(1)):e.parentNode.removeChild(e)})),c=b.textContent.length,m=u}}else if(p){for(var w=p.querySelectorAll("[data-slate-leaf]"),_=0;_<w.length;_++){var E=w[_];if(we.hasDOMNode(e,E)){v=E;break}}v?(u=v.closest('[data-slate-node="text"]'),c=(m=v).textContent.length,m.querySelectorAll("[data-slate-zero-width]").forEach((e=>{c-=e.textContent.length}))):c=1}m&&c===m.textContent.length&&ce&&"z"===m.getAttribute("data-slate-zero-width")&&null!==(l=m.textContent)&&void 0!==l&&l.startsWith("\ufeff")&&(s.hasAttribute("data-slate-zero-width")||le&&null!==(f=m.textContent)&&void 0!==f&&f.endsWith("\n\n"))&&c--}if(ce&&!u&&!r){var S=s.hasAttribute("data-slate-node")?s:s.closest("[data-slate-node]");if(S&&we.hasDOMNode(e,S,{editable:!0})){var x=we.toSlateNode(e,S),{path:O,offset:C}=g.ML.start(e,we.findPath(e,x));return S.querySelector("[data-slate-leaf]")||(C=a),{path:O,offset:C}}}if(!u){if(i)return null;throw new Error("Cannot resolve a Slate point from DOM point: ".concat(t))}var k=we.toSlateNode(e,u);return{path:we.findPath(e,k),offset:c}},toSlateRange(e,t,n){var r,i,o,a,s,{exactMatch:u,suppressThrow:c}=n;if((Q(t)?t.anchorNode:t.startContainer)&&(Q(t)?(r=t.anchorNode,i=t.anchorOffset,o=t.focusNode,a=t.focusOffset,s=he&&(e=>{for(var t=e&&e.parentNode;t;){if("[object ShadowRoot]"===t.toString())return!0;t=t.parentNode}return!1})(r)?t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset:t.isCollapsed):(r=t.startContainer,i=t.startOffset,o=t.endContainer,a=t.endOffset,s=t.collapsed)),null==r||null==o||null==i||null==a)throw new Error("Cannot resolve a Slate range from DOM range: ".concat(t));var l=we.toSlatePoint(e,[r,i],{exactMatch:u,suppressThrow:c});if(!l)return null;var f=s?l:we.toSlatePoint(e,[o,a],{exactMatch:u,suppressThrow:c});if(!f)return null;var d={anchor:l,focus:f};return g.e6.isExpanded(d)&&g.e6.isForward(d)&&$(o)&&g.ML.void(e,{at:d.focus,mode:"highest"})&&(d=g.ML.unhangRange(e,d,{voids:!0})),d},hasRange(e,t){var{anchor:n,focus:r}=t;return g.ML.hasPath(e,n.path)&&g.ML.hasPath(e,r.path)},hasTarget:(e,t)=>X(t)&&we.hasDOMNode(e,t),hasEditableTarget:(e,t)=>X(t)&&we.hasDOMNode(e,t,{editable:!0}),hasSelectableTarget:(e,t)=>we.hasEditableTarget(e,t)||we.isTargetInsideNonReadonlyVoid(e,t),isTargetInsideNonReadonlyVoid(e,t){if(N.get(e))return!1;var n=we.hasTarget(e,t)&&we.toSlateNode(e,t);return g.ML.isVoid(e,n)},androidScheduleFlush(e){var t;null===(t=B.get(e))||void 0===t||t()},androidPendingDiffs:e=>z.get(e)},_e=ye?c.useLayoutEffect:c.useEffect,Ee=["anchor","focus"],Se=["anchor","focus"],xe=(e,t)=>Object.keys(e).length===Object.keys(t).length&&Object.keys(e).every((n=>t.hasOwnProperty(n)&&e[n]===t[n])),Oe=(e,t)=>{if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++){var r=e[n],i=t[n],o=_(r,Ee),a=_(i,Se);if(!g.e6.equals(r,i)||r[W]!==i[W]||!xe(o,a))return!1}return!0},Ce=e=>{var{isLast:t,leaf:n,parent:r,text:i}=e,o=Ie(),a=we.findPath(o,i),s=g.y$.parent(a),u=!0===n[G];return o.isVoid(r)?c.createElement(Te,{length:g.NB.string(r).length}):""!==n.text||r.children[r.children.length-1]!==i||o.isInline(r)||""!==g.ML.string(o,s)?""===n.text?c.createElement(Te,{isMarkPlaceholder:u}):t&&"\n"===n.text.slice(-1)?c.createElement(ke,{isTrailing:!0,text:n.text}):c.createElement(ke,{text:n.text}):c.createElement(Te,{isLineBreak:!0,isMarkPlaceholder:u})},ke=e=>{var{text:t,isTrailing:n=!1}=e,r=(0,c.useRef)(null),i=()=>"".concat(null!==t&&void 0!==t?t:"").concat(n?"\n":"");return _e((()=>{var e=i();r.current&&r.current.textContent!==e&&(r.current.textContent=e)})),r.current?c.createElement("span",{"data-slate-string":!0,ref:r}):c.createElement("span",{"data-slate-string":!0,ref:r},i())},Te=e=>{var{length:t=0,isLineBreak:n=!1,isMarkPlaceholder:r=!1}=e,i={"data-slate-zero-width":n?"n":"z","data-slate-length":t};return r&&(i["data-slate-mark-placeholder"]=!0),c.createElement("span",Object.assign({},i),ce&&n?null:"\ufeff",n?c.createElement("br",null):null)},Ae=(0,c.createContext)(null),Ie=()=>{var e=(0,c.useContext)(Ae);if(!e)throw new Error("The `useSlateStatic` hook must be used inside the <Slate> component's context.");return e},De=e=>{var{leaf:t,isLast:n,text:r,parent:i,renderPlaceholder:o,renderLeaf:a=(e=>c.createElement(Re,Object.assign({},e)))}=e,s=(0,c.useRef)(null),u=Ie(),l=(0,c.useRef)(null);(0,c.useEffect)((()=>()=>{l.current&&l.current.disconnect()}),[]),(0,c.useEffect)((()=>{var e=null===s||void 0===s?void 0:s.current;if(e?T.set(u,e):T.delete(u),l.current?(l.current.disconnect(),e&&l.current.observe(e)):e&&(l.current=new ResizeObserver((e=>{var[{target:t}]=e,n=R.get(u);if(n){var r="".concat(t.clientHeight,"px");n.innerHTML=':where([data-slate-editor-id="'.concat(u.id,'"]) { min-height: ').concat(r,"; }")}})),l.current.observe(e)),!e){var t=R.get(u);t&&(t.innerHTML="")}return()=>{T.delete(u)}}),[s,t]);var f=c.createElement(Ce,{isLast:n,leaf:t,parent:i,text:r});if(t[W]){var d={children:t.placeholder,attributes:{"data-slate-placeholder":!0,style:{position:"absolute",pointerEvents:"none",width:"100%",maxWidth:"100%",display:"block",opacity:"0.333",userSelect:"none",textDecoration:"none"},contentEditable:!1,ref:s}};f=c.createElement(c.Fragment,null,o(d),f)}return a({attributes:{"data-slate-leaf":!0},children:f,leaf:t,text:r})},Pe=c.memo(De,((e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.renderPlaceholder===e.renderPlaceholder&&t.text===e.text&&g.xv.equals(t.leaf,e.leaf)&&t.leaf[W]===e.leaf[W])),Re=e=>{var{attributes:t,children:n}=e;return c.createElement("span",Object.assign({},t),n)},Ne=e=>{for(var{decorations:t,isLast:n,parent:r,renderPlaceholder:i,renderLeaf:o,text:a}=e,s=Ie(),u=(0,c.useRef)(null),l=g.xv.decorations(a,t),f=we.findKey(s,a),d=[],h=0;h<l.length;h++){var p=l[h];d.push(c.createElement(Pe,{isLast:n&&h===l.length-1,key:"".concat(f.id,"-").concat(h),renderPlaceholder:i,leaf:p,text:a,parent:r,renderLeaf:o}))}return _e((()=>{var e=P.get(s);u.current?(null===e||void 0===e||e.set(f,u.current),I.set(a,u.current),A.set(u.current,a)):(null===e||void 0===e||e.delete(f),I.delete(a))})),c.createElement("span",{"data-slate-node":"text",ref:u},d)},je=c.memo(Ne,((e,t)=>t.parent===e.parent&&t.isLast===e.isLast&&t.renderLeaf===e.renderLeaf&&t.text===e.text&&Oe(t.decorations,e.decorations))),Me=e=>{var{decorations:t,element:n,renderElement:r=(e=>c.createElement(Fe,Object.assign({},e))),renderPlaceholder:o,renderLeaf:a,selection:s}=e,u=Ie(),l=Ze(),f=u.isInline(n),d=we.findKey(u,n),h=(0,c.useCallback)((e=>{var t=P.get(u);e?(null===t||void 0===t||t.set(d,e),I.set(n,e),A.set(e,n)):(null===t||void 0===t||t.delete(d),I.delete(n))}),[u,d,n]),p=ze({decorations:t,node:n,renderElement:r,renderPlaceholder:o,renderLeaf:a,selection:s}),v={"data-slate-node":"element",ref:h};if(f&&(v["data-slate-inline"]=!0),!f&&g.ML.hasInlines(u,n)){var m=g.NB.string(n),y=i()(m);"rtl"===y&&(v.dir=y)}if(g.ML.isVoid(u,n)){v["data-slate-void"]=!0,!l&&f&&(v.contentEditable=!1);var b=f?"span":"div",[[w]]=g.NB.texts(n);p=c.createElement(b,{"data-slate-spacer":!0,style:{height:"0",color:"transparent",outline:"none",position:"absolute"}},c.createElement(je,{renderPlaceholder:o,decorations:[],isLast:!1,parent:n,text:w})),x.set(w,0),O.set(w,n)}return r({attributes:v,children:p,element:n})},Le=c.memo(Me,((e,t)=>e.element===t.element&&e.renderElement===t.renderElement&&e.renderLeaf===t.renderLeaf&&Oe(e.decorations,t.decorations)&&(e.selection===t.selection||!!e.selection&&!!t.selection&&g.e6.equals(e.selection,t.selection)))),Fe=e=>{var{attributes:t,children:n,element:r}=e,i=Ie().isInline(r)?"span":"div";return c.createElement(i,Object.assign({},t,{style:{position:"relative"}}),n)},Be=(0,c.createContext)((()=>[])),Ue=(0,c.createContext)(!1),Ve=()=>(0,c.useContext)(Ue),ze=e=>{for(var{decorations:t,node:n,renderElement:r,renderPlaceholder:i,renderLeaf:o,selection:a}=e,s=(0,c.useContext)(Be),u=Ie(),l=we.findPath(u,n),f=[],d=g.W_.isElement(n)&&!u.isInline(n)&&g.ML.hasInlines(u,n),h=0;h<n.children.length;h++){var p=l.concat(h),v=n.children[h],m=we.findKey(u,v),y=g.ML.range(u,p),b=a&&g.e6.intersection(y,a),w=s([v,p]);for(var _ of t){var E=g.e6.intersection(_,y);E&&w.push(E)}g.W_.isElement(v)?f.push(c.createElement(Ue.Provider,{key:"provider-".concat(m.id),value:!!b},c.createElement(Le,{decorations:w,element:v,key:m.id,renderElement:r,renderPlaceholder:i,renderLeaf:o,selection:b}))):f.push(c.createElement(je,{decorations:w,key:m.id,isLast:d&&h===n.children.length-1,parent:n,renderPlaceholder:i,renderLeaf:o,text:v})),x.set(v,h),O.set(v,n)}return f},qe=(0,c.createContext)(!1),Ze=()=>(0,c.useContext)(qe),He=(0,c.createContext)(null),We=()=>{var e=(0,c.useContext)(He);if(!e)throw new Error("The `useSlate` hook must be used inside the <Slate> component's context.");var{editor:t}=e;return t},Ge={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",insertSoftBreak:"shift+enter",splitBlock:"enter",undo:"mod+z"},Ke={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},Je={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:["ctrl+y","ctrl+shift+z"]},Ye=e=>{var t=Ge[e],n=Ke[e],r=Je[e],i=t&&(0,y.TB)(t),o=n&&(0,y.TB)(n),a=r&&(0,y.TB)(r);return e=>!(!i||!i(e))||(!!(ue&&o&&o(e))||!(ue||!a||!a(e)))},$e={isBold:Ye("bold"),isCompose:Ye("compose"),isMoveBackward:Ye("moveBackward"),isMoveForward:Ye("moveForward"),isDeleteBackward:Ye("deleteBackward"),isDeleteForward:Ye("deleteForward"),isDeleteLineBackward:Ye("deleteLineBackward"),isDeleteLineForward:Ye("deleteLineForward"),isDeleteWordBackward:Ye("deleteWordBackward"),isDeleteWordForward:Ye("deleteWordForward"),isExtendBackward:Ye("extendBackward"),isExtendForward:Ye("extendForward"),isExtendLineBackward:Ye("extendLineBackward"),isExtendLineForward:Ye("extendLineForward"),isItalic:Ye("italic"),isMoveLineBackward:Ye("moveLineBackward"),isMoveLineForward:Ye("moveLineForward"),isMoveWordBackward:Ye("moveWordBackward"),isMoveWordForward:Ye("moveWordForward"),isRedo:Ye("redo"),isSoftBreak:Ye("insertSoftBreak"),isSplitBlock:Ye("splitBlock"),isTransposeCharacter:Ye("transposeCharacter"),isUndo:Ye("undo")},Xe={subtree:!0,childList:!0,characterData:!0,characterDataOldValue:!0};class Qe extends c.Component{constructor(){super(...arguments),this.context=null,this.manager=null,this.mutationObserver=null}observe(){var e,{node:t}=this.props;if(!t.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");null===(e=this.mutationObserver)||void 0===e||e.observe(t.current,Xe)}componentDidMount(){var{receivedUserInput:e}=this.props,t=this.context;this.manager=((e,t)=>{var n=[],r=()=>{n=[]};return{registerMutations:r=>{if(t.current){var i=r.filter((t=>oe(e,t,r)));n.push(...i)}},restoreDOM:function(){n.reverse().forEach((e=>{"characterData"!==e.type?(e.removedNodes.forEach((t=>{e.target.insertBefore(t,e.nextSibling)})),e.addedNodes.forEach((t=>{e.target.removeChild(t)}))):e.target.textContent=e.oldValue})),r()},clear:r}})(t,e),this.mutationObserver=new MutationObserver(this.manager.registerMutations),this.observe()}getSnapshotBeforeUpdate(){var e,t,n,r,i=null===(e=this.mutationObserver)||void 0===e?void 0:e.takeRecords();null!==i&&void 0!==i&&i.length&&(null===(r=this.manager)||void 0===r||r.registerMutations(i));return null===(t=this.mutationObserver)||void 0===t||t.disconnect(),null===(n=this.manager)||void 0===n||n.restoreDOM(),null}componentDidUpdate(){var e;null===(e=this.manager)||void 0===e||e.clear(),this.observe()}componentWillUnmount(){var e;null===(e=this.mutationObserver)||void 0===e||e.disconnect()}render(){return this.props.children}}Qe.contextType=Ae;var et=ce?Qe:e=>{var{children:t}=e;return c.createElement(c.Fragment,null,t)};function tt(e,t){var{path:n,diff:r}=t;if(!g.ML.hasPath(e,n))return!1;var i=g.NB.get(e,n);if(!g.xv.isText(i))return!1;if(r.start!==i.text.length||0===r.text.length)return i.text.slice(r.start,r.start+r.text.length)===r.text;var o=g.y$.next(n);if(!g.ML.hasPath(e,o))return!1;var a=g.NB.get(e,o);return g.xv.isText(a)&&a.text.startsWith(r.text)}function nt(e,t){var{start:n,end:r,text:i}=t,o=e.slice(n,r),a=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r))return r;return n}(o,i),s=function(e,t,n){for(var r=Math.min(e.length,t.length,n),i=0;i<r;i++)if(e.charAt(e.length-i-1)!==t.charAt(t.length-i-1))return i;return r}(o,i,Math.min(o.length-a,i.length-a)),u={start:n+a,end:r-s,text:i.slice(a,i.length-s)};return u.start===u.end&&0===u.text.length?null:u}function rt(e,t,n){var r=Math.min(t.start,n.start),i=Math.max(0,Math.min(t.start+t.text.length,n.end)-n.start),o=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce(((e,t)=>e.slice(0,t.start)+t.text+e.slice(t.end)),e)}(e,t,n),a=Math.max(n.start+n.text.length,t.start+t.text.length+(t.start+t.text.length>n.start?n.text.length:0)-i),s=o.slice(r,a);return nt(e,{start:r,end:Math.max(t.end,n.end-t.text.length+(t.end-t.start)),text:s})}function it(e){var{path:t,diff:n}=e;return{anchor:{path:t,offset:n.start},focus:{path:t,offset:n.end}}}function ot(e,t){var{path:n,offset:r}=t;if(!g.ML.hasPath(e,n))return null;var i=g.NB.get(e,n);if(!g.xv.isText(i))return null;var o=g.ML.above(e,{match:t=>g.ML.isBlock(e,t),at:n});if(!o)return null;for(;r>i.text.length;){var a=g.ML.next(e,{at:n,match:g.xv.isText});if(!a||!g.y$.isDescendant(a[1],o[1]))return null;r-=i.text.length,i=a[0],n=a[1]}return{path:n,offset:r}}function at(e,t){var n=ot(e,t.anchor);if(!n)return null;if(g.e6.isCollapsed(t))return{anchor:n,focus:n};var r=ot(e,t.focus);return r?{anchor:n,focus:r}:null}function st(e,t,n){var r=z.get(e),i=null===r||void 0===r?void 0:r.find((e=>{var{path:n}=e;return g.y$.equals(n,t.path)}));if(!i||t.offset<=i.diff.start)return g.E9.transform(t,n,{affinity:"backward"});var{diff:o}=i;if(t.offset<=o.start+o.text.length){var a={path:t.path,offset:o.start},s=g.E9.transform(a,n,{affinity:"backward"});return s?{path:s.path,offset:s.offset+t.offset-o.start}:null}var u={path:t.path,offset:t.offset-o.text.length+o.end-o.start},c=g.E9.transform(u,n,{affinity:"backward"});return c?"split_node"===n.type&&g.y$.equals(n.path,t.path)&&u.offset<n.position&&o.start<n.position?c:{path:c.path,offset:c.offset+o.text.length-o.end+o.start}:null}function ut(e,t,n){var r=st(e,t.anchor,n);if(!r)return null;if(g.e6.isCollapsed(t))return{anchor:r,focus:r};var i=st(e,t.focus,n);return i?{anchor:r,focus:i}:null}function ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ft(e){var{editor:t,scheduleOnDOMSelectionChange:n,onDOMSelectionChange:r}=e,i=!1,o=null,a=null,s=null,u=0,c=!1,l=()=>{var e=Z.get(t);if(Z.delete(t),e){var{selection:n}=t,r=at(t,e);!r||n&&g.e6.equals(r,n)||g.YR.select(t,r)}},f=()=>{var e;if(a&&(clearTimeout(a),a=null),s&&(clearTimeout(s),s=null),m()||v()){i||(i=!0,setTimeout((()=>i=!1))),v()&&(i="action");var o=t.selection&&g.ML.rangeRef(t,t.selection,{affinity:"forward"});V.set(t,t.marks),q.get(t),z.get(t);for(var u,f=!(null===(e=z.get(t))||void 0===e||!e.length);u=null===(d=z.get(t))||void 0===d?void 0:d[0];){var d,h,p=U.get(t);void 0!==p&&(U.delete(t),t.marks=p),p&&!1===c&&(c=null);var y=it(u);t.selection&&g.e6.equals(t.selection,y)||g.YR.select(t,y),u.diff.text?g.ML.insertText(t,u.diff.text):g.ML.deleteFragment(t),z.set(t,null===(h=z.get(t))||void 0===h?void 0:h.filter((e=>{var{id:t}=e;return t!==u.id}))),tt(t,u)||(f=!1,q.delete(t),V.delete(t),i="action",Z.delete(t),n.cancel(),r.cancel(),null===o||void 0===o||o.unref())}var b=null===o||void 0===o?void 0:o.unref();if(!b||Z.get(t)||t.selection&&g.e6.equals(b,t.selection)||g.YR.select(t,b),v())(()=>{var e=q.get(t);if(q.delete(t),e){if(e.at){var n=g.E9.isPoint(e.at)?ot(t,e.at):at(t,e.at);if(!n)return;var r=g.ML.range(t,n);t.selection&&g.e6.equals(t.selection,r)||g.YR.select(t,n)}e.run()}})();else{f&&n(),n.flush(),r.flush(),l();var w=V.get(t);V.delete(t),void 0!==w&&(t.marks=w,t.onChange())}}else l()},d=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=T.get(t);n&&(m()||e?n.style.display="none":n.style.removeProperty("display"))},h=(e,n)=>{var r,i=null!==(r=z.get(t))&&void 0!==r?r:[];z.set(t,i);var o=g.NB.leaf(t,e),a=i.findIndex((t=>g.y$.equals(t.path,e)));if(a<0)return nt(o.text,n)&&i.push({path:e,diff:n,id:u++}),void d();var s=rt(o.text,i[a].diff,n);if(!s)return i.splice(a,1),void d();i[a]=lt(lt({},i[a]),{},{diff:s})},p=function(e){var{at:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};c=!1,Z.delete(t),n.cancel(),r.cancel(),v()&&f(),q.set(t,{at:i,run:e}),s=setTimeout(f)},v=()=>!!q.get(t),m=()=>{var e;return!(null===(e=z.get(t))||void 0===e||!e.length)},y=()=>{v()||(s=setTimeout(f))};return{flush:f,scheduleFlush:y,hasPendingDiffs:m,hasPendingAction:v,hasPendingChanges:()=>v()||m(),isFlushing:()=>i,handleUserSelect:e=>{Z.set(t,e),a&&(clearTimeout(a),a=null);var{selection:n}=t;if(e){var r=!n||!g.y$.equals(n.anchor.path,e.anchor.path),i=!n||!g.y$.equals(n.anchor.path.slice(0,-1),e.anchor.path.slice(0,-1));(r&&c||i)&&(c=!1),!r&&m()||(a=setTimeout(f,200))}},handleCompositionEnd:e=>{o&&clearTimeout(o),o=setTimeout((()=>{M.set(t,!1),f()}),25)},handleCompositionStart:e=>{M.set(t,!0),o&&(clearTimeout(o),o=null)},handleDOMBeforeInput:e=>{var n;a&&(clearTimeout(a),a=null);var{inputType:r}=e,i=null,o=e.dataTransfer||e.data||void 0;!1!==c&&"insertText"!==r&&"insertCompositionText"!==r&&(c=!1);var[s]=e.getTargetRanges();s&&(i=we.toSlateRange(t,s,{exactMatch:!1,suppressThrow:!0}));var u=we.getWindow(t).getSelection();if(!i&&u&&(s=u,i=we.toSlateRange(t,u,{exactMatch:!1,suppressThrow:!0})),i=null!==(n=i)&&void 0!==n?n:t.selection){if(g.e6.isExpanded(i)&&r.startsWith("delete")){var[l,f]=g.e6.edges(i);if(g.NB.leaf(t,l.path).text.length===l.offset&&0===f.offset){var d=g.ML.next(t,{at:l.path,match:g.xv.isText});d&&g.y$.equals(d[1],f.path)&&(i={anchor:f,focus:f})}}if(g.e6.isExpanded(i)&&r.startsWith("delete")){if(g.y$.equals(i.anchor.path,i.focus.path)){var[v,m]=g.e6.edges(i);return h(i.anchor.path,{text:"",end:m.offset,start:v.offset})}var b=r.endsWith("Backward")?"backward":"forward";return p((()=>g.ML.deleteFragment(t,{direction:b})),{at:i})}switch(r){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":return p((()=>g.ML.deleteFragment(t)),{at:i});case"deleteContent":case"deleteContentForward":var{anchor:w}=i;if(g.e6.isCollapsed(i)){var _=g.NB.leaf(t,w.path);if(w.offset<_.text.length)return h(w.path,{text:"",start:w.offset,end:w.offset+1})}return p((()=>g.ML.deleteForward(t)),{at:i});case"deleteContentBackward":var E,{anchor:S}=i;return(Q(s)?s.isCollapsed:!(null===(E=s)||void 0===E||!E.collapsed))&&g.e6.isCollapsed(i)&&S.offset>0?h(S.path,{text:"",start:S.offset-1,end:S.offset}):p((()=>g.ML.deleteBackward(t)),{at:i});case"deleteEntireSoftLine":return p((()=>{g.ML.deleteBackward(t,{unit:"line"}),g.ML.deleteForward(t,{unit:"line"})}),{at:i});case"deleteHardLineBackward":return p((()=>g.ML.deleteBackward(t,{unit:"block"})),{at:i});case"deleteSoftLineBackward":return p((()=>g.ML.deleteBackward(t,{unit:"line"})),{at:i});case"deleteHardLineForward":return p((()=>g.ML.deleteForward(t,{unit:"block"})),{at:i});case"deleteSoftLineForward":return p((()=>g.ML.deleteForward(t,{unit:"line"})),{at:i});case"deleteWordBackward":return p((()=>g.ML.deleteBackward(t,{unit:"word"})),{at:i});case"deleteWordForward":return p((()=>g.ML.deleteForward(t,{unit:"word"})),{at:i});case"insertLineBreak":return p((()=>g.ML.insertSoftBreak(t)),{at:i});case"insertParagraph":return p((()=>g.ML.insertBreak(t)),{at:i});case"insertCompositionText":case"deleteCompositionText":case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":if("DataTransfer"===(null===o||void 0===o?void 0:o.constructor.name))return p((()=>we.insertData(t,o)),{at:i});if("string"===typeof o&&o.includes("\n"))return p((()=>g.ML.insertSoftBreak(t)),{at:g.e6.end(i)});var x=null!==o&&void 0!==o?o:"";if(U.get(t)&&(x=x.replace("\ufeff","")),g.y$.equals(i.anchor.path,i.focus.path)){var[O,C]=g.e6.edges(i),k={start:O.offset,end:C.offset,text:x};if(x&&c&&"insertCompositionText"===r){var T=c.start+c.text.search(/\S|$/);k.start+k.text.search(/\S|$/)===T+1&&k.end===c.start+c.text.length?(k.start-=1,c=null,y()):c=!1}else c="insertText"===r&&(null===c?k:!(!c||!g.e6.isCollapsed(i)||c.end+c.text.length!==O.offset)&&lt(lt({},c),{},{text:c.text+x}));return void h(O.path,k)}return p((()=>g.ML.insertText(t,x)),{at:i})}}},handleKeyDown:e=>{m()||(d(!0),setTimeout(d))},handleDomMutations:e=>{var n;m()||v()||e.some((n=>oe(t,n,e)))&&(null===(n=H.get(t))||void 0===n||n())},handleInput:()=>{!v()&&m()||f()}}}var dt=["node"];function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var pt={subtree:!0,childList:!0,characterData:!0};function vt(e){var{node:t}=e,n=_(e,dt);if(!ce)return null;var r=Ie(),i=function(){var e=(0,c.useRef)(!1);return(0,c.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),e.current}(),[o]=(0,c.useState)((()=>ft(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({editor:r},n))));return function(e,t,n){var[r]=(0,c.useState)((()=>new MutationObserver(t)));_e((()=>{r.takeRecords()})),(0,c.useEffect)((()=>{if(!e.current)throw new Error("Failed to attach MutationObserver, `node` is undefined");return r.observe(e.current,n),()=>r.disconnect()}),[])}(t,o.handleDomMutations,pt),B.set(r,o.scheduleFlush),i&&o.flush(),o}var mt=["autoFocus","decorate","onDOMBeforeInput","placeholder","readOnly","renderElement","renderLeaf","renderPlaceholder","scrollSelectionIntoView","style","as"],gt=["text"];function yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yt(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var wt=e=>c.createElement(c.Fragment,null,ze(e)),_t=0,Et=e=>{var{autoFocus:t,decorate:n=xt,onDOMBeforeInput:r,placeholder:o,readOnly:s=!1,renderElement:l,renderLeaf:d,renderPlaceholder:h=(e=>c.createElement(St,Object.assign({},e))),scrollSelectionIntoView:p=Ot,style:v={},as:m="div"}=e,y=_(e,mt),b=We(),[w,E]=(0,c.useState)(!1),S=(0,c.useRef)(null),x=(0,c.useRef)([]),{onUserInput:O,receivedUserInput:T}=function(){var e=Ie(),t=(0,c.useRef)(!1),n=(0,c.useRef)(0),r=(0,c.useCallback)((()=>{if(!t.current){t.current=!0;var r=we.getWindow(e);r.cancelAnimationFrame(n.current),n.current=r.requestAnimationFrame((()=>{t.current=!1}))}}),[]);return(0,c.useEffect)((()=>()=>cancelAnimationFrame(n.current)),[]),{receivedUserInput:t,onUserInput:r}}(),[,D]=(0,c.useReducer)((e=>e+1),0);H.set(b,D),N.set(b,s);var P=(0,c.useMemo)((()=>({isDraggingInternally:!1,isUpdatingSelection:!1,latestElement:null,hasMarkPlaceholder:!1})),[]);(0,c.useEffect)((()=>{S.current&&t&&S.current.focus()}),[t]);var F=(0,c.useCallback)(u()((()=>{if((ce||!we.isComposing(b))&&(!P.isUpdatingSelection||null!==z&&void 0!==z&&z.isFlushing())&&!P.isDraggingInternally){var e=we.findDocumentOrShadowRoot(b),{activeElement:t}=e,n=we.toDOMNode(b,b),r=e.getSelection();if(t===n?(P.latestElement=t,j.set(b,!0)):j.delete(b),!r)return g.YR.deselect(b);var{anchorNode:i,focusNode:o}=r,a=we.hasEditableTarget(b,i)||we.isTargetInsideNonReadonlyVoid(b,i),u=we.hasEditableTarget(b,o)||we.isTargetInsideNonReadonlyVoid(b,o);if(a&&u){var c=we.toSlateRange(b,r,{exactMatch:!1,suppressThrow:!0});c&&(we.isComposing(b)||null!==z&&void 0!==z&&z.hasPendingChanges()||null!==z&&void 0!==z&&z.isFlushing()?null===z||void 0===z||z.handleUserSelect(c):g.YR.select(b,c))}!s||a&&u||g.YR.deselect(b)}}),100),[s]),B=(0,c.useMemo)((()=>a()(F,0)),[F]),z=vt({node:S,onDOMSelectionChange:F,scheduleOnDOMSelectionChange:B});_e((()=>{var e;S.current&&(e=J(S.current))?(C.set(b,e),k.set(b,S.current),I.set(b,S.current),A.set(S.current,b)):I.delete(b);var{selection:t}=b,n=we.findDocumentOrShadowRoot(b).getSelection();if(n&&we.isFocused(b)&&(null===z||void 0===z||!z.hasPendingAction())){var r=e=>{var r="None"!==n.type;if(t||r){var i=k.get(b),o=!1;if(i.contains(n.anchorNode)&&i.contains(n.focusNode)&&(o=!0),r&&o&&t&&!e){var a=we.toSlateRange(b,n,{exactMatch:!0,suppressThrow:!0});if(a&&g.e6.equals(a,t)){var s;if(!P.hasMarkPlaceholder)return;var{anchorNode:u}=n;if(null!==u&&void 0!==u&&null!==(s=u.parentElement)&&void 0!==s&&s.hasAttribute("data-slate-mark-placeholder"))return}}if(!t||we.hasRange(b,t)){P.isUpdatingSelection=!0;var c=t&&we.toDOMRange(b,t);return c?(g.e6.isBackward(t)?n.setBaseAndExtent(c.endContainer,c.endOffset,c.startContainer,c.startOffset):n.setBaseAndExtent(c.startContainer,c.startOffset,c.endContainer,c.endOffset),p(b,c)):n.removeAllRanges(),c}b.selection=we.toSlateRange(b,n,{exactMatch:!1,suppressThrow:!0})}},i=r(),o="action"===(null===z||void 0===z?void 0:z.isFlushing());if(ce&&o){var a=null,s=requestAnimationFrame((()=>{if(o){var e=e=>{try{we.toDOMNode(b,b).focus(),r(e)}catch(f){}};e(),a=setTimeout((()=>{e(!0),P.isUpdatingSelection=!1}))}}));return()=>{cancelAnimationFrame(s),a&&clearTimeout(a)}}setTimeout((()=>{i&&le&&we.toDOMNode(b,b).focus();P.isUpdatingSelection=!1}))}}));var q=(0,c.useCallback)((e=>{if(O(),!s&&we.hasEditableTarget(b,e.target)&&!kt(e,r)){var t;if(z)return z.handleDOMBeforeInput(e);B.flush(),F.flush();var{selection:n}=b,{inputType:i}=e,o=e.dataTransfer||e.data||void 0,a="insertCompositionText"===i||"deleteCompositionText"===i;if(a&&we.isComposing(b))return;var u=!1;if("insertText"===i&&n&&g.e6.isCollapsed(n)&&e.data&&1===e.data.length&&/[a-z ]/i.test(e.data)&&0!==n.anchor.offset){var c,l;u=!0,b.marks&&(u=!1);var{anchor:f}=n,[d,h]=we.toDOMPoint(b,f),p=null===(c=d.parentElement)||void 0===c?void 0:c.closest("a"),v=we.getWindow(b);if(u&&p&&we.hasDOMNode(b,p)){var m,y=null===v||void 0===v?void 0:v.document.createTreeWalker(p,NodeFilter.SHOW_TEXT).lastChild();y===d&&(null===(m=y.textContent)||void 0===m?void 0:m.length)===h&&(u=!1)}if(u&&d.parentElement&&"pre"===(null===v||void 0===v||null===(l=v.getComputedStyle(d.parentElement))||void 0===l?void 0:l.whiteSpace)){var w=g.ML.above(b,{at:f.path,match:e=>g.ML.isBlock(b,e)});w&&g.NB.string(w[0]).includes("\t")&&(u=!1)}}if(!i.startsWith("delete")||i.startsWith("deleteBy")){var[_]=e.getTargetRanges();if(_){var S=we.toSlateRange(b,_,{exactMatch:!1,suppressThrow:!1});if(!n||!g.e6.equals(n,S)){u=!1;var C=!a&&b.selection&&g.ML.rangeRef(b,b.selection);g.YR.select(b,S),C&&L.set(b,C)}}}if(a)return;if(u||e.preventDefault(),n&&g.e6.isExpanded(n)&&i.startsWith("delete")){var k=i.endsWith("Backward")?"backward":"forward";return void g.ML.deleteFragment(b,{direction:k})}switch(i){case"deleteByComposition":case"deleteByCut":case"deleteByDrag":g.ML.deleteFragment(b);break;case"deleteContent":case"deleteContentForward":g.ML.deleteForward(b);break;case"deleteContentBackward":g.ML.deleteBackward(b);break;case"deleteEntireSoftLine":g.ML.deleteBackward(b,{unit:"line"}),g.ML.deleteForward(b,{unit:"line"});break;case"deleteHardLineBackward":g.ML.deleteBackward(b,{unit:"block"});break;case"deleteSoftLineBackward":g.ML.deleteBackward(b,{unit:"line"});break;case"deleteHardLineForward":g.ML.deleteForward(b,{unit:"block"});break;case"deleteSoftLineForward":g.ML.deleteForward(b,{unit:"line"});break;case"deleteWordBackward":g.ML.deleteBackward(b,{unit:"word"});break;case"deleteWordForward":g.ML.deleteForward(b,{unit:"word"});break;case"insertLineBreak":g.ML.insertSoftBreak(b);break;case"insertParagraph":g.ML.insertBreak(b);break;case"insertFromComposition":case"insertFromDrop":case"insertFromPaste":case"insertFromYank":case"insertReplacementText":case"insertText":"insertFromComposition"===i&&we.isComposing(b)&&(E(!1),M.set(b,!1)),"DataTransfer"===(null===o||void 0===o?void 0:o.constructor.name)?we.insertData(b,o):"string"===typeof o&&(u?x.current.push((()=>g.ML.insertText(b,o))):g.ML.insertText(b,o))}var T=null===(t=L.get(b))||void 0===t?void 0:t.unref();L.delete(b),!T||b.selection&&g.e6.equals(b.selection,T)||g.YR.select(b,T)}}),[s,r]);_e((()=>(S.current&&be&&S.current.addEventListener("beforeinput",q),()=>{S.current&&be&&S.current.removeEventListener("beforeinput",q)})),[q]),_e((()=>{var e=we.getWindow(b);return e.document.addEventListener("selectionchange",B),()=>{e.document.removeEventListener("selectionchange",B)}}),[B]);var Z=n([b,[]]);if(o&&1===b.children.length&&1===Array.from(g.NB.texts(b)).length&&""===g.NB.string(b)&&!w){var K=g.ML.start(b,[]);Z.push({[W]:!0,placeholder:o,anchor:K,focus:K})}var{marks:Y}=b;if(P.hasMarkPlaceholder=!1,b.selection&&g.e6.isCollapsed(b.selection)&&Y){var{anchor:Q}=b.selection,ee=g.NB.leaf(b,Q.path),te=_(ee,gt);if(!g.xv.equals(ee,Y,{loose:!0})){P.hasMarkPlaceholder=!0;var ne=Object.fromEntries(Object.keys(te).map((e=>[e,null])));Z.push(bt(bt(bt({[G]:!0},ne),Y),{},{anchor:Q,focus:Q}))}}return(0,c.useEffect)((()=>{setTimeout((()=>{var{selection:e}=b;if(e){var{anchor:t}=e,n=g.NB.leaf(b,t.path);if(Y&&!g.xv.equals(n,Y,{loose:!0}))return void U.set(b,Y)}U.delete(b)}))})),(0,c.useEffect)((()=>{if(1===++_t){var e=document.createElement("style");e.setAttribute("data-slate-default-styles","true"),e.innerHTML=":where([data-slate-editor]) {position: relative;outline: none;white-space: pre-wrap;word-wrap: break-word;}",document.head.appendChild(e)}return()=>{var e;--_t<=0&&(null===(e=document.querySelector("style[data-slate-default-styles]"))||void 0===e||e.remove())}}),[]),(0,c.useEffect)((()=>{var e=document.createElement("style");return document.head.appendChild(e),R.set(b,e),()=>{e.remove(),R.delete(b)}}),[]),c.createElement(qe.Provider,{value:s},c.createElement(Be.Provider,{value:n},c.createElement(et,{node:S,receivedUserInput:T},c.createElement(m,Object.assign({role:s?void 0:"textbox","aria-multiline":!s||void 0},y,{spellCheck:!(!be&&ye)&&y.spellCheck,autoCorrect:be||!ye?y.autoCorrect:"false",autoCapitalize:be||!ye?y.autoCapitalize:"false","data-slate-editor":!0,"data-slate-editor-id":b.id,"data-slate-node":"value",contentEditable:!s,zindex:-1,suppressContentEditableWarning:!0,ref:S,style:v,onBeforeInput:(0,c.useCallback)((e=>{if(!be&&!s&&!Ct(e,y.onBeforeInput)&&we.hasSelectableTarget(b,e.target)&&(e.preventDefault(),!we.isComposing(b))){var t=e.data;g.ML.insertText(b,t)}}),[s]),onInput:(0,c.useCallback)((e=>{if(z)z.handleInput();else{for(var t of x.current)t();x.current=[]}}),[]),onBlur:(0,c.useCallback)((e=>{if(!s&&!P.isUpdatingSelection&&we.hasSelectableTarget(b,e.target)&&!Ct(e,y.onBlur)){var t=we.findDocumentOrShadowRoot(b);if(P.latestElement!==t.activeElement){var{relatedTarget:n}=e;if(n!==we.toDOMNode(b,b)&&(!$(n)||!n.hasAttribute("data-slate-spacer"))){if(null!=n&&X(n)&&we.hasDOMNode(b,n)){var r=we.toSlateNode(b,n);if(g.W_.isElement(r)&&!b.isVoid(r))return}if(fe){var i=t.getSelection();null===i||void 0===i||i.removeAllRanges()}j.delete(b)}}}}),[s,y.onBlur]),onClick:(0,c.useCallback)((e=>{if(we.hasTarget(b,e.target)&&!Ct(e,y.onClick)&&X(e.target)){var t=we.toSlateNode(b,e.target),n=we.findPath(b,t);if(!g.ML.hasPath(b,n)||g.NB.get(b,n)!==t)return;if(3===e.detail&&n.length>=1){var r=n;if(!g.ML.isBlock(b,t)){var i,o=g.ML.above(b,{match:e=>g.ML.isBlock(b,e),at:n});r=null!==(i=null===o||void 0===o?void 0:o[1])&&void 0!==i?i:n.slice(0,1)}var a=g.ML.range(b,r);return void g.YR.select(b,a)}if(s)return;var u=g.ML.start(b,n),c=g.ML.end(b,n),l=g.ML.void(b,{at:u}),f=g.ML.void(b,{at:c});if(l&&f&&g.y$.equals(l[1],f[1])){var d=g.ML.range(b,u);g.YR.select(b,d)}}}),[s,y.onClick]),onCompositionEnd:(0,c.useCallback)((e=>{if(we.hasSelectableTarget(b,e.target)){if(we.isComposing(b)&&(E(!1),M.set(b,!1)),null===z||void 0===z||z.handleCompositionEnd(e),Ct(e,y.onCompositionEnd)||ce)return;if(!fe&&!ve&&!se&&!ge&&!me&&e.data){var t=U.get(b);U.delete(b),void 0!==t&&(V.set(b,b.marks),b.marks=t),g.ML.insertText(b,e.data);var n=V.get(b);V.delete(b),void 0!==n&&(b.marks=n)}}}),[y.onCompositionEnd]),onCompositionUpdate:(0,c.useCallback)((e=>{we.hasSelectableTarget(b,e.target)&&!Ct(e,y.onCompositionUpdate)&&(we.isComposing(b)||(E(!0),M.set(b,!0)))}),[y.onCompositionUpdate]),onCompositionStart:(0,c.useCallback)((e=>{if(we.hasSelectableTarget(b,e.target)){if(null===z||void 0===z||z.handleCompositionStart(e),Ct(e,y.onCompositionStart)||ce)return;E(!0);var{selection:t}=b;if(t){if(g.e6.isExpanded(t))return void g.ML.deleteFragment(b);var n=g.ML.above(b,{match:e=>g.ML.isInline(b,e),mode:"highest"});if(n){var[,r]=n;if(g.ML.isEnd(b,t.anchor,r)){var i=g.ML.after(b,r);g.YR.setSelection(b,{anchor:i,focus:i})}}}}}),[y.onCompositionStart]),onCopy:(0,c.useCallback)((e=>{we.hasSelectableTarget(b,e.target)&&!Ct(e,y.onCopy)&&(e.preventDefault(),we.setFragmentData(b,e.clipboardData,"copy"))}),[y.onCopy]),onCut:(0,c.useCallback)((e=>{if(!s&&we.hasSelectableTarget(b,e.target)&&!Ct(e,y.onCut)){e.preventDefault(),we.setFragmentData(b,e.clipboardData,"cut");var{selection:t}=b;if(t)if(g.e6.isExpanded(t))g.ML.deleteFragment(b);else{var n=g.NB.parent(b,t.anchor.path);g.ML.isVoid(b,n)&&g.YR.delete(b)}}}),[s,y.onCut]),onDragOver:(0,c.useCallback)((e=>{if(we.hasTarget(b,e.target)&&!Ct(e,y.onDragOver)){var t=we.toSlateNode(b,e.target);g.ML.isVoid(b,t)&&e.preventDefault()}}),[y.onDragOver]),onDragStart:(0,c.useCallback)((e=>{if(!s&&we.hasTarget(b,e.target)&&!Ct(e,y.onDragStart)){var t=we.toSlateNode(b,e.target),n=we.findPath(b,t);if(g.ML.isVoid(b,t)||g.ML.void(b,{at:n,voids:!0})){var r=g.ML.range(b,n);g.YR.select(b,r)}P.isDraggingInternally=!0,we.setFragmentData(b,e.dataTransfer,"drag")}}),[s,y.onDragStart]),onDrop:(0,c.useCallback)((e=>{if(!s&&we.hasTarget(b,e.target)&&!Ct(e,y.onDrop)){e.preventDefault();var t=b.selection,n=we.findEventRange(b,e),r=e.dataTransfer;g.YR.select(b,n),P.isDraggingInternally&&(!t||g.e6.equals(t,n)||g.ML.void(b,{at:n,voids:!0})||g.YR.delete(b,{at:t})),we.insertData(b,r),we.isFocused(b)||we.focus(b)}P.isDraggingInternally=!1}),[s,y.onDrop]),onDragEnd:(0,c.useCallback)((e=>{!s&&P.isDraggingInternally&&y.onDragEnd&&we.hasTarget(b,e.target)&&y.onDragEnd(e),P.isDraggingInternally=!1}),[s,y.onDragEnd]),onFocus:(0,c.useCallback)((e=>{if(!s&&!P.isUpdatingSelection&&we.hasEditableTarget(b,e.target)&&!Ct(e,y.onFocus)){var t=we.toDOMNode(b,b),n=we.findDocumentOrShadowRoot(b);if(P.latestElement=n.activeElement,le&&e.target!==t)return void t.focus();j.set(b,!0)}}),[s,y.onFocus]),onKeyDown:(0,c.useCallback)((e=>{if(!s&&we.hasEditableTarget(b,e.target)){null===z||void 0===z||z.handleKeyDown(e);var{nativeEvent:t}=e;if(we.isComposing(b)&&!1===t.isComposing&&(M.set(b,!1),E(!1)),Ct(e,y.onKeyDown)||we.isComposing(b))return;var{selection:n}=b,r=b.children[null!==n?n.focus.path[0]:0],o="rtl"===i()(g.NB.string(r));if($e.isRedo(t)){e.preventDefault();var a=b;return void("function"===typeof a.redo&&a.redo())}if($e.isUndo(t)){e.preventDefault();var u=b;return void("function"===typeof u.undo&&u.undo())}if($e.isMoveLineBackward(t))return e.preventDefault(),void g.YR.move(b,{unit:"line",reverse:!0});if($e.isMoveLineForward(t))return e.preventDefault(),void g.YR.move(b,{unit:"line"});if($e.isExtendLineBackward(t))return e.preventDefault(),void g.YR.move(b,{unit:"line",edge:"focus",reverse:!0});if($e.isExtendLineForward(t))return e.preventDefault(),void g.YR.move(b,{unit:"line",edge:"focus"});if($e.isMoveBackward(t))return e.preventDefault(),void(n&&g.e6.isCollapsed(n)?g.YR.move(b,{reverse:!o}):g.YR.collapse(b,{edge:"start"}));if($e.isMoveForward(t))return e.preventDefault(),void(n&&g.e6.isCollapsed(n)?g.YR.move(b,{reverse:o}):g.YR.collapse(b,{edge:"end"}));if($e.isMoveWordBackward(t))return e.preventDefault(),n&&g.e6.isExpanded(n)&&g.YR.collapse(b,{edge:"focus"}),void g.YR.move(b,{unit:"word",reverse:!o});if($e.isMoveWordForward(t))return e.preventDefault(),n&&g.e6.isExpanded(n)&&g.YR.collapse(b,{edge:"focus"}),void g.YR.move(b,{unit:"word",reverse:o});if(be){if((he||fe)&&n&&($e.isDeleteBackward(t)||$e.isDeleteForward(t))&&g.e6.isCollapsed(n)){var c=g.NB.parent(b,n.anchor.path);if(g.W_.isElement(c)&&g.ML.isVoid(b,c)&&(g.ML.isInline(b,c)||g.ML.isBlock(b,c)))return e.preventDefault(),void g.ML.deleteBackward(b,{unit:"block"})}}else{if($e.isBold(t)||$e.isItalic(t)||$e.isTransposeCharacter(t))return void e.preventDefault();if($e.isSoftBreak(t))return e.preventDefault(),void g.ML.insertSoftBreak(b);if($e.isSplitBlock(t))return e.preventDefault(),void g.ML.insertBreak(b);if($e.isDeleteBackward(t))return e.preventDefault(),void(n&&g.e6.isExpanded(n)?g.ML.deleteFragment(b,{direction:"backward"}):g.ML.deleteBackward(b));if($e.isDeleteForward(t))return e.preventDefault(),void(n&&g.e6.isExpanded(n)?g.ML.deleteFragment(b,{direction:"forward"}):g.ML.deleteForward(b));if($e.isDeleteLineBackward(t))return e.preventDefault(),void(n&&g.e6.isExpanded(n)?g.ML.deleteFragment(b,{direction:"backward"}):g.ML.deleteBackward(b,{unit:"line"}));if($e.isDeleteLineForward(t))return e.preventDefault(),void(n&&g.e6.isExpanded(n)?g.ML.deleteFragment(b,{direction:"forward"}):g.ML.deleteForward(b,{unit:"line"}));if($e.isDeleteWordBackward(t))return e.preventDefault(),void(n&&g.e6.isExpanded(n)?g.ML.deleteFragment(b,{direction:"backward"}):g.ML.deleteBackward(b,{unit:"word"}));if($e.isDeleteWordForward(t))return e.preventDefault(),void(n&&g.e6.isExpanded(n)?g.ML.deleteFragment(b,{direction:"forward"}):g.ML.deleteForward(b,{unit:"word"}))}}}),[s,y.onKeyDown]),onPaste:(0,c.useCallback)((e=>{s||!we.hasSelectableTarget(b,e.target)||Ct(e,y.onPaste)||be&&!(e=>e.clipboardData&&""!==e.clipboardData.getData("text/plain")&&1===e.clipboardData.types.length)(e.nativeEvent)||(e.preventDefault(),we.insertData(b,e.clipboardData))}),[s,y.onPaste])}),c.createElement(wt,{decorations:Z,node:b,renderElement:l,renderPlaceholder:h,renderLeaf:d,selection:b.selection})))))},St=e=>{var{attributes:t,children:n}=e;return c.createElement("span",Object.assign({},t),n,ce&&c.createElement("br",null))},xt=()=>[],Ot=(e,t)=>{if(t.getBoundingClientRect&&(!e.selection||e.selection&&g.e6.isCollapsed(e.selection))){var n=t.startContainer.parentElement;n.getBoundingClientRect=t.getBoundingClientRect.bind(t),m(n,{scrollMode:"if-needed"}),delete n.getBoundingClientRect}},Ct=(e,t)=>{if(!t)return!1;var n=t(e);return null!=n?n:e.isDefaultPrevented()||e.isPropagationStopped()},kt=(e,t)=>{if(!t)return!1;var n=t(e);return null!=n?n:e.defaultPrevented},Tt=(0,c.createContext)(!1),At=()=>(0,c.useContext)(Tt);var It=(0,c.createContext)({});var Dt=["editor","children","onChange","value"],Pt=e=>{var{editor:t,children:n,onChange:r,value:i}=e,o=_(e,Dt),a=(0,c.useRef)(!1),[s,u]=c.useState((()=>{if(!g.NB.isNodeList(i))throw new Error("[Slate] value is invalid! Expected a list of elements but got: ".concat(g.o4.stringify(i)));if(!g.ML.isEditor(t))throw new Error("[Slate] editor is invalid! You passed: ".concat(g.o4.stringify(t)));return t.children=i,Object.assign(t,o),{v:0,editor:t}})),{selectorContext:l,onChange:f}=function(e){var t=(0,c.useRef)([]).current,n=(0,c.useRef)({editor:e}).current,r=(0,c.useCallback)((e=>{n.editor=e,t.forEach((t=>t(e)))}),[]);return{selectorContext:(0,c.useMemo)((()=>({getSlate:()=>n.editor,addEventListener:e=>(t.push(e),()=>{t.splice(t.indexOf(e),1)})})),[t,n]),onChange:r}}(t),d=(0,c.useCallback)((()=>{r&&r(t.children),u((e=>({v:e.v+1,editor:t}))),f(t)}),[r]);F.set(t,d),(0,c.useEffect)((()=>()=>{F.set(t,(()=>{})),a.current=!0}),[]);var[h,p]=(0,c.useState)(we.isFocused(t));return(0,c.useEffect)((()=>{p(we.isFocused(t))})),_e((()=>{var e=()=>p(we.isFocused(t));return ae?(document.addEventListener("focusin",e),document.addEventListener("focusout",e),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",e)}):(document.addEventListener("focus",e,!0),document.addEventListener("blur",e,!0),()=>{document.removeEventListener("focus",e,!0),document.removeEventListener("blur",e,!0)})}),[]),c.createElement(It.Provider,{value:l},c.createElement(He.Provider,{value:s},c.createElement(Ae.Provider,{value:s.editor},c.createElement(Tt.Provider,{value:h},n))))},Rt=(e,t)=>{var n=(t.top+t.bottom)/2;return e.top<=n&&e.bottom>=n},Nt=(e,t,n)=>{var r=we.toDOMRange(e,t).getBoundingClientRect(),i=we.toDOMRange(e,n).getBoundingClientRect();return Rt(r,i)&&Rt(i,r)};function jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jt(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Lt=e=>{var t=e,{apply:n,onChange:r,deleteBackward:i,addMark:o,removeMark:a}=t;return P.set(t,new WeakMap),t.addMark=(e,n)=>{var r,i;null===(r=B.get(t))||void 0===r||r(),!U.get(t)&&null!==(i=z.get(t))&&void 0!==i&&i.length&&U.set(t,null),V.delete(t),o(e,n)},t.removeMark=e=>{var n;!U.get(t)&&null!==(n=z.get(t))&&void 0!==n&&n.length&&U.set(t,null),V.delete(t),a(e)},t.deleteBackward=e=>{if("line"!==e)return i(e);if(t.selection&&g.e6.isCollapsed(t.selection)){var n=g.ML.above(t,{match:e=>g.ML.isBlock(t,e),at:t.selection});if(n){var[,r]=n,o=g.ML.range(t,r,t.selection.anchor),a=((e,t)=>{var n=g.ML.range(e,g.e6.end(t)),r=Array.from(g.ML.positions(e,{at:t})),i=0,o=r.length,a=Math.floor(o/2);if(Nt(e,g.ML.range(e,r[i]),n))return g.ML.range(e,r[i],n);if(r.length<2)return g.ML.range(e,r[r.length-1],n);for(;a!==r.length&&a!==i;)Nt(e,g.ML.range(e,r[a]),n)?o=a:i=a,a=Math.floor((i+o)/2);return g.ML.range(e,r[o],n)})(t,o);g.e6.isCollapsed(a)||g.YR.delete(t,{at:a})}}},t.apply=e=>{var r=[],i=z.get(t);if(null!==i&&void 0!==i&&i.length){var o=i.map((t=>function(e,t){var{path:n,diff:r,id:i}=e;switch(t.type){case"insert_text":return!g.y$.equals(t.path,n)||t.offset>=r.end?e:t.offset<=r.start?{diff:{start:t.text.length+r.start,end:t.text.length+r.end,text:r.text},id:i,path:n}:{diff:{start:r.start,end:r.end+t.text.length,text:r.text},id:i,path:n};case"remove_text":return!g.y$.equals(t.path,n)||t.offset>=r.end?e:t.offset+t.text.length<=r.start?{diff:{start:r.start-t.text.length,end:r.end-t.text.length,text:r.text},id:i,path:n}:{diff:{start:r.start,end:r.end-t.text.length,text:r.text},id:i,path:n};case"split_node":return!g.y$.equals(t.path,n)||t.position>=r.end?{diff:r,id:i,path:g.y$.transform(n,t,{affinity:"backward"})}:t.position>r.start?{diff:{start:r.start,end:Math.min(t.position,r.end),text:r.text},id:i,path:n}:{diff:{start:r.start-t.position,end:r.end-t.position,text:r.text},id:i,path:g.y$.transform(n,t,{affinity:"forward"})};case"merge_node":return g.y$.equals(t.path,n)?{diff:{start:r.start+t.position,end:r.end+t.position,text:r.text},id:i,path:g.y$.transform(n,t)}:{diff:r,id:i,path:g.y$.transform(n,t)}}var o=g.y$.transform(n,t);return o?{diff:r,path:o,id:i}:null}(t,e))).filter(Boolean);z.set(t,o)}var a=Z.get(t);a&&Z.set(t,ut(t,a,e));var s=q.get(t);if(null!==s&&void 0!==s&&s.at){var u=g.E9.isPoint(null===s||void 0===s?void 0:s.at)?st(t,s.at,e):ut(t,s.at,e);q.set(t,u?Mt(Mt({},s),{},{at:u}):null)}switch(e.type){case"insert_text":case"remove_text":case"set_node":case"split_node":r.push(...Ft(t,e.path));break;case"set_selection":var c;null===(c=L.get(t))||void 0===c||c.unref(),L.delete(t);break;case"insert_node":case"remove_node":r.push(...Ft(t,g.y$.parent(e.path)));break;case"merge_node":var l=g.y$.previous(e.path);r.push(...Ft(t,l));break;case"move_node":var f=g.y$.common(g.y$.parent(e.path),g.y$.parent(e.newPath));r.push(...Ft(t,f))}for(var[d,h]of(n(e),r)){var[p]=g.ML.node(t,d);D.set(p,h)}},t.setFragmentData=e=>{var{selection:n}=t;if(n){var[r,i]=g.e6.edges(n),o=g.ML.void(t,{at:r.path}),a=g.ML.void(t,{at:i.path});if(!g.e6.isCollapsed(n)||o){var s=we.toDOMRange(t,n),u=s.cloneContents(),c=u.childNodes[0];if(u.childNodes.forEach((e=>{e.textContent&&""!==e.textContent.trim()&&(c=e)})),a){var[l]=a,f=s.cloneRange(),d=we.toDOMNode(t,l);f.setEndAfter(d),u=f.cloneContents()}if(o&&(c=u.querySelector("[data-slate-spacer]")),Array.from(u.querySelectorAll("[data-slate-zero-width]")).forEach((e=>{var t="n"===e.getAttribute("data-slate-zero-width");e.textContent=t?"\n":""})),ee(c)){var h=c.ownerDocument.createElement("span");h.style.whiteSpace="pre",h.appendChild(c),u.appendChild(h),c=h}var p=t.getFragment(),v=JSON.stringify(p),m=window.btoa(encodeURIComponent(v));c.setAttribute("data-slate-fragment",m),e.setData("application/x-slate-fragment",m);var y=u.ownerDocument.createElement("div");return y.appendChild(u),y.setAttribute("hidden","true"),u.ownerDocument.body.appendChild(y),e.setData("text/html",y.innerHTML),e.setData("text/plain",re(y)),u.ownerDocument.body.removeChild(y),e}}},t.insertData=e=>{t.insertFragmentData(e)||t.insertTextData(e)},t.insertFragmentData=e=>{var n=e.getData("application/x-slate-fragment")||(e=>{var t=e.getData("text/html"),[,n]=t.match(ie)||[];return n})(e);if(n){var r=decodeURIComponent(window.atob(n)),i=JSON.parse(r);return t.insertFragment(i),!0}return!1},t.insertTextData=e=>{var n=e.getData("text/plain");if(n){var r=n.split(/\r\n|\r|\n/),i=!1;for(var o of r)i&&g.YR.splitNodes(t,{always:!0}),t.insertText(o),i=!0;return!0}return!1},t.onChange=()=>{b.unstable_batchedUpdates((()=>{var e=F.get(t);e&&e(),r()}))},t},Ft=(e,t)=>{var n=[];for(var[r,i]of g.ML.levels(e,{at:t})){var o=we.findKey(e,r);n.push([i,o])}return n}},12995:function(e,t,n){"use strict";n.d(t,{ML:function(){return $e},W_:function(){return He},NB:function(){return nt},OX:function(){return ot},y$:function(){return at},E9:function(){return lt},e6:function(){return pt},o4:function(){return gt},xv:function(){return St},YR:function(){return Vt},Jh:function(){return ve}});var r=n(66439);function i(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function o(e){return!!e&&!!e[W]}function a(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===G}(e)||Array.isArray(e)||!!e[H]||!!e.constructor[H]||h(e)||p(e))}function s(e,t,n){void 0===n&&(n=!1),0===u(e)?(n?Object.keys:K)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function u(e){var t=e[W];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:h(e)?2:p(e)?3:0}function c(e,t){return 2===u(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function l(e,t){return 2===u(e)?e.get(t):e[t]}function f(e,t,n){var r=u(e);2===r?e.set(t,n):3===r?(e.delete(t),e.add(n)):e[t]=n}function d(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function h(e){return V&&e instanceof Map}function p(e){return z&&e instanceof Set}function v(e){return e.o||e.t}function m(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=J(e);delete t[W];for(var n=K(t),r=0;r<n.length;r++){var i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function g(e,t){return void 0===t&&(t=!1),b(e)||o(e)||!a(e)||(u(e)>1&&(e.set=e.add=e.clear=e.delete=y),Object.freeze(e),t&&s(e,(function(e,t){return g(t,!0)}),!0)),e}function y(){i(2)}function b(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function w(e){var t=Y[e];return t||i(18,e),t}function _(){return B}function E(e,t){t&&(w("Patches"),e.u=[],e.s=[],e.v=t)}function S(e){x(e),e.p.forEach(C),e.p=null}function x(e){e===B&&(B=e.l)}function O(e){return B={p:[],l:B,h:e,m:!0,_:0}}function C(e){var t=e[W];0===t.i||1===t.i?t.j():t.O=!0}function k(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||w("ES5").S(t,e,r),r?(n[W].P&&(S(t),i(4)),a(e)&&(e=T(t,e),t.l||I(t,e)),t.u&&w("Patches").M(n[W].t,e,t.u,t.s)):e=T(t,n,[]),S(t),t.u&&t.v(t.u,t.s),e!==Z?e:void 0}function T(e,t,n){if(b(t))return t;var r=t[W];if(!r)return s(t,(function(i,o){return A(e,r,t,i,o,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return I(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=m(r.k):r.o;s(3===r.i?new Set(i):i,(function(t,o){return A(e,r,i,t,o,n)})),I(e,i,!1),n&&e.u&&w("Patches").R(r,n,e.u,e.s)}return r.o}function A(e,t,n,r,i,s){if(o(i)){var u=T(e,i,s&&t&&3!==t.i&&!c(t.D,r)?s.concat(r):void 0);if(f(n,r,u),!o(u))return;e.m=!1}if(a(i)&&!b(i)){if(!e.h.F&&e._<1)return;T(e,i),t&&t.A.l||I(e,i)}}function I(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&g(t,n)}function D(e,t){var n=e[W];return(n?v(n):e)[t]}function P(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function R(e){e.P||(e.P=!0,e.l&&R(e.l))}function N(e){e.o||(e.o=m(e.t))}function j(e,t,n){var r=h(t)?w("MapSet").N(t,n):p(t)?w("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:_(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,o=$;n&&(i=[r],o=X);var a=Proxy.revocable(i,o),s=a.revoke,u=a.proxy;return r.k=u,r.j=s,u}(t,n):w("ES5").J(t,n);return(n?n.A:_()).p.push(r),r}function M(e){return o(e)||i(22,e),function e(t){if(!a(t))return t;var n,r=t[W],i=u(t);if(r){if(!r.P&&(r.i<4||!w("ES5").K(r)))return r.t;r.I=!0,n=L(t,i),r.I=!1}else n=L(t,i);return s(n,(function(t,i){r&&l(r.t,t)===i||f(n,t,e(i))})),3===i?new Set(n):n}(e)}function L(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return m(e)}var F,B,U="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),V="undefined"!=typeof Map,z="undefined"!=typeof Set,q="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,Z=U?Symbol.for("immer-nothing"):((F={})["immer-nothing"]=!0,F),H=U?Symbol.for("immer-draftable"):"__$immer_draftable",W=U?Symbol.for("immer-state"):"__$immer_state",G=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),K="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,J=Object.getOwnPropertyDescriptors||function(e){var t={};return K(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},Y={},$={get:function(e,t){if(t===W)return e;var n=v(e);if(!c(n,t))return function(e,t,n){var r,i=P(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!a(r)?r:r===D(e.t,t)?(N(e),e.o[t]=j(e.A.h,r,e)):r},has:function(e,t){return t in v(e)},ownKeys:function(e){return Reflect.ownKeys(v(e))},set:function(e,t,n){var r=P(v(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=D(v(e),t),o=null==i?void 0:i[W];if(o&&o.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(d(n,i)&&(void 0!==n||c(e.t,t)))return!0;N(e),R(e)}return e.o[t]===n&&"number"!=typeof n&&(void 0!==n||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==D(e.t,t)||t in e.t?(e.D[t]=!1,N(e),R(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=v(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){i(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){i(12)}},X={};s($,(function(e,t){X[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),X.deleteProperty=function(e,t){return X.set.call(this,e,t,void 0)},X.set=function(e,t,n){return $.set.call(this,e[0],t,n,e[0])};var Q=function(){function e(e){var t=this;this.g=q,this.F=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var o=n;n=e;var s=t;return function(e){var t=this;void 0===e&&(e=o);for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return s.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(i))}))}}var u;if("function"!=typeof n&&i(6),void 0!==r&&"function"!=typeof r&&i(7),a(e)){var c=O(t),l=j(t,e,void 0),f=!0;try{u=n(l),f=!1}finally{f?S(c):x(c)}return"undefined"!=typeof Promise&&u instanceof Promise?u.then((function(e){return E(c,r),k(e,c)}),(function(e){throw S(c),e})):(E(c,r),k(u,c))}if(!e||"object"!=typeof e){if(void 0===(u=n(e))&&(u=e),u===Z&&(u=void 0),t.F&&g(u,!0),r){var d=[],h=[];w("Patches").M(e,u,d,h),r(d,h)}return u}i(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,o=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return[e,r,i]})):[o,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){a(e)||i(8),o(e)&&(e=M(e));var t=O(this),n=j(this,e,void 0);return n[W].C=!0,x(t),n},t.finishDraft=function(e,t){var n=(e&&e[W]).A;return E(n,t),k(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!q&&i(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=w("Patches").$;return o(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),ee=new Q,te=ee.produce,ne=(ee.produceWithPatches.bind(ee),ee.setAutoFreeze.bind(ee),ee.setUseProxies.bind(ee),ee.applyPatches.bind(ee),ee.createDraft.bind(ee)),re=ee.finishDraft.bind(ee);function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oe=new WeakMap,ae=new WeakMap,se=new WeakMap,ue=new WeakMap,ce=new WeakMap,le=new WeakMap,fe=new WeakMap;function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pe=0,ve=()=>{var e={children:[],operations:[],selection:null,marks:null,id:pe++,isInline:()=>!1,isVoid:()=>!1,markableVoid:()=>!1,onChange:()=>{},apply:t=>{for(var n of $e.pathRefs(e))st.transform(n,t);for(var r of $e.pointRefs(e))ft.transform(r,t);for(var i of $e.rangeRefs(e))vt.transform(i,t);var o,a,s=oe.get(e)||[],u=ae.get(e)||new Set,c=e=>{if(e){var t=e.join(",");a.has(t)||(a.add(t),o.push(e))}};if(at.operationCanTransformPath(t))for(var l of(o=[],a=new Set,s)){c(at.transform(l,t))}else o=s,a=u;var f=e.getDirtyPaths(t);for(var d of f)c(d);oe.set(e,o),ae.set(e,a),Vt.transform(e,t),e.operations.push(t),$e.normalize(e),"set_selection"===t.type&&(e.marks=null),se.get(e)||(se.set(e,!0),Promise.resolve().then((()=>{se.set(e,!1),e.onChange(),e.operations=[]})))},addMark:(t,n)=>{var{selection:r,markableVoid:i}=e;if(r){var o=(t,n)=>{if(!St.isText(t))return!1;var[r,i]=$e.parent(e,n);return!e.isVoid(r)||e.markableVoid(r)},a=pt.isExpanded(r),s=!1;if(!a){var[u,c]=$e.node(e,r);if(u&&o(u,c)){var[l]=$e.parent(e,c);s=l&&e.markableVoid(l)}}if(a||s)Vt.setNodes(e,{[t]:n},{match:o,split:!0,voids:!0});else{var f=he(he({},$e.marks(e)||{}),{},{[t]:n});e.marks=f,se.get(e)||e.onChange()}}},deleteBackward:t=>{var{selection:n}=e;n&&pt.isCollapsed(n)&&Vt.delete(e,{unit:t,reverse:!0})},deleteForward:t=>{var{selection:n}=e;n&&pt.isCollapsed(n)&&Vt.delete(e,{unit:t})},deleteFragment:t=>{var{selection:n}=e;n&&pt.isExpanded(n)&&Vt.delete(e,{reverse:"backward"===t})},getFragment:()=>{var{selection:t}=e;return t?nt.fragment(e,t):[]},insertBreak:()=>{Vt.splitNodes(e,{always:!0})},insertSoftBreak:()=>{Vt.splitNodes(e,{always:!0})},insertFragment:t=>{Vt.insertFragment(e,t)},insertNode:t=>{Vt.insertNodes(e,t)},insertText:t=>{var{selection:n,marks:r}=e;if(n){if(r){var i=he({text:t},r);Vt.insertNodes(e,i)}else Vt.insertText(e,t);e.marks=null}},normalizeNode:t=>{var[n,r]=t;if(!St.isText(n))if(He.isElement(n)&&0===n.children.length){Vt.insertNodes(e,{text:""},{at:r.concat(0),voids:!0})}else for(var i=!$e.isEditor(n)&&(He.isElement(n)&&(e.isInline(n)||0===n.children.length||St.isText(n.children[0])||e.isInline(n.children[0]))),o=0,a=0;a<n.children.length;a++,o++){var s=nt.get(e,r);if(!St.isText(s)){var u=n.children[a],c=s.children[o-1],l=a===n.children.length-1;if((St.isText(u)||He.isElement(u)&&e.isInline(u))!==i)Vt.removeNodes(e,{at:r.concat(o),voids:!0}),o--;else if(He.isElement(u)){if(e.isInline(u))if(null!=c&&St.isText(c)){if(l){Vt.insertNodes(e,{text:""},{at:r.concat(o+1),voids:!0}),o++}}else{Vt.insertNodes(e,{text:""},{at:r.concat(o),voids:!0}),o++}}else null!=c&&St.isText(c)&&(St.equals(u,c,{loose:!0})?(Vt.mergeNodes(e,{at:r.concat(o),voids:!0}),o--):""===c.text?(Vt.removeNodes(e,{at:r.concat(o-1),voids:!0}),o--):""===u.text&&(Vt.removeNodes(e,{at:r.concat(o),voids:!0}),o--))}}},removeMark:t=>{var{selection:n}=e;if(n){var r=(t,n)=>{if(!St.isText(t))return!1;var[r,i]=$e.parent(e,n);return!e.isVoid(r)||e.markableVoid(r)},i=pt.isExpanded(n),o=!1;if(!i){var[a,s]=$e.node(e,n);if(a&&r(a,s)){var[u]=$e.parent(e,s);o=u&&e.markableVoid(u)}}if(i||o)Vt.unsetNodes(e,t,{match:r,split:!0,voids:!0});else{var c=he({},$e.marks(e)||{});delete c[t],e.marks=c,se.get(e)||e.onChange()}}},getDirtyPaths:e=>{switch(e.type){case"insert_text":case"remove_text":case"set_node":var{path:t}=e;return at.levels(t);case"insert_node":var{node:n,path:r}=e,i=at.levels(r),o=St.isText(n)?[]:Array.from(nt.nodes(n),(e=>{var[,t]=e;return r.concat(t)}));return[...i,...o];case"merge_node":var{path:a}=e;return[...at.ancestors(a),at.previous(a)];case"move_node":var{path:s,newPath:u}=e;if(at.equals(s,u))return[];var c=[],l=[];for(var f of at.ancestors(s)){var d=at.transform(f,e);c.push(d)}for(var h of at.ancestors(u)){var p=at.transform(h,e);l.push(p)}var v=l[l.length-1],m=u[u.length-1],g=v.concat(m);return[...c,...l,g];case"remove_node":var{path:y}=e;return[...at.ancestors(y)];case"split_node":var{path:b}=e;return[...at.levels(b),at.next(b)];default:return[]}}};return e};function me(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var ge,ye=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!t,r=t?xe(e):e,i=ge.None,o=ge.None,a=0,s=null;for(var u of r){var c=u.codePointAt(0);if(!c)break;var l=Me(u,c);if([i,o]=n?[o,l]:[l,i],Le(i,ge.ZWJ)&&Le(o,ge.ExtPict)&&!Ve(n?e.substring(0,a):e.substring(0,e.length-a)))break;if(Le(i,ge.RI)&&Le(o,ge.RI)&&!(s=null!==s?!s:!!n||qe(e.substring(0,e.length-a))))break;if(i!==ge.None&&o!==ge.None&&Be(i,o))break;a+=u.length}return a||1},be=/\s/,we=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/,_e=/['\u2018\u2019]/,Ee=(e,t,n)=>{if(n){var r=e.length-t;return[e.slice(r,e.length),e.slice(0,r)]}return[e.slice(0,t),e.slice(t)]},Se=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(be.test(t))return!1;if(_e.test(t)){var i=ye(n,r),[o,a]=Ee(n,i,r);if(e(o,a,r))return!0}return!we.test(t)},xe=function*(e){for(var t=e.length-1,n=0;n<e.length;n++){var r=e.charAt(t-n);if(Ce(r.charCodeAt(0))){var i=e.charAt(t-n-1);if(Oe(i.charCodeAt(0))){yield i+r,n++;continue}}yield r}},Oe=e=>e>=55296&&e<=56319,Ce=e=>e>=56320&&e<=57343;!function(e){e[e.None=0]="None",e[e.Extend=1]="Extend",e[e.ZWJ=2]="ZWJ",e[e.RI=4]="RI",e[e.Prepend=8]="Prepend",e[e.SpacingMark=16]="SpacingMark",e[e.L=32]="L",e[e.V=64]="V",e[e.T=128]="T",e[e.LV=256]="LV",e[e.LVT=512]="LVT",e[e.ExtPict=1024]="ExtPict",e[e.Any=2048]="Any"}(ge||(ge={}));var ke=/^(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])$/,Te=/^(?:[\u0600-\u0605\u06DD\u070F\u0890\u0891\u08E2\u0D4E]|\uD804[\uDCBD\uDCCD\uDDC2\uDDC3]|\uD806[\uDD3F\uDD41\uDE3A\uDE84-\uDE89]|\uD807\uDD46)$/,Ae=/^(?:[\u0903\u093B\u093E-\u0940\u0949-\u094C\u094E\u094F\u0982\u0983\u09BF\u09C0\u09C7\u09C8\u09CB\u09CC\u0A03\u0A3E-\u0A40\u0A83\u0ABE-\u0AC0\u0AC9\u0ACB\u0ACC\u0B02\u0B03\u0B40\u0B47\u0B48\u0B4B\u0B4C\u0BBF\u0BC1\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCC\u0C01-\u0C03\u0C41-\u0C44\u0C82\u0C83\u0CBE\u0CC0\u0CC1\u0CC3\u0CC4\u0CC7\u0CC8\u0CCA\u0CCB\u0D02\u0D03\u0D3F\u0D40\u0D46-\u0D48\u0D4A-\u0D4C\u0D82\u0D83\u0DD0\u0DD1\u0DD8-\u0DDE\u0DF2\u0DF3\u0E33\u0EB3\u0F3E\u0F3F\u0F7F\u1031\u103B\u103C\u1056\u1057\u1084\u1715\u1734\u17B6\u17BE-\u17C5\u17C7\u17C8\u1923-\u1926\u1929-\u192B\u1930\u1931\u1933-\u1938\u1A19\u1A1A\u1A55\u1A57\u1A6D-\u1A72\u1B04\u1B3B\u1B3D-\u1B41\u1B43\u1B44\u1B82\u1BA1\u1BA6\u1BA7\u1BAA\u1BE7\u1BEA-\u1BEC\u1BEE\u1BF2\u1BF3\u1C24-\u1C2B\u1C34\u1C35\u1CE1\u1CF7\uA823\uA824\uA827\uA880\uA881\uA8B4-\uA8C3\uA952\uA953\uA983\uA9B4\uA9B5\uA9BA\uA9BB\uA9BE-\uA9C0\uAA2F\uAA30\uAA33\uAA34\uAA4D\uAAEB\uAAEE\uAAEF\uAAF5\uABE3\uABE4\uABE6\uABE7\uABE9\uABEA\uABEC]|\uD804[\uDC00\uDC02\uDC82\uDCB0-\uDCB2\uDCB7\uDCB8\uDD2C\uDD45\uDD46\uDD82\uDDB3-\uDDB5\uDDBF\uDDC0\uDDCE\uDE2C-\uDE2E\uDE32\uDE33\uDE35\uDEE0-\uDEE2\uDF02\uDF03\uDF3F\uDF41-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF62\uDF63]|\uD805[\uDC35-\uDC37\uDC40\uDC41\uDC45\uDCB1\uDCB2\uDCB9\uDCBB\uDCBC\uDCBE\uDCC1\uDDB0\uDDB1\uDDB8-\uDDBB\uDDBE\uDE30-\uDE32\uDE3B\uDE3C\uDE3E\uDEAC\uDEAE\uDEAF\uDEB6\uDF26]|\uD806[\uDC2C-\uDC2E\uDC38\uDD31-\uDD35\uDD37\uDD38\uDD3D\uDD40\uDD42\uDDD1-\uDDD3\uDDDC-\uDDDF\uDDE4\uDE39\uDE57\uDE58\uDE97]|\uD807[\uDC2F\uDC3E\uDCA9\uDCB1\uDCB4\uDD8A-\uDD8E\uDD93\uDD94\uDD96\uDEF5\uDEF6]|\uD81B[\uDF51-\uDF87\uDFF0\uDFF1]|\uD834[\uDD66\uDD6D])$/,Ie=/^[\u1100-\u115F\uA960-\uA97C]$/,De=/^[\u1160-\u11A7\uD7B0-\uD7C6]$/,Pe=/^[\u11A8-\u11FF\uD7CB-\uD7FB]$/,Re=/^[\uAC00\uAC1C\uAC38\uAC54\uAC70\uAC8C\uACA8\uACC4\uACE0\uACFC\uAD18\uAD34\uAD50\uAD6C\uAD88\uADA4\uADC0\uADDC\uADF8\uAE14\uAE30\uAE4C\uAE68\uAE84\uAEA0\uAEBC\uAED8\uAEF4\uAF10\uAF2C\uAF48\uAF64\uAF80\uAF9C\uAFB8\uAFD4\uAFF0\uB00C\uB028\uB044\uB060\uB07C\uB098\uB0B4\uB0D0\uB0EC\uB108\uB124\uB140\uB15C\uB178\uB194\uB1B0\uB1CC\uB1E8\uB204\uB220\uB23C\uB258\uB274\uB290\uB2AC\uB2C8\uB2E4\uB300\uB31C\uB338\uB354\uB370\uB38C\uB3A8\uB3C4\uB3E0\uB3FC\uB418\uB434\uB450\uB46C\uB488\uB4A4\uB4C0\uB4DC\uB4F8\uB514\uB530\uB54C\uB568\uB584\uB5A0\uB5BC\uB5D8\uB5F4\uB610\uB62C\uB648\uB664\uB680\uB69C\uB6B8\uB6D4\uB6F0\uB70C\uB728\uB744\uB760\uB77C\uB798\uB7B4\uB7D0\uB7EC\uB808\uB824\uB840\uB85C\uB878\uB894\uB8B0\uB8CC\uB8E8\uB904\uB920\uB93C\uB958\uB974\uB990\uB9AC\uB9C8\uB9E4\uBA00\uBA1C\uBA38\uBA54\uBA70\uBA8C\uBAA8\uBAC4\uBAE0\uBAFC\uBB18\uBB34\uBB50\uBB6C\uBB88\uBBA4\uBBC0\uBBDC\uBBF8\uBC14\uBC30\uBC4C\uBC68\uBC84\uBCA0\uBCBC\uBCD8\uBCF4\uBD10\uBD2C\uBD48\uBD64\uBD80\uBD9C\uBDB8\uBDD4\uBDF0\uBE0C\uBE28\uBE44\uBE60\uBE7C\uBE98\uBEB4\uBED0\uBEEC\uBF08\uBF24\uBF40\uBF5C\uBF78\uBF94\uBFB0\uBFCC\uBFE8\uC004\uC020\uC03C\uC058\uC074\uC090\uC0AC\uC0C8\uC0E4\uC100\uC11C\uC138\uC154\uC170\uC18C\uC1A8\uC1C4\uC1E0\uC1FC\uC218\uC234\uC250\uC26C\uC288\uC2A4\uC2C0\uC2DC\uC2F8\uC314\uC330\uC34C\uC368\uC384\uC3A0\uC3BC\uC3D8\uC3F4\uC410\uC42C\uC448\uC464\uC480\uC49C\uC4B8\uC4D4\uC4F0\uC50C\uC528\uC544\uC560\uC57C\uC598\uC5B4\uC5D0\uC5EC\uC608\uC624\uC640\uC65C\uC678\uC694\uC6B0\uC6CC\uC6E8\uC704\uC720\uC73C\uC758\uC774\uC790\uC7AC\uC7C8\uC7E4\uC800\uC81C\uC838\uC854\uC870\uC88C\uC8A8\uC8C4\uC8E0\uC8FC\uC918\uC934\uC950\uC96C\uC988\uC9A4\uC9C0\uC9DC\uC9F8\uCA14\uCA30\uCA4C\uCA68\uCA84\uCAA0\uCABC\uCAD8\uCAF4\uCB10\uCB2C\uCB48\uCB64\uCB80\uCB9C\uCBB8\uCBD4\uCBF0\uCC0C\uCC28\uCC44\uCC60\uCC7C\uCC98\uCCB4\uCCD0\uCCEC\uCD08\uCD24\uCD40\uCD5C\uCD78\uCD94\uCDB0\uCDCC\uCDE8\uCE04\uCE20\uCE3C\uCE58\uCE74\uCE90\uCEAC\uCEC8\uCEE4\uCF00\uCF1C\uCF38\uCF54\uCF70\uCF8C\uCFA8\uCFC4\uCFE0\uCFFC\uD018\uD034\uD050\uD06C\uD088\uD0A4\uD0C0\uD0DC\uD0F8\uD114\uD130\uD14C\uD168\uD184\uD1A0\uD1BC\uD1D8\uD1F4\uD210\uD22C\uD248\uD264\uD280\uD29C\uD2B8\uD2D4\uD2F0\uD30C\uD328\uD344\uD360\uD37C\uD398\uD3B4\uD3D0\uD3EC\uD408\uD424\uD440\uD45C\uD478\uD494\uD4B0\uD4CC\uD4E8\uD504\uD520\uD53C\uD558\uD574\uD590\uD5AC\uD5C8\uD5E4\uD600\uD61C\uD638\uD654\uD670\uD68C\uD6A8\uD6C4\uD6E0\uD6FC\uD718\uD734\uD750\uD76C\uD788]$/,Ne=/^[\uAC01-\uAC1B\uAC1D-\uAC37\uAC39-\uAC53\uAC55-\uAC6F\uAC71-\uAC8B\uAC8D-\uACA7\uACA9-\uACC3\uACC5-\uACDF\uACE1-\uACFB\uACFD-\uAD17\uAD19-\uAD33\uAD35-\uAD4F\uAD51-\uAD6B\uAD6D-\uAD87\uAD89-\uADA3\uADA5-\uADBF\uADC1-\uADDB\uADDD-\uADF7\uADF9-\uAE13\uAE15-\uAE2F\uAE31-\uAE4B\uAE4D-\uAE67\uAE69-\uAE83\uAE85-\uAE9F\uAEA1-\uAEBB\uAEBD-\uAED7\uAED9-\uAEF3\uAEF5-\uAF0F\uAF11-\uAF2B\uAF2D-\uAF47\uAF49-\uAF63\uAF65-\uAF7F\uAF81-\uAF9B\uAF9D-\uAFB7\uAFB9-\uAFD3\uAFD5-\uAFEF\uAFF1-\uB00B\uB00D-\uB027\uB029-\uB043\uB045-\uB05F\uB061-\uB07B\uB07D-\uB097\uB099-\uB0B3\uB0B5-\uB0CF\uB0D1-\uB0EB\uB0ED-\uB107\uB109-\uB123\uB125-\uB13F\uB141-\uB15B\uB15D-\uB177\uB179-\uB193\uB195-\uB1AF\uB1B1-\uB1CB\uB1CD-\uB1E7\uB1E9-\uB203\uB205-\uB21F\uB221-\uB23B\uB23D-\uB257\uB259-\uB273\uB275-\uB28F\uB291-\uB2AB\uB2AD-\uB2C7\uB2C9-\uB2E3\uB2E5-\uB2FF\uB301-\uB31B\uB31D-\uB337\uB339-\uB353\uB355-\uB36F\uB371-\uB38B\uB38D-\uB3A7\uB3A9-\uB3C3\uB3C5-\uB3DF\uB3E1-\uB3FB\uB3FD-\uB417\uB419-\uB433\uB435-\uB44F\uB451-\uB46B\uB46D-\uB487\uB489-\uB4A3\uB4A5-\uB4BF\uB4C1-\uB4DB\uB4DD-\uB4F7\uB4F9-\uB513\uB515-\uB52F\uB531-\uB54B\uB54D-\uB567\uB569-\uB583\uB585-\uB59F\uB5A1-\uB5BB\uB5BD-\uB5D7\uB5D9-\uB5F3\uB5F5-\uB60F\uB611-\uB62B\uB62D-\uB647\uB649-\uB663\uB665-\uB67F\uB681-\uB69B\uB69D-\uB6B7\uB6B9-\uB6D3\uB6D5-\uB6EF\uB6F1-\uB70B\uB70D-\uB727\uB729-\uB743\uB745-\uB75F\uB761-\uB77B\uB77D-\uB797\uB799-\uB7B3\uB7B5-\uB7CF\uB7D1-\uB7EB\uB7ED-\uB807\uB809-\uB823\uB825-\uB83F\uB841-\uB85B\uB85D-\uB877\uB879-\uB893\uB895-\uB8AF\uB8B1-\uB8CB\uB8CD-\uB8E7\uB8E9-\uB903\uB905-\uB91F\uB921-\uB93B\uB93D-\uB957\uB959-\uB973\uB975-\uB98F\uB991-\uB9AB\uB9AD-\uB9C7\uB9C9-\uB9E3\uB9E5-\uB9FF\uBA01-\uBA1B\uBA1D-\uBA37\uBA39-\uBA53\uBA55-\uBA6F\uBA71-\uBA8B\uBA8D-\uBAA7\uBAA9-\uBAC3\uBAC5-\uBADF\uBAE1-\uBAFB\uBAFD-\uBB17\uBB19-\uBB33\uBB35-\uBB4F\uBB51-\uBB6B\uBB6D-\uBB87\uBB89-\uBBA3\uBBA5-\uBBBF\uBBC1-\uBBDB\uBBDD-\uBBF7\uBBF9-\uBC13\uBC15-\uBC2F\uBC31-\uBC4B\uBC4D-\uBC67\uBC69-\uBC83\uBC85-\uBC9F\uBCA1-\uBCBB\uBCBD-\uBCD7\uBCD9-\uBCF3\uBCF5-\uBD0F\uBD11-\uBD2B\uBD2D-\uBD47\uBD49-\uBD63\uBD65-\uBD7F\uBD81-\uBD9B\uBD9D-\uBDB7\uBDB9-\uBDD3\uBDD5-\uBDEF\uBDF1-\uBE0B\uBE0D-\uBE27\uBE29-\uBE43\uBE45-\uBE5F\uBE61-\uBE7B\uBE7D-\uBE97\uBE99-\uBEB3\uBEB5-\uBECF\uBED1-\uBEEB\uBEED-\uBF07\uBF09-\uBF23\uBF25-\uBF3F\uBF41-\uBF5B\uBF5D-\uBF77\uBF79-\uBF93\uBF95-\uBFAF\uBFB1-\uBFCB\uBFCD-\uBFE7\uBFE9-\uC003\uC005-\uC01F\uC021-\uC03B\uC03D-\uC057\uC059-\uC073\uC075-\uC08F\uC091-\uC0AB\uC0AD-\uC0C7\uC0C9-\uC0E3\uC0E5-\uC0FF\uC101-\uC11B\uC11D-\uC137\uC139-\uC153\uC155-\uC16F\uC171-\uC18B\uC18D-\uC1A7\uC1A9-\uC1C3\uC1C5-\uC1DF\uC1E1-\uC1FB\uC1FD-\uC217\uC219-\uC233\uC235-\uC24F\uC251-\uC26B\uC26D-\uC287\uC289-\uC2A3\uC2A5-\uC2BF\uC2C1-\uC2DB\uC2DD-\uC2F7\uC2F9-\uC313\uC315-\uC32F\uC331-\uC34B\uC34D-\uC367\uC369-\uC383\uC385-\uC39F\uC3A1-\uC3BB\uC3BD-\uC3D7\uC3D9-\uC3F3\uC3F5-\uC40F\uC411-\uC42B\uC42D-\uC447\uC449-\uC463\uC465-\uC47F\uC481-\uC49B\uC49D-\uC4B7\uC4B9-\uC4D3\uC4D5-\uC4EF\uC4F1-\uC50B\uC50D-\uC527\uC529-\uC543\uC545-\uC55F\uC561-\uC57B\uC57D-\uC597\uC599-\uC5B3\uC5B5-\uC5CF\uC5D1-\uC5EB\uC5ED-\uC607\uC609-\uC623\uC625-\uC63F\uC641-\uC65B\uC65D-\uC677\uC679-\uC693\uC695-\uC6AF\uC6B1-\uC6CB\uC6CD-\uC6E7\uC6E9-\uC703\uC705-\uC71F\uC721-\uC73B\uC73D-\uC757\uC759-\uC773\uC775-\uC78F\uC791-\uC7AB\uC7AD-\uC7C7\uC7C9-\uC7E3\uC7E5-\uC7FF\uC801-\uC81B\uC81D-\uC837\uC839-\uC853\uC855-\uC86F\uC871-\uC88B\uC88D-\uC8A7\uC8A9-\uC8C3\uC8C5-\uC8DF\uC8E1-\uC8FB\uC8FD-\uC917\uC919-\uC933\uC935-\uC94F\uC951-\uC96B\uC96D-\uC987\uC989-\uC9A3\uC9A5-\uC9BF\uC9C1-\uC9DB\uC9DD-\uC9F7\uC9F9-\uCA13\uCA15-\uCA2F\uCA31-\uCA4B\uCA4D-\uCA67\uCA69-\uCA83\uCA85-\uCA9F\uCAA1-\uCABB\uCABD-\uCAD7\uCAD9-\uCAF3\uCAF5-\uCB0F\uCB11-\uCB2B\uCB2D-\uCB47\uCB49-\uCB63\uCB65-\uCB7F\uCB81-\uCB9B\uCB9D-\uCBB7\uCBB9-\uCBD3\uCBD5-\uCBEF\uCBF1-\uCC0B\uCC0D-\uCC27\uCC29-\uCC43\uCC45-\uCC5F\uCC61-\uCC7B\uCC7D-\uCC97\uCC99-\uCCB3\uCCB5-\uCCCF\uCCD1-\uCCEB\uCCED-\uCD07\uCD09-\uCD23\uCD25-\uCD3F\uCD41-\uCD5B\uCD5D-\uCD77\uCD79-\uCD93\uCD95-\uCDAF\uCDB1-\uCDCB\uCDCD-\uCDE7\uCDE9-\uCE03\uCE05-\uCE1F\uCE21-\uCE3B\uCE3D-\uCE57\uCE59-\uCE73\uCE75-\uCE8F\uCE91-\uCEAB\uCEAD-\uCEC7\uCEC9-\uCEE3\uCEE5-\uCEFF\uCF01-\uCF1B\uCF1D-\uCF37\uCF39-\uCF53\uCF55-\uCF6F\uCF71-\uCF8B\uCF8D-\uCFA7\uCFA9-\uCFC3\uCFC5-\uCFDF\uCFE1-\uCFFB\uCFFD-\uD017\uD019-\uD033\uD035-\uD04F\uD051-\uD06B\uD06D-\uD087\uD089-\uD0A3\uD0A5-\uD0BF\uD0C1-\uD0DB\uD0DD-\uD0F7\uD0F9-\uD113\uD115-\uD12F\uD131-\uD14B\uD14D-\uD167\uD169-\uD183\uD185-\uD19F\uD1A1-\uD1BB\uD1BD-\uD1D7\uD1D9-\uD1F3\uD1F5-\uD20F\uD211-\uD22B\uD22D-\uD247\uD249-\uD263\uD265-\uD27F\uD281-\uD29B\uD29D-\uD2B7\uD2B9-\uD2D3\uD2D5-\uD2EF\uD2F1-\uD30B\uD30D-\uD327\uD329-\uD343\uD345-\uD35F\uD361-\uD37B\uD37D-\uD397\uD399-\uD3B3\uD3B5-\uD3CF\uD3D1-\uD3EB\uD3ED-\uD407\uD409-\uD423\uD425-\uD43F\uD441-\uD45B\uD45D-\uD477\uD479-\uD493\uD495-\uD4AF\uD4B1-\uD4CB\uD4CD-\uD4E7\uD4E9-\uD503\uD505-\uD51F\uD521-\uD53B\uD53D-\uD557\uD559-\uD573\uD575-\uD58F\uD591-\uD5AB\uD5AD-\uD5C7\uD5C9-\uD5E3\uD5E5-\uD5FF\uD601-\uD61B\uD61D-\uD637\uD639-\uD653\uD655-\uD66F\uD671-\uD68B\uD68D-\uD6A7\uD6A9-\uD6C3\uD6C5-\uD6DF\uD6E1-\uD6FB\uD6FD-\uD717\uD719-\uD733\uD735-\uD74F\uD751-\uD76B\uD76D-\uD787\uD789-\uD7A3]$/,je=/^(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])$/,Me=(e,t)=>{var n=ge.Any;return-1!==e.search(ke)&&(n|=ge.Extend),8205===t&&(n|=ge.ZWJ),t>=127462&&t<=127487&&(n|=ge.RI),-1!==e.search(Te)&&(n|=ge.Prepend),-1!==e.search(Ae)&&(n|=ge.SpacingMark),-1!==e.search(Ie)&&(n|=ge.L),-1!==e.search(De)&&(n|=ge.V),-1!==e.search(Pe)&&(n|=ge.T),-1!==e.search(Re)&&(n|=ge.LV),-1!==e.search(Ne)&&(n|=ge.LVT),-1!==e.search(je)&&(n|=ge.ExtPict),n};function Le(e,t){return 0!==(e&t)}var Fe=[[ge.L,ge.L|ge.V|ge.LV|ge.LVT],[ge.LV|ge.V,ge.V|ge.T],[ge.LVT|ge.T,ge.T],[ge.Any,ge.Extend|ge.ZWJ],[ge.Any,ge.SpacingMark],[ge.Prepend,ge.Any],[ge.ZWJ,ge.ExtPict],[ge.RI,ge.RI]];function Be(e,t){return-1===Fe.findIndex((n=>Le(e,n[0])&&Le(t,n[1])))}var Ue=/(?:[\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u2388\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2605\u2607-\u2612\u2614-\u2685\u2690-\u2705\u2708-\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763-\u2767\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC00-\uDCFF\uDD0D-\uDD0F\uDD2F\uDD6C-\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDAD-\uDDE5\uDE01-\uDE0F\uDE1A\uDE2F\uDE32-\uDE3A\uDE3C-\uDE3F\uDE49-\uDFFA]|\uD83D[\uDC00-\uDD3D\uDD46-\uDE4F\uDE80-\uDEFF\uDF74-\uDF7F\uDFD5-\uDFFF]|\uD83E[\uDC0C-\uDC0F\uDC48-\uDC4F\uDC5A-\uDC5F\uDC88-\uDC8F\uDCAE-\uDCFF\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDEFF]|\uD83F[\uDC00-\uDFFD])(?:[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08D3-\u08E1\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2\u09E3\u09FE\u0A01\u0A02\u0A3C\u0A41\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7\u0AC8\u0ACD\u0AE2\u0AE3\u0AFA-\u0AFF\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C04\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D00\u0D01\u0D3B\u0D3C\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62\u0D63\u0D81\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039\u103A\u103D\u103E\u1058\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u1885\u1886\u18A9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193B\u1A17\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1AC0\u1B00-\u1B03\u1B34-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80\u1B81\u1BA2-\u1BA5\u1BA8\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF9\u1DFB-\u1DFF\u200C\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA825\uA826\uA82C\uA8C4\uA8C5\uA8E0-\uA8F1\uA8FF\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9BD\uA9E5\uAA29-\uAA2E\uAA31\uAA32\uAA35\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEC\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E\uFF9F]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD803[\uDD24-\uDD27\uDEAB\uDEAC\uDF46-\uDF50]|\uD804[\uDC01\uDC38-\uDC46\uDC7F-\uDC81\uDCB3-\uDCB6\uDCB9\uDCBA\uDD00-\uDD02\uDD27-\uDD2B\uDD2D-\uDD34\uDD73\uDD80\uDD81\uDDB6-\uDDBE\uDDC9-\uDDCC\uDDCF\uDE2F-\uDE31\uDE34\uDE36\uDE37\uDE3E\uDEDF\uDEE3-\uDEEA\uDF00\uDF01\uDF3B\uDF3C\uDF3E\uDF40\uDF57\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC38-\uDC3F\uDC42-\uDC44\uDC46\uDC5E\uDCB0\uDCB3-\uDCB8\uDCBA\uDCBD\uDCBF\uDCC0\uDCC2\uDCC3\uDDAF\uDDB2-\uDDB5\uDDBC\uDDBD\uDDBF\uDDC0\uDDDC\uDDDD\uDE33-\uDE3A\uDE3D\uDE3F\uDE40\uDEAB\uDEAD\uDEB0-\uDEB5\uDEB7\uDF1D-\uDF1F\uDF22-\uDF25\uDF27-\uDF2B]|\uD806[\uDC2F-\uDC37\uDC39\uDC3A\uDD30\uDD3B\uDD3C\uDD3E\uDD43\uDDD4-\uDDD7\uDDDA\uDDDB\uDDE0\uDE01-\uDE0A\uDE33-\uDE38\uDE3B-\uDE3E\uDE47\uDE51-\uDE56\uDE59-\uDE5B\uDE8A-\uDE96\uDE98\uDE99]|\uD807[\uDC30-\uDC36\uDC38-\uDC3D\uDC3F\uDC92-\uDCA7\uDCAA-\uDCB0\uDCB2\uDCB3\uDCB5\uDCB6\uDD31-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD45\uDD47\uDD90\uDD91\uDD95\uDD97\uDEF3\uDEF4]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF4F\uDF8F-\uDF92\uDFE4]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65\uDD67-\uDD69\uDD6E-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A\uDD30-\uDD36\uDEEC-\uDEEF]|\uD83A[\uDCD0-\uDCD6\uDD44-\uDD4A]|\uD83C[\uDFFB-\uDFFF]|\uDB40[\uDC20-\uDC7F\uDD00-\uDDEF])*\u200D$/,Ve=e=>-1!==e.search(Ue),ze=/(?:\uD83C[\uDDE6-\uDDFF])+$/g,qe=e=>{var t=e.match(ze);return null!==t&&t[0].length/2%2===1},Ze=e=>(0,r.P)(e)&&nt.isNodeList(e.children)&&!$e.isEditor(e),He={isAncestor:e=>(0,r.P)(e)&&nt.isNodeList(e.children),isElement:Ze,isElementList:e=>Array.isArray(e)&&e.every((e=>He.isElement(e))),isElementProps:e=>void 0!==e.children,isElementType:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"type";return Ze(e)&&e[n]===t},matches(e,t){for(var n in t)if("children"!==n&&e[n]!==t[n])return!1;return!0}},We=["text"],Ge=["text"];function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(n),!0).forEach((function(t){ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ye=new WeakMap,$e={above(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{voids:n=!1,mode:r="lowest",at:i=e.selection,match:o}=t;if(i){var a=$e.path(e,i),s="lowest"===r;for(var[u,c]of $e.levels(e,{at:a,voids:n,match:o,reverse:s}))if(!St.isText(u))if(pt.isRange(i)){if(at.isAncestor(c,i.anchor.path)&&at.isAncestor(c,i.focus.path))return[u,c]}else if(!at.equals(a,c))return[u,c]}},addMark(e,t,n){e.addMark(t,n)},after(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={anchor:$e.point(e,t,{edge:"end"}),focus:$e.end(e,[])},{distance:o=1}=r,a=0;for(var s of $e.positions(e,Je(Je({},r),{},{at:i}))){if(a>o)break;0!==a&&(n=s),a++}return n},before(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i={anchor:$e.start(e,[]),focus:$e.point(e,t,{edge:"start"})},{distance:o=1}=r,a=0;for(var s of $e.positions(e,Je(Je({},r),{},{at:i,reverse:!0}))){if(a>o)break;0!==a&&(n=s),a++}return n},deleteBackward(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{unit:n="character"}=t;e.deleteBackward(n)},deleteForward(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{unit:n="character"}=t;e.deleteForward(n)},deleteFragment(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{direction:n="forward"}=t;e.deleteFragment(n)},edges:(e,t)=>[$e.start(e,t),$e.end(e,t)],end:(e,t)=>$e.point(e,t,{edge:"end"}),first(e,t){var n=$e.path(e,t,{edge:"start"});return $e.node(e,n)},fragment(e,t){var n=$e.range(e,t);return nt.fragment(e,n)},hasBlocks:(e,t)=>t.children.some((t=>$e.isBlock(e,t))),hasInlines:(e,t)=>t.children.some((t=>St.isText(t)||$e.isInline(e,t))),hasTexts:(e,t)=>t.children.every((e=>St.isText(e))),insertBreak(e){e.insertBreak()},insertSoftBreak(e){e.insertSoftBreak()},insertFragment(e,t){e.insertFragment(t)},insertNode(e,t){e.insertNode(t)},insertText(e,t){e.insertText(t)},isBlock:(e,t)=>He.isElement(t)&&!e.isInline(t),isEditor(e){var t=Ye.get(e);if(void 0!==t)return t;if(!(0,r.P)(e))return!1;var n="function"===typeof e.addMark&&"function"===typeof e.apply&&"function"===typeof e.deleteBackward&&"function"===typeof e.deleteForward&&"function"===typeof e.deleteFragment&&"function"===typeof e.insertBreak&&"function"===typeof e.insertSoftBreak&&"function"===typeof e.insertFragment&&"function"===typeof e.insertNode&&"function"===typeof e.insertText&&"function"===typeof e.isInline&&"function"===typeof e.isVoid&&"function"===typeof e.normalizeNode&&"function"===typeof e.onChange&&"function"===typeof e.removeMark&&"function"===typeof e.getDirtyPaths&&(null===e.marks||(0,r.P)(e.marks))&&(null===e.selection||pt.isRange(e.selection))&&nt.isNodeList(e.children)&&ot.isOperationList(e.operations);return Ye.set(e,n),n},isEnd(e,t,n){var r=$e.end(e,n);return lt.equals(t,r)},isEdge:(e,t,n)=>$e.isStart(e,t,n)||$e.isEnd(e,t,n),isEmpty(e,t){var{children:n}=t,[r]=n;return 0===n.length||1===n.length&&St.isText(r)&&""===r.text&&!e.isVoid(t)},isInline:(e,t)=>He.isElement(t)&&e.isInline(t),isNormalizing(e){var t=ue.get(e);return void 0===t||t},isStart(e,t,n){if(0!==t.offset)return!1;var r=$e.start(e,n);return lt.equals(t,r)},isVoid:(e,t)=>He.isElement(t)&&e.isVoid(t),last(e,t){var n=$e.path(e,t,{edge:"end"});return $e.node(e,n)},leaf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=$e.path(e,t,n);return[nt.leaf(e,r),r]},*levels(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{at:n=e.selection,reverse:r=!1,voids:i=!1}=t,{match:o}=t;if(null==o&&(o=()=>!0),n){var a=[],s=$e.path(e,n);for(var[u,c]of nt.levels(e,s))if(o(u,c)&&(a.push([u,c]),!i&&$e.isVoid(e,u)))break;r&&a.reverse(),yield*a}},marks(e){var{marks:t,selection:n}=e;if(!n)return null;if(t)return t;if(pt.isExpanded(n)){var[r]=$e.nodes(e,{match:St.isText});if(r){var[i]=r;return me(i,We)}return{}}var{anchor:o}=n,{path:a}=o,[s]=$e.leaf(e,a);if(0===o.offset){var u=$e.previous(e,{at:a,match:St.isText}),c=$e.above(e,{match:t=>$e.isVoid(e,t)&&e.markableVoid(t)});if(!c){var l=$e.above(e,{match:t=>$e.isBlock(e,t)});if(u&&l){var[f,d]=u,[,h]=l;at.isAncestor(h,d)&&(s=f)}}}return me(s,Ge)},next(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{mode:n="lowest",voids:r=!1}=t,{match:i,at:o=e.selection}=t;if(o){var a=$e.after(e,o,{voids:r});if(a){var[,s]=$e.last(e,[]),u=[a.path,s];if(at.isPath(o)&&0===o.length)throw new Error("Cannot get the next node from the root node!");if(null==i)if(at.isPath(o)){var[c]=$e.parent(e,o);i=e=>c.children.includes(e)}else i=()=>!0;var[l]=$e.nodes(e,{at:u,match:i,mode:n,voids:r});return l}}},node(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=$e.path(e,t,n);return[nt.get(e,r),r]},*nodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{at:n=e.selection,mode:r="all",universal:i=!1,reverse:o=!1,voids:a=!1}=t,{match:s}=t;if(s||(s=()=>!0),n){var u,c;if(Xe.isSpan(n))u=n[0],c=n[1];else{var l=$e.path(e,n,{edge:"start"}),f=$e.path(e,n,{edge:"end"});u=o?f:l,c=o?l:f}var d,h=nt.nodes(e,{reverse:o,from:u,to:c,pass:t=>{var[n]=t;return!a&&$e.isVoid(e,n)}}),p=[];for(var[v,m]of h){var g=d&&0===at.compare(m,d[1]);if("highest"!==r||!g)if(s(v,m))if("lowest"===r&&g)d=[v,m];else{var y="lowest"===r?d:[v,m];y&&(i?p.push(y):yield y),d=[v,m]}else if(i&&!g&&St.isText(v))return}"lowest"===r&&d&&(i?p.push(d):yield d),i&&(yield*p)}},normalize(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{force:n=!1}=t,r=e=>oe.get(e)||[],i=e=>{var t=r(e).pop(),n=t.join(",");return(e=>ae.get(e)||new Set)(e).delete(n),t};if($e.isNormalizing(e)){if(n){var o=Array.from(nt.nodes(e),(e=>{var[,t]=e;return t})),a=new Set(o.map((e=>e.join(","))));oe.set(e,o),ae.set(e,a)}0!==r(e).length&&$e.withoutNormalizing(e,(()=>{for(var t of r(e))if(nt.has(e,t)){var n=$e.node(e,t),[o,a]=n;He.isElement(o)&&0===o.children.length&&e.normalizeNode(n)}for(var s=42*r(e).length,u=0;0!==r(e).length;){if(u>s)throw new Error("\n            Could not completely normalize the editor after ".concat(s," iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state.\n          "));var c=i(e);if(nt.has(e,c)){var l=$e.node(e,c);e.normalizeNode(l)}u++}}))}},parent(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=$e.path(e,t,n),i=at.parent(r);return $e.node(e,i)},path(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{depth:r,edge:i}=n;if(at.isPath(t))if("start"===i){var[,o]=nt.first(e,t);t=o}else if("end"===i){var[,a]=nt.last(e,t);t=a}return pt.isRange(t)&&(t="start"===i?pt.start(t):"end"===i?pt.end(t):at.common(t.anchor.path,t.focus.path)),lt.isPoint(t)&&(t=t.path),null!=r&&(t=t.slice(0,r)),t},hasPath:(e,t)=>nt.has(e,t),pathRef(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:r="forward"}=n,i={current:t,affinity:r,unref(){var{current:t}=i;return $e.pathRefs(e).delete(i),i.current=null,t}};return $e.pathRefs(e).add(i),i},pathRefs(e){var t=ce.get(e);return t||(t=new Set,ce.set(e,t)),t},point(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{edge:r="start"}=n;if(at.isPath(t)){var i;if("end"===r){var[,o]=nt.last(e,t);i=o}else{var[,a]=nt.first(e,t);i=a}var s=nt.get(e,i);if(!St.isText(s))throw new Error("Cannot get the ".concat(r," point in the node at path [").concat(t,"] because it has no ").concat(r," text node."));return{path:i,offset:"end"===r?s.text.length:0}}if(pt.isRange(t)){var[u,c]=pt.edges(t);return"start"===r?u:c}return t},pointRef(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:r="forward"}=n,i={current:t,affinity:r,unref(){var{current:t}=i;return $e.pointRefs(e).delete(i),i.current=null,t}};return $e.pointRefs(e).add(i),i},pointRefs(e){var t=le.get(e);return t||(t=new Set,le.set(e,t)),t},*positions(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{at:n=e.selection,unit:r="offset",reverse:i=!1,voids:o=!1}=t;if(n){var a=$e.range(e,n),[s,u]=pt.edges(a),c=i?u:s,l=!1,f="",d=0,h=0,p=0;for(var[v,m]of $e.nodes(e,{at:n,reverse:i,voids:o})){if(He.isElement(v)){if(!o&&e.isVoid(v)){yield $e.start(e,m);continue}if(e.isInline(v))continue;if($e.hasInlines(e,v)){var g=at.isAncestor(m,u.path)?u:$e.end(e,m),y=at.isAncestor(m,s.path)?s:$e.start(e,m);f=$e.string(e,{anchor:y,focus:g},{voids:o}),l=!0}}if(St.isText(v)){var b=at.equals(m,c.path);for(b?(h=i?c.offset:v.text.length-c.offset,p=c.offset):(h=v.text.length,p=i?h:0),(b||l||"offset"===r)&&(yield{path:m,offset:p},l=!1);;){if(0===d){if(""===f)break;d=w(f,r,i),f=Ee(f,d,i)[1]}if(p=i?p-d:p+d,(h-=d)<0){d=-h;break}d=0,yield{path:m,offset:p}}}}}function w(e,t,n){return"character"===t?ye(e,n):"word"===t?function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=0,r=!1;e.length>0;){var i=ye(e,t),[o,a]=Ee(e,i,t);if(Se(o,a,t))r=!0,n+=i;else{if(r)break;n+=i}e=a}return n}(e,n):"line"===t||"block"===t?e.length:1}},previous(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{mode:n="lowest",voids:r=!1}=t,{match:i,at:o=e.selection}=t;if(o){var a=$e.before(e,o,{voids:r});if(a){var[,s]=$e.first(e,[]),u=[a.path,s];if(at.isPath(o)&&0===o.length)throw new Error("Cannot get the previous node from the root node!");if(null==i)if(at.isPath(o)){var[c]=$e.parent(e,o);i=e=>c.children.includes(e)}else i=()=>!0;var[l]=$e.nodes(e,{reverse:!0,at:u,match:i,mode:n,voids:r});return l}}},range:(e,t,n)=>pt.isRange(t)&&!n?t:{anchor:$e.start(e,t),focus:$e.end(e,n||t)},rangeRef(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{affinity:r="forward"}=n,i={current:t,affinity:r,unref(){var{current:t}=i;return $e.rangeRefs(e).delete(i),i.current=null,t}};return $e.rangeRefs(e).add(i),i},rangeRefs(e){var t=fe.get(e);return t||(t=new Set,fe.set(e,t)),t},removeMark(e,t){e.removeMark(t)},setNormalizing(e,t){ue.set(e,t)},start:(e,t)=>$e.point(e,t,{edge:"start"}),string(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{voids:r=!1}=n,i=$e.range(e,t),[o,a]=pt.edges(i),s="";for(var[u,c]of $e.nodes(e,{at:i,match:St.isText,voids:r})){var l=u.text;at.equals(c,a.path)&&(l=l.slice(0,a.offset)),at.equals(c,o.path)&&(l=l.slice(o.offset)),s+=l}return s},unhangRange(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{voids:r=!1}=n,[i,o]=pt.edges(t);if(0!==i.offset||0!==o.offset||pt.isCollapsed(t)||at.hasPrevious(o.path))return t;var a=$e.above(e,{at:o,match:t=>$e.isBlock(e,t),voids:r}),s=a?a[1]:[],u={anchor:$e.start(e,i),focus:o},c=!0;for(var[l,f]of $e.nodes(e,{at:u,match:St.isText,reverse:!0,voids:r}))if(c)c=!1;else if(""!==l.text||at.isBefore(f,s)){o={path:f,offset:l.text.length};break}return{anchor:i,focus:o}},void(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return $e.above(e,Je(Je({},t),{},{match:t=>$e.isVoid(e,t)}))},withoutNormalizing(e,t){var n=$e.isNormalizing(e);$e.setNormalizing(e,!1);try{t()}finally{$e.setNormalizing(e,n)}$e.normalize(e)}},Xe={isSpan:e=>Array.isArray(e)&&2===e.length&&e.every(at.isPath)},Qe=["children"],et=["text"],tt=new WeakMap,nt={ancestor(e,t){var n=nt.get(e,t);if(St.isText(n))throw new Error("Cannot get the ancestor node at path [".concat(t,"] because it refers to a text node instead: ").concat(gt.stringify(n)));return n},*ancestors(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(var r of at.ancestors(t,n)){var i=[nt.ancestor(e,r),r];yield i}},child(e,t){if(St.isText(e))throw new Error("Cannot get the child of a text node: ".concat(gt.stringify(e)));var n=e.children[t];if(null==n)throw new Error("Cannot get child at index `".concat(t,"` in node: ").concat(gt.stringify(e)));return n},*children(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{reverse:r=!1}=n,i=nt.ancestor(e,t),{children:o}=i,a=r?o.length-1:0;r?a>=0:a<o.length;){var s=nt.child(i,a),u=t.concat(a);yield[s,u],a=r?a-1:a+1}},common(e,t,n){var r=at.common(t,n);return[nt.get(e,r),r]},descendant(e,t){var n=nt.get(e,t);if($e.isEditor(n))throw new Error("Cannot get the descendant node at path [".concat(t,"] because it refers to the root editor node instead: ").concat(gt.stringify(n)));return n},*descendants(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var[n,r]of nt.nodes(e,t))0!==r.length&&(yield[n,r])},*elements(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var[n,r]of nt.nodes(e,t))He.isElement(n)&&(yield[n,r])},extractProps:e=>He.isAncestor(e)?me(e,Qe):me(e,et),first(e,t){for(var n=t.slice(),r=nt.get(e,n);r&&!St.isText(r)&&0!==r.children.length;)r=r.children[0],n.push(0);return[r,n]},fragment(e,t){if(St.isText(e))throw new Error("Cannot get a fragment starting from a root text node: ".concat(gt.stringify(e)));var n=te({children:e.children},(e=>{var[n,r]=pt.edges(t),i=nt.nodes(e,{reverse:!0,pass:e=>{var[,n]=e;return!pt.includes(t,n)}});for(var[,o]of i){if(!pt.includes(t,o)){var a=nt.parent(e,o),s=o[o.length-1];a.children.splice(s,1)}if(at.equals(o,r.path)){var u=nt.leaf(e,o);u.text=u.text.slice(0,r.offset)}if(at.equals(o,n.path)){var c=nt.leaf(e,o);c.text=c.text.slice(n.offset)}}$e.isEditor(e)&&(e.selection=null)}));return n.children},get(e,t){for(var n=e,r=0;r<t.length;r++){var i=t[r];if(St.isText(n)||!n.children[i])throw new Error("Cannot find a descendant at path [".concat(t,"] in node: ").concat(gt.stringify(e)));n=n.children[i]}return n},has(e,t){for(var n=e,r=0;r<t.length;r++){var i=t[r];if(St.isText(n)||!n.children[i])return!1;n=n.children[i]}return!0},isNode:e=>St.isText(e)||He.isElement(e)||$e.isEditor(e),isNodeList(e){if(!Array.isArray(e))return!1;var t=tt.get(e);if(void 0!==t)return t;var n=e.every((e=>nt.isNode(e)));return tt.set(e,n),n},last(e,t){for(var n=t.slice(),r=nt.get(e,n);r&&!St.isText(r)&&0!==r.children.length;){var i=r.children.length-1;r=r.children[i],n.push(i)}return[r,n]},leaf(e,t){var n=nt.get(e,t);if(!St.isText(n))throw new Error("Cannot get the leaf node at path [".concat(t,"] because it refers to a non-leaf node: ").concat(gt.stringify(n)));return n},*levels(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};for(var r of at.levels(t,n)){var i=nt.get(e,r);yield[i,r]}},matches:(e,t)=>He.isElement(e)&&He.isElementProps(t)&&He.matches(e,t)||St.isText(e)&&St.isTextProps(t)&&St.matches(e,t),*nodes(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{pass:n,reverse:r=!1}=t,{from:i=[],to:o}=t,a=new Set,s=[],u=e;!o||!(r?at.isBefore(s,o):at.isAfter(s,o));)if(a.has(u)||(yield[u,s]),a.has(u)||St.isText(u)||0===u.children.length||null!=n&&!1!==n([u,s])){if(0===s.length)break;if(!r){var c=at.next(s);if(nt.has(e,c)){s=c,u=nt.get(e,s);continue}}if(r&&0!==s[s.length-1])s=at.previous(s),u=nt.get(e,s);else s=at.parent(s),u=nt.get(e,s),a.add(u)}else{a.add(u);var l=r?u.children.length-1:0;at.isAncestor(s,i)&&(l=i[s.length]),s=s.concat(l),u=nt.get(e,s)}},parent(e,t){var n=at.parent(t),r=nt.get(e,n);if(St.isText(r))throw new Error("Cannot get the parent of path [".concat(t,"] because it does not exist in the root."));return r},string:e=>St.isText(e)?e.text:e.children.map(nt.string).join(""),*texts(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(var[n,r]of nt.nodes(e,t))St.isText(n)&&(yield[n,r])}};function rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(n),!0).forEach((function(t){ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ot={isNodeOperation:e=>ot.isOperation(e)&&e.type.endsWith("_node"),isOperation(e){if(!(0,r.P)(e))return!1;switch(e.type){case"insert_node":case"remove_node":return at.isPath(e.path)&&nt.isNode(e.node);case"insert_text":case"remove_text":return"number"===typeof e.offset&&"string"===typeof e.text&&at.isPath(e.path);case"merge_node":return"number"===typeof e.position&&at.isPath(e.path)&&(0,r.P)(e.properties);case"move_node":return at.isPath(e.path)&&at.isPath(e.newPath);case"set_node":return at.isPath(e.path)&&(0,r.P)(e.properties)&&(0,r.P)(e.newProperties);case"set_selection":return null===e.properties&&pt.isRange(e.newProperties)||null===e.newProperties&&pt.isRange(e.properties)||(0,r.P)(e.properties)&&(0,r.P)(e.newProperties);case"split_node":return at.isPath(e.path)&&"number"===typeof e.position&&(0,r.P)(e.properties);default:return!1}},isOperationList:e=>Array.isArray(e)&&e.every((e=>ot.isOperation(e))),isSelectionOperation:e=>ot.isOperation(e)&&e.type.endsWith("_selection"),isTextOperation:e=>ot.isOperation(e)&&e.type.endsWith("_text"),inverse(e){switch(e.type){case"insert_node":return it(it({},e),{},{type:"remove_node"});case"insert_text":return it(it({},e),{},{type:"remove_text"});case"merge_node":return it(it({},e),{},{type:"split_node",path:at.previous(e.path)});case"move_node":var{newPath:t,path:n}=e;if(at.equals(t,n))return e;if(at.isSibling(n,t))return it(it({},e),{},{path:t,newPath:n});var r=at.transform(n,e),i=at.transform(at.next(n),e);return it(it({},e),{},{path:r,newPath:i});case"remove_node":return it(it({},e),{},{type:"insert_node"});case"remove_text":return it(it({},e),{},{type:"insert_text"});case"set_node":var{properties:o,newProperties:a}=e;return it(it({},e),{},{properties:a,newProperties:o});case"set_selection":var{properties:s,newProperties:u}=e;return it(it({},e),{},null==s?{properties:u,newProperties:null}:null==u?{properties:null,newProperties:s}:{properties:u,newProperties:s});case"split_node":return it(it({},e),{},{type:"merge_node",path:at.next(e.path)})}}},at={ancestors(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:n=!1}=t,r=at.levels(e,t);return r=n?r.slice(1):r.slice(0,-1)},common(e,t){for(var n=[],r=0;r<e.length&&r<t.length;r++){var i=e[r];if(i!==t[r])break;n.push(i)}return n},compare(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){if(e[r]<t[r])return-1;if(e[r]>t[r])return 1}return 0},endsAfter(e,t){var n=e.length-1,r=e.slice(0,n),i=t.slice(0,n),o=e[n],a=t[n];return at.equals(r,i)&&o>a},endsAt(e,t){var n=e.length,r=e.slice(0,n),i=t.slice(0,n);return at.equals(r,i)},endsBefore(e,t){var n=e.length-1,r=e.slice(0,n),i=t.slice(0,n),o=e[n],a=t[n];return at.equals(r,i)&&o<a},equals:(e,t)=>e.length===t.length&&e.every(((e,n)=>e===t[n])),hasPrevious:e=>e[e.length-1]>0,isAfter:(e,t)=>1===at.compare(e,t),isAncestor:(e,t)=>e.length<t.length&&0===at.compare(e,t),isBefore:(e,t)=>-1===at.compare(e,t),isChild:(e,t)=>e.length===t.length+1&&0===at.compare(e,t),isCommon:(e,t)=>e.length<=t.length&&0===at.compare(e,t),isDescendant:(e,t)=>e.length>t.length&&0===at.compare(e,t),isParent:(e,t)=>e.length+1===t.length&&0===at.compare(e,t),isPath:e=>Array.isArray(e)&&(0===e.length||"number"===typeof e[0]),isSibling(e,t){if(e.length!==t.length)return!1;var n=e.slice(0,-1),r=t.slice(0,-1);return e[e.length-1]!==t[t.length-1]&&at.equals(n,r)},levels(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:n=!1}=t,r=[],i=0;i<=e.length;i++)r.push(e.slice(0,i));return n&&r.reverse(),r},next(e){if(0===e.length)throw new Error("Cannot get the next path of a root path [".concat(e,"], because it has no next index."));var t=e[e.length-1];return e.slice(0,-1).concat(t+1)},operationCanTransformPath(e){switch(e.type){case"insert_node":case"remove_node":case"merge_node":case"split_node":case"move_node":return!0;default:return!1}},parent(e){if(0===e.length)throw new Error("Cannot get the parent path of the root path [".concat(e,"]."));return e.slice(0,-1)},previous(e){if(0===e.length)throw new Error("Cannot get the previous path of a root path [".concat(e,"], because it has no previous index."));var t=e[e.length-1];if(t<=0)throw new Error("Cannot get the previous path of a first child path [".concat(e,"] because it would result in a negative index."));return e.slice(0,-1).concat(t-1)},relative(e,t){if(!at.isAncestor(t,e)&&!at.equals(e,t))throw new Error("Cannot get the relative path of [".concat(e,"] inside ancestor [").concat(t,"], because it is not above or equal to the path."));return e.slice(t.length)},transform(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e)return null;var r=[...e],{affinity:i="forward"}=n;if(0===e.length)return r;switch(t.type){case"insert_node":var{path:o}=t;(at.equals(o,r)||at.endsBefore(o,r)||at.isAncestor(o,r))&&(r[o.length-1]+=1);break;case"remove_node":var{path:a}=t;if(at.equals(a,r)||at.isAncestor(a,r))return null;at.endsBefore(a,r)&&(r[a.length-1]-=1);break;case"merge_node":var{path:s,position:u}=t;at.equals(s,r)||at.endsBefore(s,r)?r[s.length-1]-=1:at.isAncestor(s,r)&&(r[s.length-1]-=1,r[s.length]+=u);break;case"split_node":var{path:c,position:l}=t;if(at.equals(c,r)){if("forward"===i)r[r.length-1]+=1;else if("backward"!==i)return null}else at.endsBefore(c,r)?r[c.length-1]+=1:at.isAncestor(c,r)&&e[c.length]>=l&&(r[c.length-1]+=1,r[c.length]-=l);break;case"move_node":var{path:f,newPath:d}=t;if(at.equals(f,d))return r;if(at.isAncestor(f,r)||at.equals(f,r)){var h=d.slice();return at.endsBefore(f,d)&&f.length<d.length&&(h[f.length-1]-=1),h.concat(r.slice(f.length))}at.isSibling(f,d)&&(at.isAncestor(d,r)||at.equals(d,r))?at.endsBefore(f,r)?r[f.length-1]-=1:r[f.length-1]+=1:at.endsBefore(d,r)||at.equals(d,r)||at.isAncestor(d,r)?(at.endsBefore(f,r)&&(r[f.length-1]-=1),r[d.length-1]+=1):at.endsBefore(f,r)&&(at.equals(d,r)&&(r[d.length-1]+=1),r[f.length-1]-=1)}return r}},st={transform(e,t){var{current:n,affinity:r}=e;if(null!=n){var i=at.transform(n,t,{affinity:r});e.current=i,null==i&&e.unref()}}};function ut(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ut(Object(n),!0).forEach((function(t){ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ut(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var lt={compare(e,t){var n=at.compare(e.path,t.path);return 0===n?e.offset<t.offset?-1:e.offset>t.offset?1:0:n},isAfter:(e,t)=>1===lt.compare(e,t),isBefore:(e,t)=>-1===lt.compare(e,t),equals:(e,t)=>e.offset===t.offset&&at.equals(e.path,t.path),isPoint:e=>(0,r.P)(e)&&"number"===typeof e.offset&&at.isPath(e.path),transform(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return te(e,(e=>{if(null===e)return null;var{affinity:r="forward"}=n,{path:i,offset:o}=e;switch(t.type){case"insert_node":case"move_node":e.path=at.transform(i,t,n);break;case"insert_text":at.equals(t.path,i)&&(t.offset<o||t.offset===o&&"forward"===r)&&(e.offset+=t.text.length);break;case"merge_node":at.equals(t.path,i)&&(e.offset+=t.position),e.path=at.transform(i,t,n);break;case"remove_text":at.equals(t.path,i)&&t.offset<=o&&(e.offset-=Math.min(o-t.offset,t.text.length));break;case"remove_node":if(at.equals(t.path,i)||at.isAncestor(t.path,i))return null;e.path=at.transform(i,t,n);break;case"split_node":if(at.equals(t.path,i)){if(t.position===o&&null==r)return null;(t.position<o||t.position===o&&"forward"===r)&&(e.offset-=t.position,e.path=at.transform(i,t,ct(ct({},n),{},{affinity:"forward"})))}else e.path=at.transform(i,t,n)}}))}},ft={transform(e,t){var{current:n,affinity:r}=e;if(null!=n){var i=lt.transform(n,t,{affinity:r});e.current=i,null==i&&e.unref()}}},dt=["anchor","focus"];function ht(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var pt={edges(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reverse:n=!1}=t,{anchor:r,focus:i}=e;return pt.isBackward(e)===n?[r,i]:[i,r]},end(e){var[,t]=pt.edges(e);return t},equals:(e,t)=>lt.equals(e.anchor,t.anchor)&&lt.equals(e.focus,t.focus),includes(e,t){if(pt.isRange(t)){if(pt.includes(e,t.anchor)||pt.includes(e,t.focus))return!0;var[n,r]=pt.edges(e),[i,o]=pt.edges(t);return lt.isBefore(n,i)&&lt.isAfter(r,o)}var[a,s]=pt.edges(e),u=!1,c=!1;return lt.isPoint(t)?(u=lt.compare(t,a)>=0,c=lt.compare(t,s)<=0):(u=at.compare(t,a.path)>=0,c=at.compare(t,s.path)<=0),u&&c},intersection(e,t){var n=me(e,dt),[r,i]=pt.edges(e),[o,a]=pt.edges(t),s=lt.isBefore(r,o)?o:r,u=lt.isBefore(i,a)?i:a;return lt.isBefore(u,s)?null:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ht(Object(n),!0).forEach((function(t){ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ht(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({anchor:s,focus:u},n)},isBackward(e){var{anchor:t,focus:n}=e;return lt.isAfter(t,n)},isCollapsed(e){var{anchor:t,focus:n}=e;return lt.equals(t,n)},isExpanded:e=>!pt.isCollapsed(e),isForward:e=>!pt.isBackward(e),isRange:e=>(0,r.P)(e)&&lt.isPoint(e.anchor)&&lt.isPoint(e.focus),*points(e){yield[e.anchor,"anchor"],yield[e.focus,"focus"]},start(e){var[t]=pt.edges(e);return t},transform(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return te(e,(e=>{if(null===e)return null;var r,i,{affinity:o="inward"}=n;if("inward"===o){var a=pt.isCollapsed(e);pt.isForward(e)?(r="forward",i=a?r:"backward"):(r="backward",i=a?r:"forward")}else"outward"===o?pt.isForward(e)?(r="backward",i="forward"):(r="forward",i="backward"):(r=o,i=o);var s=lt.transform(e.anchor,t,{affinity:r}),u=lt.transform(e.focus,t,{affinity:i});if(!s||!u)return null;e.anchor=s,e.focus=u}))}},vt={transform(e,t){var{current:n,affinity:r}=e;if(null!=n){var i=pt.transform(n,t,{affinity:r});e.current=i,null==i&&e.unref()}}},mt=void 0,gt={setScrubber(e){mt=e},stringify:e=>JSON.stringify(e,mt)},yt=(e,t)=>{for(var n in e){var i=e[n],o=t[n];if((0,r.P)(i)&&(0,r.P)(o)){if(!yt(i,o))return!1}else if(Array.isArray(i)&&Array.isArray(o)){if(i.length!==o.length)return!1;for(var a=0;a<i.length;a++)if(i[a]!==o[a])return!1}else if(i!==o)return!1}for(var s in t)if(void 0===e[s]&&void 0!==t[s])return!1;return!0},bt=["text"],wt=["anchor","focus"];function _t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_t(Object(n),!0).forEach((function(t){ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_t(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var St={equals(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{loose:r=!1}=n;function i(e){return me(e,bt)}return yt(r?i(e):e,r?i(t):t)},isText:e=>(0,r.P)(e)&&"string"===typeof e.text,isTextList:e=>Array.isArray(e)&&e.every((e=>St.isText(e))),isTextProps:e=>void 0!==e.text,matches(e,t){for(var n in t)if("text"!==n&&(!e.hasOwnProperty(n)||e[n]!==t[n]))return!1;return!0},decorations(e,t){var n=[Et({},e)];for(var r of t){var i=me(r,wt),[o,a]=pt.edges(r),s=[],u=0,c=o.offset,l=a.offset;for(var f of n){var{length:d}=f.text,h=u;if(u+=d,c<=h&&u<=l)Object.assign(f,i),s.push(f);else if(c!==l&&(c===u||l===h)||c>u||l<h||l===h&&0!==h)s.push(f);else{var p=f,v=void 0,m=void 0;if(l<u){var g=l-h;m=Et(Et({},p),{},{text:p.text.slice(g)}),p=Et(Et({},p),{},{text:p.text.slice(0,g)})}if(c>h){var y=c-h;v=Et(Et({},p),{},{text:p.text.slice(0,y)}),p=Et(Et({},p),{},{text:p.text.slice(y)})}Object.assign(p,i),v&&s.push(v),s.push(p),m&&s.push(m)}}n=s}return n}};function xt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(n),!0).forEach((function(t){ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ct={transform(e,t){e.children=ne(e.children);var n=e.selection&&ne(e.selection);try{n=((e,t,n)=>{switch(n.type){case"insert_node":var{path:r,node:i}=n,o=nt.parent(e,r),a=r[r.length-1];if(a>o.children.length)throw new Error('Cannot apply an "insert_node" operation at path ['.concat(r,"] because the destination is past the end of the node."));if(o.children.splice(a,0,i),t)for(var[s,u]of pt.points(t))t[u]=lt.transform(s,n);break;case"insert_text":var{path:c,offset:l,text:f}=n;if(0===f.length)break;var d=nt.leaf(e,c),h=d.text.slice(0,l),p=d.text.slice(l);if(d.text=h+f+p,t)for(var[v,m]of pt.points(t))t[m]=lt.transform(v,n);break;case"merge_node":var{path:g}=n,y=nt.get(e,g),b=at.previous(g),w=nt.get(e,b),_=nt.parent(e,g),E=g[g.length-1];if(St.isText(y)&&St.isText(w))w.text+=y.text;else{if(St.isText(y)||St.isText(w))throw new Error('Cannot apply a "merge_node" operation at path ['.concat(g,"] to nodes of different interfaces: ").concat(gt.stringify(y)," ").concat(gt.stringify(w)));w.children.push(...y.children)}if(_.children.splice(E,1),t)for(var[S,x]of pt.points(t))t[x]=lt.transform(S,n);break;case"move_node":var{path:O,newPath:C}=n;if(at.isAncestor(O,C))throw new Error("Cannot move a path [".concat(O,"] to new path [").concat(C,"] because the destination is inside itself."));var k=nt.get(e,O),T=nt.parent(e,O),A=O[O.length-1];T.children.splice(A,1);var I=at.transform(O,n),D=nt.get(e,at.parent(I)),P=I[I.length-1];if(D.children.splice(P,0,k),t)for(var[R,N]of pt.points(t))t[N]=lt.transform(R,n);break;case"remove_node":var{path:j}=n,M=j[j.length-1];if(nt.parent(e,j).children.splice(M,1),t)for(var[L,F]of pt.points(t)){var B=lt.transform(L,n);if(null!=t&&null!=B)t[F]=B;else{var U=void 0,V=void 0;for(var[z,q]of nt.texts(e)){if(-1!==at.compare(q,j)){V=[z,q];break}U=[z,q]}var Z=!1;U&&V&&(Z=at.equals(V[1],j)?!at.hasPrevious(V[1]):at.common(U[1],j).length<at.common(V[1],j).length),U&&!Z?(L.path=U[1],L.offset=U[0].text.length):V?(L.path=V[1],L.offset=0):t=null}}break;case"remove_text":var{path:H,offset:W,text:G}=n;if(0===G.length)break;var K=nt.leaf(e,H),J=K.text.slice(0,W),Y=K.text.slice(W+G.length);if(K.text=J+Y,t)for(var[$,X]of pt.points(t))t[X]=lt.transform($,n);break;case"set_node":var{path:Q,properties:ee,newProperties:te}=n;if(0===Q.length)throw new Error("Cannot set properties on the root node!");var ne=nt.get(e,Q);for(var re in te){if("children"===re||"text"===re)throw new Error('Cannot set the "'.concat(re,'" property of nodes!'));var ie=te[re];null==ie?delete ne[re]:ne[re]=ie}for(var oe in ee)te.hasOwnProperty(oe)||delete ne[oe];break;case"set_selection":var{newProperties:ae}=n;if(null==ae)t=ae;else{if(null==t){if(!pt.isRange(ae))throw new Error('Cannot apply an incomplete "set_selection" operation properties '.concat(gt.stringify(ae)," when there is no current selection."));t=Ot({},ae)}for(var se in ae){var ue=ae[se];if(null==ue){if("anchor"===se||"focus"===se)throw new Error('Cannot remove the "'.concat(se,'" selection property'));delete t[se]}else t[se]=ue}}break;case"split_node":var{path:ce,position:le,properties:fe}=n;if(0===ce.length)throw new Error('Cannot apply a "split_node" operation at path ['.concat(ce,"] because the root node cannot be split."));var de,he=nt.get(e,ce),pe=nt.parent(e,ce),ve=ce[ce.length-1];if(St.isText(he)){var me=he.text.slice(0,le),ge=he.text.slice(le);he.text=me,de=Ot(Ot({},fe),{},{text:ge})}else{var ye=he.children.slice(0,le),be=he.children.slice(le);he.children=ye,de=Ot(Ot({},fe),{},{children:be})}if(pe.children.splice(ve+1,0,de),t)for(var[we,_e]of pt.points(t))t[_e]=lt.transform(we,n)}return t})(e,n,t)}finally{e.children=re(e.children),e.selection=n?o(n)?re(n):n:null}}},kt=["text"],Tt=["children"];function At(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function It(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?At(Object(n),!0).forEach((function(t){ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):At(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Dt={insertNodes(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};$e.withoutNormalizing(e,(()=>{var{hanging:r=!1,voids:i=!1,mode:o="lowest"}=n,{at:a,match:s,select:u}=n;if(nt.isNode(t)&&(t=[t]),0!==t.length){var[c]=t;if(a||(a=e.selection?e.selection:e.children.length>0?$e.end(e,[]):[0],u=!0),null==u&&(u=!1),pt.isRange(a))if(r||(a=$e.unhangRange(e,a,{voids:i})),pt.isCollapsed(a))a=a.anchor;else{var[,l]=pt.edges(a),f=$e.pointRef(e,l);Vt.delete(e,{at:a}),a=f.unref()}if(lt.isPoint(a)){null==s&&(s=St.isText(c)?e=>St.isText(e):e.isInline(c)?t=>St.isText(t)||$e.isInline(e,t):t=>$e.isBlock(e,t));var[d]=$e.nodes(e,{at:a.path,match:s,mode:o,voids:i});if(!d)return;var[,h]=d,p=$e.pathRef(e,h),v=$e.isEnd(e,a,h);Vt.splitNodes(e,{at:a,match:s,mode:o,voids:i});var m=p.unref();a=v?at.next(m):m}var g=at.parent(a),y=a[a.length-1];if(i||!$e.void(e,{at:g})){for(var b of t){var w=g.concat(y);y++,e.apply({type:"insert_node",path:w,node:b}),a=at.next(a)}if(a=at.previous(a),u){var _=$e.end(e,a);_&&Vt.select(e,_)}}}}))},liftNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};$e.withoutNormalizing(e,(()=>{var{at:n=e.selection,mode:r="lowest",voids:i=!1}=t,{match:o}=t;if(null==o&&(o=at.isPath(n)?Nt(e,n):t=>$e.isBlock(e,t)),n){var a=$e.nodes(e,{at:n,match:o,mode:r,voids:i}),s=Array.from(a,(t=>{var[,n]=t;return $e.pathRef(e,n)}));for(var u of s){var c=u.unref();if(c.length<2)throw new Error("Cannot lift node at a path [".concat(c,"] because it has a depth of less than `2`."));var l=$e.node(e,at.parent(c)),[f,d]=l,h=c[c.length-1],{length:p}=f.children;if(1===p){var v=at.next(d);Vt.moveNodes(e,{at:c,to:v,voids:i}),Vt.removeNodes(e,{at:d,voids:i})}else if(0===h)Vt.moveNodes(e,{at:c,to:d,voids:i});else if(h===p-1){var m=at.next(d);Vt.moveNodes(e,{at:c,to:m,voids:i})}else{var g=at.next(c),y=at.next(d);Vt.splitNodes(e,{at:g,voids:i}),Vt.moveNodes(e,{at:c,to:y,voids:i})}}}}))},mergeNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};$e.withoutNormalizing(e,(()=>{var{match:n,at:r=e.selection}=t,{hanging:i=!1,voids:o=!1,mode:a="lowest"}=t;if(r){if(null==n)if(at.isPath(r)){var[s]=$e.parent(e,r);n=e=>s.children.includes(e)}else n=t=>$e.isBlock(e,t);if(!i&&pt.isRange(r)&&(r=$e.unhangRange(e,r,{voids:o})),pt.isRange(r))if(pt.isCollapsed(r))r=r.anchor;else{var[,u]=pt.edges(r),c=$e.pointRef(e,u);Vt.delete(e,{at:r}),r=c.unref(),null==t.at&&Vt.select(e,r)}var[l]=$e.nodes(e,{at:r,match:n,voids:o,mode:a}),f=$e.previous(e,{at:r,match:n,voids:o,mode:a});if(l&&f){var[d,h]=l,[p,v]=f;if(0!==h.length&&0!==v.length){var m,g,y=at.next(v),b=at.common(h,v),w=at.isSibling(h,v),_=Array.from($e.levels(e,{at:h}),(e=>{var[t]=e;return t})).slice(b.length).slice(0,-1),E=$e.above(e,{at:h,mode:"highest",match:t=>_.includes(t)&&Pt(e,t)}),S=E&&$e.pathRef(e,E[1]);if(St.isText(d)&&St.isText(p)){var x=me(d,kt);g=p.text.length,m=x}else{if(!He.isElement(d)||!He.isElement(p))throw new Error("Cannot merge the node at path [".concat(h,"] with the previous sibling because it is not the same kind: ").concat(gt.stringify(d)," ").concat(gt.stringify(p)));x=me(d,Tt);g=p.children.length,m=x}w||Vt.moveNodes(e,{at:h,to:y,voids:o}),S&&Vt.removeNodes(e,{at:S.current,voids:o}),He.isElement(p)&&$e.isEmpty(e,p)||St.isText(p)&&""===p.text&&0!==v[v.length-1]?Vt.removeNodes(e,{at:v,voids:o}):e.apply({type:"merge_node",path:y,position:g,properties:m}),S&&S.unref()}}}}))},moveNodes(e,t){$e.withoutNormalizing(e,(()=>{var{to:n,at:r=e.selection,mode:i="lowest",voids:o=!1}=t,{match:a}=t;if(r){null==a&&(a=at.isPath(r)?Nt(e,r):t=>$e.isBlock(e,t));var s=$e.pathRef(e,n),u=$e.nodes(e,{at:r,match:a,mode:i,voids:o}),c=Array.from(u,(t=>{var[,n]=t;return $e.pathRef(e,n)}));for(var l of c){var f=l.unref(),d=s.current;0!==f.length&&e.apply({type:"move_node",path:f,newPath:d}),s.current&&at.isSibling(d,f)&&at.isAfter(d,f)&&(s.current=at.next(s.current))}s.unref()}}))},removeNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};$e.withoutNormalizing(e,(()=>{var{hanging:n=!1,voids:r=!1,mode:i="lowest"}=t,{at:o=e.selection,match:a}=t;if(o){null==a&&(a=at.isPath(o)?Nt(e,o):t=>$e.isBlock(e,t)),!n&&pt.isRange(o)&&(o=$e.unhangRange(e,o,{voids:r}));var s=$e.nodes(e,{at:o,match:a,mode:i,voids:r}),u=Array.from(s,(t=>{var[,n]=t;return $e.pathRef(e,n)}));for(var c of u){var l=c.unref();if(l){var[f]=$e.node(e,l);e.apply({type:"remove_node",path:l,node:f})}}}}))},setNodes(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};$e.withoutNormalizing(e,(()=>{var{match:r,at:i=e.selection,compare:o,merge:a}=n,{hanging:s=!1,mode:u="lowest",split:c=!1,voids:l=!1}=n;if(i){if(null==r&&(r=at.isPath(i)?Nt(e,i):t=>$e.isBlock(e,t)),!s&&pt.isRange(i)&&(i=$e.unhangRange(e,i,{voids:l})),c&&pt.isRange(i)){if(pt.isCollapsed(i)&&$e.leaf(e,i.anchor)[0].text.length>0)return;var f=$e.rangeRef(e,i,{affinity:"inward"}),[d,h]=pt.edges(i),p="lowest"===u?"lowest":"highest",v=$e.isEnd(e,h,h.path);Vt.splitNodes(e,{at:h,match:r,mode:p,voids:l,always:!v});var m=$e.isStart(e,d,d.path);Vt.splitNodes(e,{at:d,match:r,mode:p,voids:l,always:!m}),i=f.unref(),null==n.at&&Vt.select(e,i)}for(var[g,y]of(o||(o=(e,t)=>e!==t),$e.nodes(e,{at:i,match:r,mode:u,voids:l}))){var b={},w={};if(0!==y.length){var _=!1;for(var E in t)"children"!==E&&"text"!==E&&o(t[E],g[E])&&(_=!0,g.hasOwnProperty(E)&&(b[E]=g[E]),a?null!=t[E]&&(w[E]=a(g[E],t[E])):null!=t[E]&&(w[E]=t[E]));_&&e.apply({type:"set_node",path:y,properties:b,newProperties:w})}}}}))},splitNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};$e.withoutNormalizing(e,(()=>{var{mode:n="lowest",voids:r=!1}=t,{match:i,at:o=e.selection,height:a=0,always:s=!1}=t;if(null==i&&(i=t=>$e.isBlock(e,t)),pt.isRange(o)&&(o=Rt(e,o)),at.isPath(o)){var u=o,c=$e.point(e,u),[l]=$e.parent(e,u);i=e=>e===l,a=c.path.length-u.length+1,o=c,s=!0}if(o){var f,d=$e.pointRef(e,o,{affinity:"backward"});try{var[h]=$e.nodes(e,{at:o,match:i,mode:n,voids:r});if(!h)return;var p=$e.void(e,{at:o,mode:"highest"});if(!r&&p){var[v,m]=p;if(He.isElement(v)&&e.isInline(v)){var g=$e.after(e,m);if(!g){var y=at.next(m);Vt.insertNodes(e,{text:""},{at:y,voids:r}),g=$e.point(e,y)}o=g,s=!0}a=o.path.length-m.length+1,s=!0}f=$e.pointRef(e,o);var b=o.path.length-a,[,w]=h,_=o.path.slice(0,b),E=0===a?o.offset:o.path[b]+0;for(var[S,x]of $e.levels(e,{at:_,reverse:!0,voids:r})){var O=!1;if(x.length<w.length||0===x.length||!r&&$e.isVoid(e,S))break;var C=d.current,k=$e.isEnd(e,C,x);if(s||!d||!$e.isEdge(e,C,x)){O=!0;var T=nt.extractProps(S);e.apply({type:"split_node",path:x,position:E,properties:T})}E=x[x.length-1]+(O||k?1:0)}if(null==t.at){var A=f.current||$e.end(e,[]);Vt.select(e,A)}}finally{var I;d.unref(),null===(I=f)||void 0===I||I.unref()}}}))},unsetNodes(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Array.isArray(t)||(t=[t]);var r={};for(var i of t)r[i]=null;Vt.setNodes(e,r,n)},unwrapNodes(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};$e.withoutNormalizing(e,(()=>{var{mode:n="lowest",split:r=!1,voids:i=!1}=t,{at:o=e.selection,match:a}=t;if(o){null==a&&(a=at.isPath(o)?Nt(e,o):t=>$e.isBlock(e,t)),at.isPath(o)&&(o=$e.range(e,o));var s=pt.isRange(o)?$e.rangeRef(e,o):null,u=$e.nodes(e,{at:o,match:a,mode:n,voids:i}),c=Array.from(u,(t=>{var[,n]=t;return $e.pathRef(e,n)})).reverse(),l=function(t){var n=t.unref(),[o]=$e.node(e,n),a=$e.range(e,n);r&&s&&(a=pt.intersection(s.current,a)),Vt.liftNodes(e,{at:a,match:e=>He.isAncestor(o)&&o.children.includes(e),voids:i})};for(var f of c)l(f);s&&s.unref()}}))},wrapNodes(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};$e.withoutNormalizing(e,(()=>{var{mode:r="lowest",split:i=!1,voids:o=!1}=n,{match:a,at:s=e.selection}=n;if(s){if(null==a&&(a=at.isPath(s)?Nt(e,s):e.isInline(t)?t=>$e.isInline(e,t)||St.isText(t):t=>$e.isBlock(e,t)),i&&pt.isRange(s)){var[u,c]=pt.edges(s),l=$e.rangeRef(e,s,{affinity:"inward"});Vt.splitNodes(e,{at:c,match:a,voids:o}),Vt.splitNodes(e,{at:u,match:a,voids:o}),s=l.unref(),null==n.at&&Vt.select(e,s)}var f=Array.from($e.nodes(e,{at:s,match:e.isInline(t)?t=>$e.isBlock(e,t):e=>$e.isEditor(e),mode:"lowest",voids:o}));for(var[,d]of f){var h=pt.isRange(s)?pt.intersection(s,$e.range(e,d)):s;if(h){var p=Array.from($e.nodes(e,{at:h,match:a,mode:r,voids:o}));if(p.length>0){var v=function(){var[n]=p,r=p[p.length-1],[,i]=n,[,a]=r;if(0===i.length&&0===a.length)return"continue";var s=at.equals(i,a)?at.parent(i):at.common(i,a),u=$e.range(e,i,a),c=$e.node(e,s),[l]=c,f=s.length+1,d=at.next(a.slice(0,f)),h=It(It({},t),{},{children:[]});Vt.insertNodes(e,h,{at:d,voids:o}),Vt.moveNodes(e,{at:u,match:e=>He.isAncestor(l)&&l.children.includes(e),to:d.concat(0),voids:o})}();if("continue"===v)continue}}}}}))}},Pt=(e,t)=>{if(He.isElement(t)){var n=t;return!!$e.isVoid(e,t)||1===n.children.length&&Pt(e,n.children[0])}return!$e.isEditor(t)},Rt=(e,t)=>{if(pt.isCollapsed(t))return t.anchor;var[,n]=pt.edges(t),r=$e.pointRef(e,n);return Vt.delete(e,{at:t}),r.unref()},Nt=(e,t)=>{var[n]=$e.node(e,t);return e=>e===n};function jt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Mt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jt(Object(n),!0).forEach((function(t){ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Lt={collapse(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{edge:n="anchor"}=t,{selection:r}=e;if(r)if("anchor"===n)Vt.select(e,r.anchor);else if("focus"===n)Vt.select(e,r.focus);else if("start"===n){var[i]=pt.edges(r);Vt.select(e,i)}else if("end"===n){var[,o]=pt.edges(r);Vt.select(e,o)}},deselect(e){var{selection:t}=e;t&&e.apply({type:"set_selection",properties:t,newProperties:null})},move(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{selection:n}=e,{distance:r=1,unit:i="character",reverse:o=!1}=t,{edge:a=null}=t;if(n){"start"===a&&(a=pt.isBackward(n)?"focus":"anchor"),"end"===a&&(a=pt.isBackward(n)?"anchor":"focus");var{anchor:s,focus:u}=n,c={distance:r,unit:i},l={};if(null==a||"anchor"===a){var f=o?$e.before(e,s,c):$e.after(e,s,c);f&&(l.anchor=f)}if(null==a||"focus"===a){var d=o?$e.before(e,u,c):$e.after(e,u,c);d&&(l.focus=d)}Vt.setSelection(e,l)}},select(e,t){var{selection:n}=e;if(t=$e.range(e,t),n)Vt.setSelection(e,t);else{if(!pt.isRange(t))throw new Error("When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: ".concat(gt.stringify(t)));e.apply({type:"set_selection",properties:n,newProperties:t})}},setPoint(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{selection:r}=e,{edge:i="both"}=n;if(r){"start"===i&&(i=pt.isBackward(r)?"focus":"anchor"),"end"===i&&(i=pt.isBackward(r)?"anchor":"focus");var{anchor:o,focus:a}=r,s="anchor"===i?o:a;Vt.setSelection(e,{["anchor"===i?"anchor":"focus"]:Mt(Mt({},s),t)})}},setSelection(e,t){var{selection:n}=e,r={},i={};if(n){for(var o in t)("anchor"===o&&null!=t.anchor&&!lt.equals(t.anchor,n.anchor)||"focus"===o&&null!=t.focus&&!lt.equals(t.focus,n.focus)||"anchor"!==o&&"focus"!==o&&t[o]!==n[o])&&(r[o]=n[o],i[o]=t[o]);Object.keys(r).length>0&&e.apply({type:"set_selection",properties:r,newProperties:i})}}},Ft={delete(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};$e.withoutNormalizing(e,(()=>{var{reverse:n=!1,unit:r="character",distance:i=1,voids:o=!1}=t,{at:a=e.selection,hanging:s=!1}=t;if(a){var u=!1;if(pt.isRange(a)&&pt.isCollapsed(a)&&(u=!0,a=a.anchor),lt.isPoint(a)){var c=$e.void(e,{at:a,mode:"highest"});if(!o&&c){var[,l]=c;a=l}else{var f={unit:r,distance:i};a={anchor:a,focus:n?$e.before(e,a,f)||$e.start(e,[]):$e.after(e,a,f)||$e.end(e,[])},s=!0}}if(at.isPath(a))Vt.removeNodes(e,{at:a,voids:o});else if(!pt.isCollapsed(a)){if(!s){var[,d]=pt.edges(a),h=$e.end(e,[]);lt.equals(d,h)||(a=$e.unhangRange(e,a,{voids:o}))}var[p,v]=pt.edges(a),m=$e.above(e,{match:t=>$e.isBlock(e,t),at:p,voids:o}),g=$e.above(e,{match:t=>$e.isBlock(e,t),at:v,voids:o}),y=m&&g&&!at.equals(m[1],g[1]),b=at.equals(p.path,v.path),w=o?null:$e.void(e,{at:p,mode:"highest"}),_=o?null:$e.void(e,{at:v,mode:"highest"});if(w){var E=$e.before(e,p);E&&m&&at.isAncestor(m[1],E.path)&&(p=E)}if(_){var S=$e.after(e,v);S&&g&&at.isAncestor(g[1],S.path)&&(v=S)}var x,O=[];for(var C of $e.nodes(e,{at:a,voids:o})){var[k,T]=C;x&&0===at.compare(T,x)||(!o&&$e.isVoid(e,k)||!at.isCommon(T,p.path)&&!at.isCommon(T,v.path))&&(O.push(C),x=T)}var A=Array.from(O,(t=>{var[,n]=t;return $e.pathRef(e,n)})),I=$e.pointRef(e,p),D=$e.pointRef(e,v),P="";if(!b&&!w){var R=I.current,[N]=$e.leaf(e,R),{path:j}=R,{offset:M}=p,L=N.text.slice(M);L.length>0&&(e.apply({type:"remove_text",path:j,offset:M,text:L}),P=L)}if(A.reverse().map((e=>e.unref())).filter((e=>null!==e)).forEach((t=>Vt.removeNodes(e,{at:t,voids:o}))),!_){var F=D.current,[B]=$e.leaf(e,F),{path:U}=F,V=b?p.offset:0,z=B.text.slice(V,v.offset);z.length>0&&(e.apply({type:"remove_text",path:U,offset:V,text:z}),P=z)}!b&&y&&D.current&&I.current&&Vt.mergeNodes(e,{at:D.current,hanging:!0,voids:o}),u&&n&&"character"===r&&P.length>1&&P.match(/[\u0E00-\u0E7F]+/)&&Vt.insertText(e,P.slice(0,P.length-i));var q=I.unref(),Z=D.unref(),H=n?q||Z:Z||q;null==t.at&&H&&Vt.select(e,H)}}}))},insertFragment(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};$e.withoutNormalizing(e,(()=>{var{hanging:r=!1,voids:i=!1}=n,{at:o=e.selection}=n;if(t.length&&o){if(pt.isRange(o))if(r||(o=$e.unhangRange(e,o,{voids:i})),pt.isCollapsed(o))o=o.anchor;else{var[,a]=pt.edges(o);if(!i&&$e.void(e,{at:a}))return;var s=$e.pointRef(e,a);Vt.delete(e,{at:o}),o=s.unref()}else at.isPath(o)&&(o=$e.start(e,o));if(i||!$e.void(e,{at:o})){var u=$e.above(e,{at:o,match:t=>$e.isInline(e,t),mode:"highest",voids:i});if(u){var[,c]=u;if($e.isEnd(e,o,c))o=$e.after(e,c);else if($e.isStart(e,o,c)){o=$e.before(e,c)}}var l=$e.above(e,{match:t=>$e.isBlock(e,t),at:o,voids:i}),[,f]=l,d=$e.isStart(e,o,f),h=$e.isEnd(e,o,f),p=d&&h,v=!d||d&&h,m=!h,[,g]=nt.first({children:t},[]),[,y]=nt.last({children:t},[]),b=[],w=t=>{var[n,r]=t;return!(0===r.length)&&(!!p||!(v&&at.isAncestor(r,g)&&He.isElement(n)&&!e.isVoid(n)&&!e.isInline(n))&&!(m&&at.isAncestor(r,y)&&He.isElement(n)&&!e.isVoid(n)&&!e.isInline(n)))};for(var _ of nt.nodes({children:t},{pass:w}))w(_)&&b.push(_);var E=[],S=[],x=[],O=!0,C=!1;for(var[k]of b)He.isElement(k)&&!e.isInline(k)?(O=!1,C=!0,S.push(k)):O?E.push(k):x.push(k);var[T]=$e.nodes(e,{at:o,match:t=>St.isText(t)||$e.isInline(e,t),mode:"highest",voids:i}),[,A]=T,I=$e.isStart(e,o,A),D=$e.isEnd(e,o,A),P=$e.pathRef(e,h&&!x.length?at.next(f):f),R=$e.pathRef(e,D?at.next(A):A);Vt.splitNodes(e,{at:o,match:t=>C?$e.isBlock(e,t):St.isText(t)||$e.isInline(e,t),mode:C?"lowest":"highest",always:C&&(!d||E.length>0)&&(!h||x.length>0),voids:i});var N,j=$e.pathRef(e,!I||I&&D?at.next(A):A);if(Vt.insertNodes(e,E,{at:j.current,match:t=>St.isText(t)||$e.isInline(e,t),mode:"highest",voids:i}),p&&!E.length&&S.length&&!x.length&&Vt.delete(e,{at:f,voids:i}),Vt.insertNodes(e,S,{at:P.current,match:t=>$e.isBlock(e,t),mode:"lowest",voids:i}),Vt.insertNodes(e,x,{at:R.current,match:t=>St.isText(t)||$e.isInline(e,t),mode:"highest",voids:i}),!n.at)if(x.length>0&&R.current?N=at.previous(R.current):S.length>0&&P.current?N=at.previous(P.current):j.current&&(N=at.previous(j.current)),N){var M=$e.end(e,N);Vt.select(e,M)}j.unref(),P.unref(),R.unref()}}}))},insertText(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};$e.withoutNormalizing(e,(()=>{var{voids:r=!1}=n,{at:i=e.selection}=n;if(i){if(at.isPath(i)&&(i=$e.range(e,i)),pt.isRange(i))if(pt.isCollapsed(i))i=i.anchor;else{var o=pt.end(i);if(!r&&$e.void(e,{at:o}))return;var a=pt.start(i),s=$e.pointRef(e,a),u=$e.pointRef(e,o);Vt.delete(e,{at:i,voids:r});var c=s.unref(),l=u.unref();i=c||l,Vt.setSelection(e,{anchor:i,focus:i})}if(r||!$e.void(e,{at:i})){var{path:f,offset:d}=i;t.length>0&&e.apply({type:"insert_text",path:f,offset:d,text:t})}}}))}};function Bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(n),!0).forEach((function(t){ie(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Vt=Ut(Ut(Ut(Ut({},Ct),Dt),Lt),Ft)},30214:function(e,t,n){"use strict";var r=n(77834).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!==typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=f,t=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function a(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!==(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2===0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function l(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},o.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=a(t[r]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if((i=a(t[r]))>=0)return i>0&&(e.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if((i=a(t[r]))>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},5163:function(e,t,n){"use strict";n.d(t,{CR:function(){return l},FC:function(){return h},Jh:function(){return u},KL:function(){return p},XA:function(){return c},ZT:function(){return i},_T:function(){return a},ev:function(){return f},mG:function(){return s},pi:function(){return o},qq:function(){return d}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){e.done?i(e.value):function(e){return e instanceof n?e:new n((function(t){t(e)}))}(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function u(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function c(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function f(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function d(e){return this instanceof d?(this.v=e,this):new d(e)}function h(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{!function(e){e.value instanceof d?Promise.resolve(e.value.v).then(u,c):l(o[0][2],e)}(i[e](t))}catch(n){l(o[0][3],n)}}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function p(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=c(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}Object.create},42294:function(e,t,n){"use strict";var r=n(71941);e.exports=function(e,t){var n=String(e),i=String(t),o=r.pseudoRandomBytes(32);return function(e,t){if(e.length!==t.length)return!1;if(r.timingSafeEqual)return r.timingSafeEqual(e,t);for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(r.createHmac("sha256",o).update(n).digest(),r.createHmac("sha256",o).update(i).digest())&&e===t}},70977:function(e){e.exports="/_next/static/images/eraser-og-288029c9d323ec5c1ebfa8cc0b7d2dd8.png"},64846:function(e,t,n){"use strict";var r=n(57245),i=n(97375),o=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,a=/[\n\r\t]/g,s=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,u=/:\d+$/,c=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,l=/^[a-zA-Z]:/;function f(e){return(e||"").toString().replace(o,"")}var d=[["#","hash"],["?","query"],function(e,t){return v(t.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],h={hash:1,query:1};function p(e){var t,r=("undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{}).location||{},i={},o=typeof(e=e||r);if("blob:"===e.protocol)i=new g(unescape(e.pathname),{});else if("string"===o)for(t in i=new g(e,{}),h)delete i[t];else if("object"===o){for(t in e)t in h||(i[t]=e[t]);void 0===i.slashes&&(i.slashes=s.test(e.href))}return i}function v(e){return"file:"===e||"ftp:"===e||"http:"===e||"https:"===e||"ws:"===e||"wss:"===e}function m(e,t){e=(e=f(e)).replace(a,""),t=t||{};var n,r=c.exec(e),i=r[1]?r[1].toLowerCase():"",o=!!r[2],s=!!r[3],u=0;return o?s?(n=r[2]+r[3]+r[4],u=r[2].length+r[3].length):(n=r[2]+r[4],u=r[2].length):s?(n=r[3]+r[4],u=r[3].length):n=r[4],"file:"===i?u>=2&&(n=n.slice(2)):v(i)?n=r[4]:i?o&&(n=n.slice(2)):u>=2&&v(t.protocol)&&(n=r[4]),{protocol:i,slashes:o||v(i),slashesCount:u,rest:n}}function g(e,t,n){if(e=(e=f(e)).replace(a,""),!(this instanceof g))return new g(e,t,n);var o,s,u,c,h,y,b=d.slice(),w=typeof t,_=this,E=0;for("object"!==w&&"string"!==w&&(n=t,t=null),n&&"function"!==typeof n&&(n=i.parse),o=!(s=m(e||"",t=p(t))).protocol&&!s.slashes,_.slashes=s.slashes||o&&t.slashes,_.protocol=s.protocol||t.protocol||"",e=s.rest,("file:"===s.protocol&&(2!==s.slashesCount||l.test(e))||!s.slashes&&(s.protocol||s.slashesCount<2||!v(_.protocol)))&&(b[3]=[/(.*)/,"pathname"]);E<b.length;E++)"function"!==typeof(c=b[E])?(u=c[0],y=c[1],u!==u?_[y]=e:"string"===typeof u?~(h="@"===u?e.lastIndexOf(u):e.indexOf(u))&&("number"===typeof c[2]?(_[y]=e.slice(0,h),e=e.slice(h+c[2])):(_[y]=e.slice(h),e=e.slice(0,h))):(h=u.exec(e))&&(_[y]=h[1],e=e.slice(0,h.index)),_[y]=_[y]||o&&c[3]&&t[y]||"",c[4]&&(_[y]=_[y].toLowerCase())):e=c(e,_);n&&(_.query=n(_.query)),o&&t.slashes&&"/"!==_.pathname.charAt(0)&&(""!==_.pathname||""!==t.pathname)&&(_.pathname=function(e,t){if(""===e)return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,i=n[r-1],o=!1,a=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),a++):a&&(0===r&&(o=!0),n.splice(r,1),a--);return o&&n.unshift(""),"."!==i&&".."!==i||n.push(""),n.join("/")}(_.pathname,t.pathname)),"/"!==_.pathname.charAt(0)&&v(_.protocol)&&(_.pathname="/"+_.pathname),r(_.port,_.protocol)||(_.host=_.hostname,_.port=""),_.username=_.password="",_.auth&&(~(h=_.auth.indexOf(":"))?(_.username=_.auth.slice(0,h),_.username=encodeURIComponent(decodeURIComponent(_.username)),_.password=_.auth.slice(h+1),_.password=encodeURIComponent(decodeURIComponent(_.password))):_.username=encodeURIComponent(decodeURIComponent(_.auth)),_.auth=_.password?_.username+":"+_.password:_.username),_.origin="file:"!==_.protocol&&v(_.protocol)&&_.host?_.protocol+"//"+_.host:"null",_.href=_.toString()}g.prototype={set:function(e,t,n){var o=this;switch(e){case"query":"string"===typeof t&&t.length&&(t=(n||i.parse)(t)),o[e]=t;break;case"port":o[e]=t,r(t,o.protocol)?t&&(o.host=o.hostname+":"+t):(o.host=o.hostname,o[e]="");break;case"hostname":o[e]=t,o.port&&(t+=":"+o.port),o.host=t;break;case"host":o[e]=t,u.test(t)?(t=t.split(":"),o.port=t.pop(),o.hostname=t.join(":")):(o.hostname=t,o.port="");break;case"protocol":o.protocol=t.toLowerCase(),o.slashes=!n;break;case"pathname":case"hash":if(t){var a="pathname"===e?"/":"#";o[e]=t.charAt(0)!==a?a+t:t}else o[e]=t;break;case"username":case"password":o[e]=encodeURIComponent(t);break;case"auth":var s=t.indexOf(":");~s?(o.username=t.slice(0,s),o.username=encodeURIComponent(decodeURIComponent(o.username)),o.password=t.slice(s+1),o.password=encodeURIComponent(decodeURIComponent(o.password))):o.username=encodeURIComponent(decodeURIComponent(t))}for(var c=0;c<d.length;c++){var l=d[c];l[4]&&(o[l[1]]=o[l[1]].toLowerCase())}return o.auth=o.password?o.username+":"+o.password:o.username,o.origin="file:"!==o.protocol&&v(o.protocol)&&o.host?o.protocol+"//"+o.host:"null",o.href=o.toString(),o},toString:function(e){e&&"function"===typeof e||(e=i.stringify);var t,n=this,r=n.host,o=n.protocol;o&&":"!==o.charAt(o.length-1)&&(o+=":");var a=o+(n.protocol&&n.slashes||v(n.protocol)?"//":"");return n.username?(a+=n.username,n.password&&(a+=":"+n.password),a+="@"):n.password?(a+=":"+n.password,a+="@"):"file:"!==n.protocol&&v(n.protocol)&&!r&&"/"!==n.pathname&&(a+="@"),(":"===r[r.length-1]||u.test(n.hostname)&&!n.port)&&(r+=":"),a+=r+n.pathname,(t="object"===typeof n.query?e(n.query):n.query)&&(a+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(a+=n.hash),a}},g.extractProtocol=m,g.location=p,g.trimLeft=f,g.qs=i,e.exports=g},21746:function(e,t,n){"use strict";n.d(t,{Sz:function(){return d},kr:function(){return f},qp:function(){return h}});var r=n(2784),i=n(14616),o=n(28316);n(34406);const a=Symbol(),s=Symbol(),u="undefined"==typeof window||/ServerSideRendering/.test(window.navigator&&window.navigator.userAgent)?r.useEffect:r.useLayoutEffect,c=i.unstable_runWithPriority?e=>(0,i.unstable_runWithPriority)(i.unstable_NormalPriority,e):e=>e(),l=e=>e;function f(e){const t=(0,r.createContext)({[a]:{v:{current:e},n:{current:-1},l:new Set,u:e=>e()}});var n;return t[s]=t.Provider,t.Provider=(n=t.Provider,({value:e,children:t})=>{const i=(0,r.useRef)(e),s=(0,r.useRef)(0),l=(0,r.useRef)();if(!l.current){const e=new Set,t=t=>{(0,o.unstable_batchedUpdates)((()=>{s.current+=1,e.forEach((e=>e([s.current]))),t()}))};l.current={[a]:{v:i,n:s,l:e,u:t}}}return u((()=>{i.current=e,s.current+=1,c((()=>{l.current[a].l.forEach((t=>{t([s.current,e])}))}))}),[e]),(0,r.createElement)(n,{value:l.current},t)}),delete t.Consumer,t}function d(e,t){const n=(0,r.useContext)(e)[a];const{v:{current:i},n:{current:o},l:s}=n,c=t(i),[l,f]=(0,r.useReducer)(((e,n)=>{if(!n)return[i,c];if(n[0]<=o)return Object.is(e[1],c)?e:[i,c];try{if(2===n.length){if(Object.is(e[0],n[1]))return e;const r=t(n[1]);return Object.is(e[1],r)?e:[n[1],r]}}catch(e){}return[...e]}),[i,c]);return Object.is(l[1],c)||f(),u((()=>(s.add(f),()=>{s.delete(f)})),[s]),l[1]}function h(e){return d(e,l)}},44330:function(e){"function"===typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},10082:function(e){e.exports=function(e){return e&&"object"===typeof e&&"function"===typeof e.copy&&"function"===typeof e.fill&&"function"===typeof e.readUInt8}},43335:function(e,t,n){var r=n(34406),i=/%[sdj%]/g;t.format=function(e){if(!g(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(s(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,o=r.length,a=String(e).replace(i,(function(e){if("%%"===e)return"%";if(n>=o)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(t){return"[Circular]"}default:return e}})),u=r[n];n<o;u=r[++n])v(u)||!w(u)?a+=" "+u:a+=" "+s(u);return a},t.deprecate=function(e,i){if(y(n.g.process))return function(){return t.deprecate(e,i).apply(this,arguments)};if(!0===r.noDeprecation)return e;var o=!1;return function(){if(!o){if(r.throwDeprecation)throw new Error(i);r.traceDeprecation?console.trace(i):console.error(i),o=!0}return e.apply(this,arguments)}};var o,a={};function s(e,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),p(n)?r.showHidden=n:n&&t._extend(r,n),y(r.showHidden)&&(r.showHidden=!1),y(r.depth)&&(r.depth=2),y(r.colors)&&(r.colors=!1),y(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),l(r,e,r.depth)}function u(e,t){var n=s.styles[t];return n?"\x1b["+s.colors[n][0]+"m"+e+"\x1b["+s.colors[n][1]+"m":e}function c(e,t){return e}function l(e,n,r){if(e.customInspect&&n&&S(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var i=n.inspect(r,e);return g(i)||(i=l(e,i,r)),i}var o=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(g(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(m(t))return e.stylize(""+t,"number");if(p(t))return e.stylize(""+t,"boolean");if(v(t))return e.stylize("null","null")}(e,n);if(o)return o;var a=Object.keys(n),s=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(n)),E(n)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return f(n);if(0===a.length){if(S(n)){var u=n.name?": "+n.name:"";return e.stylize("[Function"+u+"]","special")}if(b(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(_(n))return e.stylize(Date.prototype.toString.call(n),"date");if(E(n))return f(n)}var c,w="",x=!1,O=["{","}"];(h(n)&&(x=!0,O=["[","]"]),S(n))&&(w=" [Function"+(n.name?": "+n.name:"")+"]");return b(n)&&(w=" "+RegExp.prototype.toString.call(n)),_(n)&&(w=" "+Date.prototype.toUTCString.call(n)),E(n)&&(w=" "+f(n)),0!==a.length||x&&0!=n.length?r<0?b(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),c=x?function(e,t,n,r,i){for(var o=[],a=0,s=t.length;a<s;++a)T(t,String(a))?o.push(d(e,t,n,r,String(a),!0)):o.push("");return i.forEach((function(i){i.match(/^\d+$/)||o.push(d(e,t,n,r,i,!0))})),o}(e,n,r,s,a):a.map((function(t){return d(e,n,r,s,t,x)})),e.seen.pop(),function(e,t,n){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(c,w,O)):O[0]+w+O[1]}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,n,r,i,o){var a,s,u;if((u=Object.getOwnPropertyDescriptor(t,i)||{value:t[i]}).get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),T(r,i)||(a="["+i+"]"),s||(e.seen.indexOf(u.value)<0?(s=v(n)?l(e,u.value,null):l(e,u.value,n-1)).indexOf("\n")>-1&&(s=o?s.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+s.split("\n").map((function(e){return"   "+e})).join("\n")):s=e.stylize("[Circular]","special")),y(a)){if(o&&i.match(/^\d+$/))return s;(a=JSON.stringify(""+i)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+s}function h(e){return Array.isArray(e)}function p(e){return"boolean"===typeof e}function v(e){return null===e}function m(e){return"number"===typeof e}function g(e){return"string"===typeof e}function y(e){return void 0===e}function b(e){return w(e)&&"[object RegExp]"===x(e)}function w(e){return"object"===typeof e&&null!==e}function _(e){return w(e)&&"[object Date]"===x(e)}function E(e){return w(e)&&("[object Error]"===x(e)||e instanceof Error)}function S(e){return"function"===typeof e}function x(e){return Object.prototype.toString.call(e)}function O(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(y(o)&&(o=r.env.NODE_DEBUG||""),e=e.toUpperCase(),!a[e])if(new RegExp("\\b"+e+"\\b","i").test(o)){var n=r.pid;a[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else a[e]=function(){};return a[e]},t.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=h,t.isBoolean=p,t.isNull=v,t.isNullOrUndefined=function(e){return null==e},t.isNumber=m,t.isString=g,t.isSymbol=function(e){return"symbol"===typeof e},t.isUndefined=y,t.isRegExp=b,t.isObject=w,t.isDate=_,t.isError=E,t.isFunction=S,t.isPrimitive=function(e){return null===e||"boolean"===typeof e||"number"===typeof e||"string"===typeof e||"symbol"===typeof e||"undefined"===typeof e},t.isBuffer=n(10082);var C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function k(){var e=new Date,t=[O(e.getHours()),O(e.getMinutes()),O(e.getSeconds())].join(":");return[e.getDate(),C[e.getMonth()],t].join(" ")}function T(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",k(),t.format.apply(t,arguments))},t.inherits=n(44330),t._extend=function(e,t){if(!t||!w(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}},30686:function(e,t,n){"use strict";n.d(t,{v:function(){return r}});var r=n(10161);t.Z=r},66439:function(e,t,n){"use strict";function r(e){return"[object Object]"===Object.prototype.toString.call(e)}function i(e){var t,n;return!1!==r(e)&&(void 0===(t=e.constructor)||!1!==r(n=t.prototype)&&!1!==n.hasOwnProperty("isPrototypeOf"))}n.d(t,{P:function(){return i}})},21805:function(e,t){"use strict";function n(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var r=function e(t,r){function i(e,i,o){if("undefined"!==typeof document){"number"===typeof(o=n({},r,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var s in o)o[s]&&(a+="; "+s,!0!==o[s]&&(a+="="+o[s].split(";")[0]));return document.cookie=e+"="+t.write(i,e)+a}}return Object.create({set:i,get:function(e){if("undefined"!==typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},i=0;i<n.length;i++){var o=n[i].split("="),a=o.slice(1).join("=");try{var s=decodeURIComponent(o[0]);if(r[s]=t.read(a,s),e===s)break}catch(u){}}return e?r[e]:r}},remove:function(e,t){i(e,"",n({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,n({},this.attributes,t))},withConverter:function(t){return e(n({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});t.Z=r},94764:function(e,t,n){"use strict";n.d(t,{x0:function(){return r}});let r=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e));for(;e--;){let r=63&n[e];t+=r<36?r.toString(36):r<62?(r-26).toString(36).toUpperCase():r<63?"_":"-"}return t}},63955:function(e,t,n){"use strict";n.d(t,{Qr:function(){return z},cI:function(){return Te}});var r=n(2784),i=e=>"checkbox"===e.type,o=e=>e instanceof Date,a=e=>null==e;const s=e=>"object"===typeof e;var u=e=>!a(e)&&!Array.isArray(e)&&s(e)&&!o(e),c=e=>u(e)&&e.target?i(e.target)?e.target.checked:e.target.value:e,l=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),f=e=>Array.isArray(e)?e.filter(Boolean):[],d=e=>void 0===e,h=(e,t,n)=>{if(!t||!u(e))return n;const r=f(t.split(/[,[\].]+?/)).reduce(((e,t)=>a(e)?e:e[t]),e);return d(r)||r===e?d(e[t])?n:e[t]:r};const p="blur",v="focusout",m="change",g="onBlur",y="onChange",b="onSubmit",w="onTouched",_="all",E="max",S="min",x="maxLength",O="minLength",C="pattern",k="required",T="validate",A=r.createContext(null),I=()=>r.useContext(A);var D=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(i,o,{get:()=>{const i=o;return t._proxyFormState[i]!==_&&(t._proxyFormState[i]=!r||_),n&&(n[i]=!0),e[i]}});return i},P=e=>u(e)&&!Object.keys(e).length,R=(e,t,n,r)=>{n(e);const{name:i,...o}=e;return P(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find((e=>t[e]===(!r||_)))},N=e=>Array.isArray(e)?e:[e],j=(e,t,n)=>n&&t?e===t:!e||!t||e===t||N(e).some((e=>e&&(e.startsWith(t)||t.startsWith(e))));function M(e){const t=r.useRef(e);t.current=e,r.useEffect((()=>{const n=!e.disabled&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}}),[e.disabled])}var L=e=>"string"===typeof e,F=(e,t,n,r,i)=>L(e)?(r&&t.watch.add(e),h(n,e,i)):Array.isArray(e)?e.map((e=>(r&&t.watch.add(e),h(n,e)))):(r&&(t.watchAll=!0),n),B="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function U(e){let t;const n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(B&&(e instanceof Blob||e instanceof FileList)||!n&&!u(e))return e;if(t=n?[]:{},Array.isArray(e)||(e=>{const t=e.constructor&&e.constructor.prototype;return u(t)&&t.hasOwnProperty("isPrototypeOf")})(e))for(const n in e)t[n]=U(e[n]);else t=e}return t}function V(e){const t=I(),{name:n,control:i=t.control,shouldUnregister:o}=e,a=l(i._names.array,n),s=function(e){const t=I(),{control:n=t.control,name:i,defaultValue:o,disabled:a,exact:s}=e||{},u=r.useRef(i);u.current=i,M({disabled:a,subject:n._subjects.watch,next:e=>{j(u.current,e.name,s)&&l(U(F(u.current,n._names,e.values||n._formValues,!1,o)))}});const[c,l]=r.useState(n._getWatch(i,o));return r.useEffect((()=>n._removeUnmounted())),c}({control:i,name:n,defaultValue:h(i._formValues,n,h(i._defaultValues,n,e.defaultValue)),exact:!0}),u=function(e){const t=I(),{control:n=t.control,disabled:i,name:o,exact:a}=e||{},[s,u]=r.useState(n._formState),c=r.useRef(!0),l=r.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),f=r.useRef(o);return f.current=o,M({disabled:i,next:e=>c.current&&j(f.current,e.name,a)&&R(e,l.current,n._updateFormState)&&u({...n._formState,...e}),subject:n._subjects.state}),r.useEffect((()=>{c.current=!0;const e=n._proxyFormState.isDirty&&n._getDirty();return e!==n._formState.isDirty&&n._subjects.state.next({isDirty:e}),l.current.isValid&&n._updateValid(!0),()=>{c.current=!1}}),[n]),D(s,n,l.current,!1)}({control:i,name:n}),f=r.useRef(i.register(n,{...e.rules,value:s}));return r.useEffect((()=>{const e=(e,t)=>{const n=h(i._fields,e);n&&(n._f.mount=t)};return e(n,!0),()=>{const t=i._options.shouldUnregister||o;(a?t&&!i._stateFlags.action:t)?i.unregister(n):e(n,!1)}}),[n,i,a,o]),{field:{name:n,value:s,onChange:r.useCallback((e=>f.current.onChange({target:{value:c(e),name:n},type:m})),[n]),onBlur:r.useCallback((()=>f.current.onBlur({target:{value:h(i._formValues,n),name:n},type:p})),[n,i]),ref:e=>{const t=h(i._fields,n);t&&e&&(t._f.ref={focus:()=>e.focus(),select:()=>e.select(),setCustomValidity:t=>e.setCustomValidity(t),reportValidity:()=>e.reportValidity()})}},formState:u,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!h(u.errors,n)},isDirty:{enumerable:!0,get:()=>!!h(u.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!h(u.touchedFields,n)},error:{enumerable:!0,get:()=>h(u.errors,n)}})}}const z=e=>e.render(V(e));var q=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},Z=e=>/^\w*$/.test(e),H=e=>f(e.replace(/["|']|\]/g,"").split(/\.|\[/));function W(e,t,n){let r=-1;const i=Z(t)?[t]:H(t),o=i.length,a=o-1;for(;++r<o;){const t=i[r];let o=n;if(r!==a){const n=e[t];o=u(n)||Array.isArray(n)?n:isNaN(+i[r+1])?{}:[]}e[t]=o,e=e[t]}return e}const G=(e,t,n)=>{for(const r of n||Object.keys(e)){const n=h(e,r);if(n){const{_f:e,...r}=n;if(e&&t(e.name)){if(e.ref.focus){e.ref.focus();break}if(e.refs&&e.refs[0].focus){e.refs[0].focus();break}}else u(r)&&G(r,t)}}};var K=e=>({isOnSubmit:!e||e===b,isOnBlur:e===g,isOnChange:e===y,isOnAll:e===_,isOnTouch:e===w}),J=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some((t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))))),Y=(e,t,n)=>{const r=f(h(e,n));return W(r,"root",t[n]),W(e,n,r),e},$=e=>"boolean"===typeof e,X=e=>"file"===e.type,Q=e=>"function"===typeof e,ee=e=>{if(!B)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},te=e=>L(e)||r.isValidElement(e),ne=e=>"radio"===e.type,re=e=>e instanceof RegExp;const ie={value:!1,isValid:!1},oe={value:!0,isValid:!0};var ae=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter((e=>e&&e.checked&&!e.disabled)).map((e=>e.value));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!d(e[0].attributes.value)?d(e[0].value)||""===e[0].value?oe:{value:e[0].value,isValid:!0}:oe:ie}return ie};const se={isValid:!1,value:null};var ue=e=>Array.isArray(e)?e.reduce(((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e),se):se;function ce(e,t,n="validate"){if(te(e)||Array.isArray(e)&&e.every(te)||$(e)&&!e)return{type:n,message:te(e)?e:"",ref:t}}var le=e=>u(e)&&!re(e)?e:{value:e,message:""},fe=async(e,t,n,r,o)=>{const{ref:s,refs:c,required:l,maxLength:f,minLength:p,min:v,max:m,pattern:g,validate:y,name:b,valueAsNumber:w,mount:_,disabled:A}=e._f,I=h(t,b);if(!_||A)return{};const D=c?c[0]:s,R=e=>{r&&D.reportValidity&&(D.setCustomValidity($(e)?"":e||""),D.reportValidity())},N={},j=ne(s),M=i(s),F=j||M,B=(w||X(s))&&d(s.value)&&d(I)||ee(s)&&""===s.value||""===I||Array.isArray(I)&&!I.length,U=q.bind(null,b,n,N),V=(e,t,n,r=x,i=O)=>{const o=e?t:n;N[b]={type:e?r:i,message:o,ref:s,...U(e?r:i,o)}};if(o?!Array.isArray(I)||!I.length:l&&(!F&&(B||a(I))||$(I)&&!I||M&&!ae(c).isValid||j&&!ue(c).isValid)){const{value:e,message:t}=te(l)?{value:!!l,message:l}:le(l);if(e&&(N[b]={type:k,message:t,ref:D,...U(k,t)},!n))return R(t),N}if(!B&&(!a(v)||!a(m))){let e,t;const r=le(m),i=le(v);if(a(I)||isNaN(I)){const n=s.valueAsDate||new Date(I),o=e=>new Date((new Date).toDateString()+" "+e),a="time"==s.type,u="week"==s.type;L(r.value)&&I&&(e=a?o(I)>o(r.value):u?I>r.value:n>new Date(r.value)),L(i.value)&&I&&(t=a?o(I)<o(i.value):u?I<i.value:n<new Date(i.value))}else{const n=s.valueAsNumber||(I?+I:I);a(r.value)||(e=n>r.value),a(i.value)||(t=n<i.value)}if((e||t)&&(V(!!e,r.message,i.message,E,S),!n))return R(N[b].message),N}if((f||p)&&!B&&(L(I)||o&&Array.isArray(I))){const e=le(f),t=le(p),r=!a(e.value)&&I.length>e.value,i=!a(t.value)&&I.length<t.value;if((r||i)&&(V(r,e.message,t.message),!n))return R(N[b].message),N}if(g&&!B&&L(I)){const{value:e,message:t}=le(g);if(re(e)&&!I.match(e)&&(N[b]={type:C,message:t,ref:s,...U(C,t)},!n))return R(t),N}if(y)if(Q(y)){const e=ce(await y(I,t),D);if(e&&(N[b]={...e,...U(T,e.message)},!n))return R(e.message),N}else if(u(y)){let e={};for(const r in y){if(!P(e)&&!n)break;const i=ce(await y[r](I,t),D,r);i&&(e={...i,...U(r,i.message)},R(i.message),n&&(N[b]=e))}if(!P(e)&&(N[b]={ref:D,...e},!n))return N}return R(!0),N};function de(e,t){const n=Array.isArray(t)?t:Z(t)?[t]:H(t),r=1===n.length?e:function(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=d(e)?r++:e[t[r++]];return e}(e,n),i=n.length-1,o=n[i];return r&&delete r[o],0!==i&&(u(r)&&P(r)||Array.isArray(r)&&function(e){for(const t in e)if(!d(e[t]))return!1;return!0}(r))&&de(e,n.slice(0,-1)),e}function he(){let e=[];return{get observers(){return e},next:t=>{for(const n of e)n.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter((e=>e!==t))}}),unsubscribe:()=>{e=[]}}}var pe=e=>a(e)||!s(e);function ve(e,t){if(pe(e)||pe(t))return e===t;if(o(e)&&o(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n){const n=e[i];if(!r.includes(i))return!1;if("ref"!==i){const e=t[i];if(o(n)&&o(e)||u(n)&&u(e)||Array.isArray(n)&&Array.isArray(e)?!ve(n,e):n!==e)return!1}}return!0}var me=e=>"select-multiple"===e.type,ge=e=>ee(e)&&e.isConnected,ye=e=>{for(const t in e)if(Q(e[t]))return!0;return!1};function be(e,t={}){const n=Array.isArray(e);if(u(e)||n)for(const r in e)Array.isArray(e[r])||u(e[r])&&!ye(e[r])?(t[r]=Array.isArray(e[r])?[]:{},be(e[r],t[r])):a(e[r])||(t[r]=!0);return t}function we(e,t,n){const r=Array.isArray(e);if(u(e)||r)for(const i in e)Array.isArray(e[i])||u(e[i])&&!ye(e[i])?d(t)||pe(n[i])?n[i]=Array.isArray(e[i])?be(e[i],[]):{...be(e[i])}:we(e[i],a(t)?{}:t[i],n[i]):ve(e[i],t[i])?delete n[i]:n[i]=!0;return n}var _e=(e,t)=>we(e,t,be(t)),Ee=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>d(e)?e:t?""===e?NaN:e?+e:e:n&&L(e)?new Date(e):r?r(e):e;function Se(e){const t=e.ref;if(!(e.refs?e.refs.every((e=>e.disabled)):t.disabled))return X(t)?t.files:ne(t)?ue(e.refs).value:me(t)?[...t.selectedOptions].map((({value:e})=>e)):i(t)?ae(e.refs).value:Ee(d(t.value)?e.ref.value:t.value,e)}var xe=e=>d(e)?e:re(e)?e.source:u(e)?re(e.value)?e.value.source:e.value:e;function Oe(e,t,n){const r=h(e,n);if(r||Z(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const r=i.join("."),o=h(t,r),a=h(e,r);if(o&&!Array.isArray(o)&&n!==r)return{name:n};if(a&&a.type)return{name:r,error:a};i.pop()}return{name:n}}const Ce={mode:b,reValidateMode:y,shouldFocusError:!0};function ke(e={},t){let n={...Ce,...e};const r=e.resetOptions&&e.resetOptions.keepDirtyValues;let s,m={submitCount:0,isDirty:!1,isLoading:!0,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},g={},y=u(n.defaultValues)&&U(n.defaultValues)||{},b=n.shouldUnregister?{}:U(y),w={action:!1,mount:!1,watch:!1},E={mount:new Set,unMount:new Set,array:new Set,watch:new Set},S=0;const x={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},O={watch:he(),array:he(),state:he()},C=K(n.mode),k=K(n.reValidateMode),T=n.criteriaMode===_,A=async e=>{if(x.isValid||e){const e=n.resolver?P((await M()).errors):await V(g,!0);e!==m.isValid&&(m.isValid=e,O.state.next({isValid:e}))}},I=e=>x.isValidating&&O.state.next({isValidating:e}),D=(e,t,n,r)=>{const i=h(g,e);if(i){const o=h(b,e,d(n)?h(y,e):n);d(o)||r&&r.defaultChecked||t?W(b,e,t?o:Se(i._f)):Z(e,o),w.mount&&A()}},R=(e,t,n,r,i)=>{let o=!1,a=!1;const s={name:e};if(!n||r){x.isDirty&&(a=m.isDirty,m.isDirty=s.isDirty=z(),o=a!==s.isDirty);const n=ve(h(y,e),t);a=h(m.dirtyFields,e),n?de(m.dirtyFields,e):W(m.dirtyFields,e,!0),s.dirtyFields=m.dirtyFields,o=o||x.dirtyFields&&a!==!n}if(n){const t=h(m.touchedFields,e);t||(W(m.touchedFields,e,n),s.touchedFields=m.touchedFields,o=o||x.touchedFields&&t!==n)}return o&&i&&O.state.next(s),o?s:{}},j=(t,n,r,i)=>{const o=h(m.errors,t),a=x.isValid&&$(n)&&m.isValid!==n;var u;if(e.delayError&&r?(u=()=>((e,t)=>{W(m.errors,e,t),O.state.next({errors:m.errors})})(t,r),s=e=>{clearTimeout(S),S=window.setTimeout(u,e)},s(e.delayError)):(clearTimeout(S),s=null,r?W(m.errors,t,r):de(m.errors,t)),(r?!ve(o,r):o)||!P(i)||a){const e={...i,...a&&$(n)?{isValid:n}:{},errors:m.errors,name:t};m={...m,...e},O.state.next(e)}I(!1)},M=async e=>await n.resolver(b,n.context,((e,t,n,r)=>{const i={};for(const o of e){const e=h(t,o);e&&W(i,o,e._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}})(e||E.mount,g,n.criteriaMode,n.shouldUseNativeValidation)),V=async(e,t,r={valid:!0})=>{for(const i in e){const o=e[i];if(o){const{_f:e,...i}=o;if(e){const i=E.array.has(e.name),a=await fe(o,b,T,n.shouldUseNativeValidation,i);if(a[e.name]&&(r.valid=!1,t))break;!t&&(h(a,e.name)?i?Y(m.errors,a,e.name):W(m.errors,e.name,a[e.name]):de(m.errors,e.name))}i&&await V(i,t,r)}}return r.valid},z=(e,t)=>(e&&t&&W(b,e,t),!ve(oe(),y)),q=(e,t,n)=>F(e,E,{...w.mount?b:d(t)?y:L(e)?{[e]:t}:t},n,t),Z=(e,t,n={})=>{const r=h(g,e);let o=t;if(r){const n=r._f;n&&(!n.disabled&&W(b,e,Ee(t,n)),o=ee(n.ref)&&a(t)?"":t,me(n.ref)?[...n.ref.options].forEach((e=>e.selected=o.includes(e.value))):n.refs?i(n.ref)?n.refs.length>1?n.refs.forEach((e=>(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(o)?!!o.find((t=>t===e.value)):o===e.value))):n.refs[0]&&(n.refs[0].checked=!!o):n.refs.forEach((e=>e.checked=e.value===o)):X(n.ref)?n.ref.value="":(n.ref.value=o,n.ref.type||O.watch.next({name:e})))}(n.shouldDirty||n.shouldTouch)&&R(e,o,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&ie(e)},H=(e,t,n)=>{for(const r in t){const i=t[r],a=`${e}.${r}`,s=h(g,a);!E.array.has(e)&&pe(i)&&(!s||s._f)||o(i)?Z(a,i,n):H(a,i,n)}},te=(e,n,r={})=>{const i=h(g,e),o=E.array.has(e),s=U(n);W(b,e,s),o?(O.array.next({name:e,values:b}),(x.isDirty||x.dirtyFields)&&r.shouldDirty&&(m.dirtyFields=_e(y,b),O.state.next({name:e,dirtyFields:m.dirtyFields,isDirty:z(e,s)}))):!i||i._f||a(s)?Z(e,s,r):H(e,s,r),J(e,E)&&O.state.next({}),O.watch.next({name:e}),!w.mount&&t()},re=async e=>{const t=e.target;let r=t.name;const i=h(g,r);if(i){let a,u;const l=t.type?Se(i._f):c(e),f=e.type===p||e.type===v,d=!((o=i._f).mount&&(o.required||o.min||o.max||o.maxLength||o.minLength||o.pattern||o.validate))&&!n.resolver&&!h(m.errors,r)&&!i._f.deps||((e,t,n,r,i)=>!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:!(n?r.isOnChange:i.isOnChange)||e))(f,h(m.touchedFields,r),m.isSubmitted,k,C),y=J(r,E,f);W(b,r,l),f?(i._f.onBlur&&i._f.onBlur(e),s&&s(0)):i._f.onChange&&i._f.onChange(e);const w=R(r,l,f,!1),_=!P(w)||y;if(!f&&O.watch.next({name:r,type:e.type}),d)return x.isValid&&A(),_&&O.state.next({name:r,...y?{}:w});if(!f&&y&&O.state.next({}),I(!0),n.resolver){const{errors:e}=await M([r]),t=Oe(m.errors,g,r),n=Oe(e,g,t.name||r);a=n.error,r=n.name,u=P(e)}else a=(await fe(i,b,T,n.shouldUseNativeValidation))[r],a?u=!1:x.isValid&&(u=await V(g,!0));i._f.deps&&ie(i._f.deps),j(r,u,a,w)}var o},ie=async(e,t={})=>{let r,i;const o=N(e);if(I(!0),n.resolver){const t=await(async e=>{const{errors:t}=await M();if(e)for(const n of e){const e=h(t,n);e?W(m.errors,n,e):de(m.errors,n)}else m.errors=t;return t})(d(e)?e:o);r=P(t),i=e?!o.some((e=>h(t,e))):r}else e?(i=(await Promise.all(o.map((async e=>{const t=h(g,e);return await V(t&&t._f?{[e]:t}:t)})))).every(Boolean),(i||m.isValid)&&A()):i=r=await V(g);return O.state.next({...!L(e)||x.isValid&&r!==m.isValid?{}:{name:e},...n.resolver||!e?{isValid:r}:{},errors:m.errors,isValidating:!1}),t.shouldFocus&&!i&&G(g,(e=>e&&h(m.errors,e)),e?o:E.mount),i},oe=e=>{const t={...y,...w.mount?b:{}};return d(e)?t:L(e)?h(t,e):e.map((e=>h(t,e)))},ae=(e,t)=>({invalid:!!h((t||m).errors,e),isDirty:!!h((t||m).dirtyFields,e),isTouched:!!h((t||m).touchedFields,e),error:h((t||m).errors,e)}),se=(e,t={})=>{for(const r of e?N(e):E.mount)E.mount.delete(r),E.array.delete(r),h(g,r)&&(t.keepValue||(de(g,r),de(b,r)),!t.keepError&&de(m.errors,r),!t.keepDirty&&de(m.dirtyFields,r),!t.keepTouched&&de(m.touchedFields,r),!n.shouldUnregister&&!t.keepDefaultValue&&de(y,r));O.watch.next({}),O.state.next({...m,...t.keepDirty?{isDirty:z()}:{}}),!t.keepIsValid&&A()},ue=(e,t={})=>{let r=h(g,e);const o=$(t.disabled);return W(g,e,{...r||{},_f:{...r&&r._f?r._f:{ref:{name:e}},name:e,mount:!0,...t}}),E.mount.add(e),r?o&&W(b,e,t.disabled?void 0:h(b,e,Se(r._f))):D(e,!0,t.value),{...o?{disabled:t.disabled}:{},...n.shouldUseNativeValidation?{required:!!t.required,min:xe(t.min),max:xe(t.max),minLength:xe(t.minLength),maxLength:xe(t.maxLength),pattern:xe(t.pattern)}:{},name:e,onChange:re,onBlur:re,ref:o=>{if(o){ue(e,t),r=h(g,e);const n=d(o.value)&&o.querySelectorAll&&o.querySelectorAll("input,select,textarea")[0]||o,a=(e=>ne(e)||i(e))(n),s=r._f.refs||[];if(a?s.find((e=>e===n)):n===r._f.ref)return;W(g,e,{_f:{...r._f,...a?{refs:[...s.filter(ge),n,...Array.isArray(h(y,e))?[{}]:[]],ref:{type:n.type,name:e}}:{ref:n}}}),D(e,!1,void 0,n)}else r=h(g,e,{}),r._f&&(r._f.mount=!1),(n.shouldUnregister||t.shouldUnregister)&&(!l(E.array,e)||!w.action)&&E.unMount.add(e)}}},ce=()=>n.shouldFocusError&&G(g,(e=>e&&h(m.errors,e)),E.mount),le=(n,i={})=>{const o=n||y,a=U(o),s=n&&!P(n)?a:y;if(i.keepDefaultValues||(y=o),!i.keepValues){if(i.keepDirtyValues||r)for(const e of E.mount)h(m.dirtyFields,e)?W(s,e,h(b,e)):te(e,h(s,e));else{if(B&&d(n))for(const e of E.mount){const t=h(g,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(ee(e)){const t=e.closest("form");if(t){t.reset();break}}}}g={}}b=e.shouldUnregister?i.keepDefaultValues?U(y):{}:a,O.array.next({values:s}),O.watch.next({values:s})}E={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!w.mount&&t(),w.mount=!x.isValid||!!i.keepIsValid,w.watch=!!e.shouldUnregister,O.state.next({submitCount:i.keepSubmitCount?m.submitCount:0,isDirty:i.keepDirty||i.keepDirtyValues?m.isDirty:!(!i.keepDefaultValues||ve(n,y)),isSubmitted:!!i.keepIsSubmitted&&m.isSubmitted,dirtyFields:i.keepDirty||i.keepDirtyValues?m.dirtyFields:i.keepDefaultValues&&n?_e(y,n):{},touchedFields:i.keepTouched?m.touchedFields:{},errors:i.keepErrors?m.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},ye=(e,t)=>le(Q(e)?e(b):e,t);return Q(n.defaultValues)&&n.defaultValues().then((e=>{ye(e,n.resetOptions),O.state.next({isLoading:!1})})),{control:{register:ue,unregister:se,getFieldState:ae,_executeSchema:M,_focusError:ce,_getWatch:q,_getDirty:z,_updateValid:A,_removeUnmounted:()=>{for(const e of E.unMount){const t=h(g,e);t&&(t._f.refs?t._f.refs.every((e=>!ge(e))):!ge(t._f.ref))&&se(e)}E.unMount=new Set},_updateFieldArray:(e,t=[],n,r,i=!0,o=!0)=>{if(r&&n){if(w.action=!0,o&&Array.isArray(h(g,e))){const t=n(h(g,e),r.argA,r.argB);i&&W(g,e,t)}if(o&&Array.isArray(h(m.errors,e))){const t=n(h(m.errors,e),r.argA,r.argB);i&&W(m.errors,e,t),((e,t)=>{!f(h(e,t)).length&&de(e,t)})(m.errors,e)}if(x.touchedFields&&o&&Array.isArray(h(m.touchedFields,e))){const t=n(h(m.touchedFields,e),r.argA,r.argB);i&&W(m.touchedFields,e,t)}x.dirtyFields&&(m.dirtyFields=_e(y,b)),O.state.next({name:e,isDirty:z(e,t),dirtyFields:m.dirtyFields,errors:m.errors,isValid:m.isValid})}else W(b,e,t)},_getFieldArray:t=>f(h(w.mount?b:y,t,e.shouldUnregister?h(y,t,[]):[])),_reset:le,_updateFormState:e=>{m={...m,...e}},_subjects:O,_proxyFormState:x,get _fields(){return g},get _formValues(){return b},get _stateFlags(){return w},set _stateFlags(e){w=e},get _defaultValues(){return y},get _names(){return E},set _names(e){E=e},get _formState(){return m},set _formState(e){m=e},get _options(){return n},set _options(e){n={...n,...e}}},trigger:ie,register:ue,handleSubmit:(e,t)=>async r=>{r&&(r.preventDefault&&r.preventDefault(),r.persist&&r.persist());let i=U(b);if(O.state.next({isSubmitting:!0}),n.resolver){const{errors:e,values:t}=await M();m.errors=e,i=t}else await V(g);P(m.errors)?(O.state.next({errors:{}}),await e(i,r)):(t&&await t({...m.errors},r),ce()),O.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:P(m.errors),submitCount:m.submitCount+1,errors:m.errors})},watch:(e,t)=>Q(e)?O.watch.subscribe({next:n=>e(q(void 0,t),n)}):q(e,t,!0),setValue:te,getValues:oe,reset:ye,resetField:(e,t={})=>{h(g,e)&&(d(t.defaultValue)?te(e,h(y,e)):(te(e,t.defaultValue),W(y,e,t.defaultValue)),t.keepTouched||de(m.touchedFields,e),t.keepDirty||(de(m.dirtyFields,e),m.isDirty=t.defaultValue?z(e,h(y,e)):z()),t.keepError||(de(m.errors,e),x.isValid&&A()),O.state.next({...m}))},clearErrors:e=>{e?N(e).forEach((e=>de(m.errors,e))):m.errors={},O.state.next({errors:m.errors})},unregister:se,setError:(e,t,n)=>{const r=(h(g,e,{_f:{}})._f||{}).ref;W(m.errors,e,{...t,ref:r}),O.state.next({name:e,errors:m.errors,isValid:!1}),n&&n.shouldFocus&&r&&r.focus&&r.focus()},setFocus:(e,t={})=>{const n=h(g,e),r=n&&n._f;if(r){const e=r.refs?r.refs[0]:r.ref;e.focus&&(e.focus(),t.shouldSelect&&e.select())}},getFieldState:ae}}function Te(e={}){const t=r.useRef(),[n,i]=r.useState({isDirty:!1,isValidating:!1,isLoading:!0,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:Q(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...ke(e,(()=>i((e=>({...e}))))),formState:n});const o=t.current.control;return o._options=e,M({subject:o._subjects.state,next:e=>{R(e,o._proxyFormState,o._updateFormState,!0)&&i({...o._formState})}}),r.useEffect((()=>{o._stateFlags.mount||(o._updateValid(),o._stateFlags.mount=!0),o._stateFlags.watch&&(o._stateFlags.watch=!1,o._subjects.state.next({})),o._removeUnmounted()})),r.useEffect((()=>{e.values&&!ve(e.values,o._defaultValues)&&o._reset(e.values,o._options.resetOptions)}),[e.values,o]),r.useEffect((()=>{n.submitCount&&o._focusError()}),[o,n.submitCount]),t.current.formState=D(n,o),t.current}},70289:function(e,t,n){"use strict";n.d(t,{Z:function(){return ee}});var r=n(2784);var i=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},o="object"==typeof global&&global&&global.Object===Object&&global,a="object"==typeof self&&self&&self.Object===Object&&self,s=o||a||Function("return this")(),u=function(){return s.Date.now()},c=/\s/;var l=function(e){for(var t=e.length;t--&&c.test(e.charAt(t)););return t},f=/^\s+/;var d=function(e){return e?e.slice(0,l(e)+1).replace(f,""):e},h=s.Symbol,p=Object.prototype,v=p.hasOwnProperty,m=p.toString,g=h?h.toStringTag:void 0;var y=function(e){var t=v.call(e,g),n=e[g];try{e[g]=void 0;var r=!0}catch(o){}var i=m.call(e);return r&&(t?e[g]=n:delete e[g]),i},b=Object.prototype.toString;var w=function(e){return b.call(e)},_=h?h.toStringTag:void 0;var E=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":_&&_ in Object(e)?y(e):w(e)};var S=function(e){return null!=e&&"object"==typeof e};var x=function(e){return"symbol"==typeof e||S(e)&&"[object Symbol]"==E(e)},O=/^[-+]0x[0-9a-f]+$/i,C=/^0b[01]+$/i,k=/^0o[0-7]+$/i,T=parseInt;var A=function(e){if("number"==typeof e)return e;if(x(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=d(e);var n=C.test(e);return n||k.test(e)?T(e.slice(2),n?2:8):O.test(e)?NaN:+e},I=Math.max,D=Math.min;var P=function(e,t,n){var r,o,a,s,c,l,f=0,d=!1,h=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=r,i=o;return r=o=void 0,f=t,s=e.apply(i,n)}function m(e){return f=e,c=setTimeout(y,t),d?v(e):s}function g(e){var n=e-l;return void 0===l||n>=t||n<0||h&&e-f>=a}function y(){var e=u();if(g(e))return b(e);c=setTimeout(y,function(e){var n=t-(e-l);return h?D(n,a-(e-f)):n}(e))}function b(e){return c=void 0,p&&r?v(e):(r=o=void 0,s)}function w(){var e=u(),n=g(e);if(r=arguments,o=this,l=e,n){if(void 0===c)return m(l);if(h)return clearTimeout(c),c=setTimeout(y,t),v(l)}return void 0===c&&(c=setTimeout(y,t)),s}return t=A(t)||0,i(n)&&(d=!!n.leading,a=(h="maxWait"in n)?I(A(n.maxWait)||0,t):a,p="trailing"in n?!!n.trailing:p),w.cancel=function(){void 0!==c&&clearTimeout(c),f=0,r=l=o=c=void 0},w.flush=function(){return void 0===c?s:b(u())},w};var R=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),P(e,t,{leading:r,maxWait:t,trailing:o})},N=n(19131),j=function(){return j=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},j.apply(this,arguments)},M=null,L=null;function F(){if(null===M){if("undefined"===typeof document)return M=0;var e=document.body,t=document.createElement("div");t.classList.add("simplebar-hide-scrollbar"),e.appendChild(t);var n=t.getBoundingClientRect().right;e.removeChild(t),M=n}return M}function B(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window}function U(e){return e&&e.ownerDocument?e.ownerDocument:document}N&&window.addEventListener("resize",(function(){L!==window.devicePixelRatio&&(L=window.devicePixelRatio,M=null)}));var V=function(e){return Array.prototype.reduce.call(e,(function(e,t){var n=t.name.match(/data-simplebar-(.+)/);if(n){var r=n[1].replace(/\W+(.)/g,(function(e,t){return t.toUpperCase()}));switch(t.value){case"true":e[r]=!0;break;case"false":e[r]=!1;break;case void 0:e[r]=!0;break;default:e[r]=t.value}}return e}),{})};function z(e,t){var n;e&&(n=e.classList).add.apply(n,t.split(" "))}function q(e,t){e&&t.split(" ").forEach((function(t){e.classList.remove(t)}))}function Z(e){return".".concat(e.split(" ").join("."))}var H=Object.freeze({__proto__:null,getElementWindow:B,getElementDocument:U,getOptions:V,addClasses:z,removeClasses:q,classNamesToQuery:Z}),W=B,G=U,K=V,J=z,Y=q,$=Z,X=function(){function e(t,n){void 0===n&&(n={});var r=this;if(this.removePreventClickId=null,this.minScrollbarWidth=20,this.stopScrollDelay=175,this.isScrolling=!1,this.isMouseEntering=!1,this.scrollXTicking=!1,this.scrollYTicking=!1,this.wrapperEl=null,this.contentWrapperEl=null,this.contentEl=null,this.offsetEl=null,this.maskEl=null,this.placeholderEl=null,this.heightAutoObserverWrapperEl=null,this.heightAutoObserverEl=null,this.rtlHelpers=null,this.scrollbarWidth=0,this.resizeObserver=null,this.mutationObserver=null,this.elStyles=null,this.isRtl=null,this.mouseX=0,this.mouseY=0,this.onMouseMove=function(){},this.onWindowResize=function(){},this.onStopScrolling=function(){},this.onMouseEntered=function(){},this.onScroll=function(){var e=W(r.el);r.scrollXTicking||(e.requestAnimationFrame(r.scrollX),r.scrollXTicking=!0),r.scrollYTicking||(e.requestAnimationFrame(r.scrollY),r.scrollYTicking=!0),r.isScrolling||(r.isScrolling=!0,J(r.el,r.classNames.scrolling)),r.showScrollbar("x"),r.showScrollbar("y"),r.onStopScrolling()},this.scrollX=function(){r.axis.x.isOverflowing&&r.positionScrollbar("x"),r.scrollXTicking=!1},this.scrollY=function(){r.axis.y.isOverflowing&&r.positionScrollbar("y"),r.scrollYTicking=!1},this._onStopScrolling=function(){Y(r.el,r.classNames.scrolling),r.options.autoHide&&(r.hideScrollbar("x"),r.hideScrollbar("y")),r.isScrolling=!1},this.onMouseEnter=function(){r.isMouseEntering||(J(r.el,r.classNames.mouseEntered),r.showScrollbar("x"),r.showScrollbar("y"),r.isMouseEntering=!0),r.onMouseEntered()},this._onMouseEntered=function(){Y(r.el,r.classNames.mouseEntered),r.options.autoHide&&(r.hideScrollbar("x"),r.hideScrollbar("y")),r.isMouseEntering=!1},this._onMouseMove=function(e){r.mouseX=e.clientX,r.mouseY=e.clientY,(r.axis.x.isOverflowing||r.axis.x.forceVisible)&&r.onMouseMoveForAxis("x"),(r.axis.y.isOverflowing||r.axis.y.forceVisible)&&r.onMouseMoveForAxis("y")},this.onMouseLeave=function(){r.onMouseMove.cancel(),(r.axis.x.isOverflowing||r.axis.x.forceVisible)&&r.onMouseLeaveForAxis("x"),(r.axis.y.isOverflowing||r.axis.y.forceVisible)&&r.onMouseLeaveForAxis("y"),r.mouseX=-1,r.mouseY=-1},this._onWindowResize=function(){r.scrollbarWidth=r.getScrollbarWidth(),r.hideNativeScrollbar()},this.onPointerEvent=function(e){var t,n;r.axis.x.track.el&&r.axis.y.track.el&&r.axis.x.scrollbar.el&&r.axis.y.scrollbar.el&&(r.axis.x.track.rect=r.axis.x.track.el.getBoundingClientRect(),r.axis.y.track.rect=r.axis.y.track.el.getBoundingClientRect(),(r.axis.x.isOverflowing||r.axis.x.forceVisible)&&(t=r.isWithinBounds(r.axis.x.track.rect)),(r.axis.y.isOverflowing||r.axis.y.forceVisible)&&(n=r.isWithinBounds(r.axis.y.track.rect)),(t||n)&&(e.stopPropagation(),"pointerdown"===e.type&&"touch"!==e.pointerType&&(t&&(r.axis.x.scrollbar.rect=r.axis.x.scrollbar.el.getBoundingClientRect(),r.isWithinBounds(r.axis.x.scrollbar.rect)?r.onDragStart(e,"x"):r.onTrackClick(e,"x")),n&&(r.axis.y.scrollbar.rect=r.axis.y.scrollbar.el.getBoundingClientRect(),r.isWithinBounds(r.axis.y.scrollbar.rect)?r.onDragStart(e,"y"):r.onTrackClick(e,"y")))))},this.drag=function(t){var n,i,o,a,s,u,c,l,f,d,h;if(r.draggedAxis&&r.contentWrapperEl){var p=r.axis[r.draggedAxis].track,v=null!==(i=null===(n=p.rect)||void 0===n?void 0:n[r.axis[r.draggedAxis].sizeAttr])&&void 0!==i?i:0,m=r.axis[r.draggedAxis].scrollbar,g=null!==(a=null===(o=r.contentWrapperEl)||void 0===o?void 0:o[r.axis[r.draggedAxis].scrollSizeAttr])&&void 0!==a?a:0,y=parseInt(null!==(u=null===(s=r.elStyles)||void 0===s?void 0:s[r.axis[r.draggedAxis].sizeAttr])&&void 0!==u?u:"0px",10);t.preventDefault(),t.stopPropagation();var b=("y"===r.draggedAxis?t.pageY:t.pageX)-(null!==(l=null===(c=p.rect)||void 0===c?void 0:c[r.axis[r.draggedAxis].offsetAttr])&&void 0!==l?l:0)-r.axis[r.draggedAxis].dragOffset,w=(b="x"===r.draggedAxis&&r.isRtl?(null!==(d=null===(f=p.rect)||void 0===f?void 0:f[r.axis[r.draggedAxis].sizeAttr])&&void 0!==d?d:0)-m.size-b:b)/(v-m.size)*(g-y);"x"===r.draggedAxis&&r.isRtl&&(w=(null===(h=e.getRtlHelpers())||void 0===h?void 0:h.isScrollingToNegative)?-w:w),r.contentWrapperEl[r.axis[r.draggedAxis].scrollOffsetAttr]=w}},this.onEndDrag=function(e){var t=G(r.el),n=W(r.el);e.preventDefault(),e.stopPropagation(),Y(r.el,r.classNames.dragging),t.removeEventListener("mousemove",r.drag,!0),t.removeEventListener("mouseup",r.onEndDrag,!0),r.removePreventClickId=n.setTimeout((function(){t.removeEventListener("click",r.preventClick,!0),t.removeEventListener("dblclick",r.preventClick,!0),r.removePreventClickId=null}))},this.preventClick=function(e){e.preventDefault(),e.stopPropagation()},this.el=t,this.options=j(j({},e.defaultOptions),n),this.classNames=j(j({},e.defaultOptions.classNames),n.classNames),this.axis={x:{scrollOffsetAttr:"scrollLeft",sizeAttr:"width",scrollSizeAttr:"scrollWidth",offsetSizeAttr:"offsetWidth",offsetAttr:"left",overflowAttr:"overflowX",dragOffset:0,isOverflowing:!0,forceVisible:!1,track:{size:null,el:null,rect:null,isVisible:!1},scrollbar:{size:null,el:null,rect:null,isVisible:!1}},y:{scrollOffsetAttr:"scrollTop",sizeAttr:"height",scrollSizeAttr:"scrollHeight",offsetSizeAttr:"offsetHeight",offsetAttr:"top",overflowAttr:"overflowY",dragOffset:0,isOverflowing:!0,forceVisible:!1,track:{size:null,el:null,rect:null,isVisible:!1},scrollbar:{size:null,el:null,rect:null,isVisible:!1}}},"object"!==typeof this.el||!this.el.nodeName)throw new Error("Argument passed to SimpleBar must be an HTML element instead of ".concat(this.el));this.onMouseMove=R(this._onMouseMove,64),this.onWindowResize=P(this._onWindowResize,64,{leading:!0}),this.onStopScrolling=P(this._onStopScrolling,this.stopScrollDelay),this.onMouseEntered=P(this._onMouseEntered,this.stopScrollDelay),this.init()}return e.getRtlHelpers=function(){if(e.rtlHelpers)return e.rtlHelpers;var t=document.createElement("div");t.innerHTML='<div class="simplebar-dummy-scrollbar-size"><div></div></div>';var n=t.firstElementChild,r=null===n||void 0===n?void 0:n.firstElementChild;if(!r)return null;document.body.appendChild(n),n.scrollLeft=0;var i=e.getOffset(n),o=e.getOffset(r);n.scrollLeft=-999;var a=e.getOffset(r);return document.body.removeChild(n),e.rtlHelpers={isScrollOriginAtZero:i.left!==o.left,isScrollingToNegative:o.left!==a.left},e.rtlHelpers},e.prototype.getScrollbarWidth=function(){try{return this.contentWrapperEl&&"none"===getComputedStyle(this.contentWrapperEl,"::-webkit-scrollbar").display||"scrollbarWidth"in document.documentElement.style||"-ms-overflow-style"in document.documentElement.style?0:F()}catch(e){return F()}},e.getOffset=function(e){var t=e.getBoundingClientRect(),n=G(e),r=W(e);return{top:t.top+(r.pageYOffset||n.documentElement.scrollTop),left:t.left+(r.pageXOffset||n.documentElement.scrollLeft)}},e.prototype.init=function(){N&&(this.initDOM(),this.rtlHelpers=e.getRtlHelpers(),this.scrollbarWidth=this.getScrollbarWidth(),this.recalculate(),this.initListeners())},e.prototype.initDOM=function(){var e,t;this.wrapperEl=this.el.querySelector($(this.classNames.wrapper)),this.contentWrapperEl=this.options.scrollableNode||this.el.querySelector($(this.classNames.contentWrapper)),this.contentEl=this.options.contentNode||this.el.querySelector($(this.classNames.contentEl)),this.offsetEl=this.el.querySelector($(this.classNames.offset)),this.maskEl=this.el.querySelector($(this.classNames.mask)),this.placeholderEl=this.findChild(this.wrapperEl,$(this.classNames.placeholder)),this.heightAutoObserverWrapperEl=this.el.querySelector($(this.classNames.heightAutoObserverWrapperEl)),this.heightAutoObserverEl=this.el.querySelector($(this.classNames.heightAutoObserverEl)),this.axis.x.track.el=this.findChild(this.el,"".concat($(this.classNames.track)).concat($(this.classNames.horizontal))),this.axis.y.track.el=this.findChild(this.el,"".concat($(this.classNames.track)).concat($(this.classNames.vertical))),this.axis.x.scrollbar.el=(null===(e=this.axis.x.track.el)||void 0===e?void 0:e.querySelector($(this.classNames.scrollbar)))||null,this.axis.y.scrollbar.el=(null===(t=this.axis.y.track.el)||void 0===t?void 0:t.querySelector($(this.classNames.scrollbar)))||null,this.options.autoHide||(J(this.axis.x.scrollbar.el,this.classNames.visible),J(this.axis.y.scrollbar.el,this.classNames.visible))},e.prototype.initListeners=function(){var e,t=this,n=W(this.el);if(this.el.addEventListener("mouseenter",this.onMouseEnter),this.el.addEventListener("pointerdown",this.onPointerEvent,!0),this.el.addEventListener("mousemove",this.onMouseMove),this.el.addEventListener("mouseleave",this.onMouseLeave),null===(e=this.contentWrapperEl)||void 0===e||e.addEventListener("scroll",this.onScroll),n.addEventListener("resize",this.onWindowResize),this.contentEl){if(window.ResizeObserver){var r=!1,i=n.ResizeObserver||ResizeObserver;this.resizeObserver=new i((function(){r&&n.requestAnimationFrame((function(){t.recalculate()}))})),this.resizeObserver.observe(this.el),this.resizeObserver.observe(this.contentEl),n.requestAnimationFrame((function(){r=!0}))}this.mutationObserver=new n.MutationObserver((function(){n.requestAnimationFrame((function(){t.recalculate()}))})),this.mutationObserver.observe(this.contentEl,{childList:!0,subtree:!0,characterData:!0})}},e.prototype.recalculate=function(){if(this.heightAutoObserverEl&&this.contentEl&&this.contentWrapperEl&&this.wrapperEl&&this.placeholderEl){var e=W(this.el);this.elStyles=e.getComputedStyle(this.el),this.isRtl="rtl"===this.elStyles.direction;var t=this.contentEl.offsetWidth,n=this.heightAutoObserverEl.offsetHeight<=1,r=this.heightAutoObserverEl.offsetWidth<=1||t>0,i=this.contentWrapperEl.offsetWidth,o=this.elStyles.overflowX,a=this.elStyles.overflowY;this.contentEl.style.padding="".concat(this.elStyles.paddingTop," ").concat(this.elStyles.paddingRight," ").concat(this.elStyles.paddingBottom," ").concat(this.elStyles.paddingLeft),this.wrapperEl.style.margin="-".concat(this.elStyles.paddingTop," -").concat(this.elStyles.paddingRight," -").concat(this.elStyles.paddingBottom," -").concat(this.elStyles.paddingLeft);var s=this.contentEl.scrollHeight,u=this.contentEl.scrollWidth;this.contentWrapperEl.style.height=n?"auto":"100%",this.placeholderEl.style.width=r?"".concat(t||u,"px"):"auto",this.placeholderEl.style.height="".concat(s,"px");var c=this.contentWrapperEl.offsetHeight;this.axis.x.isOverflowing=0!==t&&u>t,this.axis.y.isOverflowing=s>c,this.axis.x.isOverflowing="hidden"!==o&&this.axis.x.isOverflowing,this.axis.y.isOverflowing="hidden"!==a&&this.axis.y.isOverflowing,this.axis.x.forceVisible="x"===this.options.forceVisible||!0===this.options.forceVisible,this.axis.y.forceVisible="y"===this.options.forceVisible||!0===this.options.forceVisible,this.hideNativeScrollbar();var l=this.axis.x.isOverflowing?this.scrollbarWidth:0,f=this.axis.y.isOverflowing?this.scrollbarWidth:0;this.axis.x.isOverflowing=this.axis.x.isOverflowing&&u>i-f,this.axis.y.isOverflowing=this.axis.y.isOverflowing&&s>c-l,this.axis.x.scrollbar.size=this.getScrollbarSize("x"),this.axis.y.scrollbar.size=this.getScrollbarSize("y"),this.axis.x.scrollbar.el&&(this.axis.x.scrollbar.el.style.width="".concat(this.axis.x.scrollbar.size,"px")),this.axis.y.scrollbar.el&&(this.axis.y.scrollbar.el.style.height="".concat(this.axis.y.scrollbar.size,"px")),this.positionScrollbar("x"),this.positionScrollbar("y"),this.toggleTrackVisibility("x"),this.toggleTrackVisibility("y")}},e.prototype.getScrollbarSize=function(e){var t,n;if(void 0===e&&(e="y"),!this.axis[e].isOverflowing||!this.contentEl)return 0;var r,i=this.contentEl[this.axis[e].scrollSizeAttr],o=null!==(n=null===(t=this.axis[e].track.el)||void 0===t?void 0:t[this.axis[e].offsetSizeAttr])&&void 0!==n?n:0,a=o/i;return r=Math.max(~~(a*o),this.options.scrollbarMinSize),this.options.scrollbarMaxSize&&(r=Math.min(r,this.options.scrollbarMaxSize)),r},e.prototype.positionScrollbar=function(t){var n,r,i;void 0===t&&(t="y");var o=this.axis[t].scrollbar;if(this.axis[t].isOverflowing&&this.contentWrapperEl&&o.el&&this.elStyles){var a=this.contentWrapperEl[this.axis[t].scrollSizeAttr],s=(null===(n=this.axis[t].track.el)||void 0===n?void 0:n[this.axis[t].offsetSizeAttr])||0,u=parseInt(this.elStyles[this.axis[t].sizeAttr],10),c=this.contentWrapperEl[this.axis[t].scrollOffsetAttr];c="x"===t&&this.isRtl&&(null===(r=e.getRtlHelpers())||void 0===r?void 0:r.isScrollOriginAtZero)?-c:c,"x"===t&&this.isRtl&&(c=(null===(i=e.getRtlHelpers())||void 0===i?void 0:i.isScrollingToNegative)?c:-c);var l=c/(a-u),f=~~((s-o.size)*l);f="x"===t&&this.isRtl?-f+(s-o.size):f,o.el.style.transform="x"===t?"translate3d(".concat(f,"px, 0, 0)"):"translate3d(0, ".concat(f,"px, 0)")}},e.prototype.toggleTrackVisibility=function(e){void 0===e&&(e="y");var t=this.axis[e].track.el,n=this.axis[e].scrollbar.el;t&&n&&this.contentWrapperEl&&(this.axis[e].isOverflowing||this.axis[e].forceVisible?(t.style.visibility="visible",this.contentWrapperEl.style[this.axis[e].overflowAttr]="scroll",this.el.classList.add("".concat(this.classNames.scrollable,"-").concat(e))):(t.style.visibility="hidden",this.contentWrapperEl.style[this.axis[e].overflowAttr]="hidden",this.el.classList.remove("".concat(this.classNames.scrollable,"-").concat(e))),this.axis[e].isOverflowing?n.style.display="block":n.style.display="none")},e.prototype.showScrollbar=function(e){void 0===e&&(e="y"),this.axis[e].isOverflowing&&!this.axis[e].scrollbar.isVisible&&(J(this.axis[e].scrollbar.el,this.classNames.visible),this.axis[e].scrollbar.isVisible=!0)},e.prototype.hideScrollbar=function(e){void 0===e&&(e="y"),this.axis[e].isOverflowing&&this.axis[e].scrollbar.isVisible&&(Y(this.axis[e].scrollbar.el,this.classNames.visible),this.axis[e].scrollbar.isVisible=!1)},e.prototype.hideNativeScrollbar=function(){this.offsetEl&&(this.offsetEl.style[this.isRtl?"left":"right"]=this.axis.y.isOverflowing||this.axis.y.forceVisible?"-".concat(this.scrollbarWidth,"px"):"0px",this.offsetEl.style.bottom=this.axis.x.isOverflowing||this.axis.x.forceVisible?"-".concat(this.scrollbarWidth,"px"):"0px")},e.prototype.onMouseMoveForAxis=function(e){void 0===e&&(e="y");var t=this.axis[e];t.track.el&&t.scrollbar.el&&(t.track.rect=t.track.el.getBoundingClientRect(),t.scrollbar.rect=t.scrollbar.el.getBoundingClientRect(),this.isWithinBounds(t.track.rect)?(this.showScrollbar(e),J(t.track.el,this.classNames.hover),this.isWithinBounds(t.scrollbar.rect)?J(t.scrollbar.el,this.classNames.hover):Y(t.scrollbar.el,this.classNames.hover)):(Y(t.track.el,this.classNames.hover),this.options.autoHide&&this.hideScrollbar(e)))},e.prototype.onMouseLeaveForAxis=function(e){void 0===e&&(e="y"),Y(this.axis[e].track.el,this.classNames.hover),Y(this.axis[e].scrollbar.el,this.classNames.hover),this.options.autoHide&&this.hideScrollbar(e)},e.prototype.onDragStart=function(e,t){var n;void 0===t&&(t="y");var r=G(this.el),i=W(this.el),o=this.axis[t].scrollbar,a="y"===t?e.pageY:e.pageX;this.axis[t].dragOffset=a-((null===(n=o.rect)||void 0===n?void 0:n[this.axis[t].offsetAttr])||0),this.draggedAxis=t,J(this.el,this.classNames.dragging),r.addEventListener("mousemove",this.drag,!0),r.addEventListener("mouseup",this.onEndDrag,!0),null===this.removePreventClickId?(r.addEventListener("click",this.preventClick,!0),r.addEventListener("dblclick",this.preventClick,!0)):(i.clearTimeout(this.removePreventClickId),this.removePreventClickId=null)},e.prototype.onTrackClick=function(e,t){var n,r,i,o,a=this;void 0===t&&(t="y");var s=this.axis[t];if(this.options.clickOnTrack&&s.scrollbar.el&&this.contentWrapperEl){e.preventDefault();var u=W(this.el);this.axis[t].scrollbar.rect=s.scrollbar.el.getBoundingClientRect();var c=null!==(r=null===(n=this.axis[t].scrollbar.rect)||void 0===n?void 0:n[this.axis[t].offsetAttr])&&void 0!==r?r:0,l=parseInt(null!==(o=null===(i=this.elStyles)||void 0===i?void 0:i[this.axis[t].sizeAttr])&&void 0!==o?o:"0px",10),f=this.contentWrapperEl[this.axis[t].scrollOffsetAttr],d=("y"===t?this.mouseY-c:this.mouseX-c)<0?-1:1,h=-1===d?f-l:f+l,p=function(){a.contentWrapperEl&&(-1===d?f>h&&(f-=40,a.contentWrapperEl[a.axis[t].scrollOffsetAttr]=f,u.requestAnimationFrame(p)):f<h&&(f+=40,a.contentWrapperEl[a.axis[t].scrollOffsetAttr]=f,u.requestAnimationFrame(p)))};p()}},e.prototype.getContentElement=function(){return this.contentEl},e.prototype.getScrollElement=function(){return this.contentWrapperEl},e.prototype.removeListeners=function(){var e=W(this.el);this.el.removeEventListener("mouseenter",this.onMouseEnter),this.el.removeEventListener("pointerdown",this.onPointerEvent,!0),this.el.removeEventListener("mousemove",this.onMouseMove),this.el.removeEventListener("mouseleave",this.onMouseLeave),this.contentWrapperEl&&this.contentWrapperEl.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onWindowResize),this.mutationObserver&&this.mutationObserver.disconnect(),this.resizeObserver&&this.resizeObserver.disconnect(),this.onMouseMove.cancel(),this.onWindowResize.cancel(),this.onStopScrolling.cancel(),this.onMouseEntered.cancel()},e.prototype.unMount=function(){this.removeListeners()},e.prototype.isWithinBounds=function(e){return this.mouseX>=e.left&&this.mouseX<=e.left+e.width&&this.mouseY>=e.top&&this.mouseY<=e.top+e.height},e.prototype.findChild=function(e,t){var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;return Array.prototype.filter.call(e.children,(function(e){return n.call(e,t)}))[0]},e.rtlHelpers=null,e.defaultOptions={forceVisible:!1,clickOnTrack:!0,scrollbarMinSize:25,scrollbarMaxSize:0,ariaLabel:"scrollable content",classNames:{contentEl:"simplebar-content",contentWrapper:"simplebar-content-wrapper",offset:"simplebar-offset",mask:"simplebar-mask",wrapper:"simplebar-wrapper",placeholder:"simplebar-placeholder",scrollbar:"simplebar-scrollbar",track:"simplebar-track",heightAutoObserverWrapperEl:"simplebar-height-auto-observer-wrapper",heightAutoObserverEl:"simplebar-height-auto-observer",visible:"simplebar-visible",horizontal:"simplebar-horizontal",vertical:"simplebar-vertical",hover:"simplebar-hover",dragging:"simplebar-dragging",scrolling:"simplebar-scrolling",scrollable:"simplebar-scrollable",mouseEntered:"simplebar-mouse-entered"},scrollableNode:null,contentNode:null,autoHide:!0},e.getOptions=K,e.helpers=H,e}(),Q=function(){return Q=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Q.apply(this,arguments)};var ee=r.forwardRef((function(e,t){var n=e.children,i=e.scrollableNodeProps,o=void 0===i?{}:i,a=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}(e,["children","scrollableNodeProps"]),s=r.useRef(),u=r.useRef(),c=r.useRef(),l={},f={};Object.keys(a).forEach((function(e){Object.prototype.hasOwnProperty.call(X.defaultOptions,e)?l[e]=a[e]:f[e]=a[e]}));var d=Q(Q({},X.defaultOptions.classNames),l.classNames),h=Q(Q({},o),{className:"".concat(d.contentWrapper).concat(o.className?" ".concat(o.className):""),tabIndex:0,role:"region","aria-label":l.ariaLabel||X.defaultOptions.ariaLabel});return r.useEffect((function(){var e;return u.current=h.ref?h.ref.current:u.current,s.current&&(e=new X(s.current,Q(Q(Q({},l),u.current&&{scrollableNode:u.current}),c.current&&{contentNode:c.current})),"function"===typeof t?t(e):t&&(t.current=e)),function(){null===e||void 0===e||e.unMount(),e=null,"function"===typeof t&&t(null)}}),[]),r.createElement("div",Q({"data-simplebar":"init",ref:s},f),r.createElement("div",{className:d.wrapper},r.createElement("div",{className:d.heightAutoObserverWrapperEl},r.createElement("div",{className:d.heightAutoObserverEl})),r.createElement("div",{className:d.mask},r.createElement("div",{className:d.offset},"function"===typeof n?n({scrollableNodeRef:u,scrollableNodeProps:Q(Q({},h),{ref:u}),contentNodeRef:c,contentNodeProps:{className:d.contentEl,ref:c}}):r.createElement("div",Q({},h),r.createElement("div",{className:d.contentEl},n)))),r.createElement("div",{className:d.placeholder})),r.createElement("div",{className:"".concat(d.track," simplebar-horizontal")},r.createElement("div",{className:d.scrollbar})),r.createElement("div",{className:"".concat(d.track," simplebar-vertical")},r.createElement("div",{className:d.scrollbar})))}));ee.displayName="SimpleBar"},96603:function(e){"use strict";e.exports=JSON.parse('{"ix":"#ffffff","Sn":"#000000","MA":[0,0,0,0,"#ced4da","#adb5bd",0,0,"#343a40"],"Q6":["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],"iQ":["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],"pl":["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],"ht":["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],"QN":["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],"iN":["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],"sl":["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],"$C":["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],"ek":["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],"LR":["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],"er":["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],"$y":["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]}')}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[9774,179],(function(){return t(412),t(86570),t(92203)}));var n=e.O();_N_E=n}]);